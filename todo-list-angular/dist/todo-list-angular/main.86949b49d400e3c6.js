(self.webpackChunktodo_list_angular=self.webpackChunktodo_list_angular||[]).push([[179],{8041:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Ze,je,be,qe){void 0===qe&&(qe=be);var bt=Object.getOwnPropertyDescriptor(je,be);(!bt||("get"in bt?!je.__esModule:bt.writable||bt.configurable))&&(bt={enumerable:!0,get:function(){return je[be]}}),Object.defineProperty(Ze,qe,bt)}:function(Ze,je,be,qe){void 0===qe&&(qe=be),Ze[qe]=je[be]}),K=this&&this.__setModuleDefault||(Object.create?function(Ze,je){Object.defineProperty(Ze,"default",{enumerable:!0,value:je})}:function(Ze,je){Ze.default=je}),G=this&&this.__importStar||function(Ze){if(Ze&&Ze.__esModule)return Ze;var je={};if(null!=Ze)for(var be in Ze)"default"!==be&&Object.prototype.hasOwnProperty.call(Ze,be)&&M(je,Ze,be);return K(je,Ze),je};Object.defineProperty(u,"__esModule",{value:!0}),u.AdminDashboardComponent=void 0;const W=_(6814),R=_(95),y=G(_(6689)),h=G(_(9689)),E=G(_(5180)),P=G(_(2333)),F=G(_(7911)),B=G(_(7510)),k=G(_(6814)),ne=G(_(95));function q(Ze,je){if(1&Ze){const be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",14)(1,"div",15),y.\u0275\u0275element(2,"i",16),y.\u0275\u0275elementStart(3,"span"),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(5,"button",17),y.\u0275\u0275listener("click",function(){const Nt=y.\u0275\u0275restoreView(be).$implicit,_t=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(_t.dismissToast(Nt.id))}),y.\u0275\u0275text(6," \xd7 "),y.\u0275\u0275elementEnd()()}if(2&Ze){const be=je.$implicit,qe=y.\u0275\u0275nextContext();y.\u0275\u0275property("ngClass",be.type),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngClass",qe.getToastIcon(be.type)),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(be.message)}}function de(Ze,je){1&Ze&&(y.\u0275\u0275elementStart(0,"div",18)(1,"div",19),y.\u0275\u0275element(2,"div",20),y.\u0275\u0275elementStart(3,"p"),y.\u0275\u0275text(4,"Loading tasks..."),y.\u0275\u0275elementEnd()()())}function ge(Ze,je){if(1&Ze&&(y.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"div",23),y.\u0275\u0275element(3,"i",24),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"div",25)(5,"h3"),y.\u0275\u0275text(6,"Total Tasks"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"p"),y.\u0275\u0275text(8),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(9,"div",22)(10,"div",26),y.\u0275\u0275element(11,"i",27),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(12,"div",25)(13,"h3"),y.\u0275\u0275text(14,"Completed Tasks"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"p"),y.\u0275\u0275text(16),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(17,"div",22)(18,"div",28),y.\u0275\u0275element(19,"i",29),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(20,"div",25)(21,"h3"),y.\u0275\u0275text(22,"Pending Tasks"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(23,"p"),y.\u0275\u0275text(24),y.\u0275\u0275elementEnd()()()()),2&Ze){const be=y.\u0275\u0275nextContext();y.\u0275\u0275advance(8),y.\u0275\u0275textInterpolate(be.taskStats.total),y.\u0275\u0275advance(8),y.\u0275\u0275textInterpolate(be.taskStats.completed),y.\u0275\u0275advance(8),y.\u0275\u0275textInterpolate(be.taskStats.pending)}}function Oe(Ze,je){if(1&Ze){const be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",30)(1,"h2"),y.\u0275\u0275text(2,"Task Filters"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",31)(4,"div",32)(5,"label",33),y.\u0275\u0275text(6,"Status:"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"select",34),y.\u0275\u0275listener("ngModelChange",function(bt){y.\u0275\u0275restoreView(be);const Nt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(Nt.statusFilter=bt)})("change",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(bt.applyFilters())}),y.\u0275\u0275elementStart(8,"option",35),y.\u0275\u0275text(9,"All Status"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"option",36),y.\u0275\u0275text(11,"To Do"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(12,"option",37),y.\u0275\u0275text(13,"In Progress"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"option",38),y.\u0275\u0275text(15,"Done"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(16,"div",32)(17,"label",39),y.\u0275\u0275text(18,"Priority:"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"select",40),y.\u0275\u0275listener("ngModelChange",function(bt){y.\u0275\u0275restoreView(be);const Nt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(Nt.priorityFilter=bt)})("change",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(bt.applyFilters())}),y.\u0275\u0275elementStart(20,"option",35),y.\u0275\u0275text(21,"All Priority"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(22,"option",41),y.\u0275\u0275text(23,"Low"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"option",42),y.\u0275\u0275text(25,"Medium"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(26,"option",43),y.\u0275\u0275text(27,"High"),y.\u0275\u0275elementEnd()()()()()}if(2&Ze){const be=y.\u0275\u0275nextContext();y.\u0275\u0275advance(7),y.\u0275\u0275property("ngModel",be.statusFilter),y.\u0275\u0275advance(12),y.\u0275\u0275property("ngModel",be.priorityFilter)}}function Qe(Ze,je){if(1&Ze){const be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",47)(1,"div",48)(2,"h3"),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"span",49),y.\u0275\u0275text(5),y.\u0275\u0275pipe(6,"titlecase"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"p",50),y.\u0275\u0275text(8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",51)(10,"span",52),y.\u0275\u0275element(11,"i",16),y.\u0275\u0275text(12),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"span",53),y.\u0275\u0275element(14,"i",54),y.\u0275\u0275text(15),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(16,"div",55),y.\u0275\u0275element(17,"i",56),y.\u0275\u0275elementStart(18,"span"),y.\u0275\u0275text(19),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(20,"div",57)(21,"button",58),y.\u0275\u0275listener("click",function(){const Nt=y.\u0275\u0275restoreView(be).$implicit,_t=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(_t.editTask(Nt))}),y.\u0275\u0275element(22,"i",59),y.\u0275\u0275text(23," Edit "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"button",60),y.\u0275\u0275listener("click",function(){const Nt=y.\u0275\u0275restoreView(be).$implicit,_t=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(_t.confirmDelete(Nt))}),y.\u0275\u0275element(25,"i",61),y.\u0275\u0275text(26," Delete "),y.\u0275\u0275elementEnd()()()}if(2&Ze){const be=je.$implicit,qe=y.\u0275\u0275nextContext(2);y.\u0275\u0275property("ngClass","priority-"+be.priority),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(be.title),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngClass",be.priority),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",y.\u0275\u0275pipeBind1(6,10,be.priority)," "),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(be.description),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngClass",be.status),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngClass",qe.getStatusIcon(be.status)),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",qe.formatStatus(be.status)," "),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1(" ",qe.formatDate(be.due_date)," "),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(be.assigned_to_name)}}function rt(Ze,je){if(1&Ze){const be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",62)(1,"div",63),y.\u0275\u0275element(2,"i",64),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"h3"),y.\u0275\u0275text(4,"No tasks found"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"p"),y.\u0275\u0275text(6," No tasks match your current filter criteria. Try adjusting your filters or create a new task. "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"button",3),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(bt.clearFilters())}),y.\u0275\u0275text(8," Clear Filters "),y.\u0275\u0275elementEnd()()}}function Se(Ze,je){if(1&Ze&&(y.\u0275\u0275elementStart(0,"div",44),y.\u0275\u0275template(1,Qe,27,12,"div",45),y.\u0275\u0275template(2,rt,9,0,"div",46),y.\u0275\u0275elementEnd()),2&Ze){const be=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",be.filteredTasks),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",0===be.filteredTasks.length)}}function Ee(Ze,je){if(1&Ze){const be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",65)(1,"div",66)(2,"div",67)(3,"h3"),y.\u0275\u0275text(4,"Confirm Deletion"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"button",68),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(bt.showDeleteModal=!1)}),y.\u0275\u0275element(6,"i",69),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"div",70)(8,"p"),y.\u0275\u0275text(9,"Are you sure you want to delete this task?"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"p",71),y.\u0275\u0275text(11,"This action cannot be undone."),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(12,"div",72)(13,"button",73),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(bt.showDeleteModal=!1)}),y.\u0275\u0275element(14,"i",69),y.\u0275\u0275text(15," Cancel "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(16,"button",74),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(be);const bt=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(bt.deleteTask())}),y.\u0275\u0275element(17,"i",61),y.\u0275\u0275text(18," Delete "),y.\u0275\u0275elementEnd()()()()}}u.AdminDashboardComponent=(()=>{class Ze{constructor(be,qe,bt,Nt,_t){this.router=be,this.taskService=qe,this.authService=bt,this.toastService=Nt,this.analytics=_t,this.tasks=[],this.filteredTasks=[],this.statusFilter="all",this.priorityFilter="all",this.errorMessage="",this.loading=!1,this.taskToDeleteId=null,this.isLoading=!1,this.taskStats={total:0,completed:0,pending:0},this.toasts=[],this.showDeleteModal=!1,this.taskToDelete=null}ngOnInit(){this.loadTasks(),this.analytics.trackEvent("page_view","admin","dashboard_view"),this.toastService.toasts$.subscribe(be=>{this.toasts=be})}loadTasks(){this.loading=!0,this.errorMessage="",this.taskService.getAdminTasks().subscribe({next:be=>{this.tasks=be,this.filteredTasks=be,this.applyFilters(),this.calculateTaskStats(),this.loading=!1,this.analytics.trackEvent("data_load","admin","tasks_loaded"),this.showToast("success","Tasks loaded successfully")},error:be=>{this.errorMessage="Error loading tasks. Please try again.",this.loading=!1,this.analytics.trackEvent("error","admin","load_tasks_failed",be.message),this.showToast("error","Failed to load tasks"),console.error("Error loading tasks:",be)}})}applyFilters(){this.filteredTasks=this.tasks.filter(be=>!("all"!==this.statusFilter&&be.status!==this.statusFilter||"all"!==this.priorityFilter&&be.priority!==this.priorityFilter))}clearFilters(){this.statusFilter="all",this.priorityFilter="all",this.applyFilters()}calculateTaskStats(){this.taskStats.total=this.tasks.length,this.taskStats.completed=this.tasks.filter(be=>"done"===be.status).length,this.taskStats.pending=this.taskStats.total-this.taskStats.completed}navigateToCreateTask(){this.router.navigate(["/admin/create-task"]),this.analytics.trackEvent("navigation","admin","create_task_clicked")}navigateToAnalytics(){this.router.navigate(["/analytics"]),this.analytics.trackEvent("navigation","admin","analytics_clicked")}editTask(be){this.router.navigate(["/admin/tasks",be._id]),this.analytics.trackEvent("task_action","admin","task_edit_started"),this.showToast("info","Editing task: "+be.title)}confirmDelete(be){this.taskToDelete=be,this.taskToDeleteId=be._id,this.showDeleteModal=!0}deleteTask(){this.taskToDeleteId&&(this.isLoading=!0,this.taskService.deleteTask(this.taskToDeleteId,!0).subscribe({next:()=>{this.showToast("success","Task deleted successfully"),this.showDeleteModal=!1,this.taskToDeleteId=null,this.taskToDelete=null,this.loadTasks()},error:be=>{console.error("Error deleting task:",be),this.showToast("error","Failed to delete task"),this.isLoading=!1,this.showDeleteModal=!1,this.taskToDeleteId=null,this.taskToDelete=null}}))}cancelDelete(){this.showDeleteModal=!1,this.taskToDelete=null}formatDate(be){return be?new Date(be).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No date"}formatStatus(be){return be?be.split("_").map(qe=>qe.charAt(0).toUpperCase()+qe.slice(1)).join(" "):""}getStatusIcon(be){switch(be){case"todo":return"fa-clipboard-list";case"in_progress":return"fa-spinner";case"done":return"fa-check-circle";default:return"fa-question-circle"}}getToastIcon(be){switch(be){case"success":return"fa-check-circle";case"error":return"fa-exclamation-circle";case"info":return"fa-info-circle";case"warning":return"fa-exclamation-triangle";default:return"fa-bell"}}showToast(be,qe){this.toastService.show(be,qe)}dismissToast(be){this.toastService.dismiss(be)}static#e=this.\u0275fac=function(qe){return new(qe||Ze)(y.\u0275\u0275directiveInject(h.Router),y.\u0275\u0275directiveInject(E.TaskService),y.\u0275\u0275directiveInject(P.AuthService),y.\u0275\u0275directiveInject(F.ToastService),y.\u0275\u0275directiveInject(B.GoogleAnalyticsService))};static#t=this.\u0275cmp=y.\u0275\u0275defineComponent({type:Ze,selectors:[["app-admin-dashboard"]],standalone:!0,features:[y.\u0275\u0275StandaloneFeature],decls:18,vars:6,consts:[[1,"admin-dashboard"],[1,"header"],[1,"actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-chart-bar"],[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],["class","loader-overlay",4,"ngIf"],["class","task-stats",4,"ngIf"],["class","filters-container",4,"ngIf"],["class","task-list",4,"ngIf"],["class","delete-modal",4,"ngIf"],[1,"toast",3,"ngClass"],[1,"toast-content"],[1,"fas",3,"ngClass"],[1,"toast-close",3,"click"],[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"task-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-tasks"],[1,"stat-content"],[1,"stat-icon","completed-icon"],[1,"fas","fa-check-circle"],[1,"stat-icon","pending-icon"],[1,"fas","fa-clock"],[1,"filters-container"],[1,"filters"],[1,"filter-group"],["for","status-filter"],["id","status-filter",3,"ngModel","ngModelChange","change"],["value","all"],["value","todo"],["value","in_progress"],["value","done"],["for","priority-filter"],["id","priority-filter",3,"ngModel","ngModelChange","change"],["value","low"],["value","medium"],["value","high"],[1,"task-list"],["class","task-card",3,"ngClass",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"task-card",3,"ngClass"],[1,"task-header"],[1,"priority-badge",3,"ngClass"],[1,"task-description"],[1,"task-details"],[1,"status-badge",3,"ngClass"],[1,"due-date"],[1,"fas","fa-calendar-alt"],[1,"assigned-to"],[1,"fas","fa-user"],[1,"task-actions"],[1,"btn","btn-edit",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-delete",3,"click"],[1,"fas","fa-trash"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-search"],[1,"delete-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"delete-warning"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-danger",3,"click"]],template:function(qe,bt){1&qe&&(y.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1"),y.\u0275\u0275text(3,"Admin Dashboard"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"div",2)(5,"button",3),y.\u0275\u0275listener("click",function(){return bt.navigateToCreateTask()}),y.\u0275\u0275element(6,"i",4),y.\u0275\u0275text(7," Create Task "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"button",5),y.\u0275\u0275listener("click",function(){return bt.navigateToAnalytics()}),y.\u0275\u0275element(9,"i",6),y.\u0275\u0275text(10," Analytics "),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(11,"div",7),y.\u0275\u0275template(12,q,7,3,"div",8),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(13,de,5,0,"div",9),y.\u0275\u0275template(14,ge,25,3,"div",10),y.\u0275\u0275template(15,Oe,28,2,"div",11),y.\u0275\u0275template(16,Se,3,2,"div",12),y.\u0275\u0275template(17,Ee,19,0,"div",13),y.\u0275\u0275elementEnd()),2&qe&&(y.\u0275\u0275advance(12),y.\u0275\u0275property("ngForOf",bt.toasts),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",bt.loading),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",!bt.loading),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",!bt.loading),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",!bt.loading),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",bt.showDeleteModal))},dependencies:[W.CommonModule,k.NgClass,k.NgForOf,k.NgIf,k.TitleCasePipe,R.FormsModule,ne.NgSelectOption,ne.\u0275NgSelectMultipleOption,ne.SelectControlValueAccessor,ne.NgControlStatus,ne.NgModel],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;position:relative;font-family:Segoe UI,Arial,sans-serif;color:#333}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #e0e0e0}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1565c0;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:1000;display:flex;flex-direction:column;gap:.5rem;max-width:350px}.toast[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.toast.success[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border-left:4px solid #2e7d32}.toast.error[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-left:4px solid #c62828}.toast.info[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border-left:4px solid #1565c0}.toast.warning[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100;border-left:4px solid #e65100}.toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:inherit}.loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #1565c0;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1565c0;font-weight:500}.task-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 4px 10px #0000000d;display:flex;align-items:center;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0000001a}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#e3f2fd;color:#1565c0;display:flex;justify-content:center;align-items:center;font-size:1.5rem;margin-right:1rem}.completed-icon[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.pending-icon[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;color:#666;font-size:.875rem;font-weight:500}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;color:#333}.filters-container[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 4px 10px #0000000d;margin-bottom:2rem}.filters-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:#333}.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:200px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#666;font-size:.875rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e0e0e0;border-radius:8px;background:white;color:#333;font-size:.875rem;transition:border-color .2s}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1565c0;box-shadow:0 0 0 2px #1565c033}.task-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.task-card[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 4px 10px #0000000d;border-top:4px solid #1565c0;transition:transform .2s,box-shadow .2s}.task-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 15px #0000001a}.task-card.priority-high[_ngcontent-%COMP%]{border-top-color:#c62828}.task-card.priority-medium[_ngcontent-%COMP%]{border-top-color:#e65100}.task-card.priority-low[_ngcontent-%COMP%]{border-top-color:#2e7d32}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.task-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.125rem;font-weight:600}.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:20px;font-size:.75rem;font-weight:600}.priority-badge.high[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.priority-badge.medium[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.priority-badge.low[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.task-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#666;font-size:.875rem;line-height:1.5}.task-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}.status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:.25rem}.status-badge.todo[_ngcontent-%COMP%]{background-color:#eceff1;color:#546e7a}.status-badge.in_progress[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.status-badge.done[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.due-date[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;background-color:#e3f2fd;color:#1565c0;display:flex;align-items:center;gap:.25rem}.assigned-to[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;font-size:.875rem;color:#666}.task-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.empty-state[_ngcontent-%COMP%]{grid-column:1 / -1;background:white;padding:3rem;border-radius:12px;box-shadow:0 4px 10px #0000000d;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:#f5f5f5;color:#9e9e9e;display:flex;justify-content:center;align-items:center;font-size:2rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.25rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;max-width:400px}.delete-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;width:90%;max-width:500px;box-shadow:0 25px 50px -12px #00000040}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid var(--medium-gray)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.25rem;color:var(--dark-gray);cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.delete-warning[_ngcontent-%COMP%]{color:var(--danger-color);font-weight:500}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1.25rem;border-top:1px solid var(--medium-gray)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:.875rem;transition:all .2s;display:flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #1565c04d}.btn-primary[_ngcontent-%COMP%]{background:#1565c0;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#0d47a1;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]{background:#78909c;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#546e7a;transform:translateY(-2px)}.btn-edit[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:.5rem 1rem}.btn-edit[_ngcontent-%COMP%]:hover{background:#bbdefb;transform:translateY(-2px)}.btn-delete[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;padding:.5rem 1rem}.btn-delete[_ngcontent-%COMP%]:hover{background:#ffcdd2;transform:translateY(-2px)}.btn-danger[_ngcontent-%COMP%]{background:#c62828;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#b71c1c;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media screen and (max-width: 768px){.task-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.actions[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{flex:1;justify-content:center}}"]})}return Ze})()},3152:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(q,de,ge,Oe){void 0===Oe&&(Oe=ge);var Qe=Object.getOwnPropertyDescriptor(de,ge);(!Qe||("get"in Qe?!de.__esModule:Qe.writable||Qe.configurable))&&(Qe={enumerable:!0,get:function(){return de[ge]}}),Object.defineProperty(q,Oe,Qe)}:function(q,de,ge,Oe){void 0===Oe&&(Oe=ge),q[Oe]=de[ge]}),K=this&&this.__setModuleDefault||(Object.create?function(q,de){Object.defineProperty(q,"default",{enumerable:!0,value:de})}:function(q,de){q.default=de}),G=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var de={};if(null!=q)for(var ge in q)"default"!==ge&&Object.prototype.hasOwnProperty.call(q,ge)&&M(de,q,ge);return K(de,q),de};Object.defineProperty(u,"__esModule",{value:!0}),u.AdminTaskDetailsComponent=void 0;const W=_(6814),R=_(95),y=G(_(6689)),h=G(_(9689)),E=G(_(5180)),P=G(_(6814));function F(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"button",6),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(Qe.updateTaskStatus("in_progress"))}),y.\u0275\u0275text(1," Start Task "),y.\u0275\u0275elementEnd()}}function B(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"button",6),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(Qe.updateTaskStatus("done"))}),y.\u0275\u0275text(1," Complete Task "),y.\u0275\u0275elementEnd()}}function k(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div")(1,"div",2)(2,"h3"),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"p"),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"p"),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"p"),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"p"),y.\u0275\u0275text(11),y.\u0275\u0275pipe(12,"date"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"p"),y.\u0275\u0275text(14),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(15,"div",3),y.\u0275\u0275template(16,F,2,0,"button",4),y.\u0275\u0275template(17,B,2,0,"button",4),y.\u0275\u0275elementStart(18,"button",5),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(Qe.confirmDelete())}),y.\u0275\u0275text(19,"Delete Task"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(20,"button",6),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(Qe.goBack())}),y.\u0275\u0275text(21,"Back to Dashboard"),y.\u0275\u0275elementEnd()()()}if(2&q){const ge=y.\u0275\u0275nextContext();y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(ge.task.title),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(ge.task.description),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Status: ",ge.task.status,""),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Priority: ",ge.task.priority,""),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Due Date: ",y.\u0275\u0275pipeBind1(12,8,ge.task.due_date),""),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1("Assigned To: ",ge.task.assigned_to,""),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf","todo"===ge.task.status),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf","in_progress"===ge.task.status)}}u.AdminTaskDetailsComponent=(()=>{class q{constructor(ge,Oe,Qe){this.route=ge,this.router=Oe,this.taskService=Qe,this.task=null}ngOnInit(){const ge=this.route.snapshot.paramMap.get("id");ge&&this.taskService.getTask(ge).subscribe({next:Oe=>{this.task=Oe},error:Oe=>{console.error("Error fetching task:",Oe)}})}updateTaskStatus(ge){this.task&&this.taskService.updateTask(this.task._id,{status:ge}).subscribe({next:()=>{this.task.status=ge},error:Oe=>{console.error("Error updating task:",Oe)}})}confirmDelete(){this.task&&confirm("Are you sure you want to delete this task? This action cannot be undone.")&&this.deleteTask()}deleteTask(){this.task&&this.taskService.deleteTask(this.task._id,!0).subscribe({next:()=>{this.router.navigate(["/admin/dashboard"])},error:ge=>{console.error("Error deleting task:",ge),alert("Failed to delete task. Please try again.")}})}goBack(){this.router.navigate(["/admin/dashboard"])}static#e=this.\u0275fac=function(Oe){return new(Oe||q)(y.\u0275\u0275directiveInject(h.ActivatedRoute),y.\u0275\u0275directiveInject(h.Router),y.\u0275\u0275directiveInject(E.TaskService))};static#t=this.\u0275cmp=y.\u0275\u0275defineComponent({type:q,selectors:[["app-admin-task-details"]],standalone:!0,features:[y.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"admin-task-details"],[4,"ngIf"],[1,"task-info"],[1,"task-actions"],[3,"click",4,"ngIf"],[1,"delete",3,"click"],[3,"click"]],template:function(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",0)(1,"h2"),y.\u0275\u0275text(2,"Task Management"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(3,k,22,10,"div",1),y.\u0275\u0275elementEnd()),2&Oe&&(y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",Qe.task))},dependencies:[W.CommonModule,P.NgIf,P.DatePipe,R.FormsModule],styles:[".admin-task-details[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.task-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px}.task-actions[_ngcontent-%COMP%]{display:flex;gap:10px}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;background:#007bff;color:#fff}button[_ngcontent-%COMP%]:hover{background:#0056b3}.delete[_ngcontent-%COMP%]{background:#dc3545}.delete[_ngcontent-%COMP%]:hover{background:#c82333}"]})}return q})()},831:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Oe,Qe,rt,Se){void 0===Se&&(Se=rt);var Ee=Object.getOwnPropertyDescriptor(Qe,rt);(!Ee||("get"in Ee?!Qe.__esModule:Ee.writable||Ee.configurable))&&(Ee={enumerable:!0,get:function(){return Qe[rt]}}),Object.defineProperty(Oe,Se,Ee)}:function(Oe,Qe,rt,Se){void 0===Se&&(Se=rt),Oe[Se]=Qe[rt]}),K=this&&this.__setModuleDefault||(Object.create?function(Oe,Qe){Object.defineProperty(Oe,"default",{enumerable:!0,value:Qe})}:function(Oe,Qe){Oe.default=Qe}),G=this&&this.__importStar||function(Oe){if(Oe&&Oe.__esModule)return Oe;var Qe={};if(null!=Oe)for(var rt in Oe)"default"!==rt&&Object.prototype.hasOwnProperty.call(Oe,rt)&&M(Qe,Oe,rt);return K(Qe,Oe),Qe};Object.defineProperty(u,"__esModule",{value:!0}),u.CreateTaskComponent=void 0;const W=_(6814),R=_(95),y=G(_(6689)),h=G(_(5180)),E=G(_(95)),P=G(_(9689)),F=G(_(6814));function B(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",32),y.\u0275\u0275text(1," Title is required "),y.\u0275\u0275elementEnd())}function k(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",32),y.\u0275\u0275text(1," Description is required "),y.\u0275\u0275elementEnd())}function ne(Oe,Qe){if(1&Oe&&(y.\u0275\u0275elementStart(0,"option",33),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&Oe){const rt=Qe.$implicit;y.\u0275\u0275property("value",rt._id),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",rt.username," ")}}function q(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",32),y.\u0275\u0275text(1," Please select an employee "),y.\u0275\u0275elementEnd())}function de(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",32),y.\u0275\u0275text(1," Due date is required "),y.\u0275\u0275elementEnd())}u.CreateTaskComponent=(()=>{class Oe{constructor(rt,Se,Ee){this.taskService=rt,this.fb=Se,this.router=Ee,this.employees=[],this.isLoading=!1,this.taskForm=this.fb.group({title:["",R.Validators.required],description:["",R.Validators.required],assigned_to:["",R.Validators.required],due_date:["",R.Validators.required],priority:["medium",R.Validators.required]})}ngOnInit(){this.loadEmployees()}loadEmployees(){this.isLoading=!0,this.taskService.getCompanyEmployees().subscribe({next:rt=>{this.employees=rt,this.isLoading=!1},error:rt=>{console.error("Error loading employees:",rt),this.isLoading=!1}})}onSubmit(){if(this.taskForm.valid){this.isLoading=!0;const rt=this.taskForm.value,Se={...rt,due_date:new Date(rt.due_date).toISOString()};this.taskService.createTask(Se).subscribe({next:()=>{this.router.navigate(["/admin/dashboard"])},error:Ee=>{console.error("Error creating task:",Ee),this.isLoading=!1}})}}cancel(){this.router.navigate(["/admin/dashboard"])}static#e=this.\u0275fac=function(Se){return new(Se||Oe)(y.\u0275\u0275directiveInject(h.TaskService),y.\u0275\u0275directiveInject(E.FormBuilder),y.\u0275\u0275directiveInject(P.Router))};static#t=this.\u0275cmp=y.\u0275\u0275defineComponent({type:Oe,selectors:[["app-create-task"]],standalone:!0,features:[y.\u0275\u0275StandaloneFeature],decls:54,vars:7,consts:[[1,"create-task-container"],[1,"card","task-form"],[1,"card-header"],[1,"form-icon"],[1,"fas","fa-plus-circle"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","required","","placeholder","Enter task title"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","required","","placeholder","Enter task description","rows","4"],["for","assigned_to"],[1,"select-wrapper"],["id","assigned_to","formControlName","assigned_to","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-down"],["for","due_date"],[1,"input-with-icon"],[1,"fas","fa-calendar-alt","icon-left"],["type","datetime-local","id","due_date","formControlName","due_date","required",""],["for","priority"],["id","priority","formControlName","priority","required",""],["value","low"],["value","medium"],["value","high"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-plus"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"error-message"],[3,"value"]],template:function(Se,Ee){if(1&Se&&(y.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),y.\u0275\u0275text(4,"Create New Task"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",3),y.\u0275\u0275element(6,"i",4),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"form",5),y.\u0275\u0275listener("ngSubmit",function(){return Ee.onSubmit()}),y.\u0275\u0275elementStart(8,"div",6)(9,"label",7),y.\u0275\u0275text(10,"Title"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(11,"input",8),y.\u0275\u0275template(12,B,2,0,"div",9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"div",6)(14,"label",10),y.\u0275\u0275text(15,"Description"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(16,"textarea",11),y.\u0275\u0275template(17,k,2,0,"div",9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"div",6)(19,"label",12),y.\u0275\u0275text(20,"Assign To"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(21,"div",13)(22,"select",14)(23,"option",15),y.\u0275\u0275text(24,"Select an employee"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(25,ne,2,2,"option",16),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(26,"i",17),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(27,q,2,0,"div",9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(28,"div",6)(29,"label",18),y.\u0275\u0275text(30,"Due Date"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(31,"div",19),y.\u0275\u0275element(32,"i",20)(33,"input",21),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(34,de,2,0,"div",9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(35,"div",6)(36,"label",22),y.\u0275\u0275text(37,"Priority"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(38,"div",13)(39,"select",23)(40,"option",24),y.\u0275\u0275text(41,"Low"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(42,"option",25),y.\u0275\u0275text(43,"Medium"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(44,"option",26),y.\u0275\u0275text(45,"High"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(46,"i",17),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(47,"div",27)(48,"button",28),y.\u0275\u0275element(49,"i",29),y.\u0275\u0275text(50," Create Task "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(51,"button",30),y.\u0275\u0275listener("click",function(){return Ee.cancel()}),y.\u0275\u0275element(52,"i",31),y.\u0275\u0275text(53," Cancel "),y.\u0275\u0275elementEnd()()()()()),2&Se){let Ne,Ze,je,be;y.\u0275\u0275advance(7),y.\u0275\u0275property("formGroup",Ee.taskForm),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",(null==(Ne=Ee.taskForm.get("title"))?null:Ne.invalid)&&(null==(Ne=Ee.taskForm.get("title"))?null:Ne.touched)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",(null==(Ze=Ee.taskForm.get("description"))?null:Ze.invalid)&&(null==(Ze=Ee.taskForm.get("description"))?null:Ze.touched)),y.\u0275\u0275advance(8),y.\u0275\u0275property("ngForOf",Ee.employees),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",(null==(je=Ee.taskForm.get("assigned_to"))?null:je.invalid)&&(null==(je=Ee.taskForm.get("assigned_to"))?null:je.touched)),y.\u0275\u0275advance(7),y.\u0275\u0275property("ngIf",(null==(be=Ee.taskForm.get("due_date"))?null:be.invalid)&&(null==(be=Ee.taskForm.get("due_date"))?null:be.touched)),y.\u0275\u0275advance(14),y.\u0275\u0275property("disabled",!Ee.taskForm.valid||Ee.isLoading)}},dependencies:[W.CommonModule,F.NgForOf,F.NgIf,R.FormsModule,E.\u0275NgNoValidate,E.NgSelectOption,E.\u0275NgSelectMultipleOption,E.DefaultValueAccessor,E.SelectControlValueAccessor,E.NgControlStatus,E.NgControlStatusGroup,E.RequiredValidator,R.ReactiveFormsModule,E.FormGroupDirective,E.FormControlName],styles:[".create-task-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:0 1rem}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e5e7eb}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#111827}.form-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#4f46e5}form[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#4b5563}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.625rem .75rem;border:1px solid #e5e7eb;border-radius:.375rem;font-size:.875rem;color:#111827;transition:border-color .2s ease,box-shadow .2s ease}.input-with-icon[_ngcontent-%COMP%]{position:relative}.icon-left[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:#6b7280}.input-with-icon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:2.5rem}.select-wrapper[_ngcontent-%COMP%]{position:relative}.select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none}.select-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:#6b7280;pointer-events:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding-top:.75rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;border-radius:.375rem;font-weight:500;font-size:.875rem;cursor:pointer;transition:background-color .2s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#4338ca}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#4b5563}"]})}return Oe})()},9548:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(B,k,ne,q){void 0===q&&(q=ne);var de=Object.getOwnPropertyDescriptor(k,ne);(!de||("get"in de?!k.__esModule:de.writable||de.configurable))&&(de={enumerable:!0,get:function(){return k[ne]}}),Object.defineProperty(B,q,de)}:function(B,k,ne,q){void 0===q&&(q=ne),B[q]=k[ne]}),K=this&&this.__setModuleDefault||(Object.create?function(B,k){Object.defineProperty(B,"default",{enumerable:!0,value:k})}:function(B,k){B.default=k}),G=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var k={};if(null!=B)for(var ne in B)"default"!==ne&&Object.prototype.hasOwnProperty.call(B,ne)&&M(k,B,ne);return K(k,B),k};Object.defineProperty(u,"__esModule",{value:!0}),u.AnalyticsComponent=void 0;const W=_(6814),R=_(3185),y=_(9818),h=G(_(6689)),E=G(_(5180)),P=G(_(3185));u.AnalyticsComponent=(()=>{class B{constructor(ne){this.taskService=ne,this.statusChartData={labels:["Todo","In Progress","Done"],datasets:[{data:[0,0,0],backgroundColor:["#FF6384","#36A2EB","#4BC0C0"],borderWidth:0,hoverOffset:4}]},this.priorityChartData={labels:["Low","Medium","High"],datasets:[{data:[0,0,0],backgroundColor:["#4BC0C0","#FFCE56","#FF6384"],borderRadius:6,borderWidth:0}]},this.completionChartData={labels:[],datasets:[{label:"Completed Tasks",data:[],borderColor:"#4BC0C0",tension:.4,fill:!0,backgroundColor:"rgba(75, 192, 192, 0.1)",pointBackgroundColor:"#4BC0C0",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#4BC0C0",pointRadius:4,pointHoverRadius:6}]},this.statusChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",padding:12,titleFont:{size:14},bodyFont:{size:14},displayColors:!0,caretSize:6}},animation:{animateScale:!0,animateRotate:!0,duration:2e3}},this.priorityChartOptions={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12}}},x:{grid:{display:!1},ticks:{font:{size:12}}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",padding:12,titleFont:{size:14},bodyFont:{size:14},caretSize:6}},animation:{duration:2e3}},this.completionChartOptions={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12}}},x:{grid:{display:!1},ticks:{font:{size:12}}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",padding:12,titleFont:{size:14},bodyFont:{size:14},caretSize:6}},animation:{duration:2e3},elements:{line:{tension:.4}}},this.averageCompletionTime="0 days",this.totalTasksCompleted=0}ngOnInit(){this.loadAnalytics()}loadAnalytics(){this.taskService.getTaskAnalytics().subscribe({next:ne=>{this.statusChartData.labels=Object.keys(ne.status_stats),this.statusChartData.datasets[0].data=Object.values(ne.status_stats),this.priorityChartData.labels=Object.keys(ne.priority_stats),this.priorityChartData.datasets[0].data=Object.values(ne.priority_stats),this.completionChartData.labels=ne.completed_by_month.map(q=>q.month),this.completionChartData.datasets[0].data=ne.completed_by_month.map(q=>q.count),this.averageCompletionTime=`${ne.avg_completion_time} days`,this.totalTasksCompleted=ne.completed_by_month.reduce((q,de)=>q+de.count,0)},error:ne=>{console.error("Error loading analytics:",ne)}})}calculateCompletionRate(){const ne=this.statusChartData.datasets[0].data[0]+this.statusChartData.datasets[0].data[1]+this.statusChartData.datasets[0].data[2];return 0===ne?0:Math.round(this.statusChartData.datasets[0].data[2]/ne*100)}exportAnalytics(){const ne={statusDistribution:this.statusChartData,priorityDistribution:this.priorityChartData,completionTrend:this.completionChartData,metrics:{averageCompletionTime:this.averageCompletionTime,totalTasksCompleted:this.totalTasksCompleted,completionRate:this.calculateCompletionRate()}},q=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"});(0,y.saveAs)(q,`analytics-report-${(new Date).toISOString().split("T")[0]}.json`)}printReport(){const ne=window.open("","_blank");if(!ne)return;const q={statusDistribution:this.statusChartData,priorityDistribution:this.priorityChartData,completionTrend:this.completionChartData,metrics:{averageCompletionTime:this.averageCompletionTime,totalTasksCompleted:this.totalTasksCompleted,completionRate:this.calculateCompletionRate()}},de=`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Task Analytics Report</title>\n          <style>\n            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');\n            \n            body {\n              font-family: 'Roboto', sans-serif;\n              margin: 0;\n              padding: 40px;\n              color: #333;\n              background: #fff;\n            }\n            \n            .report-header {\n              text-align: center;\n              margin-bottom: 40px;\n              padding-bottom: 20px;\n              border-bottom: 2px solid #eee;\n            }\n            \n            .report-title {\n              font-size: 28px;\n              font-weight: 700;\n              color: #2c3e50;\n              margin: 0;\n            }\n            \n            .report-date {\n              color: #666;\n              font-size: 14px;\n              margin-top: 10px;\n            }\n            \n            .metrics-section {\n              display: grid;\n              grid-template-columns: repeat(3, 1fr);\n              gap: 20px;\n              margin-bottom: 40px;\n            }\n            \n            .metric-card {\n              background: #f8f9fa;\n              padding: 20px;\n              border-radius: 8px;\n              text-align: center;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n            }\n            \n            .metric-value {\n              font-size: 24px;\n              font-weight: 700;\n              color: #2c3e50;\n              margin: 10px 0;\n            }\n            \n            .metric-label {\n              color: #666;\n              font-size: 14px;\n            }\n            \n            .chart-section {\n              margin-bottom: 40px;\n            }\n            \n            .chart-container {\n              background: #fff;\n              padding: 20px;\n              border-radius: 8px;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n              margin-bottom: 30px;\n            }\n            \n            .chart-title {\n              font-size: 18px;\n              font-weight: 500;\n              color: #2c3e50;\n              margin-bottom: 20px;\n              padding-bottom: 10px;\n              border-bottom: 1px solid #eee;\n            }\n            \n            .chart-wrapper {\n              height: 300px;\n              margin: 0 auto;\n            }\n            \n            @media print {\n              body {\n                padding: 20px;\n              }\n              \n              .metric-card {\n                box-shadow: none;\n                border: 1px solid #eee;\n              }\n              \n              .chart-container {\n                box-shadow: none;\n                border: 1px solid #eee;\n                page-break-inside: avoid;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="report-header">\n            <h1 class="report-title">Task Analytics Report</h1>\n            <div class="report-date">Generated on ${(new Date).toLocaleDateString()}</div>\n          </div>\n          \n          <div class="metrics-section">\n            <div class="metric-card">\n              <div class="metric-value">${q.metrics.totalTasksCompleted}</div>\n              <div class="metric-label">Total Tasks Completed</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${q.metrics.averageCompletionTime}</div>\n              <div class="metric-label">Average Completion Time</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${q.metrics.completionRate}%</div>\n              <div class="metric-label">Completion Rate</div>\n            </div>\n          </div>\n          \n          <div class="chart-section">\n            <div class="chart-container">\n              <h2 class="chart-title">Task Status Distribution</h2>\n              <div class="chart-wrapper">\n                <canvas id="statusChart"></canvas>\n              </div>\n            </div>\n            \n            <div class="chart-container">\n              <h2 class="chart-title">Task Priority Distribution</h2>\n              <div class="chart-wrapper">\n                <canvas id="priorityChart"></canvas>\n              </div>\n            </div>\n            \n            <div class="chart-container">\n              <h2 class="chart-title">Task Completion Trend</h2>\n              <div class="chart-wrapper">\n                <canvas id="completionChart"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>\n          <script>\n            window.onload = function() {\n              // Status Chart\n              new Chart(document.getElementById('statusChart'), {\n                type: 'pie',\n                data: ${JSON.stringify(q.statusDistribution)},\n                options: {\n                  responsive: true,\n                  maintainAspectRatio: false,\n                  plugins: {\n                    legend: {\n                      position: 'bottom',\n                      labels: {\n                        padding: 20,\n                        font: {\n                          size: 12\n                        }\n                      }\n                    }\n                  }\n                }\n              });\n\n              // Priority Chart\n              new Chart(document.getElementById('priorityChart'), {\n                type: 'bar',\n                data: ${JSON.stringify(q.priorityDistribution)},\n                options: {\n                  responsive: true,\n                  maintainAspectRatio: false,\n                  scales: {\n                    y: {\n                      beginAtZero: true,\n                      grid: {\n                        color: 'rgba(0,0,0,0.05)'\n                      }\n                    },\n                    x: {\n                      grid: {\n                        display: false\n                      }\n                    }\n                  },\n                  plugins: {\n                    legend: {\n                      display: false\n                    }\n                  }\n                }\n              });\n\n              // Completion Chart\n              new Chart(document.getElementById('completionChart'), {\n                type: 'line',\n                data: ${JSON.stringify(q.completionTrend)},\n                options: {\n                  responsive: true,\n                  maintainAspectRatio: false,\n                  scales: {\n                    y: {\n                      beginAtZero: true,\n                      grid: {\n                        color: 'rgba(0,0,0,0.05)'\n                      }\n                    },\n                    x: {\n                      grid: {\n                        display: false\n                      }\n                    }\n                  },\n                  plugins: {\n                    legend: {\n                      position: 'bottom',\n                      labels: {\n                        padding: 20,\n                        font: {\n                          size: 12\n                        }\n                      }\n                    }\n                  }\n                }\n              });\n\n              // Automatically trigger print dialog after charts are rendered\n              setTimeout(() => {\n                window.print();\n              }, 1000);\n            };\n          <\/script>\n        </body>\n      </html>\n    `;ne.document.write(de),ne.document.close()}static#e=this.\u0275fac=function(q){return new(q||B)(h.\u0275\u0275directiveInject(E.TaskService))};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:B,selectors:[["app-analytics"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:103,vars:17,consts:[[1,"analytics-container"],[1,"analytics-header"],[1,"subtitle"],[1,"summary-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-check-circle"],[1,"stat-content"],[1,"fas","fa-clock"],[1,"fas","fa-tasks"],[1,"fas","fa-fire"],[1,"charts-grid"],[1,"chart-container","status-chart"],[1,"chart-header"],[1,"chart-actions"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"chart-body"],["baseChart","",3,"data","options","type"],[1,"chart-container","priority-chart"],[1,"chart-container","completion-chart"],[1,"chart-container","metrics-container"],[1,"metrics-grid"],[1,"metric-item"],[1,"metric-label"],[1,"metric-value"],[1,"export-section"],[1,"btn-export",3,"click"],[1,"fas","fa-download"],[1,"btn-print",3,"click"],[1,"fas","fa-print"]],template:function(q,de){1&q&&(h.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"h1"),h.\u0275\u0275text(3,"Task Analytics Dashboard"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"p",2),h.\u0275\u0275text(5," Track your productivity and task management metrics "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(6,"div",3)(7,"div",4)(8,"div",5),h.\u0275\u0275element(9,"i",6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"div",7)(11,"h3"),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"p"),h.\u0275\u0275text(14,"Tasks Completed"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(15,"div",4)(16,"div",5),h.\u0275\u0275element(17,"i",8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(18,"div",7)(19,"h3"),h.\u0275\u0275text(20),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"p"),h.\u0275\u0275text(22,"Avg. Completion Time"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(23,"div",4)(24,"div",5),h.\u0275\u0275element(25,"i",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"div",7)(27,"h3"),h.\u0275\u0275text(28),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"p"),h.\u0275\u0275text(30,"Tasks Pending"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(31,"div",4)(32,"div",5),h.\u0275\u0275element(33,"i",10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"div",7)(35,"h3"),h.\u0275\u0275text(36),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"p"),h.\u0275\u0275text(38,"High Priority Tasks"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(39,"div",11)(40,"div",12)(41,"div",13)(42,"h2"),h.\u0275\u0275text(43,"Task Status Distribution"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"div",14)(45,"button",15),h.\u0275\u0275listener("click",function(){return de.loadAnalytics()}),h.\u0275\u0275element(46,"i",16),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(47,"div",17),h.\u0275\u0275element(48,"canvas",18),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(49,"div",19)(50,"div",13)(51,"h2"),h.\u0275\u0275text(52,"Task Priority Distribution"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(53,"div",14)(54,"button",15),h.\u0275\u0275listener("click",function(){return de.loadAnalytics()}),h.\u0275\u0275element(55,"i",16),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(56,"div",17),h.\u0275\u0275element(57,"canvas",18),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(58,"div",20)(59,"div",13)(60,"h2"),h.\u0275\u0275text(61,"Task Completion Trend"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(62,"div",14)(63,"button",15),h.\u0275\u0275listener("click",function(){return de.loadAnalytics()}),h.\u0275\u0275element(64,"i",16),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(65,"div",17),h.\u0275\u0275element(66,"canvas",18),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(67,"div",21)(68,"div",13)(69,"h2"),h.\u0275\u0275text(70,"Performance Details"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(71,"div",14)(72,"button",15),h.\u0275\u0275listener("click",function(){return de.loadAnalytics()}),h.\u0275\u0275element(73,"i",16),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(74,"div",17)(75,"div",22)(76,"div",23)(77,"span",24),h.\u0275\u0275text(78,"Average Completion Time:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(79,"span",25),h.\u0275\u0275text(80),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(81,"div",23)(82,"span",24),h.\u0275\u0275text(83,"Tasks Completed:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(84,"span",25),h.\u0275\u0275text(85),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(86,"div",23)(87,"span",24),h.\u0275\u0275text(88,"Completion Rate:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(89,"span",25),h.\u0275\u0275text(90),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(91,"div",23)(92,"span",24),h.\u0275\u0275text(93,"Tasks In Progress:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(94,"span",25),h.\u0275\u0275text(95),h.\u0275\u0275elementEnd()()()()()(),h.\u0275\u0275elementStart(96,"div",26)(97,"button",27),h.\u0275\u0275listener("click",function(){return de.exportAnalytics()}),h.\u0275\u0275element(98,"i",28),h.\u0275\u0275text(99," Export Analytics "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(100,"button",29),h.\u0275\u0275listener("click",function(){return de.printReport()}),h.\u0275\u0275element(101,"i",30),h.\u0275\u0275text(102," Print Report "),h.\u0275\u0275elementEnd()()()),2&q&&(h.\u0275\u0275advance(12),h.\u0275\u0275textInterpolate(de.totalTasksCompleted),h.\u0275\u0275advance(8),h.\u0275\u0275textInterpolate(de.averageCompletionTime),h.\u0275\u0275advance(8),h.\u0275\u0275textInterpolate(de.statusChartData.datasets[0].data[0]),h.\u0275\u0275advance(8),h.\u0275\u0275textInterpolate(de.priorityChartData.datasets[0].data[2]),h.\u0275\u0275advance(12),h.\u0275\u0275property("data",de.statusChartData)("options",de.statusChartOptions)("type","pie"),h.\u0275\u0275advance(9),h.\u0275\u0275property("data",de.priorityChartData)("options",de.priorityChartOptions)("type","bar"),h.\u0275\u0275advance(9),h.\u0275\u0275property("data",de.completionChartData)("options",de.completionChartOptions)("type","line"),h.\u0275\u0275advance(14),h.\u0275\u0275textInterpolate(de.averageCompletionTime),h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate(de.totalTasksCompleted),h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate1("",de.calculateCompletionRate(),"%"),h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate(de.statusChartData.datasets[0].data[1]))},dependencies:[W.CommonModule,R.NgChartsModule,P.BaseChartDirective],styles:[".analytics-container[_ngcontent-%COMP%]{padding:30px;max-width:1400px;margin:0 auto;background-color:#f8f9fa;border-radius:10px;box-shadow:0 5px 15px #0000000d}.analytics-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;border-bottom:1px solid #e9ecef;padding-bottom:20px}.analytics-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:28px;margin-bottom:10px;font-weight:600}.subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:16px}.summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:white;padding:20px;border-radius:10px;box-shadow:0 3px 10px #0000001a;display:flex;align-items:center;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #00000026}.stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb 0%,#2575fc 100%);color:#fff;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;font-size:20px}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin:0;color:#2c3e50;font-weight:600}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;color:#6c757d;font-size:14px}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:25px;margin-bottom:30px}@media (max-width: 992px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-container[_ngcontent-%COMP%]{background:white;border-radius:10px;box-shadow:0 3px 10px #0000001a;overflow:hidden;transition:transform .3s ease}.chart-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 15px #0000001a}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 20px 15px;border-bottom:1px solid #e9ecef}.chart-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#2c3e50;font-weight:600}.chart-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-refresh[_ngcontent-%COMP%]{background:transparent;border:none;color:#6c757d;cursor:pointer;padding:5px;border-radius:5px;transition:background-color .2s ease}.btn-refresh[_ngcontent-%COMP%]:hover{background-color:#f1f3f5;color:#2c3e50}.chart-body[_ngcontent-%COMP%]{padding:20px;height:300px;position:relative}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}.metric-item[_ngcontent-%COMP%]{padding:15px;border-radius:8px;background-color:#f8f9fa}.metric-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#6c757d;margin-bottom:5px}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#2c3e50}.export-section[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:20px}.btn-export[_ngcontent-%COMP%], .btn-print[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb 0%,#2575fc 100%);color:#fff;border:none;padding:10px 20px;border-radius:30px;cursor:pointer;font-weight:500;display:flex;align-items:center;gap:10px;transition:transform .2s ease,box-shadow .2s ease}.btn-export[_ngcontent-%COMP%]:hover, .btn-print[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 10px #0003}.btn-print[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50 0%,#4ca1af 100%)}"]})}return B})()},3966:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Ne,Ze,je,be){void 0===be&&(be=je);var qe=Object.getOwnPropertyDescriptor(Ze,je);(!qe||("get"in qe?!Ze.__esModule:qe.writable||qe.configurable))&&(qe={enumerable:!0,get:function(){return Ze[je]}}),Object.defineProperty(Ne,be,qe)}:function(Ne,Ze,je,be){void 0===be&&(be=je),Ne[be]=Ze[je]}),K=this&&this.__setModuleDefault||(Object.create?function(Ne,Ze){Object.defineProperty(Ne,"default",{enumerable:!0,value:Ze})}:function(Ne,Ze){Ne.default=Ze}),G=this&&this.__importStar||function(Ne){if(Ne&&Ne.__esModule)return Ne;var Ze={};if(null!=Ne)for(var je in Ne)"default"!==je&&Object.prototype.hasOwnProperty.call(Ne,je)&&M(Ze,Ne,je);return K(Ze,Ne),Ze};Object.defineProperty(u,"__esModule",{value:!0}),u.AppRoutingModule=u.routes=void 0;const W=_(9689),R=_(4225),y=_(7285),h=_(722),E=_(7402),P=_(9548),F=_(4033),B=_(8041),k=_(5080),ne=_(2066),q=_(3152),de=_(5229),ge=_(7038),Oe=_(831),Qe=_(286),rt=G(_(6689));G(_(9689)),u.routes=[{path:"",component:Qe.LandingPageComponent},{path:"landing-page",component:Qe.LandingPageComponent},{path:"login",component:y.LoginComponent},{path:"register",component:h.RegisterComponent},{path:"complete-registration",component:ge.CompleteRegistrationComponent},{path:"admin/login",component:F.AdminLoginComponent},{path:"dashboard",component:R.DashboardComponent,canActivate:[E.AuthGuard]},{path:"task/:id",component:ne.TaskDetailsComponent,canActivate:[E.AuthGuard]},{path:"analytics",component:P.AnalyticsComponent,canActivate:[E.AuthGuard]},{path:"profile",component:de.ProfileComponent,canActivate:[E.AuthGuard]},{path:"admin/dashboard",component:B.AdminDashboardComponent,canActivate:[k.AdminGuard]},{path:"admin/create-task",component:Oe.CreateTaskComponent,canActivate:[k.AdminGuard]},{path:"admin/task/:id",component:q.AdminTaskDetailsComponent,canActivate:[k.AdminGuard]},{path:"**",redirectTo:"/dashboard"}],u.AppRoutingModule=(()=>{class Ne{static#e=this.\u0275fac=function(be){return new(be||Ne)};static#t=this.\u0275mod=rt.\u0275\u0275defineNgModule({type:Ne});static#n=this.\u0275inj=rt.\u0275\u0275defineInjector({imports:[W.RouterModule.forRoot(u.routes),W.RouterModule]})}return Ne})()},6401:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(k,ne,q,de){void 0===de&&(de=q);var ge=Object.getOwnPropertyDescriptor(ne,q);(!ge||("get"in ge?!ne.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return ne[q]}}),Object.defineProperty(k,de,ge)}:function(k,ne,q,de){void 0===de&&(de=q),k[de]=ne[q]}),K=this&&this.__setModuleDefault||(Object.create?function(k,ne){Object.defineProperty(k,"default",{enumerable:!0,value:ne})}:function(k,ne){k.default=ne}),G=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var ne={};if(null!=k)for(var q in k)"default"!==q&&Object.prototype.hasOwnProperty.call(k,q)&&M(ne,k,q);return K(ne,k),ne};Object.defineProperty(u,"__esModule",{value:!0}),u.AppComponent=void 0;const W=_(6814),R=_(9689),y=_(188),h=G(_(6689)),E=G(_(5180)),P=G(_(5148)),F=G(_(9689));u.AppComponent=(()=>{class k{constructor(q,de,ge){this.taskService=q,this.authService=de,this.router=ge,this.title="todo-list-angular",this.nextId="",this.tasks=[]}ngOnInit(){this.router.events.subscribe(q=>{q instanceof R.NavigationEnd&&!["/login","/register","/admin/login","/complete-registration","/","/landing-page"].includes(q.url)&&!this.authService.isAuthenticated()&&this.router.navigate(["/login"])}),this.authService.isAuthenticated()&&this.loadTasks()}getUserById(q){this.taskService.getTask(q).subscribe({next:de=>{console.log(de)},error:de=>{console.log(de)}})}addTask(q){this.receivedChore=q,this.taskService.createTask({title:this.receivedChore.value.title,category:this.receivedChore.value.category,due_date:this.receivedChore.value.due_date,description:"",status:"todo",priority:"medium"}).pipe((0,y.first)()).subscribe({next:de=>{this.loadTasks()},error:de=>{console.error(de)}})}editTask(q,de){this.receivedChore=q,console.log({event:q}),this.taskService.updateTask(de,{title:this.receivedChore.value.title,category:this.receivedChore.value.category,due_date:this.receivedChore.value.due_date,description:"",status:"todo",priority:"medium"}).pipe((0,y.first)()).subscribe({next:ge=>{this.loadTasks()},error:ge=>{console.error(ge)},complete:()=>{this.receivedChore.reset()}})}deleteTask(q,de){this.taskService.deleteTask(de).subscribe({next:ge=>console.log(ge),complete:()=>{this.loadTasks()},error:ge=>{console.log(ge)}})}id(q){this.nextId=q,console.log(this.nextId)}loadTasks(){this.taskService.getTasks().pipe((0,y.first)()).subscribe({next:q=>{this.tasks=q,console.log("Tasks loaded successfully:",q)},error:q=>{console.error("Error loading tasks:",q),(401===q.status||422===q.status)&&(this.authService.logout(),this.router.navigate(["/login"]))}})}createTask(){this.taskService.createTask({title:this.receivedChore.value.title,description:this.receivedChore.value.description,category:this.receivedChore.value.category,due_date:this.receivedChore.value.due_date,status:"todo",priority:"medium"}).subscribe({next:de=>{console.log("Task created:",de)},error:de=>{console.error("Error creating task:",de)}})}static#e=this.\u0275fac=function(de){return new(de||k)(h.\u0275\u0275directiveInject(E.TaskService),h.\u0275\u0275directiveInject(P.AuthService),h.\u0275\u0275directiveInject(F.Router))};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:k,selectors:[["app-root"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:2,vars:0,consts:[[1,"container"]],template:function(de,ge){1&de&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275element(1,"router-outlet"),h.\u0275\u0275elementEnd())},dependencies:[W.CommonModule,R.RouterOutlet],encapsulation:2})}return k})()},4033:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne);var je=Object.getOwnPropertyDescriptor(Ee,Ne);(!je||("get"in je?!Ee.__esModule:je.writable||je.configurable))&&(je={enumerable:!0,get:function(){return Ee[Ne]}}),Object.defineProperty(Se,Ze,je)}:function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne),Se[Ze]=Ee[Ne]}),K=this&&this.__setModuleDefault||(Object.create?function(Se,Ee){Object.defineProperty(Se,"default",{enumerable:!0,value:Ee})}:function(Se,Ee){Se.default=Ee}),G=this&&this.__importStar||function(Se){if(Se&&Se.__esModule)return Se;var Ee={};if(null!=Se)for(var Ne in Se)"default"!==Ne&&Object.prototype.hasOwnProperty.call(Se,Ne)&&M(Ee,Se,Ne);return K(Ee,Se),Ee};Object.defineProperty(u,"__esModule",{value:!0}),u.AdminLoginComponent=void 0;const W=_(6814),R=_(95),y=_(9689),h=G(_(6689)),E=G(_(95)),P=G(_(2333)),F=G(_(9689)),B=G(_(6814));function k(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",30),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",Ne.errorMessage," ")}}function ne(Se,Ee){1&Se&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Username is required "),h.\u0275\u0275elementEnd())}function q(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",31),h.\u0275\u0275template(1,ne,2,0,"div",32),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==Ne.username.errors?null:Ne.username.errors.required)}}function de(Se,Ee){1&Se&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Password is required "),h.\u0275\u0275elementEnd())}function ge(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",31),h.\u0275\u0275template(1,de,2,0,"div",32),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==Ne.password.errors?null:Ne.password.errors.required)}}function Oe(Se,Ee){1&Se&&h.\u0275\u0275element(0,"span",33)}const Qe=function(Se){return{"is-invalid":Se}};u.AdminLoginComponent=(()=>{class Se{constructor(Ne,Ze,je){this.fb=Ne,this.authService=Ze,this.router=je,this.errorMessage="",this.isLoading=!1,this.loginForm=this.fb.group({username:["",R.Validators.required],password:["",R.Validators.required]})}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;const{username:Ne,password:Ze}=this.loginForm.value;this.authService.adminLogin(Ne,Ze).subscribe({next:je=>{this.isLoading=!1,this.router.navigate(["/admin/dashboard"])},error:je=>{this.isLoading=!1,this.errorMessage=je.error.message||"Admin login failed"}})}}static#e=this.\u0275fac=function(Ze){return new(Ze||Se)(h.\u0275\u0275directiveInject(E.FormBuilder),h.\u0275\u0275directiveInject(P.AuthService),h.\u0275\u0275directiveInject(F.Router))};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:Se,selectors:[["app-admin-login"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:46,vars:13,consts:[[1,"login-wrapper"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"login-card"],[1,"login-header","admin-header"],[1,"login-body"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","username",1,"form-label"],[1,"input-icon-wrapper"],[1,"bi","bi-person-badge","input-icon"],["type","text","id","username","formControlName","username","placeholder","Enter admin username",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],["for","password",1,"form-label"],[1,"bi","bi-shield-lock","input-icon"],["type","password","id","password","formControlName","password","placeholder","Enter admin password",1,"form-control",3,"ngClass"],[1,"login-options","mb-4"],[1,"form-check"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["href","#",1,"forgot-password"],[1,"d-grid","mb-4"],["type","submit",1,"btn","btn-primary","login-button",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"security-notice"],[1,"bi","bi-shield-check","me-2"],[1,"register-link"],["routerLink","/login"],[1,"alert","alert-danger"],[1,"invalid-feedback","d-block"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(Ze,je){1&Ze&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),h.\u0275\u0275text(7,"Admin Portal"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"p"),h.\u0275\u0275text(9,"Enter your admin credentials to continue"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275template(11,k,2,1,"div",7),h.\u0275\u0275elementStart(12,"form",8),h.\u0275\u0275listener("ngSubmit",function(){return je.onSubmit()}),h.\u0275\u0275elementStart(13,"div",9)(14,"label",10),h.\u0275\u0275text(15,"Admin Username"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"div",11),h.\u0275\u0275element(17,"i",12)(18,"input",13),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(19,q,2,1,"div",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"div",9)(21,"label",15),h.\u0275\u0275text(22,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(23,"div",11),h.\u0275\u0275element(24,"i",16)(25,"input",17),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(26,ge,2,1,"div",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"div",18)(28,"div",19),h.\u0275\u0275element(29,"input",20),h.\u0275\u0275elementStart(30,"label",21),h.\u0275\u0275text(31,"Remember me"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(32,"a",22),h.\u0275\u0275text(33,"Forgot password?"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(34,"div",23)(35,"button",24),h.\u0275\u0275template(36,Oe,1,0,"span",25),h.\u0275\u0275text(37),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(38,"div",26),h.\u0275\u0275element(39,"i",27),h.\u0275\u0275elementStart(40,"span"),h.\u0275\u0275text(41,"This is a secure admin-only area"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(42,"div",28),h.\u0275\u0275text(43," Not an admin? "),h.\u0275\u0275elementStart(44,"a",29),h.\u0275\u0275text(45,"Go to User Login"),h.\u0275\u0275elementEnd()()()()()()()()),2&Ze&&(h.\u0275\u0275advance(11),h.\u0275\u0275property("ngIf",je.errorMessage),h.\u0275\u0275advance(1),h.\u0275\u0275property("formGroup",je.loginForm),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(9,Qe,je.username.invalid&&(je.username.dirty||je.username.touched))),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.username.invalid&&(je.username.dirty||je.username.touched)),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(11,Qe,je.password.invalid&&(je.password.dirty||je.password.touched))),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.password.invalid&&(je.password.dirty||je.password.touched)),h.\u0275\u0275advance(9),h.\u0275\u0275property("disabled",je.loginForm.invalid||je.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",je.isLoading?"Signing in...":"Sign In to Admin"," "))},dependencies:[W.CommonModule,B.NgClass,B.NgIf,R.FormsModule,E.\u0275NgNoValidate,E.DefaultValueAccessor,E.NgControlStatus,E.NgControlStatusGroup,R.ReactiveFormsModule,E.FormGroupDirective,E.FormControlName,y.RouterLink],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa;display:flex;align-items:center;padding:20px 0}.login-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 5px 15px #0000001a;overflow:hidden}.login-header[_ngcontent-%COMP%]{color:#fff;text-align:center;padding:25px 20px}.admin-header[_ngcontent-%COMP%]{background-color:#2c3e50;border-bottom:4px solid #e74c3c}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9;margin-bottom:0}.login-body[_ngcontent-%COMP%]{padding:30px}.input-icon-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#6c757d}.form-control[_ngcontent-%COMP%]{padding:10px 10px 10px 40px;height:auto;border-radius:5px}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #e74c3c40;border-color:#e74c3c}.login-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%]{color:#e74c3c;text-decoration:none}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{background-color:#e74c3c;border-color:#e74c3c;padding:10px;font-weight:500;border-radius:5px}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#c0392b;border-color:#c0392b}.security-notice[_ngcontent-%COMP%]{margin:20px 0;display:flex;align-items:center;justify-content:center;color:#6c757d;font-size:14px;padding:10px;background-color:#f8f9fa;border-radius:5px}.security-notice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2c3e50;font-size:16px}.register-link[_ngcontent-%COMP%]{text-align:center;font-size:15px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e74c3c;font-weight:500;text-decoration:none}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return Se})()},5080:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(E,P,F,B){void 0===B&&(B=F);var k=Object.getOwnPropertyDescriptor(P,F);(!k||("get"in k?!P.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return P[F]}}),Object.defineProperty(E,B,k)}:function(E,P,F,B){void 0===B&&(B=F),E[B]=P[F]}),K=this&&this.__setModuleDefault||(Object.create?function(E,P){Object.defineProperty(E,"default",{enumerable:!0,value:P})}:function(E,P){E.default=P}),G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var P={};if(null!=E)for(var F in E)"default"!==F&&Object.prototype.hasOwnProperty.call(E,F)&&M(P,E,F);return K(P,E),P};Object.defineProperty(u,"__esModule",{value:!0}),u.AdminGuard=void 0;const W=G(_(6689)),R=G(_(2333)),y=G(_(9689));u.AdminGuard=(()=>{class E{constructor(F,B){this.authService=F,this.router=B}canActivate(){return!!this.authService.isAdmin()||(this.router.navigate(["/admin/login"]),!1)}static#e=this.\u0275fac=function(B){return new(B||E)(W.\u0275\u0275inject(R.AuthService),W.\u0275\u0275inject(y.Router))};static#t=this.\u0275prov=W.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},7402:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(E,P,F,B){void 0===B&&(B=F);var k=Object.getOwnPropertyDescriptor(P,F);(!k||("get"in k?!P.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return P[F]}}),Object.defineProperty(E,B,k)}:function(E,P,F,B){void 0===B&&(B=F),E[B]=P[F]}),K=this&&this.__setModuleDefault||(Object.create?function(E,P){Object.defineProperty(E,"default",{enumerable:!0,value:P})}:function(E,P){E.default=P}),G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var P={};if(null!=E)for(var F in E)"default"!==F&&Object.prototype.hasOwnProperty.call(E,F)&&M(P,E,F);return K(P,E),P};Object.defineProperty(u,"__esModule",{value:!0}),u.AuthGuard=void 0;const W=G(_(6689)),R=G(_(5148)),y=G(_(9689));u.AuthGuard=(()=>{class E{constructor(F,B){this.authService=F,this.router=B}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(B){return new(B||E)(W.\u0275\u0275inject(R.AuthService),W.\u0275\u0275inject(y.Router))};static#t=this.\u0275prov=W.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},5148:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(F,B,k,ne){void 0===ne&&(ne=k);var q=Object.getOwnPropertyDescriptor(B,k);(!q||("get"in q?!B.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return B[k]}}),Object.defineProperty(F,ne,q)}:function(F,B,k,ne){void 0===ne&&(ne=k),F[ne]=B[k]}),K=this&&this.__setModuleDefault||(Object.create?function(F,B){Object.defineProperty(F,"default",{enumerable:!0,value:B})}:function(F,B){F.default=B}),G=this&&this.__importStar||function(F){if(F&&F.__esModule)return F;var B={};if(null!=F)for(var k in F)"default"!==k&&Object.prototype.hasOwnProperty.call(F,k)&&M(B,F,k);return K(B,F),B};Object.defineProperty(u,"__esModule",{value:!0}),u.AuthService=void 0;const W=_(1474),R=_(188),y=G(_(6689)),h=G(_(1474)),E=G(_(9689));u.AuthService=(()=>{class F{constructor(k,ne){this.http=k,this.router=ne,this.apiUrl="environment.apiUrl",this.currentUserSubject=new R.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable();const q=localStorage.getItem("token");if(q){const de=this.decodeToken(q);this.currentUserSubject.next(de)}}getAuthHeaders(){const k=localStorage.getItem("token");return new W.HttpHeaders({Authorization:`Bearer ${k}`,"Content-Type":"application/json"})}registerAdmin(k,ne,q,de){return this.http.post(`${this.apiUrl}/admin/register`,{username:k,email:ne,password:q,company_code:de})}registerUser(k,ne,q,de){return this.http.post(`${this.apiUrl}/register`,{username:k,email:ne,password:q,company_code:de})}login(k,ne){return this.http.post(`${this.apiUrl}/login`,{username:k,password:ne}).pipe((0,R.tap)(q=>{localStorage.setItem("token",q.access_token);const de=this.decodeToken(q.access_token);this.currentUserSubject.next(de)}))}logout(){localStorage.removeItem("token"),this.currentUserSubject.next(null),this.router.navigate(["/login"])}isAuthenticated(){return!!localStorage.getItem("token")}isAdmin(){return"admin"===this.currentUserSubject.value?.role}decodeToken(k){const q=k.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),de=decodeURIComponent(atob(q).split("").map(ge=>"%"+("00"+ge.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(de)}static#e=this.\u0275fac=function(ne){return new(ne||F)(y.\u0275\u0275inject(h.HttpClient),y.\u0275\u0275inject(E.Router))};static#t=this.\u0275prov=y.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},7038:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne);var je=Object.getOwnPropertyDescriptor(Ee,Ne);(!je||("get"in je?!Ee.__esModule:je.writable||je.configurable))&&(je={enumerable:!0,get:function(){return Ee[Ne]}}),Object.defineProperty(Se,Ze,je)}:function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne),Se[Ze]=Ee[Ne]}),K=this&&this.__setModuleDefault||(Object.create?function(Se,Ee){Object.defineProperty(Se,"default",{enumerable:!0,value:Ee})}:function(Se,Ee){Se.default=Ee}),G=this&&this.__importStar||function(Se){if(Se&&Se.__esModule)return Se;var Ee={};if(null!=Se)for(var Ne in Se)"default"!==Ne&&Object.prototype.hasOwnProperty.call(Se,Ne)&&M(Ee,Se,Ne);return K(Ee,Se),Ee};Object.defineProperty(u,"__esModule",{value:!0}),u.CompleteRegistrationComponent=void 0;const W=_(6814),R=_(95),y=G(_(6689)),h=G(_(95)),E=G(_(2333)),P=G(_(9689)),F=G(_(6814));function B(Se,Ee){1&Se&&(y.\u0275\u0275elementStart(0,"div"),y.\u0275\u0275text(1," Company code is required "),y.\u0275\u0275elementEnd())}function k(Se,Ee){if(1&Se&&(y.\u0275\u0275elementStart(0,"div",17),y.\u0275\u0275template(1,B,2,0,"div",18),y.\u0275\u0275elementEnd()),2&Se){const Ne=y.\u0275\u0275nextContext();let Ze;y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",null==(Ze=Ne.completeForm.get("company_code"))||null==Ze.errors?null:Ze.errors.required)}}function ne(Se,Ee){1&Se&&(y.\u0275\u0275elementStart(0,"div"),y.\u0275\u0275text(1," Company name is required for admin users "),y.\u0275\u0275elementEnd())}function q(Se,Ee){if(1&Se&&(y.\u0275\u0275elementStart(0,"div",17),y.\u0275\u0275template(1,ne,2,0,"div",18),y.\u0275\u0275elementEnd()),2&Se){const Ne=y.\u0275\u0275nextContext(2);let Ze;y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",null==(Ze=Ne.completeForm.get("company_name"))||null==Ze.errors?null:Ze.errors.required)}}const de=function(Se){return{"is-invalid":Se}};function ge(Se,Ee){if(1&Se&&(y.\u0275\u0275elementStart(0,"div",8)(1,"label",19),y.\u0275\u0275text(2,"Company Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(3,"input",20),y.\u0275\u0275template(4,q,2,1,"div",11),y.\u0275\u0275elementEnd()),2&Se){const Ne=y.\u0275\u0275nextContext();let Ze,je;y.\u0275\u0275advance(3),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(2,de,Ne.submitted&&(null==(Ze=Ne.completeForm.get("company_name"))?null:Ze.invalid))),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",Ne.submitted&&(null==(je=Ne.completeForm.get("company_name"))?null:je.invalid))}}function Oe(Se,Ee){if(1&Se&&(y.\u0275\u0275elementStart(0,"div",21),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&Se){const Ne=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",Ne.errorMessage," ")}}function Qe(Se,Ee){1&Se&&y.\u0275\u0275element(0,"span",22)}u.CompleteRegistrationComponent=(()=>{class Se{constructor(Ne,Ze,je){this.formBuilder=Ne,this.authService=Ze,this.router=je,this.submitted=!1,this.isLoading=!1,this.errorMessage="",this.isAdmin=!1,this.completeForm=this.formBuilder.group({company_code:["",R.Validators.required],company_name:[""]})}ngOnInit(){const Ne=localStorage.getItem("temp_user");if(!Ne)return void this.router.navigate(["/register"]);const Ze=JSON.parse(Ne);this.isAdmin="admin"===Ze.role,this.isAdmin&&this.completeForm.get("company_name")?.setValidators([R.Validators.required])}onSubmit(){if(this.submitted=!0,this.completeForm.valid){this.isLoading=!0;const{company_code:Ne,company_name:Ze}=this.completeForm.value,je=JSON.parse(localStorage.getItem("temp_user")||"{}");this.authService.completeRegistration({username:je.username,company_code:Ne,company_name:this.isAdmin?Ze:void 0}).subscribe({next:be=>{this.isLoading=!1,localStorage.removeItem("temp_user"),localStorage.setItem("token",be.access_token),localStorage.setItem("user",JSON.stringify(be.user)),this.router.navigate(["/login"])},error:be=>{this.isLoading=!1,console.error("Complete registration error:",be),this.errorMessage=be.error?.error?be.error.error:be.error?.message?be.error.message:"Failed to complete registration. Please try again."}})}}static#e=this.\u0275fac=function(Ze){return new(Ze||Se)(y.\u0275\u0275directiveInject(h.FormBuilder),y.\u0275\u0275directiveInject(E.AuthService),y.\u0275\u0275directiveInject(P.Router))};static#t=this.\u0275cmp=y.\u0275\u0275defineComponent({type:Se,selectors:[["app-complete-registration"]],standalone:!0,features:[y.\u0275\u0275StandaloneFeature],decls:21,vars:10,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","company_code",1,"form-label"],["type","text","id","company_code","formControlName","company_code",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["for","company_name",1,"form-label"],["type","text","id","company_name","formControlName","company_name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(Ze,je){if(1&Ze&&(y.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),y.\u0275\u0275text(6,"Complete Registration"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"p",6),y.\u0275\u0275text(8," Please provide your company information to complete registration "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"form",7),y.\u0275\u0275listener("ngSubmit",function(){return je.onSubmit()}),y.\u0275\u0275elementStart(10,"div",8)(11,"label",9),y.\u0275\u0275text(12,"Company Code"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(13,"input",10),y.\u0275\u0275template(14,k,2,1,"div",11),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(15,ge,5,4,"div",12),y.\u0275\u0275template(16,Oe,2,1,"div",13),y.\u0275\u0275elementStart(17,"div",14)(18,"button",15),y.\u0275\u0275template(19,Qe,1,0,"span",16),y.\u0275\u0275text(20),y.\u0275\u0275elementEnd()()()()()()()()),2&Ze){let be,qe;y.\u0275\u0275advance(9),y.\u0275\u0275property("formGroup",je.completeForm),y.\u0275\u0275advance(4),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(8,de,je.submitted&&(null==(be=je.completeForm.get("company_code"))?null:be.invalid))),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",je.submitted&&(null==(qe=je.completeForm.get("company_code"))?null:qe.invalid)),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",je.isAdmin),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",je.errorMessage),y.\u0275\u0275advance(2),y.\u0275\u0275property("disabled",je.completeForm.invalid||je.isLoading),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",je.isLoading),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",je.isLoading?"Completing...":"Complete Registration"," ")}},dependencies:[W.CommonModule,F.NgClass,F.NgIf,R.ReactiveFormsModule,h.\u0275NgNoValidate,h.DefaultValueAccessor,h.NgControlStatus,h.NgControlStatusGroup,h.FormGroupDirective,h.FormControlName],styles:[".container[_ngcontent-%COMP%]{margin-top:2rem}.card[_ngcontent-%COMP%]{box-shadow:0 4px 6px #0000001a}.card-title[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]})}return Se})()},7285:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne);var je=Object.getOwnPropertyDescriptor(Ee,Ne);(!je||("get"in je?!Ee.__esModule:je.writable||je.configurable))&&(je={enumerable:!0,get:function(){return Ee[Ne]}}),Object.defineProperty(Se,Ze,je)}:function(Se,Ee,Ne,Ze){void 0===Ze&&(Ze=Ne),Se[Ze]=Ee[Ne]}),K=this&&this.__setModuleDefault||(Object.create?function(Se,Ee){Object.defineProperty(Se,"default",{enumerable:!0,value:Ee})}:function(Se,Ee){Se.default=Ee}),G=this&&this.__importStar||function(Se){if(Se&&Se.__esModule)return Se;var Ee={};if(null!=Se)for(var Ne in Se)"default"!==Ne&&Object.prototype.hasOwnProperty.call(Se,Ne)&&M(Ee,Se,Ne);return K(Ee,Se),Ee};Object.defineProperty(u,"__esModule",{value:!0}),u.LoginComponent=void 0;const W=_(6814),R=_(95),y=_(9689),h=G(_(6689)),E=G(_(95)),P=G(_(2333)),F=G(_(9689)),B=G(_(6814));function k(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",34),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",Ne.errorMessage," ")}}function ne(Se,Ee){1&Se&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Username is required "),h.\u0275\u0275elementEnd())}function q(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",35),h.\u0275\u0275template(1,ne,2,0,"div",36),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",Ne.f.username.errors.required)}}function de(Se,Ee){1&Se&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Password is required "),h.\u0275\u0275elementEnd())}function ge(Se,Ee){if(1&Se&&(h.\u0275\u0275elementStart(0,"div",35),h.\u0275\u0275template(1,de,2,0,"div",36),h.\u0275\u0275elementEnd()),2&Se){const Ne=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",Ne.f.password.errors.required)}}function Oe(Se,Ee){1&Se&&h.\u0275\u0275element(0,"span",37)}const Qe=function(Se){return{"is-invalid":Se}};u.LoginComponent=(()=>{class Se{constructor(Ne,Ze,je){this.formBuilder=Ne,this.authService=Ze,this.router=je,this.submitted=!1,this.errorMessage="",this.isLoading=!1,this.loginForm=this.formBuilder.group({username:["",R.Validators.required],password:["",R.Validators.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.valid){this.isLoading=!0;const{username:Ne,password:Ze}=this.loginForm.value;this.authService.login(Ne,Ze).subscribe({next:je=>{this.isLoading=!1,localStorage.setItem("temp_user",JSON.stringify(je.user)),this.router.navigate(["/verify-2fa"])},error:je=>{this.isLoading=!1,this.errorMessage=je.error?.message||"Invalid username or password"}})}}static#e=this.\u0275fac=function(Ze){return new(Ze||Se)(h.\u0275\u0275directiveInject(E.FormBuilder),h.\u0275\u0275directiveInject(P.AuthService),h.\u0275\u0275directiveInject(F.Router))};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:Se,selectors:[["app-login"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:52,vars:13,consts:[[1,"login-wrapper"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"login-card"],[1,"login-header"],[1,"login-body"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","username",1,"form-label"],[1,"input-icon-wrapper"],[1,"bi","bi-person","input-icon"],["type","text","id","username","formControlName","username","placeholder","Enter your username",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],["for","password",1,"form-label"],[1,"bi","bi-lock","input-icon"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control",3,"ngClass"],[1,"login-options","mb-4"],[1,"form-check"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["href","#",1,"forgot-password"],[1,"d-grid","mb-4"],["type","submit",1,"btn","btn-primary","login-button",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"divider"],[1,"social-login"],[1,"btn","social-btn"],[1,"bi","bi-google"],[1,"bi","bi-facebook"],[1,"bi","bi-apple"],[1,"register-link"],["routerLink","/register"],[1,"alert","alert-danger"],[1,"invalid-feedback","d-block"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(Ze,je){1&Ze&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),h.\u0275\u0275text(7,"Welcome Back"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"p"),h.\u0275\u0275text(9,"Enter your credentials to access your account"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275template(11,k,2,1,"div",7),h.\u0275\u0275elementStart(12,"form",8),h.\u0275\u0275listener("ngSubmit",function(){return je.onSubmit()}),h.\u0275\u0275elementStart(13,"div",9)(14,"label",10),h.\u0275\u0275text(15,"Username"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"div",11),h.\u0275\u0275element(17,"i",12)(18,"input",13),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(19,q,2,1,"div",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"div",9)(21,"label",15),h.\u0275\u0275text(22,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(23,"div",11),h.\u0275\u0275element(24,"i",16)(25,"input",17),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(26,ge,2,1,"div",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"div",18)(28,"div",19),h.\u0275\u0275element(29,"input",20),h.\u0275\u0275elementStart(30,"label",21),h.\u0275\u0275text(31,"Remember me"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(32,"a",22),h.\u0275\u0275text(33,"Forgot password?"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(34,"div",23)(35,"button",24),h.\u0275\u0275template(36,Oe,1,0,"span",25),h.\u0275\u0275text(37),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(38,"div",26)(39,"span"),h.\u0275\u0275text(40,"or continue with"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(41,"div",27)(42,"button",28),h.\u0275\u0275element(43,"i",29),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"button",28),h.\u0275\u0275element(45,"i",30),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"button",28),h.\u0275\u0275element(47,"i",31),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(48,"div",32),h.\u0275\u0275text(49," Don't have an account? "),h.\u0275\u0275elementStart(50,"a",33),h.\u0275\u0275text(51,"Register now"),h.\u0275\u0275elementEnd()()()()()()()()),2&Ze&&(h.\u0275\u0275advance(11),h.\u0275\u0275property("ngIf",je.errorMessage),h.\u0275\u0275advance(1),h.\u0275\u0275property("formGroup",je.loginForm),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(9,Qe,je.submitted&&je.f.username.errors)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.submitted&&je.f.username.errors),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(11,Qe,je.submitted&&je.f.password.errors)),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.submitted&&je.f.password.errors),h.\u0275\u0275advance(9),h.\u0275\u0275property("disabled",je.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",je.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",je.isLoading?"Signing in...":"Sign In"," "))},dependencies:[W.CommonModule,B.NgClass,B.NgIf,R.FormsModule,E.\u0275NgNoValidate,E.DefaultValueAccessor,E.NgControlStatus,E.NgControlStatusGroup,R.ReactiveFormsModule,E.FormGroupDirective,E.FormControlName,y.RouterLink],styles:['.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa;display:flex;align-items:center;padding:20px 0}.login-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 5px 15px #0000001a;overflow:hidden}.login-header[_ngcontent-%COMP%]{background-color:#4361ee;color:#fff;text-align:center;padding:25px 20px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9;margin-bottom:0}.login-body[_ngcontent-%COMP%]{padding:30px}.input-icon-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#6c757d}.form-control[_ngcontent-%COMP%]{padding:10px 10px 10px 40px;height:auto;border-radius:5px}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #4361ee40;border-color:#4361ee}.login-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%]{color:#4361ee;text-decoration:none}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{background-color:#4361ee;border-color:#4361ee;padding:10px;font-weight:500;border-radius:5px}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3a56d4;border-color:#3a56d4}.divider[_ngcontent-%COMP%]{text-align:center;margin:25px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background-color:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:0 15px;color:#6c757d;font-size:14px}.social-login[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-bottom:25px}.social-btn[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:all .2s}.social-btn[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.social-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.register-link[_ngcontent-%COMP%]{text-align:center;font-size:15px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4361ee;font-weight:500;text-decoration:none}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})}return Se})()},722:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(be,qe,bt,Nt){void 0===Nt&&(Nt=bt);var _t=Object.getOwnPropertyDescriptor(qe,bt);(!_t||("get"in _t?!qe.__esModule:_t.writable||_t.configurable))&&(_t={enumerable:!0,get:function(){return qe[bt]}}),Object.defineProperty(be,Nt,_t)}:function(be,qe,bt,Nt){void 0===Nt&&(Nt=bt),be[Nt]=qe[bt]}),K=this&&this.__setModuleDefault||(Object.create?function(be,qe){Object.defineProperty(be,"default",{enumerable:!0,value:qe})}:function(be,qe){be.default=qe}),G=this&&this.__importStar||function(be){if(be&&be.__esModule)return be;var qe={};if(null!=be)for(var bt in be)"default"!==bt&&Object.prototype.hasOwnProperty.call(be,bt)&&M(qe,be,bt);return K(qe,be),qe};Object.defineProperty(u,"__esModule",{value:!0}),u.RegisterComponent=void 0;const W=_(6814),R=_(95),y=_(9689),h=G(_(6689)),E=G(_(95)),P=G(_(2333)),F=G(_(9689)),B=G(_(6814));function k(be,qe){if(1&be){const bt=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",45),h.\u0275\u0275element(1,"i",46),h.\u0275\u0275text(2),h.\u0275\u0275elementStart(3,"button",47),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(bt);const _t=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(_t.clearError())}),h.\u0275\u0275elementEnd()()}if(2&be){const bt=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("",bt.errorMessage," ")}}function ne(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Username is required "),h.\u0275\u0275elementEnd())}function q(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Username must be at least 3 characters "),h.\u0275\u0275elementEnd())}function de(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Email is required "),h.\u0275\u0275elementEnd())}function ge(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Please enter a valid email "),h.\u0275\u0275elementEnd())}function Oe(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Password is required "),h.\u0275\u0275elementEnd())}function Qe(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Password must be at least 6 characters "),h.\u0275\u0275elementEnd())}function rt(be,qe){if(1&be&&(h.\u0275\u0275elementStart(0,"div",48)(1,"div",49)(2,"small"),h.\u0275\u0275text(3,"Password strength:"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"small"),h.\u0275\u0275text(5),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(6,"div",50),h.\u0275\u0275element(7,"div",51),h.\u0275\u0275elementEnd()()),2&be){const bt=h.\u0275\u0275nextContext();h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate(bt.getPasswordStrength()),h.\u0275\u0275advance(2),h.\u0275\u0275styleProp("width",bt.calculatePasswordStrength(),"%"),h.\u0275\u0275property("ngClass",bt.getPasswordStrengthClass())}}function Se(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Please confirm your password "),h.\u0275\u0275elementEnd())}function Ee(be,qe){1&be&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275text(1," Passwords do not match "),h.\u0275\u0275elementEnd())}function Ne(be,qe){1&be&&h.\u0275\u0275element(0,"span",52)}const Ze=function(be){return{"is-invalid":be}};u.RegisterComponent=(()=>{class be{constructor(bt,Nt,_t){this.fb=bt,this.authService=Nt,this.router=_t,this.submitted=!1,this.isLoading=!1,this.errorMessage="",this.showPassword=!1,this.showConfirmPassword=!1,this.registerForm=this.fb.group({username:["",[R.Validators.required,R.Validators.minLength(3)]],email:["",[R.Validators.required,R.Validators.email]],password:["",[R.Validators.required,R.Validators.minLength(6)]],confirmPassword:["",[R.Validators.required]],role:["user",R.Validators.required],termsAccepted:[!1,R.Validators.requiredTrue]},{validator:this.passwordMatchValidator})}ngOnInit(){const bt=document.createElement("link");bt.rel="stylesheet",bt.href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css",document.head.appendChild(bt)}passwordMatchValidator(bt){return bt.get("password")?.value===bt.get("confirmPassword")?.value?null:{mismatch:!0}}get username(){return this.registerForm.get("username")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}get role(){return this.registerForm.get("role")}get termsAccepted(){return this.registerForm.get("termsAccepted")}togglePasswordVisibility(bt){"password"===bt?this.showPassword=!this.showPassword:"confirm"===bt&&(this.showConfirmPassword=!this.showConfirmPassword)}clearError(){this.errorMessage=""}calculatePasswordStrength(){const bt=this.password.value;if(!bt)return 0;let Nt=0;return Nt+=Math.min(40,bt.length/10*40),/[A-Z]/.test(bt)&&(Nt+=20),/[0-9]/.test(bt)&&(Nt+=20),/[^A-Za-z0-9]/.test(bt)&&(Nt+=20),Nt}getPasswordStrength(){const bt=this.calculatePasswordStrength();return bt<40?"Weak":bt<70?"Medium":"Strong"}getPasswordStrengthClass(){const bt=this.calculatePasswordStrength();return bt<40?"bg-danger":bt<70?"bg-warning":"bg-success"}onSubmit(){if(this.submitted=!0,this.registerForm.valid){this.isLoading=!0;const{username:bt,email:Nt,password:_t,role:en,company_code:rn}=this.registerForm.value;this.authService.register(bt,Nt,_t,en,rn).subscribe({next:an=>{this.isLoading=!1,localStorage.setItem("temp_user",JSON.stringify({username:bt,email:Nt,role:en,company_code:rn})),this.router.navigate(["/complete-registration"])},error:an=>{this.isLoading=!1,console.error("Registration error:",an),this.errorMessage=an.error?.error?an.error.error:an.error?.message?an.error.message:"Registration failed. Please try again."}})}else Object.keys(this.registerForm.controls).forEach(bt=>{this.registerForm.get(bt)?.markAsTouched()})}static#e=this.\u0275fac=function(Nt){return new(Nt||be)(h.\u0275\u0275directiveInject(E.FormBuilder),h.\u0275\u0275directiveInject(P.AuthService),h.\u0275\u0275directiveInject(F.Router))};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:be,selectors:[["app-register"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:82,vars:36,consts:[[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-8"],[1,"card","border-0","shadow-lg","rounded-3"],[1,"card-header","bg-primary","text-white","text-center","py-3"],[1,"mb-0","fw-bold"],[1,"card-body","p-4"],[3,"formGroup","ngSubmit"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"form-floating","mb-3"],["type","text","id","username","formControlName","username","placeholder","Username",1,"form-control",3,"ngClass"],["for","username"],[1,"invalid-feedback"],[4,"ngIf"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],["for","email"],["id","password","formControlName","password","placeholder","Password",1,"form-control",3,"type","ngClass"],["for","password"],["type","button",1,"btn","btn-link","position-absolute","end-0","top-50","translate-middle-y","text-decoration-none",2,"z-index","5",3,"click"],[1,"bi",3,"ngClass"],["class","mb-3",4,"ngIf"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"type","ngClass"],["for","confirmPassword"],[1,"form-floating","mb-4"],["id","role","formControlName","role",1,"form-select",3,"ngClass"],["value","user"],["value","admin"],["for","role"],[1,"form-check","mb-4"],["type","checkbox","id","termsAccepted","formControlName","termsAccepted",1,"form-check-input",3,"ngClass"],["for","termsAccepted",1,"form-check-label"],["href","#",1,"text-decoration-none"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm me-2","aria-hidden","true",4,"ngIf"],[1,"text-center","mt-4"],[1,"mb-0"],["routerLink","/login",1,"text-primary","fw-bold","text-decoration-none"],[1,"mt-4","pt-3","border-top"],[1,"text-center","text-muted"],[1,"d-flex","justify-content-center","gap-3"],[1,"btn","btn-outline-secondary"],[1,"bi","bi-google"],[1,"bi","bi-facebook"],[1,"bi","bi-apple"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["type","button",1,"btn-close",3,"click"],[1,"mb-3"],[1,"d-flex","justify-content-between","mb-1"],[1,"progress",2,"height","5px"],[1,"progress-bar",3,"ngClass"],["aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(Nt,_t){1&Nt&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),h.\u0275\u0275text(6,"Create Account"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(7,"div",6)(8,"form",7),h.\u0275\u0275listener("ngSubmit",function(){return _t.onSubmit()}),h.\u0275\u0275template(9,k,4,1,"div",8),h.\u0275\u0275elementStart(10,"div",9),h.\u0275\u0275element(11,"input",10),h.\u0275\u0275elementStart(12,"label",11),h.\u0275\u0275text(13,"Username"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"div",12),h.\u0275\u0275template(15,ne,2,0,"div",13),h.\u0275\u0275template(16,q,2,0,"div",13),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(17,"div",9),h.\u0275\u0275element(18,"input",14),h.\u0275\u0275elementStart(19,"label",15),h.\u0275\u0275text(20,"Email address"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",12),h.\u0275\u0275template(22,de,2,0,"div",13),h.\u0275\u0275template(23,ge,2,0,"div",13),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(24,"div",9),h.\u0275\u0275element(25,"input",16),h.\u0275\u0275elementStart(26,"label",17),h.\u0275\u0275text(27,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"button",18),h.\u0275\u0275listener("click",function(){return _t.togglePasswordVisibility("password")}),h.\u0275\u0275element(29,"i",19),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(30,"div",12),h.\u0275\u0275template(31,Oe,2,0,"div",13),h.\u0275\u0275template(32,Qe,2,0,"div",13),h.\u0275\u0275elementEnd()(),h.\u0275\u0275template(33,rt,8,4,"div",20),h.\u0275\u0275elementStart(34,"div",9),h.\u0275\u0275element(35,"input",21),h.\u0275\u0275elementStart(36,"label",22),h.\u0275\u0275text(37,"Confirm Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(38,"button",18),h.\u0275\u0275listener("click",function(){return _t.togglePasswordVisibility("confirm")}),h.\u0275\u0275element(39,"i",19),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(40,"div",12),h.\u0275\u0275template(41,Se,2,0,"div",13),h.\u0275\u0275template(42,Ee,2,0,"div",13),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(43,"div",23)(44,"select",24)(45,"option",25),h.\u0275\u0275text(46,"User"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(47,"option",26),h.\u0275\u0275text(48,"Admin"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(49,"label",27),h.\u0275\u0275text(50,"Select Role"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(51,"div",28),h.\u0275\u0275element(52,"input",29),h.\u0275\u0275elementStart(53,"label",30),h.\u0275\u0275text(54," I agree to the "),h.\u0275\u0275elementStart(55,"a",31),h.\u0275\u0275text(56,"Terms of Service"),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(57," and "),h.\u0275\u0275elementStart(58,"a",31),h.\u0275\u0275text(59,"Privacy Policy"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(60,"div",12),h.\u0275\u0275text(61," You must agree to the terms and conditions "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(62,"div",32)(63,"button",33),h.\u0275\u0275template(64,Ne,1,0,"span",34),h.\u0275\u0275elementStart(65,"span"),h.\u0275\u0275text(66),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(67,"div",35)(68,"p",36),h.\u0275\u0275text(69," Already have an account? "),h.\u0275\u0275elementStart(70,"a",37),h.\u0275\u0275text(71,"Sign In"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(72,"div",38)(73,"p",39),h.\u0275\u0275text(74,"Or sign up with"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(75,"div",40)(76,"button",41),h.\u0275\u0275element(77,"i",42),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(78,"button",41),h.\u0275\u0275element(79,"i",43),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(80,"button",41),h.\u0275\u0275element(81,"i",44),h.\u0275\u0275elementEnd()()()()()()()()),2&Nt&&(h.\u0275\u0275advance(8),h.\u0275\u0275property("formGroup",_t.registerForm),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",_t.errorMessage),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(24,Ze,(_t.submitted||_t.username.touched)&&_t.username.invalid)),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",null==_t.username.errors?null:_t.username.errors.required),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==_t.username.errors?null:_t.username.errors.minlength),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(26,Ze,(_t.submitted||_t.email.touched)&&_t.email.invalid)),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",null==_t.email.errors?null:_t.email.errors.required),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==_t.email.errors?null:_t.email.errors.email),h.\u0275\u0275advance(2),h.\u0275\u0275property("type",_t.showPassword?"text":"password")("ngClass",h.\u0275\u0275pureFunction1(28,Ze,(_t.submitted||_t.password.touched)&&_t.password.invalid)),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngClass",_t.showPassword?"bi-eye-slash":"bi-eye"),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",null==_t.password.errors?null:_t.password.errors.required),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==_t.password.errors?null:_t.password.errors.minlength),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",_t.password.value),h.\u0275\u0275advance(2),h.\u0275\u0275property("type",_t.showConfirmPassword?"text":"password")("ngClass",h.\u0275\u0275pureFunction1(30,Ze,(_t.submitted||_t.confirmPassword.touched)&&(_t.confirmPassword.invalid||(null==_t.registerForm.errors?null:_t.registerForm.errors.mismatch)))),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngClass",_t.showConfirmPassword?"bi-eye-slash":"bi-eye"),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",null==_t.confirmPassword.errors?null:_t.confirmPassword.errors.required),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",null==_t.registerForm.errors?null:_t.registerForm.errors.mismatch),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(32,Ze,(_t.submitted||_t.role.touched)&&_t.role.invalid)),h.\u0275\u0275advance(8),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(34,Ze,_t.submitted&&_t.termsAccepted.invalid)),h.\u0275\u0275advance(11),h.\u0275\u0275property("disabled",_t.isLoading),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",_t.isLoading),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(_t.isLoading?"Creating Account...":"Sign Up"))},dependencies:[W.CommonModule,B.NgClass,B.NgIf,R.FormsModule,E.\u0275NgNoValidate,E.NgSelectOption,E.\u0275NgSelectMultipleOption,E.DefaultValueAccessor,E.CheckboxControlValueAccessor,E.SelectControlValueAccessor,E.NgControlStatus,E.NgControlStatusGroup,R.ReactiveFormsModule,E.FormGroupDirective,E.FormControlName,y.RouterLink],styles:["[_nghost-%COMP%]{display:block;background-color:#f8f9fa;min-height:100vh;padding:2rem 0}.card[_ngcontent-%COMP%]{transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{height:calc(3.5rem + 2px);line-height:1.25}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:1rem .75rem}.btn-primary[_ngcontent-%COMP%]{background-color:#4361ee;border-color:#4361ee;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3a56d4;border-color:#3a56d4;transform:translateY(-2px);box-shadow:0 4px 8px #4361ee4d}.btn-outline-secondary[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s}.btn-outline-secondary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.invalid-feedback[_ngcontent-%COMP%]{font-size:.75rem}.form-floating[_ngcontent-%COMP%]{position:relative}"]})}return be})()},4225:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(_t,en,rn,an){void 0===an&&(an=rn);var xt=Object.getOwnPropertyDescriptor(en,rn);(!xt||("get"in xt?!en.__esModule:xt.writable||xt.configurable))&&(xt={enumerable:!0,get:function(){return en[rn]}}),Object.defineProperty(_t,an,xt)}:function(_t,en,rn,an){void 0===an&&(an=rn),_t[an]=en[rn]}),K=this&&this.__setModuleDefault||(Object.create?function(_t,en){Object.defineProperty(_t,"default",{enumerable:!0,value:en})}:function(_t,en){_t.default=en}),G=this&&this.__importStar||function(_t){if(_t&&_t.__esModule)return _t;var en={};if(null!=_t)for(var rn in _t)"default"!==rn&&Object.prototype.hasOwnProperty.call(_t,rn)&&M(en,_t,rn);return K(en,_t),en};Object.defineProperty(u,"__esModule",{value:!0}),u.DashboardComponent=void 0;const W=_(6814),R=_(95),y=_(9689),h=_(6825),E=G(_(6689)),P=G(_(5180)),F=G(_(5148)),B=G(_(95)),k=G(_(9689)),ne=G(_(6814));function q(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",54),E.\u0275\u0275text(1," Title is required "),E.\u0275\u0275elementEnd())}function de(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",54),E.\u0275\u0275text(1," Description is required "),E.\u0275\u0275elementEnd())}function ge(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",54),E.\u0275\u0275text(1," Due date is required "),E.\u0275\u0275elementEnd())}function Oe(_t,en){if(1&_t){const rn=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"button",55),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(rn);const xt=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(xt.cancelEdit())}),E.\u0275\u0275element(1,"i",56),E.\u0275\u0275text(2," Cancel "),E.\u0275\u0275elementEnd()}}function Qe(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",57),E.\u0275\u0275element(1,"i",58),E.\u0275\u0275elementStart(2,"span"),E.\u0275\u0275text(3,"Loading tasks..."),E.\u0275\u0275elementEnd()())}function rt(_t,en){if(1&_t){const rn=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",59),E.\u0275\u0275element(1,"i",60),E.\u0275\u0275elementStart(2,"span"),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"button",61),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(rn);const xt=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(xt.retryLoading())}),E.\u0275\u0275element(5,"i",62),E.\u0275\u0275text(6," Retry "),E.\u0275\u0275elementEnd()()}if(2&_t){const rn=E.\u0275\u0275nextContext();E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(rn.errorMessage)}}function Se(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",66)(1,"div",67),E.\u0275\u0275element(2,"i",68),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(3,"h3"),E.\u0275\u0275text(4,"No active tasks"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"p"),E.\u0275\u0275text(6,"Create a new task to get started"),E.\u0275\u0275elementEnd()())}function Ee(_t,en){if(1&_t){const rn=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",69)(1,"div",70)(2,"div",71),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"div",72)(5,"span",73),E.\u0275\u0275text(6),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(7,"span",74),E.\u0275\u0275text(8),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(9,"div",75)(10,"p",76),E.\u0275\u0275text(11),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(12,"div",77)(13,"div",78),E.\u0275\u0275element(14,"i",79),E.\u0275\u0275elementStart(15,"span"),E.\u0275\u0275text(16),E.\u0275\u0275pipe(17,"date"),E.\u0275\u0275elementEnd()()()(),E.\u0275\u0275elementStart(18,"div",80)(19,"button",81),E.\u0275\u0275listener("click",function(){const Zn=E.\u0275\u0275restoreView(rn).$implicit,qi=E.\u0275\u0275nextContext(2);return E.\u0275\u0275resetView(qi.editTask(Zn))}),E.\u0275\u0275element(20,"i",82),E.\u0275\u0275elementStart(21,"span"),E.\u0275\u0275text(22,"Edit"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(23,"button",83),E.\u0275\u0275listener("click",function(){const Zn=E.\u0275\u0275restoreView(rn).$implicit,qi=E.\u0275\u0275nextContext(2);return E.\u0275\u0275resetView(qi.completeTask(Zn._id))}),E.\u0275\u0275element(24,"i",84),E.\u0275\u0275elementStart(25,"span"),E.\u0275\u0275text(26,"Complete"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(27,"button",85),E.\u0275\u0275listener("click",function(){const Zn=E.\u0275\u0275restoreView(rn).$implicit,qi=E.\u0275\u0275nextContext(2);return E.\u0275\u0275resetView(qi.confirmDelete(Zn._id))}),E.\u0275\u0275element(28,"i",86),E.\u0275\u0275elementStart(29,"span"),E.\u0275\u0275text(30,"Delete"),E.\u0275\u0275elementEnd()()()()}if(2&_t){const rn=en.$implicit;E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(rn.title),E.\u0275\u0275advance(2),E.\u0275\u0275property("ngClass",rn.priority),E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate1(" ",rn.priority," "),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngClass",rn.status),E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate1(" ","todo"===rn.status?"To Do":"in_progress"===rn.status?"In Progress":"Done"," "),E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(rn.description),E.\u0275\u0275advance(5),E.\u0275\u0275textInterpolate(E.\u0275\u0275pipeBind2(17,7,rn.due_date,"MMM d, y, h:mm a"))}}function Ne(_t,en){if(1&_t&&(E.\u0275\u0275elementStart(0,"div",63),E.\u0275\u0275template(1,Se,7,0,"div",64),E.\u0275\u0275template(2,Ee,31,10,"div",65),E.\u0275\u0275elementEnd()),2&_t){const rn=E.\u0275\u0275nextContext();E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",0===rn.activeTasks.length),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngForOf",rn.activeTasks)}}function Ze(_t,en){1&_t&&(E.\u0275\u0275elementStart(0,"div",66)(1,"div",67),E.\u0275\u0275element(2,"i",48),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(3,"h3"),E.\u0275\u0275text(4,"No completed tasks"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"p"),E.\u0275\u0275text(6,"Complete tasks to see them here"),E.\u0275\u0275elementEnd()())}function je(_t,en){if(1&_t){const rn=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",88)(1,"div",70)(2,"div",71),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"div",72)(5,"span",89),E.\u0275\u0275element(6,"i",90),E.\u0275\u0275text(7," Completed "),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(8,"div",75)(9,"p",76),E.\u0275\u0275text(10),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(11,"div",77)(12,"div",91),E.\u0275\u0275element(13,"i",92),E.\u0275\u0275elementStart(14,"span"),E.\u0275\u0275text(15),E.\u0275\u0275pipe(16,"date"),E.\u0275\u0275elementEnd()()()(),E.\u0275\u0275elementStart(17,"div",80)(18,"button",85),E.\u0275\u0275listener("click",function(){const Zn=E.\u0275\u0275restoreView(rn).$implicit,qi=E.\u0275\u0275nextContext(2);return E.\u0275\u0275resetView(qi.confirmDelete(Zn._id))}),E.\u0275\u0275element(19,"i",86),E.\u0275\u0275elementStart(20,"span"),E.\u0275\u0275text(21,"Delete"),E.\u0275\u0275elementEnd()()()()}if(2&_t){const rn=en.$implicit;E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(rn.title),E.\u0275\u0275advance(7),E.\u0275\u0275textInterpolate(rn.description),E.\u0275\u0275advance(5),E.\u0275\u0275textInterpolate1("Completed on ",E.\u0275\u0275pipeBind2(16,3,rn.completed_at,"MMM d, y, h:mm a"),"")}}function be(_t,en){if(1&_t&&(E.\u0275\u0275elementStart(0,"div",63),E.\u0275\u0275template(1,Ze,7,0,"div",64),E.\u0275\u0275template(2,je,22,6,"div",87),E.\u0275\u0275elementEnd()),2&_t){const rn=E.\u0275\u0275nextContext();E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",0===rn.completedTasks.length),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngForOf",rn.completedTasks)}}function qe(_t,en){if(1&_t){const rn=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",93)(1,"div",94)(2,"div",95)(3,"h3"),E.\u0275\u0275text(4,"Confirm Deletion"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"button",96),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(rn);const xt=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(xt.showDeleteModal=!1)}),E.\u0275\u0275element(6,"i",56),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(7,"div",97)(8,"p"),E.\u0275\u0275text(9,"Are you sure you want to delete this task?"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(10,"p",98),E.\u0275\u0275text(11,"This action cannot be undone."),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(12,"div",99)(13,"button",61),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(rn);const xt=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(xt.showDeleteModal=!1)}),E.\u0275\u0275element(14,"i",56),E.\u0275\u0275text(15," Cancel "),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(16,"button",100),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(rn);const xt=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(xt.deleteTask())}),E.\u0275\u0275element(17,"i",86),E.\u0275\u0275text(18," Delete "),E.\u0275\u0275elementEnd()()()()}}function bt(_t,en){if(1&_t&&(E.\u0275\u0275elementStart(0,"div",101),E.\u0275\u0275element(1,"i"),E.\u0275\u0275elementStart(2,"span"),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd()()),2&_t){const rn=E.\u0275\u0275nextContext();E.\u0275\u0275property("@fadeInOut",void 0),E.\u0275\u0275advance(1),E.\u0275\u0275classMap(rn.toastIcon),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate(rn.toastMessage)}}u.DashboardComponent=(()=>{class _t{constructor(rn,an,xt,Zn){this.taskService=rn,this.authService=an,this.fb=xt,this.router=Zn,this.activeTasks=[],this.completedTasks=[],this.editingTask=null,this.activeTab="active",this.showDeleteModal=!1,this.taskToDeleteId=null,this.isLoading=!1,this.errorMessage="",this.toastMessage="",this.toastIcon="",this.taskForm=this.fb.group({title:["",R.Validators.required],description:["",R.Validators.required],due_date:["",R.Validators.required],priority:["medium",R.Validators.required],status:["todo",R.Validators.required]})}ngOnInit(){this.loadTasks()}loadTasks(){this.isLoading=!0,this.errorMessage="",this.taskService.getTasks().subscribe({next:rn=>{this.activeTasks=rn,this.isLoading=!1},error:rn=>{console.error("Error loading tasks:",rn),this.errorMessage="Failed to load tasks. Please try again.",this.isLoading=!1}}),this.taskService.getCompletedTasks().subscribe({next:rn=>{this.completedTasks=rn},error:rn=>{console.error("Error loading completed tasks:",rn),this.errorMessage||(this.errorMessage="Failed to load completed tasks. Please try again.")}})}retryLoading(){this.loadTasks()}onSubmit(){if(this.taskForm.valid){this.isLoading=!0;const rn=this.taskForm.value,an={...rn,due_date:new Date(rn.due_date).toISOString()};this.editingTask?this.taskService.updateTask(this.editingTask._id,an).subscribe({next:()=>{this.showToast("Task updated successfully","success"),this.taskForm.reset({priority:"medium",status:"todo"}),this.editingTask=null,this.loadTasks()},error:xt=>{console.error("Error updating task:",xt),this.showToast("Failed to update task","error"),this.isLoading=!1}}):this.taskService.createTask(an).subscribe({next:()=>{this.showToast("Task created successfully","success"),this.taskForm.reset({priority:"medium",status:"todo"}),this.loadTasks()},error:xt=>{console.error("Error creating task:",xt),this.showToast("Failed to create task","error"),this.isLoading=!1}})}}editTask(rn){this.editingTask=rn;const an=rn.due_date?new Date(rn.due_date).toISOString().slice(0,16):"";this.taskForm.patchValue({title:rn.title,description:rn.description,due_date:an,priority:rn.priority,status:rn.status})}cancelEdit(){this.editingTask=null,this.taskForm.reset({priority:"medium",status:"todo"})}completeTask(rn){this.isLoading=!0,this.taskService.updateTask(rn,{status:"done"}).subscribe({next:()=>{this.showToast("Task completed successfully","success"),this.loadTasks()},error:an=>{console.error("Error completing task:",an),this.showToast("Failed to complete task","error"),this.isLoading=!1}})}confirmDelete(rn){this.taskToDeleteId=rn,this.showDeleteModal=!0}deleteTask(){this.taskToDeleteId&&(this.isLoading=!0,this.taskService.deleteTask(this.taskToDeleteId).subscribe({next:()=>{this.showToast("Task deleted successfully","success"),this.showDeleteModal=!1,this.taskToDeleteId=null,this.loadTasks()},error:rn=>{console.error("Error deleting task:",rn),this.showToast("Failed to delete task","error"),this.isLoading=!1,this.showDeleteModal=!1,this.taskToDeleteId=null}}))}showToast(rn,an){this.toastMessage=rn,this.toastIcon="success"===an?"fas fa-check-circle":"fas fa-exclamation-circle",setTimeout(()=>{this.toastMessage=""},3e3)}logout(){this.authService.logout()}setActiveTab(rn){this.activeTab=rn}static#e=this.\u0275fac=function(an){return new(an||_t)(E.\u0275\u0275directiveInject(P.TaskService),E.\u0275\u0275directiveInject(F.AuthService),E.\u0275\u0275directiveInject(B.FormBuilder),E.\u0275\u0275directiveInject(k.Router))};static#t=this.\u0275cmp=E.\u0275\u0275defineComponent({type:_t,selectors:[["app-dashboard"]],standalone:!0,features:[E.\u0275\u0275StandaloneFeature],decls:86,vars:22,consts:[[1,"dashboard-container"],[1,"app-header"],[1,"header-content"],[1,"logo-area"],[1,"fas","fa-tasks","logo-icon"],[1,"nav-links"],["routerLink","/analytics",1,"nav-link"],[1,"fas","fa-chart-line"],[1,"link-text"],[1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"dashboard-layout"],[1,"task-form-container"],[1,"card","task-form"],[1,"card-header"],[1,"form-icon"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","required","","placeholder","Enter task title"],["class","error-message",4,"ngIf"],["for","description"],["id","description","formControlName","description","required","","placeholder","Enter task description","rows","4"],["for","due_date"],[1,"input-with-icon"],[1,"fas","fa-calendar-alt","icon-left"],["type","datetime-local","id","due_date","formControlName","due_date","required",""],[1,"form-row"],[1,"form-group","half-width"],["for","priority"],[1,"select-wrapper"],["id","priority","formControlName","priority","required",""],["value","low"],["value","medium"],["value","high"],[1,"fas","fa-chevron-down"],["for","status"],["id","status","formControlName","status","required",""],["value","todo"],["value","in_progress"],["value","done"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],[1,"task-lists-container"],[1,"task-status-tabs"],[3,"click"],[1,"fas","fa-clipboard-list"],[1,"fas","fa-clipboard-check"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","task-list",4,"ngIf"],["class","delete-modal",4,"ngIf"],["class","toast",4,"ngIf"],[1,"error-message"],["type","button",1,"btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"error-state"],[1,"fas","fa-exclamation-circle"],[1,"btn-secondary",3,"click"],[1,"fas","fa-redo"],[1,"task-list"],["class","empty-state",4,"ngIf"],["class","card task-card",4,"ngFor","ngForOf"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-clipboard"],[1,"card","task-card"],[1,"task-header"],[1,"task-title"],[1,"task-badges"],[1,"priority-badge",3,"ngClass"],[1,"status-badge",3,"ngClass"],[1,"task-body"],[1,"task-description"],[1,"task-metadata"],[1,"task-due-date"],[1,"fas","fa-calendar-alt"],[1,"task-actions"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","complete",3,"click"],[1,"fas","fa-check"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"],["class","card task-card completed",4,"ngFor","ngForOf"],[1,"card","task-card","completed"],[1,"completed-badge"],[1,"fas","fa-check-circle"],[1,"task-completed-date"],[1,"fas","fa-calendar-check"],[1,"delete-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"delete-warning"],[1,"modal-footer"],[1,"btn-danger",3,"click"],[1,"toast"]],template:function(an,xt){if(1&an&&(E.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),E.\u0275\u0275element(4,"i",4),E.\u0275\u0275elementStart(5,"h1"),E.\u0275\u0275text(6,"TaskMate"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(7,"div",5)(8,"a",6),E.\u0275\u0275element(9,"i",7),E.\u0275\u0275elementStart(10,"span",8),E.\u0275\u0275text(11,"Analytics"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(12,"button",9),E.\u0275\u0275listener("click",function(){return xt.logout()}),E.\u0275\u0275element(13,"i",10),E.\u0275\u0275elementStart(14,"span",8),E.\u0275\u0275text(15,"Logout"),E.\u0275\u0275elementEnd()()()()(),E.\u0275\u0275elementStart(16,"div",11)(17,"aside",12)(18,"div",13)(19,"div",14)(20,"h2"),E.\u0275\u0275text(21),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(22,"div",15),E.\u0275\u0275element(23,"i"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(24,"form",16),E.\u0275\u0275listener("ngSubmit",function(){return xt.onSubmit()}),E.\u0275\u0275elementStart(25,"div",17)(26,"label",18),E.\u0275\u0275text(27,"Title"),E.\u0275\u0275elementEnd(),E.\u0275\u0275element(28,"input",19),E.\u0275\u0275template(29,q,2,0,"div",20),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(30,"div",17)(31,"label",21),E.\u0275\u0275text(32,"Description"),E.\u0275\u0275elementEnd(),E.\u0275\u0275element(33,"textarea",22),E.\u0275\u0275template(34,de,2,0,"div",20),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(35,"div",17)(36,"label",23),E.\u0275\u0275text(37,"Due Date"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(38,"div",24),E.\u0275\u0275element(39,"i",25)(40,"input",26),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(41,ge,2,0,"div",20),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(42,"div",27)(43,"div",28)(44,"label",29),E.\u0275\u0275text(45,"Priority"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(46,"div",30)(47,"select",31)(48,"option",32),E.\u0275\u0275text(49,"Low"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(50,"option",33),E.\u0275\u0275text(51,"Medium"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(52,"option",34),E.\u0275\u0275text(53,"High"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275element(54,"i",35),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(55,"div",28)(56,"label",36),E.\u0275\u0275text(57,"Status"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(58,"div",30)(59,"select",37)(60,"option",38),E.\u0275\u0275text(61,"To Do"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(62,"option",39),E.\u0275\u0275text(63,"In Progress"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(64,"option",40),E.\u0275\u0275text(65,"Done"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275element(66,"i",35),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(67,"div",41)(68,"button",42),E.\u0275\u0275element(69,"i"),E.\u0275\u0275text(70),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(71,Oe,3,0,"button",43),E.\u0275\u0275elementEnd()()()(),E.\u0275\u0275elementStart(72,"main",44)(73,"div",45)(74,"button",46),E.\u0275\u0275listener("click",function(){return xt.setActiveTab("active")}),E.\u0275\u0275element(75,"i",47),E.\u0275\u0275text(76," Active Tasks "),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(77,"button",46),E.\u0275\u0275listener("click",function(){return xt.setActiveTab("completed")}),E.\u0275\u0275element(78,"i",48),E.\u0275\u0275text(79," Completed Tasks "),E.\u0275\u0275elementEnd()(),E.\u0275\u0275template(80,Qe,4,0,"div",49),E.\u0275\u0275template(81,rt,7,1,"div",50),E.\u0275\u0275template(82,Ne,3,2,"div",51),E.\u0275\u0275template(83,be,3,2,"div",51),E.\u0275\u0275elementEnd()(),E.\u0275\u0275template(84,qe,19,0,"div",52),E.\u0275\u0275template(85,bt,4,4,"div",53),E.\u0275\u0275elementEnd()),2&an){let Zn,qi,Lt;E.\u0275\u0275advance(21),E.\u0275\u0275textInterpolate(xt.editingTask?"Edit Task":"Create New Task"),E.\u0275\u0275advance(2),E.\u0275\u0275classMap(xt.editingTask?"fas fa-edit":"fas fa-plus-circle"),E.\u0275\u0275advance(1),E.\u0275\u0275property("formGroup",xt.taskForm),E.\u0275\u0275advance(5),E.\u0275\u0275property("ngIf",(null==(Zn=xt.taskForm.get("title"))?null:Zn.invalid)&&(null==(Zn=xt.taskForm.get("title"))?null:Zn.touched)),E.\u0275\u0275advance(5),E.\u0275\u0275property("ngIf",(null==(qi=xt.taskForm.get("description"))?null:qi.invalid)&&(null==(qi=xt.taskForm.get("description"))?null:qi.touched)),E.\u0275\u0275advance(7),E.\u0275\u0275property("ngIf",(null==(Lt=xt.taskForm.get("due_date"))?null:Lt.invalid)&&(null==(Lt=xt.taskForm.get("due_date"))?null:Lt.touched)),E.\u0275\u0275advance(27),E.\u0275\u0275property("disabled",!xt.taskForm.valid||xt.isLoading),E.\u0275\u0275advance(1),E.\u0275\u0275classMap(xt.editingTask?"fas fa-save":"fas fa-plus"),E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate1(" ",xt.editingTask?"Update Task":"Create Task"," "),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",xt.editingTask),E.\u0275\u0275advance(3),E.\u0275\u0275classMap("active"===xt.activeTab?"tab-btn active":"tab-btn"),E.\u0275\u0275advance(3),E.\u0275\u0275classMap("completed"===xt.activeTab?"tab-btn active":"tab-btn"),E.\u0275\u0275advance(3),E.\u0275\u0275property("ngIf",xt.isLoading),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",xt.errorMessage),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",!xt.isLoading&&!xt.errorMessage&&"active"===xt.activeTab),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",!xt.isLoading&&!xt.errorMessage&&"completed"===xt.activeTab),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",xt.showDeleteModal),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",xt.toastMessage)}},dependencies:[W.CommonModule,ne.NgClass,ne.NgForOf,ne.NgIf,ne.DatePipe,R.FormsModule,B.\u0275NgNoValidate,B.NgSelectOption,B.\u0275NgSelectMultipleOption,B.DefaultValueAccessor,B.SelectControlValueAccessor,B.NgControlStatus,B.NgControlStatusGroup,B.RequiredValidator,R.ReactiveFormsModule,B.FormGroupDirective,B.FormControlName,y.RouterLink],styles:["[_nghost-%COMP%]{display:block;--primary-color: #4f46e5;--primary-hover: #4338ca;--secondary-color: #6b7280;--danger-color: #ef4444;--success-color: #10b981;--warning-color: #f59e0b;--info-color: #3b82f6;--light-gray: #f3f4f6;--medium-gray: #e5e7eb;--dark-gray: #6b7280;--text-color: #111827;--text-light: #4b5563;--card-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--card-shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05)}.dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f9fafb;color:var(--text-color);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-header[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 1px 2px #0000000d;position:sticky;top:0;z-index:10}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;max-width:1400px;margin:0 auto;height:70px}.logo-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.logo-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.75rem}.logo-area[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-color)}.nav-links[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.nav-link[_ngcontent-%COMP%], .logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.375rem;text-decoration:none;font-weight:500;transition:all .2s ease}.nav-link[_ngcontent-%COMP%]{color:var(--text-light);background-color:transparent;border:1px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{color:var(--primary-color);background-color:var(--light-gray)}.logout-btn[_ngcontent-%COMP%]{color:#fff;background-color:var(--danger-color);border:none;cursor:pointer}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#dc2626}.dashboard-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:2rem;max-width:1400px;margin:0 auto;padding:2rem}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:var(--card-shadow);overflow:hidden;transition:box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:var(--card-shadow-hover)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid var(--medium-gray)}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-color)}.form-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--primary-color)}.task-form[_ngcontent-%COMP%]{position:sticky;top:90px}.task-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.half-width[_ngcontent-%COMP%]{flex:1}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-light)}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.625rem .75rem;border:1px solid var(--medium-gray);border-radius:.375rem;font-size:.875rem;color:var(--text-color);transition:border-color .2s ease,box-shadow .2s ease}.input-with-icon[_ngcontent-%COMP%]{position:relative}.icon-left[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--dark-gray)}.input-with-icon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:2.5rem}.select-wrapper[_ngcontent-%COMP%]{position:relative}.select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none}.select-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:var(--dark-gray);pointer-events:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4f46e51a}.error-message[_ngcontent-%COMP%]{color:var(--danger-color);font-size:.75rem;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding-top:.75rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;border-radius:.375rem;font-weight:500;font-size:.875rem;cursor:pointer;transition:background-color .2s ease}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#4b5563}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626}.task-status-tabs[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.tab-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;background-color:#fff;border:1px solid var(--medium-gray);border-radius:.375rem;font-weight:500;color:var(--text-light);cursor:pointer;transition:all .2s ease}.tab-btn[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);color:var(--primary-color)}.tab-btn.active[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.task-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-card.completed[_ngcontent-%COMP%]{opacity:.8}.task-header[_ngcontent-%COMP%]{padding:1.25rem;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:.75rem;border-bottom:1px solid var(--medium-gray)}.task-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:var(--text-color)}.task-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem}.priority-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%], .completed-badge[_ngcontent-%COMP%]{padding:.25rem .625rem;border-radius:9999px;font-size:.75rem;font-weight:500;text-transform:capitalize}.priority-badge.low[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--success-color)}.priority-badge.medium[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:var(--warning-color)}.priority-badge.high[_ngcontent-%COMP%]{background-color:#ef44441a;color:var(--danger-color)}.status-badge.todo[_ngcontent-%COMP%]{background-color:#6b72801a;color:var(--secondary-color)}.status-badge.in_progress[_ngcontent-%COMP%]{background-color:#3b82f61a;color:var(--info-color)}.status-badge.done[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--success-color)}.completed-badge[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--success-color);display:flex;align-items:center;gap:.25rem}.task-body[_ngcontent-%COMP%]{padding:1.25rem;flex-grow:1}.task-description[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-light);line-height:1.5}.task-metadata[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;color:var(--dark-gray);font-size:.875rem}.task-due-date[_ngcontent-%COMP%], .task-completed-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.task-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.75rem 1.25rem;border-top:1px solid var(--medium-gray)}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem .75rem;border:none;border-radius:.375rem;font-size:.75rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.action-btn.edit[_ngcontent-%COMP%]{color:var(--warning-color);background-color:#f59e0b1a}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#f59e0b33}.action-btn.complete[_ngcontent-%COMP%]{color:var(--success-color);background-color:#10b9811a}.action-btn.complete[_ngcontent-%COMP%]:hover{background-color:#10b98133}.action-btn.delete[_ngcontent-%COMP%]{color:var(--danger-color);background-color:#ef44441a}.action-btn.delete[_ngcontent-%COMP%]:hover{background-color:#ef444433}.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;background-color:#fff;border-radius:.5rem;box-shadow:var(--card-shadow)}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--medium-gray);margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;color:var(--text-color)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-light)}.delete-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;width:90%;max-width:500px;box-shadow:0 25px 50px -12px #00000040}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid var(--medium-gray)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.25rem;color:var(--dark-gray);cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.delete-warning[_ngcontent-%COMP%]{color:var(--danger-color);font-weight:500}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1.25rem;border-top:1px solid var(--medium-gray)}@media (max-width: 992px){.dashboard-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.task-form[_ngcontent-%COMP%]{position:static;margin-bottom:2rem}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.dashboard-layout[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.25rem}.task-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (max-width: 576px){.link-text[_ngcontent-%COMP%]{display:none}.nav-link[_ngcontent-%COMP%], .logout-btn[_ngcontent-%COMP%]{padding:.5rem;font-size:1.125rem}.logo-area[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.task-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{flex:1;justify-content:center}}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background-color:#fff;border-radius:.5rem;box-shadow:var(--card-shadow);margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--danger-color)}.toast[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background-color:#fff;border-radius:.5rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;z-index:1000;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--success-color)}.toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--danger-color)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}10%{opacity:1}90%{opacity:1}to{opacity:0}}"],data:{animation:[(0,h.trigger)("fadeInOut",[(0,h.transition)(":enter",[(0,h.style)({opacity:0}),(0,h.animate)("300ms",(0,h.style)({opacity:1}))]),(0,h.transition)(":leave",[(0,h.animate)("300ms",(0,h.style)({opacity:0}))])])]}})}return _t})()},2066:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(q,de,ge,Oe){void 0===Oe&&(Oe=ge);var Qe=Object.getOwnPropertyDescriptor(de,ge);(!Qe||("get"in Qe?!de.__esModule:Qe.writable||Qe.configurable))&&(Qe={enumerable:!0,get:function(){return de[ge]}}),Object.defineProperty(q,Oe,Qe)}:function(q,de,ge,Oe){void 0===Oe&&(Oe=ge),q[Oe]=de[ge]}),K=this&&this.__setModuleDefault||(Object.create?function(q,de){Object.defineProperty(q,"default",{enumerable:!0,value:de})}:function(q,de){q.default=de}),G=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var de={};if(null!=q)for(var ge in q)"default"!==ge&&Object.prototype.hasOwnProperty.call(q,ge)&&M(de,q,ge);return K(de,q),de};Object.defineProperty(u,"__esModule",{value:!0}),u.TaskDetailsComponent=void 0;const W=_(6814),R=_(95),y=G(_(6689)),h=G(_(9689)),E=G(_(5180)),P=G(_(6814));function F(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"button",5),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(Qe.updateTaskStatus("in_progress"))}),y.\u0275\u0275text(1," Start Task "),y.\u0275\u0275elementEnd()}}function B(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"button",5),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(Qe.updateTaskStatus("done"))}),y.\u0275\u0275text(1," Complete Task "),y.\u0275\u0275elementEnd()}}function k(q,de){if(1&q){const ge=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div")(1,"div",2)(2,"h3"),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"p"),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"p"),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"p"),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"p"),y.\u0275\u0275text(11),y.\u0275\u0275pipe(12,"date"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(13,"div",3),y.\u0275\u0275template(14,F,2,0,"button",4),y.\u0275\u0275template(15,B,2,0,"button",4),y.\u0275\u0275elementStart(16,"button",5),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(ge);const Qe=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(Qe.goBack())}),y.\u0275\u0275text(17,"Back to Dashboard"),y.\u0275\u0275elementEnd()()()}if(2&q){const ge=y.\u0275\u0275nextContext();y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(ge.task.title),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(ge.task.description),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Status: ",ge.task.status,""),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Priority: ",ge.task.priority,""),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Due Date: ",y.\u0275\u0275pipeBind1(12,7,ge.task.due_date),""),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf","todo"===ge.task.status),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf","in_progress"===ge.task.status)}}u.TaskDetailsComponent=(()=>{class q{constructor(ge,Oe,Qe){this.route=ge,this.router=Oe,this.taskService=Qe,this.task=null}ngOnInit(){const ge=this.route.snapshot.paramMap.get("id");ge&&this.taskService.getTask(ge).subscribe({next:Oe=>{this.task=Oe},error:Oe=>{console.error("Error fetching task:",Oe)}})}updateTaskStatus(ge){this.task&&this.taskService.updateTask(this.task._id,{status:ge}).subscribe({next:()=>{this.task.status=ge},error:Oe=>{console.error("Error updating task:",Oe)}})}goBack(){this.router.navigate(["/dashboard"])}static#e=this.\u0275fac=function(Oe){return new(Oe||q)(y.\u0275\u0275directiveInject(h.ActivatedRoute),y.\u0275\u0275directiveInject(h.Router),y.\u0275\u0275directiveInject(E.TaskService))};static#t=this.\u0275cmp=y.\u0275\u0275defineComponent({type:q,selectors:[["app-task-details"]],standalone:!0,features:[y.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"task-details"],[4,"ngIf"],[1,"task-info"],[1,"task-actions"],[3,"click",4,"ngIf"],[3,"click"]],template:function(Oe,Qe){1&Oe&&(y.\u0275\u0275elementStart(0,"div",0)(1,"h2"),y.\u0275\u0275text(2,"Task Details"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(3,k,18,9,"div",1),y.\u0275\u0275elementEnd()),2&Oe&&(y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",Qe.task))},dependencies:[W.CommonModule,P.NgIf,P.DatePipe,R.FormsModule],styles:[".task-details[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.task-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:20px;border-radius:8px;margin-bottom:20px}.task-actions[_ngcontent-%COMP%]{display:flex;gap:10px}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;background:#007bff;color:#fff}button[_ngcontent-%COMP%]:hover{background:#0056b3}"]})}return q})()},286:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(P,F,B,k){void 0===k&&(k=B);var ne=Object.getOwnPropertyDescriptor(F,B);(!ne||("get"in ne?!F.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return F[B]}}),Object.defineProperty(P,k,ne)}:function(P,F,B,k){void 0===k&&(k=B),P[k]=F[B]}),K=this&&this.__setModuleDefault||(Object.create?function(P,F){Object.defineProperty(P,"default",{enumerable:!0,value:F})}:function(P,F){P.default=F}),G=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var F={};if(null!=P)for(var B in P)"default"!==B&&Object.prototype.hasOwnProperty.call(P,B)&&M(F,P,B);return K(F,P),F};Object.defineProperty(u,"__esModule",{value:!0}),u.LandingPageComponent=void 0;const W=G(_(6636)),R=_(9777),y=_(4739),h=G(_(6689));u.LandingPageComponent=(()=>{class P{constructor(){}ngOnInit(){R.gsap.registerPlugin(y.ScrollTrigger)}ngAfterViewInit(){this.initParticles(),this.initAnimations(),this.setupEventListeners()}setupEventListeners(){const B=document.querySelector(".hamburger"),k=document.querySelector(".mobile-nav");B?.addEventListener("click",()=>{B.classList.toggle("active"),k?.classList.toggle("active")}),window.addEventListener("scroll",this.reveal),window.addEventListener("scroll",()=>{const ne=document.querySelector("header");window.scrollY>10?ne?.classList.add("scrolled"):ne?.classList.remove("scrolled")})}reveal(){const B=document.querySelectorAll(".reveal-up, .reveal-left, .reveal-right");for(let k=0;k<B.length;k++){const ne=window.innerHeight;B[k].getBoundingClientRect().top<ne-150&&B[k].classList.add("reveal-visible")}}initParticles(){const B=new W.Scene,k=new W.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),ne=new W.WebGLRenderer({alpha:!0,antialias:!0});ne.setSize(window.innerWidth,window.innerHeight);const q=document.getElementById("particles-js");q&&q.appendChild(ne.domElement);const de=new W.BufferGeometry,Oe=new Float32Array(3e3);for(let Ee=0;Ee<3e3;Ee++)Oe[Ee]=5*(Math.random()-.5);de.setAttribute("position",new W.BufferAttribute(Oe,3));const Qe=new W.PointsMaterial({size:.005,color:16777215,transparent:!0,opacity:.7}),rt=new W.Points(de,Qe);B.add(rt),k.position.z=2,function Se(){requestAnimationFrame(Se),rt.rotation.y+=5e-4,ne.render(B,k)}(),window.addEventListener("resize",()=>{k.aspect=window.innerWidth/window.innerHeight,k.updateProjectionMatrix(),ne.setSize(window.innerWidth,window.innerHeight)})}initAnimations(){R.gsap.from(".hero-content",{duration:1.2,y:50,opacity:0,ease:"power3.out"}),R.gsap.from(".hero-visual",{duration:1.5,x:100,opacity:0,ease:"power3.out",delay:.3})}static#e=this.\u0275fac=function(k){return new(k||P)};static#t=this.\u0275cmp=h.\u0275\u0275defineComponent({type:P,selectors:[["app-landing-page"]],decls:466,vars:0,consts:[["href","#",1,"logo"],[1,"fas","fa-tasks"],[1,"nav-links"],["href","#features"],["href","#workflow"],["href","#benefits"],["href","#roles"],["href","#testimonials"],[1,"nav-buttons"],["href","/login",1,"btn","btn-secondary"],["href","/register",1,"btn","btn-primary"],[1,"hamburger"],[1,"mobile-nav"],[1,"mobile-nav-links"],[1,"mobile-nav-buttons"],["href","#",1,"btn","btn-secondary"],["href","#",1,"btn","btn-primary"],[1,"hero-section"],[1,"hero-bg"],["id","particles-js",1,"scene-container"],[1,"container"],[1,"hero-content"],[1,"hero-cta"],[1,"hero-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"hero-visual"],["src","/api/placeholder/650/400","alt","TaskMate Dashboard",1,"dashboard-mockup"],[1,"floating-elements"],[1,"floating-element","task"],[1,"fas","fa-check-circle"],[1,"element-text"],[1,"floating-element","notification"],[1,"fas","fa-bell"],[1,"scroll-indicator"],[1,"fas","fa-chevron-down"],["id","features",1,"features-section"],[1,"section-header"],[1,"features-grid"],[1,"feature-card","reveal-up"],[1,"feature-icon"],[1,"fas","fa-list-check"],[1,"fas","fa-chart-line"],[1,"fas","fa-users"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-mobile-alt"],["id","workflow",1,"workflow-section"],[1,"workflow-content"],[1,"workflow-steps"],[1,"workflow-step","reveal-left"],[1,"step-number"],["id","benefits",1,"benefits-section"],[1,"benefits-content"],[1,"benefits-text","reveal-left"],[1,"benefits-list"],[1,"benefit-item"],[1,"benefit-icon"],[1,"fas","fa-bolt"],[1,"benefit-info"],[1,"fas","fa-clock"],[1,"fas","fa-comments"],[1,"fas","fa-shield-alt"],[1,"benefits-visual","reveal-right"],["src","../../assets/admin.png","alt","TaskMate Dashboard 1",1,"benefits-mockup","mockup-1"],["src","../../assets/user.png","alt","TaskMate Dashboard 2",1,"benefits-mockup","mockup-2"],["id","roles",1,"roles-section"],[1,"roles-grid"],[1,"role-card","reveal-up"],[1,"role-header"],[1,"role-icon"],[1,"fas","fa-user-tie"],[1,"role-description"],[1,"role-features"],[1,"role-cta"],[1,"fas","fa-user-gear"],[1,"fas","fa-user-check"],["id","testimonials",1,"testimonials-section"],[1,"testimonials-wrapper"],[1,"testimonial-slider"],[1,"testimonial-card","reveal-up"],[1,"testimonial-text"],[1,"testimonial-author"],[1,"author-avatar"],[1,"fas","fa-user"],[1,"author-info"],[1,"stars"],[1,"fas","fa-star"],[1,"fas","fa-star-half-alt"],[1,"cta-section"],[1,"cta-content"],[1,"cta-buttons"],[1,"footer-content"],[1,"footer-branding"],[1,"footer-logo"],[1,"footer-text"],[1,"social-links"],["href","#",1,"social-link"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"],[1,"fab","fa-instagram"],[1,"footer-title"],[1,"footer-links"],["href","#"],[1,"contact-info"],[1,"contact-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"newsletter-form"],["type","email","placeholder","Your email",1,"newsletter-input"],["type","submit",1,"newsletter-button"],[1,"fas","fa-paper-plane"],[1,"copyright"]],template:function(k,ne){1&k&&(h.\u0275\u0275elementStart(0,"body")(1,"header")(2,"nav")(3,"a",0),h.\u0275\u0275element(4,"i",1),h.\u0275\u0275text(5,"TaskMate"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"div",2)(7,"a",3),h.\u0275\u0275text(8,"Features"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"a",4),h.\u0275\u0275text(10,"How it Works"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"a",5),h.\u0275\u0275text(12,"Benefits"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"a",6),h.\u0275\u0275text(14,"For Teams"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"a",7),h.\u0275\u0275text(16,"Testimonials"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(17,"div",8)(18,"a",9),h.\u0275\u0275text(19,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"a",10),h.\u0275\u0275text(21,"Sign Up Free"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(22,"div",11),h.\u0275\u0275element(23,"div")(24,"div")(25,"div"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(26,"div",12)(27,"div",13)(28,"a",3),h.\u0275\u0275text(29,"Features"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(30,"a",4),h.\u0275\u0275text(31,"How it Works"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(32,"a",5),h.\u0275\u0275text(33,"Benefits"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"a",6),h.\u0275\u0275text(35,"For Teams"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(36,"a",7),h.\u0275\u0275text(37,"Testimonials"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(38,"div",14)(39,"a",15),h.\u0275\u0275text(40,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(41,"a",16),h.\u0275\u0275text(42,"Sign Up Free"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(43,"section",17),h.\u0275\u0275element(44,"div",18)(45,"div",19),h.\u0275\u0275elementStart(46,"div",20)(47,"div",21)(48,"h1"),h.\u0275\u0275text(49,"Manage Tasks Like Never Before"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(50,"p"),h.\u0275\u0275text(51,"TaskMate helps teams organize, track, and manage their work with powerful yet simple tools."),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(52,"div",22)(53,"a",10),h.\u0275\u0275text(54,"Get Started Free"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"a",15),h.\u0275\u0275text(56,"How It Works"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(57,"div",23)(58,"div",24)(59,"span",25),h.\u0275\u0275text(60,"10K+"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(61,"span",26),h.\u0275\u0275text(62,"Active Users"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(63,"div",24)(64,"span",25),h.\u0275\u0275text(65,"98%"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(66,"span",26),h.\u0275\u0275text(67,"Satisfaction Rate"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(68,"div",24)(69,"span",25),h.\u0275\u0275text(70,"24/7"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(71,"span",26),h.\u0275\u0275text(72,"Support"),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(73,"div",27),h.\u0275\u0275element(74,"img",28),h.\u0275\u0275elementStart(75,"div",29)(76,"div",30),h.\u0275\u0275element(77,"i",31),h.\u0275\u0275elementStart(78,"div",32)(79,"h4"),h.\u0275\u0275text(80,"Task Completed"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(81,"p"),h.\u0275\u0275text(82,"Website Redesign"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(83,"div",33),h.\u0275\u0275element(84,"i",34),h.\u0275\u0275elementStart(85,"div",32)(86,"h4"),h.\u0275\u0275text(87,"New Comment"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(88,"p"),h.\u0275\u0275text(89,"From Alex Smith"),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(90,"div",35),h.\u0275\u0275element(91,"i",36),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(92,"section",37)(93,"div",38)(94,"h2"),h.\u0275\u0275text(95,"Powerful Features"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(96,"p"),h.\u0275\u0275text(97,"Everything you need to manage projects and tasks effectively"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(98,"div",39)(99,"div",40)(100,"div",41),h.\u0275\u0275element(101,"i",42),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(102,"h3"),h.\u0275\u0275text(103,"Task Management"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(104,"p"),h.\u0275\u0275text(105,"Create, organize, and track tasks with ease. Set priorities, deadlines, and assignees."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(106,"div",40)(107,"div",41),h.\u0275\u0275element(108,"i",43),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(109,"h3"),h.\u0275\u0275text(110,"Progress Tracking"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(111,"p"),h.\u0275\u0275text(112,"Visual dashboards show project progress and individual performance metrics at a glance."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(113,"div",40)(114,"div",41),h.\u0275\u0275element(115,"i",44),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(116,"h3"),h.\u0275\u0275text(117,"Team Collaboration"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(118,"p"),h.\u0275\u0275text(119,"Comment, share files, and coordinate with your team in real-time to get work done faster."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(120,"div",40)(121,"div",41),h.\u0275\u0275element(122,"i",45),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(123,"h3"),h.\u0275\u0275text(124,"Smart Scheduling"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(125,"p"),h.\u0275\u0275text(126,"Advanced calendar integration with deadline reminders and workload balancing."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(127,"div",40)(128,"div",41),h.\u0275\u0275element(129,"i",34),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(130,"h3"),h.\u0275\u0275text(131,"Notifications"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(132,"p"),h.\u0275\u0275text(133,"Stay updated with customizable alerts for task changes, comments, and deadlines."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(134,"div",40)(135,"div",41),h.\u0275\u0275element(136,"i",46),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(137,"h3"),h.\u0275\u0275text(138,"Mobile Access"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(139,"p"),h.\u0275\u0275text(140,"Access TaskMate from anywhere with our powerful mobile apps for iOS and Android."),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(141,"section",47)(142,"div",48)(143,"div",38)(144,"h2"),h.\u0275\u0275text(145,"How It Works"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(146,"p"),h.\u0275\u0275text(147,"Getting started with TaskMate is simple and fast"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(148,"div",49)(149,"div",50)(150,"div",51),h.\u0275\u0275text(151,"1"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(152,"h3"),h.\u0275\u0275text(153,"Create Project"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(154,"p"),h.\u0275\u0275text(155,"Set up your project, define goals, and invite team members to collaborate."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(156,"div",50)(157,"div",51),h.\u0275\u0275text(158,"2"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(159,"h3"),h.\u0275\u0275text(160,"Add Tasks"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(161,"p"),h.\u0275\u0275text(162,"Break down your project into manageable tasks and assign responsibilities."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(163,"div",50)(164,"div",51),h.\u0275\u0275text(165,"3"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(166,"h3"),h.\u0275\u0275text(167,"Track Progress"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(168,"p"),h.\u0275\u0275text(169,"Monitor task status, deadlines, and team performance with visual dashboards."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(170,"div",50)(171,"div",51),h.\u0275\u0275text(172,"4"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(173,"h3"),h.\u0275\u0275text(174,"Complete Project"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(175,"p"),h.\u0275\u0275text(176,"Deliver on time with better organization, communication, and efficiency."),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(177,"section",52)(178,"div",53)(179,"div",54)(180,"h2"),h.\u0275\u0275text(181,"Why Teams Love TaskMate"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(182,"p"),h.\u0275\u0275text(183,"TaskMate transforms how teams work together, making project management intuitive and effective."),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(184,"ul",55)(185,"li",56)(186,"div",57),h.\u0275\u0275element(187,"i",58),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(188,"div",59)(189,"h4"),h.\u0275\u0275text(190,"Increased Productivity"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(191,"p"),h.\u0275\u0275text(192,"Teams report a 35% boost in productivity after implementing TaskMate."),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(193,"li",56)(194,"div",57),h.\u0275\u0275element(195,"i",60),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(196,"div",59)(197,"h4"),h.\u0275\u0275text(198,"Time Savings"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(199,"p"),h.\u0275\u0275text(200,"Reduce time spent on task management by up to 40% with automated workflows."),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(201,"li",56)(202,"div",57),h.\u0275\u0275element(203,"i",61),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(204,"div",59)(205,"h4"),h.\u0275\u0275text(206,"Better Communication"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(207,"p"),h.\u0275\u0275text(208,"Keep everyone on the same page with centralized project communication."),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(209,"li",56)(210,"div",57),h.\u0275\u0275element(211,"i",62),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(212,"div",59)(213,"h4"),h.\u0275\u0275text(214,"Reliable Security"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(215,"p"),h.\u0275\u0275text(216,"Enterprise-grade security ensures your data is always protected."),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(217,"div",63),h.\u0275\u0275element(218,"img",64)(219,"img",65),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(220,"section",66)(221,"div",38)(222,"h2"),h.\u0275\u0275text(223,"Perfect for Every Team Member"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(224,"p"),h.\u0275\u0275text(225,"Tailored solutions for different roles and responsibilities"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(226,"div",67)(227,"div",68)(228,"div",69)(229,"div",70),h.\u0275\u0275element(230,"i",71),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(231,"h3"),h.\u0275\u0275text(232,"For Managers"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(233,"p",72),h.\u0275\u0275text(234,"Oversee team progress and performance"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(235,"div",73)(236,"ul")(237,"li"),h.\u0275\u0275text(238,"Project overview dashboards"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(239,"li"),h.\u0275\u0275text(240,"Resource allocation tools"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(241,"li"),h.\u0275\u0275text(242,"Performance analytics"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(243,"li"),h.\u0275\u0275text(244,"Custom reporting"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(245,"li"),h.\u0275\u0275text(246,"Workload management"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(247,"div",74)(248,"a",16),h.\u0275\u0275text(249,"Learn More"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(250,"div",68)(251,"div",69)(252,"div",70),h.\u0275\u0275element(253,"i",75),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(254,"h3"),h.\u0275\u0275text(255,"For Team Members"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(256,"p",72),h.\u0275\u0275text(257,"Stay organized and efficient"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(258,"div",73)(259,"ul")(260,"li"),h.\u0275\u0275text(261,"Personal task boards"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(262,"li"),h.\u0275\u0275text(263,"Priority management"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(264,"li"),h.\u0275\u0275text(265,"Time tracking"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(266,"li"),h.\u0275\u0275text(267,"File sharing"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(268,"li"),h.\u0275\u0275text(269,"Calendar integration"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(270,"div",74)(271,"a",16),h.\u0275\u0275text(272,"Learn More"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(273,"div",68)(274,"div",69)(275,"div",70),h.\u0275\u0275element(276,"i",76),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(277,"h3"),h.\u0275\u0275text(278,"For Clients"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(279,"p",72),h.\u0275\u0275text(280,"Monitor project progress"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(281,"div",73)(282,"ul")(283,"li"),h.\u0275\u0275text(284,"Project status updates"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(285,"li"),h.\u0275\u0275text(286,"Milestone tracking"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(287,"li"),h.\u0275\u0275text(288,"Approval workflows"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(289,"li"),h.\u0275\u0275text(290,"Comment and feedback"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(291,"li"),h.\u0275\u0275text(292,"Deliverable management"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(293,"div",74)(294,"a",16),h.\u0275\u0275text(295,"Learn More"),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(296,"section",77)(297,"div",78)(298,"div",38)(299,"h2"),h.\u0275\u0275text(300,"What Our Users Say"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(301,"p"),h.\u0275\u0275text(302,"Hear success stories from people who use TaskMate every day"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(303,"div",79)(304,"div",80)(305,"p",81),h.\u0275\u0275text(306,'"TaskMate has transformed how our team operates. We\'ve cut our meeting time in half and everyone knows exactly what they need to do. The interface is intuitive and a pleasure to use."'),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(307,"div",82)(308,"div",83),h.\u0275\u0275element(309,"i",84),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(310,"div",85)(311,"h4"),h.\u0275\u0275text(312,"Sarah Johnson"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(313,"p"),h.\u0275\u0275text(314,"Product Manager, TechCorp"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(315,"div",86),h.\u0275\u0275element(316,"i",87)(317,"i",87)(318,"i",87)(319,"i",87)(320,"i",87),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(321,"div",80)(322,"p",81),h.\u0275\u0275text(323,'"As a freelancer juggling multiple clients, TaskMate keeps me organized and ensures I never miss a deadline. The mobile app is fantastic for updating tasks on the go."'),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(324,"div",82)(325,"div",83),h.\u0275\u0275element(326,"i",84),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(327,"div",85)(328,"h4"),h.\u0275\u0275text(329,"Michael Chen"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(330,"p"),h.\u0275\u0275text(331,"Freelance Designer"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(332,"div",86),h.\u0275\u0275element(333,"i",87)(334,"i",87)(335,"i",87)(336,"i",87)(337,"i",87),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(338,"div",80)(339,"p",81),h.\u0275\u0275text(340,'"We implemented TaskMate across our entire company of 200+ employees, and it\'s been a game-changer. The customer support team was also incredibly helpful during onboarding."'),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(341,"div",82)(342,"div",83),h.\u0275\u0275element(343,"i",84),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(344,"div",85)(345,"h4"),h.\u0275\u0275text(346,"Jessica Wang"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(347,"p"),h.\u0275\u0275text(348,"COO, GrowthStart Inc."),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(349,"div",86),h.\u0275\u0275element(350,"i",87)(351,"i",87)(352,"i",87)(353,"i",87)(354,"i",88),h.\u0275\u0275elementEnd()()()()()()(),h.\u0275\u0275elementStart(355,"section",89)(356,"div",90)(357,"h2"),h.\u0275\u0275text(358,"Ready to Transform Your Productivity?"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(359,"p"),h.\u0275\u0275text(360,"Join thousands of successful teams already using TaskMate"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(361,"div",91)(362,"a",16),h.\u0275\u0275text(363,"Start Free Trial"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(364,"a",15),h.\u0275\u0275text(365,"Schedule Demo"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(366,"footer")(367,"div",92)(368,"div")(369,"div",93)(370,"div",94),h.\u0275\u0275element(371,"i",1),h.\u0275\u0275text(372,"TaskMate "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(373,"p",95),h.\u0275\u0275text(374,"Streamline your workflow and boost productivity with our intuitive task management platform."),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(375,"div",96)(376,"a",97),h.\u0275\u0275element(377,"i",98),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(378,"a",97),h.\u0275\u0275element(379,"i",99),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(380,"a",97),h.\u0275\u0275element(381,"i",100),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(382,"a",97),h.\u0275\u0275element(383,"i",101),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(384,"div")(385,"h3",102),h.\u0275\u0275text(386,"Product"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(387,"ul",103)(388,"li")(389,"a",104),h.\u0275\u0275text(390,"Features"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(391,"li")(392,"a",104),h.\u0275\u0275text(393,"Pricing"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(394,"li")(395,"a",104),h.\u0275\u0275text(396,"Integrations"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(397,"li")(398,"a",104),h.\u0275\u0275text(399,"Updates"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(400,"li")(401,"a",104),h.\u0275\u0275text(402,"Roadmap"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(403,"div")(404,"h3",102),h.\u0275\u0275text(405,"Resources"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(406,"ul",103)(407,"li")(408,"a",104),h.\u0275\u0275text(409,"Blog"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(410,"li")(411,"a",104),h.\u0275\u0275text(412,"Documentation"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(413,"li")(414,"a",104),h.\u0275\u0275text(415,"Community"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(416,"li")(417,"a",104),h.\u0275\u0275text(418,"Help Center"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(419,"li")(420,"a",104),h.\u0275\u0275text(421,"Webinars"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(422,"div")(423,"h3",102),h.\u0275\u0275text(424,"Company"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(425,"ul",103)(426,"li")(427,"a",104),h.\u0275\u0275text(428,"About Us"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(429,"li")(430,"a",104),h.\u0275\u0275text(431,"Careers"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(432,"li")(433,"a",104),h.\u0275\u0275text(434,"Press"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(435,"li")(436,"a",104),h.\u0275\u0275text(437,"Contact"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(438,"li")(439,"a",104),h.\u0275\u0275text(440,"Privacy Policy"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(441,"div")(442,"h3",102),h.\u0275\u0275text(443,"Contact Us"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(444,"div",105)(445,"div",106),h.\u0275\u0275element(446,"i",107),h.\u0275\u0275elementStart(447,"span"),h.\u0275\u0275text(448,"support@taskmate.com"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(449,"div",106),h.\u0275\u0275element(450,"i",108),h.\u0275\u0275elementStart(451,"span"),h.\u0275\u0275text(452,"+9321786232"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(453,"div",106),h.\u0275\u0275element(454,"i",109),h.\u0275\u0275elementStart(455,"span"),h.\u0275\u0275text(456,"Vesit, Chembur, Mumbai"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(457,"h4"),h.\u0275\u0275text(458,"Subscribe to Newsletter"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(459,"form",110),h.\u0275\u0275element(460,"input",111),h.\u0275\u0275elementStart(461,"button",112),h.\u0275\u0275element(462,"i",113),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(463,"div",114)(464,"p"),h.\u0275\u0275text(465,"\xa9 2025 TaskMate. All rights reserved."),h.\u0275\u0275elementEnd()()()())},styles:['[_ngcontent-%COMP%]:root{--primary: #3a57ff;--primary-dark: #0026ff;--primary-light: #d1d8ff;--accent: #ff3a8c;--dark: #1a1e36;--light: #f8faff;--gray: #8a93b5;--success: #00d37f;--warning: #ffbe0b;--transition: all .4s cubic-bezier(.165, .84, .44, 1)}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 #3a57ff99}70%{box-shadow:0 0 0 15px #3a57ff00}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-100px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%]{scroll-behavior:smooth}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:var(--dark);line-height:1.6;background-color:var(--light);overflow-x:hidden}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0;position:relative;z-index:2}.btn[_ngcontent-%COMP%]{padding:1rem 2.5rem;border-radius:30px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:var(--transition);text-decoration:none;display:inline-block;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:none;box-shadow:0 10px 20px #3a57ff33}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:translateY(-5px);box-shadow:0 15px 25px #3a57ff4d}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--primary);border:2px solid var(--primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:rgba(58,87,255,.1);transform:translateY(-5px)}.btn-accent[_ngcontent-%COMP%]{background:var(--accent);color:#fff;border:none;box-shadow:0 10px 20px #ff3a8c33}.btn-accent[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 25px #ff3a8c4d}header[_ngcontent-%COMP%]{background-color:#fffffff2;box-shadow:0 5px 30px #0000000d;position:fixed;width:86%;z-index:1000;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:var(--transition)}header.scrolled[_ngcontent-%COMP%]{background-color:#fffffffa;box-shadow:0 5px 20px #0000001a}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.2rem 2rem}.logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;color:var(--primary);display:flex;align-items:center;transition:var(--transition)}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;background:var(--primary);color:#fff;width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 5px 15px #3a57ff4d}.nav-links[_ngcontent-%COMP%]{display:flex;gap:2.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--dark);font-weight:500;transition:var(--transition);position:relative}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:2px;bottom:-5px;left:0;background-color:var(--primary);transition:var(--transition)}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.nav-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.7rem 1.5rem;font-size:1rem}.hamburger[_ngcontent-%COMP%]{display:none;cursor:pointer;z-index:1001}.hamburger[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:25px;height:3px;background-color:var(--dark);margin:5px;transition:var(--transition)}.hero-section[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;align-items:center;padding:8rem 2rem 6rem;position:relative;overflow:hidden}.hero-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;background:linear-gradient(135deg,#3a57ff 0%,#6b73ff 50%,#8d92ff 100%);background-size:200% 200%;animation:_ngcontent-%COMP%_gradientBG 15s ease infinite}.hero-particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff;max-width:650px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;margin-bottom:1.5rem;line-height:1.2}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:2.5rem;opacity:.9}.hero-cta[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:3rem}.hero-cta[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.hero-cta[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}.hero-stats[_ngcontent-%COMP%]{display:flex;gap:3rem;margin-top:3rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;display:block;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}.hero-visual[_ngcontent-%COMP%]{position:absolute;right:5%;width:45%;max-width:650px;z-index:1;transform-style:preserve-3d;perspective:1000px}.dashboard-mockup[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:0 30px 60px #00000040;transform:rotateY(-15deg) rotateX(5deg);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite;transition:var(--transition)}.floating-elements[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.floating-element[_ngcontent-%COMP%]{position:absolute;background:white;border-radius:15px;padding:15px;box-shadow:0 10px 30px #00000026;display:flex;align-items:center;gap:10px}.floating-element.task[_ngcontent-%COMP%]{top:20%;left:-15%;animation:_ngcontent-%COMP%_float 5s ease-in-out infinite}.floating-element.notification[_ngcontent-%COMP%]{bottom:25%;right:-10%;animation:_ngcontent-%COMP%_float 7s ease-in-out infinite 1s}.floating-element[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary);padding:10px;background:var(--primary-light);border-radius:10px}.element-text[_ngcontent-%COMP%]{color:var(--dark)}.element-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:2px}.element-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:var(--gray);margin:0}.scene-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.features-section[_ngcontent-%COMP%]{padding:8rem 0;position:relative;overflow:hidden}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;color:var(--dark);margin-bottom:1rem;position:relative;display:inline-block}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:4px;background:var(--primary);border-radius:2px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--gray);max-width:700px;margin:0 auto}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2.5rem;max-width:1200px;margin:0 auto;padding:0 2rem}.feature-card[_ngcontent-%COMP%]{background:white;padding:3rem 2rem;border-radius:20px;text-align:center;box-shadow:0 20px 40px #0000000d;transition:var(--transition);position:relative;z-index:1;overflow:hidden}.feature-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:0;background:linear-gradient(to bottom,rgba(58,87,255,.05),transparent);transition:var(--transition);z-index:-1}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px);box-shadow:0 30px 60px #0000001a}.feature-card[_ngcontent-%COMP%]:hover:before{height:100%}.feature-icon[_ngcontent-%COMP%]{width:90px;height:90px;margin:0 auto 2rem;background:var(--primary-light);border-radius:20px;display:flex;align-items:center;justify-content:center;position:relative;transition:var(--transition)}.feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:rotateY(180deg)}.feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--primary);transition:var(--transition)}.feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:1.2rem;color:var(--dark);transition:var(--transition)}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray);transition:var(--transition)}.workflow-section[_ngcontent-%COMP%]{padding:8rem 0;background-color:var(--dark);color:#fff;position:relative;overflow:hidden}.workflow-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,rgba(58,87,255,.1) 0%,rgba(255,58,140,.1) 100%)}.workflow-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;position:relative;z-index:2}.workflow-steps[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:3rem;margin-top:4rem}.workflow-step[_ngcontent-%COMP%]{text-align:center;position:relative}.step-number[_ngcontent-%COMP%]{width:60px;height:60px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;font-weight:700;margin:0 auto 2rem;position:relative;z-index:2;box-shadow:0 10px 20px #3a57ff4d}.workflow-step[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;top:30px;right:-50%;width:100%;height:3px;background:linear-gradient(90deg,var(--primary) 0%,rgba(58,87,255,.3) 100%);z-index:1}.workflow-step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem}.workflow-step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3}.benefits-section[_ngcontent-%COMP%]{padding:8rem 0;position:relative;overflow:hidden}.benefits-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:5rem;align-items:center;padding:0 2rem}.benefits-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;color:var(--dark);margin-bottom:2rem;position:relative}.benefits-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-15px;left:0;width:80px;height:4px;background:var(--primary);border-radius:2px}.benefits-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2.5rem;font-size:1.1rem;color:var(--gray)}.benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0}.benefit-item[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;align-items:flex-start;gap:1.5rem;transition:var(--transition);padding:1rem;border-radius:10px}.benefit-item[_ngcontent-%COMP%]:hover{background:white;box-shadow:0 10px 30px #0000000d;transform:translate(10px)}.benefit-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:var(--primary-light);border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--primary)}.benefit-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:var(--dark)}.benefit-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--gray)}.benefits-visual[_ngcontent-%COMP%]{position:relative;height:600px}.benefits-mockup[_ngcontent-%COMP%]{position:absolute;width:100%;max-width:500px;border-radius:20px;box-shadow:0 30px 60px #00000026;border:15px solid white;transition:var(--transition)}.mockup-1[_ngcontent-%COMP%]{top:0;right:0;z-index:3;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.mockup-2[_ngcontent-%COMP%]{bottom:0;left:0;z-index:2;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite 1s}.roles-section[_ngcontent-%COMP%]{padding:8rem 0;background:linear-gradient(135deg,#f8faff 0%,#eef2ff 100%);position:relative;overflow:hidden}.roles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:2.5rem;max-width:1200px;margin:0 auto;padding:0 2rem}.role-card[_ngcontent-%COMP%]{background:white;border-radius:20px;box-shadow:0 20px 40px #0000000d;overflow:hidden;transition:var(--transition);display:flex;flex-direction:column}.role-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px);box-shadow:0 30px 60px #0000001a}.role-header[_ngcontent-%COMP%]{background:var(--primary);color:#fff;padding:2rem;text-align:center;position:relative;overflow:hidden}.role-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.2) 0%,transparent 60%);opacity:0;transition:var(--transition)}.role-card[_ngcontent-%COMP%]:hover   .role-header[_ngcontent-%COMP%]:before{opacity:1}.role-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem}.role-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.role-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.role-description[_ngcontent-%COMP%]{font-size:1rem;opacity:.9}.role-features[_ngcontent-%COMP%]{padding:2rem;flex-grow:1}.role-features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.role-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem;padding-left:2rem;position:relative;transition:var(--transition)}.role-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\f00c";font-family:"Font Awesome 6 Free";font-weight:900;color:var(--success);position:absolute;left:0;top:2px}.role-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(5px)}.role-cta[_ngcontent-%COMP%]{padding:0 2rem 2rem;text-align:center}.testimonials-section[_ngcontent-%COMP%]{padding:8rem 0;position:relative;overflow:hidden}.testimonials-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.testimonial-slider[_ngcontent-%COMP%]{position:relative;margin-top:4rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2.5rem}.testimonial-card[_ngcontent-%COMP%]{background:white;border-radius:20px;padding:3rem 2.5rem;box-shadow:0 20px 40px #0000000d;position:relative;transition:var(--transition)}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 30px 60px #0000001a}.testimonial-card[_ngcontent-%COMP%]:before{content:"\\f10d";font-family:"Font Awesome 6 Free";font-weight:900;font-size:4rem;color:var(--primary-light);position:absolute;top:20px;left:20px;opacity:.3}.testimonial-text[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:2rem;position:relative;z-index:1;color:var(--dark)}.testimonial-author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.author-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;background:var(--primary-light);display:flex;align-items:center;justify-content:center}.author-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--primary)}.author-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--dark)}.author-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--gray);font-size:.9rem}.stars[_ngcontent-%COMP%]{margin-top:.5rem;color:var(--warning);font-size:.9rem}.cta-section[_ngcontent-%COMP%]{padding:8rem 0;background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 70%,rgba(255,255,255,.2) 0%,transparent 70%)}.cta-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;text-align:center;color:#fff;position:relative;z-index:2;padding:0 2rem}.cta-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1.5rem}.cta-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:3rem;font-size:1.3rem;opacity:.9}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center}.cta-section[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.cta-section[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}.cta-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:white;color:var(--primary)}.cta-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:white;color:var(--primary-dark)}footer[_ngcontent-%COMP%]{background:var(--dark);color:#fff;padding:5rem 0 2rem;position:relative;overflow:hidden}footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,rgba(58,87,255,.05) 0%,rgba(255,58,140,.05) 100%)}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem;padding:0 2rem;position:relative;z-index:2}.footer-branding[_ngcontent-%COMP%]{margin-bottom:1.5rem}.footer-logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff;display:flex;align-items:center;margin-bottom:1rem}.footer-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;background:white;color:var(--primary);width:35px;height:35px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.footer-text[_ngcontent-%COMP%]{color:#ffffffb3;margin-bottom:1.5rem}.social-links[_ngcontent-%COMP%]{display:flex;gap:1rem}.social-link[_ngcontent-%COMP%]{width:40px;height:40px;background:rgba(255,255,255,.1);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;transition:var(--transition)}.social-link[_ngcontent-%COMP%]:hover{background:var(--primary);transform:translateY(-5px)}.footer-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1.5rem;position:relative}.footer-links[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.8rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffb3;text-decoration:none;transition:var(--transition);display:inline-block}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;transform:translate(5px)}.contact-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.contact-item[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;color:#ffffffb3}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary)}.newsletter-form[_ngcontent-%COMP%]{display:flex;margin-top:1.5rem}.newsletter-input[_ngcontent-%COMP%]{flex-grow:1;padding:.8rem 1.5rem;border-radius:30px 0 0 30px;border:none;outline:none;font-size:1rem}.newsletter-button[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:none;border-radius:0 30px 30px 0;padding:0 1.5rem;cursor:pointer;transition:var(--transition)}.newsletter-button[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.copyright[_ngcontent-%COMP%]{text-align:center;padding-top:3rem;margin-top:3rem;border-top:1px solid rgba(255,255,255,.1);color:#ffffffb3;position:relative;z-index:2}@media (max-width: 1200px){.hero-visual[_ngcontent-%COMP%]{width:40%}}@media (max-width: 992px){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.hero-visual[_ngcontent-%COMP%]{position:relative;width:80%;margin:3rem auto 0;right:auto}.hero-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.hero-cta[_ngcontent-%COMP%], .hero-stats[_ngcontent-%COMP%]{justify-content:center}.benefits-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:3rem}.benefits-visual[_ngcontent-%COMP%]{order:-1;height:500px}.workflow-step[_ngcontent-%COMP%]:not(:last-child):after{display:none}}@media (max-width: 768px){.nav-links[_ngcontent-%COMP%], .nav-buttons[_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%]{display:block}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.cta-buttons[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.newsletter-input[_ngcontent-%COMP%]{border-radius:30px}.newsletter-button[_ngcontent-%COMP%]{border-radius:30px;padding:.8rem}}@media (max-width: 576px){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.hero-cta[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.hero-stats[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.feature-card[_ngcontent-%COMP%], .testimonial-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.mobile-nav[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:100%;height:100vh;background:white;z-index:1000;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:var(--transition)}.mobile-nav.active[_ngcontent-%COMP%]{right:0}.mobile-nav-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem}.mobile-nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;text-decoration:none;color:var(--dark);font-weight:600;transition:var(--transition)}.mobile-nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.mobile-nav-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:3rem}.hamburger.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.hamburger.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}.reveal-left[_ngcontent-%COMP%]{opacity:0;transform:translate(-50px);transition:1s}.reveal-right[_ngcontent-%COMP%]{opacity:0;transform:translate(50px);transition:1s}.reveal-up[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px);transition:1s}.reveal-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.interactive-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-top:3rem}.pulse-button[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.5rem;cursor:pointer;animation:_ngcontent-%COMP%_pulse 2s infinite}.scroll-indicator[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);animation:_ngcontent-%COMP%_float 2s ease-in-out infinite;cursor:pointer;color:#fff;font-size:2rem}']})}return P})()},5758:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0})},5229:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(k,ne,q,de){void 0===de&&(de=q);var ge=Object.getOwnPropertyDescriptor(ne,q);(!ge||("get"in ge?!ne.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return ne[q]}}),Object.defineProperty(k,de,ge)}:function(k,ne,q,de){void 0===de&&(de=q),k[de]=ne[q]}),K=this&&this.__setModuleDefault||(Object.create?function(k,ne){Object.defineProperty(k,"default",{enumerable:!0,value:ne})}:function(k,ne){k.default=ne}),G=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var ne={};if(null!=k)for(var q in k)"default"!==q&&Object.prototype.hasOwnProperty.call(k,q)&&M(ne,k,q);return K(ne,k),ne};Object.defineProperty(u,"__esModule",{value:!0}),u.ProfileComponent=void 0;const W=_(6814),R=G(_(6689)),y=G(_(2333)),h=G(_(5180)),E=G(_(6814));function P(k,ne){if(1&k&&(R.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"h3"),R.\u0275\u0275text(3,"Personal Information"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(4,"p")(5,"strong"),R.\u0275\u0275text(6,"Username:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(7),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(8,"p")(9,"strong"),R.\u0275\u0275text(10,"Email:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(11),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(12,"p")(13,"strong"),R.\u0275\u0275text(14,"Role:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(15),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(16,"p")(17,"strong"),R.\u0275\u0275text(18,"Company Code:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(19),R.\u0275\u0275elementEnd()()()),2&k){const q=R.\u0275\u0275nextContext();R.\u0275\u0275advance(7),R.\u0275\u0275textInterpolate1(" ",q.user.username,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.user.email,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.user.role,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.user.company_code,"")}}function F(k,ne){if(1&k&&(R.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"h3"),R.\u0275\u0275text(3,"Task Statistics"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(4,"p")(5,"strong"),R.\u0275\u0275text(6,"Total Tasks:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(7),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(8,"p")(9,"strong"),R.\u0275\u0275text(10,"Completed Tasks:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(11),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(12,"p")(13,"strong"),R.\u0275\u0275text(14,"In Progress:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(15),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(16,"p")(17,"strong"),R.\u0275\u0275text(18,"To Do:"),R.\u0275\u0275elementEnd(),R.\u0275\u0275text(19),R.\u0275\u0275elementEnd()()()),2&k){const q=R.\u0275\u0275nextContext();R.\u0275\u0275advance(7),R.\u0275\u0275textInterpolate1(" ",q.taskStats.total,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.taskStats.completed,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.taskStats.inProgress,""),R.\u0275\u0275advance(4),R.\u0275\u0275textInterpolate1(" ",q.taskStats.todo,"")}}u.ProfileComponent=(()=>{class k{constructor(q,de){this.authService=q,this.taskService=de,this.user=null,this.taskStats={total:0,completed:0,inProgress:0,todo:0}}ngOnInit(){this.loadUserProfile(),this.loadTaskStats()}loadUserProfile(){const q=this.authService.getUserData();q&&(this.user=q)}loadTaskStats(){this.taskService.getTasks().subscribe({next:q=>{this.taskStats.total=q.length,this.taskStats.completed=q.filter(de=>"done"===de.status).length,this.taskStats.inProgress=q.filter(de=>"in_progress"===de.status).length,this.taskStats.todo=q.filter(de=>"todo"===de.status).length},error:q=>{console.error("Error loading task stats:",q)}})}static#e=this.\u0275fac=function(de){return new(de||k)(R.\u0275\u0275directiveInject(y.AuthService),R.\u0275\u0275directiveInject(h.TaskService))};static#t=this.\u0275cmp=R.\u0275\u0275defineComponent({type:k,selectors:[["app-profile"]],standalone:!0,features:[R.\u0275\u0275StandaloneFeature],decls:5,vars:2,consts:[[1,"profile-container"],["class","profile-info",4,"ngIf"],["class","task-stats",4,"ngIf"],[1,"profile-info"],[1,"info-card"],[1,"task-stats"],[1,"stats-card"]],template:function(de,ge){1&de&&(R.\u0275\u0275elementStart(0,"div",0)(1,"h2"),R.\u0275\u0275text(2,"User Profile"),R.\u0275\u0275elementEnd(),R.\u0275\u0275template(3,P,20,4,"div",1),R.\u0275\u0275template(4,F,20,4,"div",2),R.\u0275\u0275elementEnd()),2&de&&(R.\u0275\u0275advance(3),R.\u0275\u0275property("ngIf",ge.user),R.\u0275\u0275advance(1),R.\u0275\u0275property("ngIf",ge.user))},dependencies:[W.CommonModule,E.NgIf],styles:[".profile-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.profile-info[_ngcontent-%COMP%], .task-stats[_ngcontent-%COMP%]{margin-bottom:30px}.info-card[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]{background:#f5f5f5;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}h3[_ngcontent-%COMP%]{margin-top:0;color:#333}p[_ngcontent-%COMP%]{margin:10px 0}strong[_ngcontent-%COMP%]{color:#666}"]})}return k})()},2333:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(k,ne,q,de){void 0===de&&(de=q);var ge=Object.getOwnPropertyDescriptor(ne,q);(!ge||("get"in ge?!ne.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return ne[q]}}),Object.defineProperty(k,de,ge)}:function(k,ne,q,de){void 0===de&&(de=q),k[de]=ne[q]}),K=this&&this.__setModuleDefault||(Object.create?function(k,ne){Object.defineProperty(k,"default",{enumerable:!0,value:ne})}:function(k,ne){k.default=ne}),G=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var ne={};if(null!=k)for(var q in k)"default"!==q&&Object.prototype.hasOwnProperty.call(k,q)&&M(ne,k,q);return K(ne,k),ne};Object.defineProperty(u,"__esModule",{value:!0}),u.AuthService=void 0;const W=_(1474),R=_(188),y=_(188),h=_(553),E=G(_(6689)),P=G(_(1474)),F=G(_(9689));u.AuthService=(()=>{class k{constructor(q,de){this.http=q,this.router=de,this.apiUrl=h.environment.apiUrl,this.currentUserSubject=new R.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable();const ge=localStorage.getItem("user");ge&&this.currentUserSubject.next(JSON.parse(ge))}getRequestOptions(){return{headers:new W.HttpHeaders({"Content-Type":"application/json"}),withCredentials:!0}}register(q,de,ge,Oe,Qe){return this.http.post(`${this.apiUrl}/auth/register`,{username:q,email:de,password:ge,role:Oe,company_code:Qe},{withCredentials:!0})}completeRegistration(q){return this.http.post(`${this.apiUrl}/auth/complete-registration`,q,{withCredentials:!0})}registerAdmin(q,de,ge,Oe){const Qe=localStorage.getItem("admin_token");if(!Qe)return(0,y.throwError)(()=>new Error("Admin token not found"));const rt=new W.HttpHeaders({"Content-Type":"application/json",Authorization:`Bearer ${Qe}`});return this.http.post(`${this.apiUrl}/register/admin`,{username:q,email:de,password:ge,company_code:Oe},{headers:rt}).pipe((0,R.catchError)(Se=>(console.error("Admin registration error:",Se),(0,y.throwError)(()=>Se))))}login(q,de){return this.http.post(`${this.apiUrl}/auth/login`,{username:q,password:de},{withCredentials:!0}).pipe((0,R.tap)(ge=>{localStorage.setItem("token",ge.access_token),localStorage.setItem("user",JSON.stringify(ge.user)),this.currentUserSubject.next(ge.user)}))}adminLogin(q,de){return this.http.post(`${this.apiUrl}/admin/login`,{username:q,password:de},{withCredentials:!0}).pipe((0,R.tap)(ge=>{localStorage.setItem("token",ge.access_token),localStorage.setItem("user",JSON.stringify(ge.user)),this.currentUserSubject.next(ge.user),console.log(this.currentUserSubject.value?.role)}),(0,R.catchError)(ge=>{throw console.error("Admin login error:",ge),ge}))}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.currentUserSubject.next(null),this.router.navigate(["/login"])}getUserData(){const q=localStorage.getItem("user");return q?JSON.parse(q):null}isAuthenticated(){return!!this.getToken()}getToken(){return localStorage.getItem("token")}getCurrentUser(){return this.currentUserSubject.value}isAdmin(){return console.log(this.currentUserSubject.value?.role),"admin"===this.currentUserSubject.value?.role}createCompany(q,de){const ge=localStorage.getItem("admin_token");if(!ge)return(0,y.throwError)(()=>new Error("Admin token not found"));const Oe=new W.HttpHeaders({"Content-Type":"application/json",Authorization:`Bearer ${ge}`});return this.http.post(`${this.apiUrl}/admin/company`,{name:q,code:de},{headers:Oe}).pipe((0,R.catchError)(Qe=>(console.error("Company creation error:",Qe),(0,y.throwError)(()=>Qe))))}updateUserRole(q,de){const ge=localStorage.getItem("token");if(!ge)return(0,y.throwError)(()=>new Error("Token not found"));const Oe=new W.HttpHeaders({"Content-Type":"application/json",Authorization:`Bearer ${ge}`});return this.http.put(`${this.apiUrl}/users/${q}/role`,{role:de},{headers:Oe}).pipe((0,R.catchError)(Qe=>(console.error("Role update error:",Qe),(0,y.throwError)(()=>Qe))))}static#e=this.\u0275fac=function(de){return new(de||k)(E.\u0275\u0275inject(P.HttpClient),E.\u0275\u0275inject(F.Router))};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},7510:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(P,F,B,k){void 0===k&&(k=B);var ne=Object.getOwnPropertyDescriptor(F,B);(!ne||("get"in ne?!F.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return F[B]}}),Object.defineProperty(P,k,ne)}:function(P,F,B,k){void 0===k&&(k=B),P[k]=F[B]}),K=this&&this.__setModuleDefault||(Object.create?function(P,F){Object.defineProperty(P,"default",{enumerable:!0,value:F})}:function(P,F){P.default=F}),G=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var F={};if(null!=P)for(var B in P)"default"!==B&&Object.prototype.hasOwnProperty.call(P,B)&&M(F,P,B);return K(F,P),F};Object.defineProperty(u,"__esModule",{value:!0}),u.GoogleAnalyticsService=void 0;const W=_(9689),R=_(6837),y=G(_(6689)),h=G(_(9689));u.GoogleAnalyticsService=(()=>{class P{constructor(B){this.router=B,this.GA_TRACKING_ID="G-4N1XCNR6JP",this.initializeGoogleAnalytics(),this.trackPageViews()}initializeGoogleAnalytics(){const B=document.createElement("script");B.async=!0,B.src=`https://www.googletagmanager.com/gtag/js?id=${this.GA_TRACKING_ID}`,document.head.appendChild(B);const k=document.createElement("script");k.innerHTML=`\n      window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n      gtag('config', '${this.GA_TRACKING_ID}');\n    `,document.head.appendChild(k)}trackPageViews(){this.router.events.pipe((0,R.filter)(B=>B instanceof W.NavigationEnd)).subscribe(B=>{window.gtag("config",this.GA_TRACKING_ID,{page_path:B.urlAfterRedirects})})}trackEvent(B,k,ne,q){window.gtag("event",k,{event_category:B,event_label:ne,value:q})}static#e=this.\u0275fac=function(k){return new(k||P)(y.\u0275\u0275inject(h.Router))};static#t=this.\u0275prov=y.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},5180:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(ne,q,de,ge){void 0===ge&&(ge=de);var Oe=Object.getOwnPropertyDescriptor(q,de);(!Oe||("get"in Oe?!q.__esModule:Oe.writable||Oe.configurable))&&(Oe={enumerable:!0,get:function(){return q[de]}}),Object.defineProperty(ne,ge,Oe)}:function(ne,q,de,ge){void 0===ge&&(ge=de),ne[ge]=q[de]}),K=this&&this.__setModuleDefault||(Object.create?function(ne,q){Object.defineProperty(ne,"default",{enumerable:!0,value:q})}:function(ne,q){ne.default=q}),G=this&&this.__importStar||function(ne){if(ne&&ne.__esModule)return ne;var q={};if(null!=ne)for(var de in ne)"default"!==de&&Object.prototype.hasOwnProperty.call(ne,de)&&M(q,ne,de);return K(q,ne),q};Object.defineProperty(u,"__esModule",{value:!0}),u.TaskService=void 0;const W=_(1474),R=_(188),y=_(6837),E=(_(5758),_(553)),P=G(_(6689)),F=G(_(1474)),B=G(_(2333));u.TaskService=(()=>{class ne{constructor(de,ge){this.http=de,this.authService=ge,this.apiUrl=E.environment.apiUrl,this.maxRetries=3,this.retryDelay=1e3}getRequestOptions(){const de=this.authService.getToken();return{headers:new W.HttpHeaders({"Content-Type":"application/json",Authorization:`Bearer ${de}`}),withCredentials:!0}}getTasks(){return this.http.get(`${this.apiUrl}/tasks`,this.getRequestOptions())}getTask(de){return this.http.get(`${this.apiUrl}/tasks/${de}`,this.getRequestOptions())}createTask(de){return this.http.post(`${this.apiUrl}/tasks`,de,this.getRequestOptions())}updateTask(de,ge){return this.http.put(`${this.apiUrl}/tasks/${de}`,ge,this.getRequestOptions())}deleteTask(de,ge=!1){const Oe=ge?`${this.apiUrl}/admin/tasks/${de}`:`${this.apiUrl}/tasks/${de}`;console.log("Deleting task with endpoint:",Oe);const Qe=this.getRequestOptions();return console.log("Request options:",Qe),this.http.delete(Oe,Qe).pipe((0,y.catchError)(rt=>(console.error("Delete task error:",rt),401===rt.status&&this.authService.logout(),(0,R.throwError)(()=>rt))))}getCompletedTasks(){return this.http.get(`${this.apiUrl}/tasks/completed`,this.getRequestOptions())}completeTask(de){return this.http.post(`${this.apiUrl}/tasks/${de}/complete`,{},this.getRequestOptions())}getTaskAnalytics(){return this.http.get(`${this.apiUrl}/analytics/tasks`,this.getRequestOptions())}handleError(de){return 401===de.status&&localStorage.getItem("token")&&console.error("Token expired or invalid"),(0,R.throwError)(()=>de)}searchTasks(de){return this.http.get(`${this.apiUrl}/search?q=${encodeURIComponent(de)}`,this.getRequestOptions())}getTaskStats(){return this.http.get(`${this.apiUrl}/stats`,this.getRequestOptions())}listTasks(){return this.http.get(`${this.apiUrl}`,this.getRequestOptions())}addTask(de){return this.http.post(`${this.apiUrl}`,de,this.getRequestOptions())}getAdminTasks(){return this.http.get(`${this.apiUrl}/admin/tasks`,this.getRequestOptions()).pipe((0,y.catchError)(de=>(401===de.status&&this.authService.logout(),(0,R.throwError)(()=>de))))}createAdminTask(de){return this.http.post(`${this.apiUrl}/admin/tasks`,de,this.getRequestOptions())}addComment(de,ge){return this.http.post(`${this.apiUrl}/tasks/${de}/comments`,{text:ge},this.getRequestOptions())}getCompanyEmployees(){return this.http.get(`${this.apiUrl}/admin/employees`,this.getRequestOptions())}static#e=this.\u0275fac=function(ge){return new(ge||ne)(P.\u0275\u0275inject(F.HttpClient),P.\u0275\u0275inject(B.AuthService))};static#t=this.\u0275prov=P.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},7911:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(h,E,P,F){void 0===F&&(F=P);var B=Object.getOwnPropertyDescriptor(E,P);(!B||("get"in B?!E.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return E[P]}}),Object.defineProperty(h,F,B)}:function(h,E,P,F){void 0===F&&(F=P),h[F]=E[P]}),K=this&&this.__setModuleDefault||(Object.create?function(h,E){Object.defineProperty(h,"default",{enumerable:!0,value:E})}:function(h,E){h.default=E}),G=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var E={};if(null!=h)for(var P in h)"default"!==P&&Object.prototype.hasOwnProperty.call(h,P)&&M(E,h,P);return K(E,h),E};Object.defineProperty(u,"__esModule",{value:!0}),u.ToastService=void 0;const W=_(188),R=G(_(6689));u.ToastService=(()=>{class h{constructor(){this.toasts=[],this.toastsSubject=new W.BehaviorSubject([]),this.toasts$=this.toastsSubject.asObservable(),this.lastId=0}show(P,F,B=5e3){const k=++this.lastId;this.toasts.push({id:k,type:P,message:F}),this.toastsSubject.next([...this.toasts]),setTimeout(()=>{this.dismiss(k)},B)}dismiss(P){this.toasts=this.toasts.filter(F=>F.id!==P),this.toastsSubject.next([...this.toasts])}clear(){this.toasts=[],this.toastsSubject.next([])}static#e=this.\u0275fac=function(F){return new(F||h)};static#t=this.\u0275prov=R.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},553:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.environment=void 0,u.environment={production:!0,apiUrl:"https://taskmate-angular.onrender.com"}},4913:(Ge,u,_)=>{"use strict";const K=_(6593),G=_(6401),W=_(1474),R=_(9689),y=_(3966);(0,K.bootstrapApplication)(G.AppComponent,{providers:[(0,W.provideHttpClient)((0,W.withInterceptorsFromDi)()),(0,R.provideRouter)(y.routes)]}).catch(h=>console.error(h))},9818:function(Ge,u){var _,K;void 0!==(K="function"==typeof(_=function(){"use strict";function W(F,B,k){var ne=new XMLHttpRequest;ne.open("GET",F),ne.responseType="blob",ne.onload=function(){P(ne.response,B,k)},ne.onerror=function(){console.error("could not download file")},ne.send()}function R(F){var B=new XMLHttpRequest;B.open("HEAD",F,!1);try{B.send()}catch{}return 200<=B.status&&299>=B.status}function y(F){try{F.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),F.dispatchEvent(B)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,E=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!E?function(F,B,k){var ne=h.URL||h.webkitURL,q=document.createElement("a");q.download=B=B||F.name||"download",q.rel="noopener","string"==typeof F?(q.href=F,q.origin===location.origin?y(q):R(q.href)?W(F,B,k):y(q,q.target="_blank")):(q.href=ne.createObjectURL(F),setTimeout(function(){ne.revokeObjectURL(q.href)},4e4),setTimeout(function(){y(q)},0))}:"msSaveOrOpenBlob"in navigator?function(F,B,k){if(B=B||F.name||"download","string"!=typeof F)navigator.msSaveOrOpenBlob(function G(F,B){return typeof B>"u"?B={autoBom:!1}:"object"!=typeof B&&(console.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(F.type)?new Blob(["\ufeff",F],{type:F.type}):F}(F,k),B);else if(R(F))W(F,B,k);else{var ne=document.createElement("a");ne.href=F,ne.target="_blank",setTimeout(function(){y(ne)})}}:function(F,B,k,ne){if((ne=ne||open("","_blank"))&&(ne.document.title=ne.document.body.innerText="downloading..."),"string"==typeof F)return W(F,B,k);var q="application/octet-stream"===F.type,de=/constructor/i.test(h.HTMLElement)||h.safari,ge=/CriOS\/[\d]+/.test(navigator.userAgent);if((ge||q&&de||E)&&typeof FileReader<"u"){var Oe=new FileReader;Oe.onloadend=function(){var Se=Oe.result;Se=ge?Se:Se.replace(/^data:[^;]*;/,"data:attachment/file;"),ne?ne.location.href=Se:location=Se,ne=null},Oe.readAsDataURL(F)}else{var Qe=h.URL||h.webkitURL,rt=Qe.createObjectURL(F);ne?ne.location=rt:location.href=rt,ne=null,setTimeout(function(){Qe.revokeObjectURL(rt)},4e4)}});h.saveAs=P.saveAs=P,Ge.exports=P})?_.apply(u,[]):_)&&(Ge.exports=K)},4739:(Ge,u,_)=>{"use strict";function M(kt,De){for(var mt=0;mt<De.length;mt++){var Ve=De[mt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(kt,Ve.key,Ve)}}_.r(u),_.d(u,{ScrollTrigger:()=>dr,default:()=>dr});var G,W,y,h,E,P,F,B,k,ne,q,de,ge,Oe=function(){return G||typeof window<"u"&&(G=window.gsap)&&G.registerPlugin&&G},Qe=1,rt=[],Se=[],Ee=[],Ne=Date.now,Ze=function(De,mt){return mt},be=function(De,mt){return~Ee.indexOf(De)&&Ee[Ee.indexOf(De)+1][mt]},qe=function(De){return!!~ne.indexOf(De)},bt=function(De,mt,Ve,$e,Et){return De.addEventListener(mt,Ve,{passive:!1!==$e,capture:!!Et})},Nt=function(De,mt,Ve,$e){return De.removeEventListener(mt,Ve,!!$e)},_t="scrollLeft",en="scrollTop",rn=function(){return q&&q.isPressed||Se.cache++},an=function(De,mt){var Ve=function $e(Et){if(Et||0===Et){Qe&&(y.history.scrollRestoration="manual");var fn=q&&q.isPressed;Et=$e.v=Math.round(Et)||(q&&q.iOS?1:0),De(Et),$e.cacheID=Se.cache,fn&&Ze("ss",Et)}else(mt||Se.cache!==$e.cacheID||Ze("ref"))&&($e.cacheID=Se.cache,$e.v=De());return $e.v+$e.offset};return Ve.offset=0,De&&Ve},xt={s:_t,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:an(function(kt){return arguments.length?y.scrollTo(kt,Zn.sc()):y.pageXOffset||h[_t]||E[_t]||P[_t]||0})},Zn={s:en,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:xt,sc:an(function(kt){return arguments.length?y.scrollTo(xt.sc(),kt):y.pageYOffset||h[en]||E[en]||P[en]||0})},qi=function(De,mt){return(mt&&mt._ctx&&mt._ctx.selector||G.utils.toArray)(De)[0]||("string"==typeof De&&!1!==G.config().nullTargetWarn?console.warn("Element not found:",De):null)},Lt=function(De,mt){var Ve=mt.s,$e=mt.sc;qe(De)&&(De=h.scrollingElement||E);var Et=Se.indexOf(De),fn=$e===Zn.sc?1:2;!~Et&&(Et=Se.push(De)-1),Se[Et+fn]||bt(De,"scroll",rn);var zt=Se[Et+fn],Xn=zt||(Se[Et+fn]=an(be(De,Ve),!0)||(qe(De)?$e:an(function(bi){return arguments.length?De[Ve]=bi:De[Ve]})));return Xn.target=De,zt||(Xn.smooth="smooth"===G.getProperty(De,"scrollBehavior")),Xn},Rt=function(De,mt,Ve){var $e=De,Et=De,fn=Ne(),zt=fn,Xn=mt||50,bi=Math.max(500,3*Xn),Jr=function(gr,Qo){var he=Ne();Qo||he-fn>Xn?(Et=$e,$e=gr,zt=fn,fn=he):Ve?$e+=gr:$e=Et+(gr-Et)/(he-zt)*(fn-zt)};return{update:Jr,reset:function(){Et=$e=Ve?0:$e,zt=fn=0},getVelocity:function(gr){var Qo=zt,he=Et,_e=Ne();return(gr||0===gr)&&gr!==$e&&Jr(gr),fn===zt||_e-zt>bi?0:($e+(Ve?he:-he))/((Ve?_e:fn)-Qo)*1e3}}},Ut=function(De,mt){return mt&&!De._gsapAllow&&De.preventDefault(),De.changedTouches?De.changedTouches[0]:De},on=function(De){var mt=Math.max.apply(Math,De),Ve=Math.min.apply(Math,De);return Math.abs(mt)>=Math.abs(Ve)?mt:Ve},In=function(){var De,mt,Ve,$e;(k=G.core.globals().ScrollTrigger)&&k.core&&(mt=(De=k.core).bridge||{},$e=De._proxies,(Ve=De._scrollers).push.apply(Ve,Se),$e.push.apply($e,Ee),Se=Ve,Ee=$e,Ze=function(fn,zt){return mt[fn](zt)})},_n=function(De){return G=De||Oe(),!W&&G&&typeof document<"u"&&document.body&&(y=window,h=document,ne=[y,h,E=h.documentElement,P=h.body],ge=G.core.context||function(){},B="onpointerenter"in P?"pointer":"mouse",F=$n.isTouch=y.matchMedia&&y.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in y||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,de=$n.eventTypes=("ontouchstart"in E?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in E?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Qe=0},500),In(),W=1),W};xt.op=Zn,Se.cache=0;var $n=function(){function kt(mt){this.init(mt)}return kt.prototype.init=function(Ve){W||_n(G)||console.warn("Please gsap.registerPlugin(Observer)"),k||In();var $e=Ve.tolerance,Et=Ve.dragMinimum,fn=Ve.type,zt=Ve.target,Xn=Ve.lineHeight,bi=Ve.debounce,Jr=Ve.preventDefault,$r=Ve.onStop,pi=Ve.onStopDelay,nn=Ve.ignore,gr=Ve.wheelSpeed,Qo=Ve.event,he=Ve.onDragStart,_e=Ve.onDragEnd,re=Ve.onDrag,Ae=Ve.onPress,lt=Ve.onRelease,li=Ve.onRight,mi=Ve.onLeft,lr=Ve.onUp,ca=Ve.onDown,xs=Ve.onChangeX,$i=Ve.onChangeY,_s=Ve.onChange,Or=Ve.onToggleX,Ca=Ve.onToggleY,ia=Ve.onHover,Fa=Ve.onHoverEnd,bs=Ve.onMove,Cs=Ve.ignoreCheck,Ea=Ve.isNormalizer,ga=Ve.onGestureStart,Yt=Ve.onGestureEnd,vr=Ve.onWheel,fr=Ve.onEnable,za=Ve.onDisable,ln=Ve.onClick,Ji=Ve.scrollSpeed,ds=Ve.capture,Ys=Ve.allowClicks,Qa=Ve.lockAxis,fs=Ve.onLockAxis;this.target=zt=qi(zt)||E,this.vars=Ve,nn&&(nn=G.utils.toArray(nn)),$e=$e||1e-9,Et=Et||0,gr=gr||1,Ji=Ji||1,fn=fn||"wheel,touch,pointer",bi=!1!==bi,Xn||(Xn=parseFloat(y.getComputedStyle(P).lineHeight)||22);var Wa,$a,Na,_o,Bs,sl,yl,sn=this,wa=0,Tl=0,Qr=Ve.passive||!Jr&&!1!==Ve.passive,hs=Lt(zt,xt),Ho=Lt(zt,Zn),As=hs(),ml=Ho(),ra=~fn.indexOf("touch")&&!~fn.indexOf("pointer")&&"pointerdown"===de[0],$=qe(zt),Ce=zt.ownerDocument||h,se=[0,0,0],ve=[0,0,0],Ue=0,Xt=function(){return Ue=Ne()},Qt=function(Wi,Eo){return(sn.event=Wi)&&nn&&~nn.indexOf(Wi.target)||Eo&&ra&&"touch"!==Wi.pointerType||Cs&&Cs(Wi,Eo)},Oo=function(){var Wi=sn.deltaX=on(se),Eo=sn.deltaY=on(ve),hi=Math.abs(Wi)>=$e,kr=Math.abs(Eo)>=$e;_s&&(hi||kr)&&_s(sn,Wi,Eo,se,ve),hi&&(li&&sn.deltaX>0&&li(sn),mi&&sn.deltaX<0&&mi(sn),xs&&xs(sn),Or&&sn.deltaX<0!=wa<0&&Or(sn),wa=sn.deltaX,se[0]=se[1]=se[2]=0),kr&&(ca&&sn.deltaY>0&&ca(sn),lr&&sn.deltaY<0&&lr(sn),$i&&$i(sn),Ca&&sn.deltaY<0!=Tl<0&&Ca(sn),Tl=sn.deltaY,ve[0]=ve[1]=ve[2]=0),(_o||Na)&&(bs&&bs(sn),Na&&(he&&1===Na&&he(sn),re&&re(sn),Na=0),_o=!1),sl&&!(sl=!1)&&fs&&fs(sn),Bs&&(vr(sn),Bs=!1),Wa=0},Co=function(Wi,Eo,hi){se[hi]+=Wi,ve[hi]+=Eo,sn._vx.update(Wi),sn._vy.update(Eo),bi?Wa||(Wa=requestAnimationFrame(Oo)):Oo()},mo=function(Wi,Eo){Qa&&!yl&&(sn.axis=yl=Math.abs(Wi)>Math.abs(Eo)?"x":"y",sl=!0),"y"!==yl&&(se[2]+=Wi,sn._vx.update(Wi,!0)),"x"!==yl&&(ve[2]+=Eo,sn._vy.update(Eo,!0)),bi?Wa||(Wa=requestAnimationFrame(Oo)):Oo()},Ui=function(Wi){if(!Qt(Wi,1)){var Eo=(Wi=Ut(Wi,Jr)).clientX,hi=Wi.clientY,kr=Eo-sn.x,nr=hi-sn.y,Ur=sn.isDragging;sn.x=Eo,sn.y=hi,(Ur||(kr||nr)&&(Math.abs(sn.startX-Eo)>=Et||Math.abs(sn.startY-hi)>=Et))&&(Na=Ur?2:1,Ur||(sn.isDragging=!0),mo(kr,nr))}},Je=sn.onPress=function(Rr){Qt(Rr,1)||Rr&&Rr.button||(sn.axis=yl=null,$a.pause(),sn.isPressed=!0,Rr=Ut(Rr),wa=Tl=0,sn.startX=sn.x=Rr.clientX,sn.startY=sn.y=Rr.clientY,sn._vx.reset(),sn._vy.reset(),bt(Ea?zt:Ce,de[1],Ui,Qr,!0),sn.deltaX=sn.deltaY=0,Ae&&Ae(sn))},Si=sn.onRelease=function(Rr){if(!Qt(Rr,1)){Nt(Ea?zt:Ce,de[1],Ui,!0);var Wi=!isNaN(sn.y-sn.startY),Eo=sn.isDragging,hi=Eo&&(Math.abs(sn.x-sn.startX)>3||Math.abs(sn.y-sn.startY)>3),kr=Ut(Rr);!hi&&Wi&&(sn._vx.reset(),sn._vy.reset(),Jr&&Ys&&G.delayedCall(.08,function(){if(Ne()-Ue>300&&!Rr.defaultPrevented)if(Rr.target.click)Rr.target.click();else if(Ce.createEvent){var nr=Ce.createEvent("MouseEvents");nr.initMouseEvent("click",!0,!0,y,1,kr.screenX,kr.screenY,kr.clientX,kr.clientY,!1,!1,!1,!1,0,null),Rr.target.dispatchEvent(nr)}})),sn.isDragging=sn.isGesturing=sn.isPressed=!1,$r&&Eo&&!Ea&&$a.restart(!0),Na&&Oo(),_e&&Eo&&_e(sn),lt&&lt(sn,hi)}},Es=function(Wi){return Wi.touches&&Wi.touches.length>1&&(sn.isGesturing=!0)&&ga(Wi,sn.isDragging)},Xo=function(){return(sn.isGesturing=!1)||Yt(sn)},To=function(Wi){if(!Qt(Wi)){var Eo=hs(),hi=Ho();Co((Eo-As)*Ji,(hi-ml)*Ji,1),As=Eo,ml=hi,$r&&$a.restart(!0)}},uo=function(Wi){if(!Qt(Wi)){Wi=Ut(Wi,Jr),vr&&(Bs=!0);var Eo=(1===Wi.deltaMode?Xn:2===Wi.deltaMode?y.innerHeight:1)*gr;Co(Wi.deltaX*Eo,Wi.deltaY*Eo,0),$r&&!Ea&&$a.restart(!0)}},ua=function(Wi){if(!Qt(Wi)){var Eo=Wi.clientX,hi=Wi.clientY,kr=Eo-sn.x,nr=hi-sn.y;sn.x=Eo,sn.y=hi,_o=!0,$r&&$a.restart(!0),(kr||nr)&&mo(kr,nr)}},Ta=function(Wi){sn.event=Wi,ia(sn)},oa=function(Wi){sn.event=Wi,Fa(sn)},Xa=function(Wi){return Qt(Wi)||Ut(Wi,Jr)&&ln(sn)};$a=sn._dc=G.delayedCall(pi||.25,function(){sn._vx.reset(),sn._vy.reset(),$a.pause(),$r&&$r(sn)}).pause(),sn.deltaX=sn.deltaY=0,sn._vx=Rt(0,50,!0),sn._vy=Rt(0,50,!0),sn.scrollX=hs,sn.scrollY=Ho,sn.isDragging=sn.isGesturing=sn.isPressed=!1,ge(this),sn.enable=function(Rr){return sn.isEnabled||(bt($?Ce:zt,"scroll",rn),fn.indexOf("scroll")>=0&&bt($?Ce:zt,"scroll",To,Qr,ds),fn.indexOf("wheel")>=0&&bt(zt,"wheel",uo,Qr,ds),(fn.indexOf("touch")>=0&&F||fn.indexOf("pointer")>=0)&&(bt(zt,de[0],Je,Qr,ds),bt(Ce,de[2],Si),bt(Ce,de[3],Si),Ys&&bt(zt,"click",Xt,!0,!0),ln&&bt(zt,"click",Xa),ga&&bt(Ce,"gesturestart",Es),Yt&&bt(Ce,"gestureend",Xo),ia&&bt(zt,B+"enter",Ta),Fa&&bt(zt,B+"leave",oa),bs&&bt(zt,B+"move",ua)),sn.isEnabled=!0,sn.isDragging=sn.isGesturing=sn.isPressed=_o=Na=!1,sn._vx.reset(),sn._vy.reset(),As=hs(),ml=Ho(),Rr&&Rr.type&&Je(Rr),fr&&fr(sn)),sn},sn.disable=function(){sn.isEnabled&&(rt.filter(function(Rr){return Rr!==sn&&qe(Rr.target)}).length||Nt($?Ce:zt,"scroll",rn),sn.isPressed&&(sn._vx.reset(),sn._vy.reset(),Nt(Ea?zt:Ce,de[1],Ui,!0)),Nt($?Ce:zt,"scroll",To,ds),Nt(zt,"wheel",uo,ds),Nt(zt,de[0],Je,ds),Nt(Ce,de[2],Si),Nt(Ce,de[3],Si),Nt(zt,"click",Xt,!0),Nt(zt,"click",Xa),Nt(Ce,"gesturestart",Es),Nt(Ce,"gestureend",Xo),Nt(zt,B+"enter",Ta),Nt(zt,B+"leave",oa),Nt(zt,B+"move",ua),sn.isEnabled=sn.isPressed=sn.isDragging=!1,za&&za(sn))},sn.kill=sn.revert=function(){sn.disable();var Rr=rt.indexOf(sn);Rr>=0&&rt.splice(Rr,1),q===sn&&(q=0)},rt.push(sn),Ea&&qe(zt)&&(q=sn),sn.enable(Qo)},function K(kt,De,mt){De&&M(kt.prototype,De),mt&&M(kt,mt)}(kt,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),kt}();$n.version="3.12.7",$n.create=function(kt){return new $n(kt)},$n.register=_n,$n.getAll=function(){return rt.slice()},$n.getById=function(kt){return rt.filter(function(De){return De.vars.id===kt})[0]},Oe()&&G.registerPlugin($n);var Pn,to,Gn,wi,_r,Ai,Yr,Lo,dt,et,Dt,It,cn,tn,Br,zi,oi,Rn,ci,Vr,no,wo,Xi,So,zo,vi,oo,ar,xo,zr,Ns,xi,Zo,Ha,ea,Er,as,Sn,_i=1,ki=Date.now,ji=ki(),io=0,gs=0,Ss=function(De,mt,Ve){var $e=ko(De)&&("clamp("===De.substr(0,6)||De.indexOf("max")>-1);return Ve["_"+mt+"Clamp"]=$e,$e?De.substr(6,De.length-7):De},ro=function(De,mt){return!mt||ko(De)&&"clamp("===De.substr(0,6)?De:"clamp("+De+")"},Ls=function kt(){return gs&&requestAnimationFrame(kt)},Gt=function(){return tn=1},Bt=function(){return tn=0},ze=function(De){return De},ct=function(De){return Math.round(1e5*De)/1e5||0},Wt=function(){return typeof window<"u"},Qn=function(){return Pn||Wt()&&(Pn=window.gsap)&&Pn.registerPlugin&&Pn},di=function(De){return!!~Yr.indexOf(De)},br=function(De){return("Height"===De?Ns:Gn["inner"+De])||_r["client"+De]||Ai["client"+De]},jr=function(De){return be(De,"getBoundingClientRect")||(di(De)?function(){return Hi.width=Gn.innerWidth,Hi.height=Ns,Hi}:function(){return ss(De)})},Zi=function(De,mt){var Ve,$e=mt.d2,Et=mt.d,fn=mt.a;return Math.max(0,(Ve="scroll"+$e)&&(fn=be(De,Ve))?fn()-jr(De)()[Et]:di(De)?(_r[Ve]||Ai[Ve])-br($e):De[Ve]-De["offset"+$e])},ha=function(De,mt){for(var Ve=0;Ve<ci.length;Ve+=3)(!mt||~mt.indexOf(ci[Ve+1]))&&De(ci[Ve],ci[Ve+1],ci[Ve+2])},ko=function(De){return"string"==typeof De},Gr=function(De){return"function"==typeof De},ht=function(De){return"number"==typeof De},ut=function(De){return"object"==typeof De},nt=function(De,mt,Ve){return De&&De.progress(mt?0:1)&&Ve&&De.pause()},Pt=function(De,mt){if(De.enabled){var Ve=De._ctx?De._ctx.add(function(){return mt(De)}):mt(De);Ve&&Ve.totalTime&&(De.callbackAnimation=Ve)}},vn=Math.abs,Ri="right",fi="bottom",Mr="width",ho="height",Zr="Right",Wr="Left",pr="Top",us="Bottom",Ki="padding",Ir="margin",Ts="Width",Rs="Height",Di="px",ts=function(De){return Gn.getComputedStyle(De)},Qs=function(De,mt){for(var Ve in mt)Ve in De||(De[Ve]=mt[Ve]);return De},ss=function(De,mt){var Ve=mt&&"matrix(1, 0, 0, 1, 0, 0)"!==ts(De)[Br]&&Pn.to(De,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),$e=De.getBoundingClientRect();return Ve&&Ve.progress(0).kill(),$e},aa=function(De,mt){var Ve=mt.d2;return De["offset"+Ve]||De["client"+Ve]||0},vs=function(De){var Et,mt=[],Ve=De.labels,$e=De.duration();for(Et in Ve)mt.push(Ve[Et]/$e);return mt},Uo=function(De){var mt=Pn.utils.snap(De),Ve=Array.isArray(De)&&De.slice(0).sort(function($e,Et){return $e-Et});return Ve?function($e,Et,fn){var zt;if(void 0===fn&&(fn=.001),!Et)return mt($e);if(Et>0){for($e-=fn,zt=0;zt<Ve.length;zt++)if(Ve[zt]>=$e)return Ve[zt];return Ve[zt-1]}for(zt=Ve.length,$e+=fn;zt--;)if(Ve[zt]<=$e)return Ve[zt];return Ve[0]}:function($e,Et,fn){void 0===fn&&(fn=.001);var zt=mt($e);return!Et||Math.abs(zt-$e)<fn||zt-$e<0==Et<0?zt:mt(Et<0?$e-De:$e+De)}},ks=function(De,mt,Ve,$e){return Ve.split(",").forEach(function(Et){return De(mt,Et,$e)})},er=function(De,mt,Ve,$e,Et){return De.addEventListener(mt,Ve,{passive:!$e,capture:!!Et})},Ko=function(De,mt,Ve,$e){return De.removeEventListener(mt,Ve,!!$e)},Io=function(De,mt,Ve){(Ve=Ve&&Ve.wheelHandler)&&(De(mt,"wheel",Ve),De(mt,"touchmove",Ve))},Il={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},dl={toggleActions:"play",anticipatePin:0},El={top:0,left:0,center:.5,bottom:1,right:1},Us=function(De,mt){if(ko(De)){var Ve=De.indexOf("="),$e=~Ve?+(De.charAt(Ve-1)+1)*parseFloat(De.substr(Ve+1)):0;~Ve&&(De.indexOf("%")>Ve&&($e*=mt/100),De=De.substr(0,Ve-1)),De=$e+(De in El?El[De]*mt:~De.indexOf("%")?parseFloat(De)*mt/100:parseFloat(De)||0)}return De},fl=function(De,mt,Ve,$e,Et,fn,zt,Xn){var bi=Et.startColor,Jr=Et.endColor,$r=Et.fontSize,pi=Et.indent,nn=Et.fontWeight,gr=wi.createElement("div"),Qo=di(Ve)||"fixed"===be(Ve,"pinType"),he=-1!==De.indexOf("scroller"),_e=Qo?Ai:Ve,re=-1!==De.indexOf("start"),Ae=re?bi:Jr,lt="border-color:"+Ae+";font-size:"+$r+";color:"+Ae+";font-weight:"+nn+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return lt+="position:"+((he||Xn)&&Qo?"fixed;":"absolute;"),(he||Xn||!Qo)&&(lt+=($e===Zn?Ri:fi)+":"+(fn+parseFloat(pi))+"px;"),zt&&(lt+="box-sizing:border-box;text-align:left;width:"+zt.offsetWidth+"px;"),gr._isStart=re,gr.setAttribute("class","gsap-marker-"+De+(mt?" marker-"+mt:"")),gr.style.cssText=lt,gr.innerText=mt||0===mt?De+"-"+mt:De,_e.children[0]?_e.insertBefore(gr,_e.children[0]):_e.appendChild(gr),gr._offset=gr["offset"+$e.op.d2],nl(gr,0,$e,re),gr},nl=function(De,mt,Ve,$e){var Et={display:"block"},fn=Ve[$e?"os2":"p2"],zt=Ve[$e?"p2":"os2"];De._isFlipped=$e,Et[Ve.a+"Percent"]=$e?-100:0,Et[Ve.a]=$e?"1px":0,Et["border"+fn+Ts]=1,Et["border"+zt+Ts]=0,Et[Ve.p]=mt+"px",Pn.set(De,Et)},mr=[],qs={},Nr=function(){return ki()-io>34&&(ea||(ea=requestAnimationFrame(tr)))},Sa=function(){(!Xi||!Xi.isPressed||Xi.startX>Ai.clientWidth)&&(Se.cache++,Xi?ea||(ea=requestAnimationFrame(tr)):tr(),io||ta("scrollStart"),io=ki())},il=function(){vi=Gn.innerWidth,zo=Gn.innerHeight},Oa=function(De){Se.cache++,(!0===De||!cn&&!wo&&!wi.fullscreenElement&&!wi.webkitFullscreenElement&&(!So||vi!==Gn.innerWidth||Math.abs(Gn.innerHeight-zo)>.25*Gn.innerHeight))&&Lo.restart(!0)},so={},vl=[],Ka=function kt(){return Ko(dr,"scrollEnd",kt)||Ws(!0)},ta=function(De){return so[De]&&so[De].map(function(mt){return mt()})||vl},Jo=[],Ga=function(De){for(var mt=0;mt<Jo.length;mt+=5)(!De||Jo[mt+4]&&Jo[mt+4].query===De)&&(Jo[mt].style.cssText=Jo[mt+1],Jo[mt].getBBox&&Jo[mt].setAttribute("transform",Jo[mt+2]||""),Jo[mt+3].uncache=1)},Hr=function(De,mt){var Ve;for(zi=0;zi<mr.length;zi++)(Ve=mr[zi])&&(!mt||Ve._ctx===mt)&&(De?Ve.kill(1):Ve.revert(!0,!0));xi=!0,mt&&Ga(mt),mt||ta("revert")},jo=function(De,mt){Se.cache++,(mt||!Er)&&Se.forEach(function(Ve){return Gr(Ve)&&Ve.cacheID++&&(Ve.rec=0)}),ko(De)&&(Gn.history.scrollRestoration=xo=De)},na=0,Va=function(){Ai.appendChild(zr),Ns=!Xi&&zr.offsetHeight||Gn.innerHeight,Ai.removeChild(zr)},xa=function(De){return dt(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(mt){return mt.style.display=De?"none":"block"})},Ws=function(De,mt){if(Yr=[Gn,wi,_r=wi.documentElement,Ai=wi.body],!io||De||xi){Va(),Er=dr.isRefreshing=!0,Se.forEach(function($e){return Gr($e)&&++$e.cacheID&&($e.rec=$e())});var Ve=ta("refreshInit");Vr&&dr.sort(),mt||Hr(),Se.forEach(function($e){Gr($e)&&($e.smooth&&($e.target.style.scrollBehavior="auto"),$e(0))}),mr.slice(0).forEach(function($e){return $e.refresh()}),xi=!1,mr.forEach(function($e){if($e._subPinOffset&&$e.pin){var Et=$e.vars.horizontal?"offsetWidth":"offsetHeight",fn=$e.pin[Et];$e.revert(!0,1),$e.adjustPinSpacing($e.pin[Et]-fn),$e.refresh()}}),Zo=1,xa(!0),mr.forEach(function($e){var Et=Zi($e.scroller,$e._dir),fn="max"===$e.vars.end||$e._endClamp&&$e.end>Et,zt=$e._startClamp&&$e.start>=Et;(fn||zt)&&$e.setPositions(zt?Et-1:$e.start,fn?Math.max(zt?Et:$e.start+1,Et):$e.end,!0)}),xa(!1),Zo=0,Ve.forEach(function($e){return $e&&$e.render&&$e.render(-1)}),Se.forEach(function($e){Gr($e)&&($e.smooth&&requestAnimationFrame(function(){return $e.target.style.scrollBehavior="smooth"}),$e.rec&&$e($e.rec))}),jo(xo,1),Lo.pause(),na++,Er=2,tr(2),mr.forEach(function($e){return Gr($e.vars.onRefresh)&&$e.vars.onRefresh($e)}),Er=dr.isRefreshing=!1,ta("refresh")}else er(dr,"scrollEnd",Ka)},ma=0,Lr=1,tr=function(De){if(2===De||!Er&&!xi){dr.isUpdating=!0,Sn&&Sn.update(0);var mt=mr.length,Ve=ki(),$e=Ve-ji>=50,Et=mt&&mr[0].scroll();if(Lr=ma>Et?-1:1,Er||(ma=Et),$e&&(io&&!tn&&Ve-io>200&&(io=0,ta("scrollEnd")),Dt=ji,ji=Ve),Lr<0){for(zi=mt;zi-- >0;)mr[zi]&&mr[zi].update(0,$e);Lr=1}else for(zi=0;zi<mt;zi++)mr[zi]&&mr[zi].update(0,$e);dr.isUpdating=!1}ea=0},po=["left","top",fi,Ri,Ir+us,Ir+Zr,Ir+pr,Ir+Wr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],la=po.concat([Mr,ho,"boxSizing","max"+Ts,"max"+Rs,"position",Ir,Ki,Ki+pr,Ki+Zr,Ki+us,Ki+Wr]),ys=function(De,mt,Ve,$e){if(!De._gsap.swappedIn){for(var Xn,Et=po.length,fn=mt.style,zt=De.style;Et--;)fn[Xn=po[Et]]=Ve[Xn];fn.position="absolute"===Ve.position?"absolute":"relative","inline"===Ve.display&&(fn.display="inline-block"),zt[fi]=zt[Ri]="auto",fn.flexBasis=Ve.flexBasis||"auto",fn.overflow="visible",fn.boxSizing="border-box",fn[Mr]=aa(De,xt)+Di,fn[ho]=aa(De,Zn)+Di,fn[Ki]=zt[Ir]=zt.top=zt.left="0",co($e),zt[Mr]=zt["max"+Ts]=Ve[Mr],zt[ho]=zt["max"+Rs]=Ve[ho],zt[Ki]=Ve[Ki],De.parentNode!==mt&&(De.parentNode.insertBefore(mt,De),mt.appendChild(De)),De._gsap.swappedIn=!0}},rl=/([A-Z])/g,co=function(De){if(De){var Et,fn,mt=De.t.style,Ve=De.length,$e=0;for((De.t._gsap||Pn.core.getCache(De.t)).uncache=1;$e<Ve;$e+=2)Et=De[$e],(fn=De[$e+1])?mt[Et]=fn:mt[Et]&&mt.removeProperty(Et.replace(rl,"-$1").toLowerCase())}},sr=function(De){for(var mt=la.length,Ve=De.style,$e=[],Et=0;Et<mt;Et++)$e.push(la[Et],Ve[la[Et]]);return $e.t=De,$e},Hi={left:0,top:0},Xl=function(De,mt,Ve,$e,Et,fn,zt,Xn,bi,Jr,$r,pi,nn,gr){Gr(De)&&(De=De(Xn)),ko(De)&&"max"===De.substr(0,3)&&(De=pi+("="===De.charAt(4)?Us("0"+De.substr(3),Ve):0));var he,_e,re,Qo=nn?nn.time():0;if(nn&&nn.seek(0),isNaN(De)||(De=+De),ht(De))nn&&(De=Pn.utils.mapRange(nn.scrollTrigger.start,nn.scrollTrigger.end,0,pi,De)),zt&&nl(zt,Ve,$e,!0);else{Gr(mt)&&(mt=mt(Xn));var lt,li,mi,lr,Ae=(De||"0").split(" ");re=qi(mt,Xn)||Ai,(!(lt=ss(re)||{})||!lt.left&&!lt.top)&&"none"===ts(re).display&&(lr=re.style.display,re.style.display="block",lt=ss(re),lr?re.style.display=lr:re.style.removeProperty("display")),li=Us(Ae[0],lt[$e.d]),mi=Us(Ae[1]||"0",Ve),De=lt[$e.p]-bi[$e.p]-Jr+li+Et-mi,zt&&nl(zt,mi,$e,Ve-mi<20||zt._isStart&&mi>20),Ve-=Ve-mi}if(gr&&(Xn[gr]=De||-.001,De<0&&(De=0)),fn){var ca=De+Ve,xs=fn._isStart;he="scroll"+$e.d2,nl(fn,ca,$e,xs&&ca>20||!xs&&($r?Math.max(Ai[he],_r[he]):fn.parentNode[he])<=ca+1),$r&&(bi=ss(zt),$r&&(fn.style[$e.op.p]=bi[$e.op.p]-$e.op.m-fn._offset+Di))}return nn&&re&&(he=ss(re),nn.seek(pi),_e=ss(re),nn._caScrollDist=he[$e.p]-_e[$e.p],De=De/nn._caScrollDist*pi),nn&&nn.seek(Qo),nn?De:Math.round(De)},$s=/(webkit|moz|length|cssText|inset)/i,Ja=function(De,mt,Ve,$e){if(De.parentNode!==mt){var fn,zt,Et=De.style;if(mt===Ai){for(fn in De._stOrig=Et.cssText,zt=ts(De))!+fn&&!$s.test(fn)&&zt[fn]&&"string"==typeof Et[fn]&&"0"!==fn&&(Et[fn]=zt[fn]);Et.top=Ve,Et.left=$e}else Et.cssText=De._stOrig;Pn.core.getCache(De).uncache=1,mt.appendChild(De)}},$o=function(De,mt,Ve){var $e=mt,Et=$e;return function(fn){var zt=Math.round(De());return zt!==$e&&zt!==Et&&Math.abs(zt-$e)>3&&Math.abs(zt-Et)>3&&(fn=zt,Ve&&Ve()),Et=$e,$e=Math.round(fn)}},Rl=function(De,mt,Ve){var $e={};$e[mt.p]="+="+Ve,Pn.set(De,$e)},ol=function(De,mt){var Ve=Lt(De,mt),$e="_scroll"+mt.p2,Et=function fn(zt,Xn,bi,Jr,$r){var pi=fn.tween,nn=Xn.onComplete,gr={};bi=bi||Ve();var Qo=$o(Ve,bi,function(){pi.kill(),fn.tween=0});return $r=Jr&&$r||0,Jr=Jr||zt-bi,pi&&pi.kill(),Xn[$e]=zt,Xn.inherit=!1,Xn.modifiers=gr,gr[$e]=function(){return Qo(bi+Jr*pi.ratio+$r*pi.ratio*pi.ratio)},Xn.onUpdate=function(){Se.cache++,fn.tween&&tr()},Xn.onComplete=function(){fn.tween=0,nn&&nn.call(pi)},pi=fn.tween=Pn.to(De,Xn)};return De[$e]=Ve,Ve.wheelHandler=function(){return Et.tween&&Et.tween.kill()&&(Et.tween=0)},er(De,"wheel",Ve.wheelHandler),dr.isTouch&&er(De,"touchmove",Ve.wheelHandler),Et},dr=function(){function kt(mt,Ve){to||kt.register(Pn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ar(this),this.init(mt,Ve)}return kt.prototype.init=function(Ve,$e){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),gs){var Qa,fs,Wa,$a,Na,_o,Bs,sl,yl,sn,wa,Tl,Qr,hs,Ho,As,ml,ra,$,Ce,se,ve,Ue,Xt,Qt,Mi,Oo,Co,mo,Ui,Je,Si,Es,Xo,To,uo,ua,Ta,oa,fn=(Ve=Qs(ko(Ve)||ht(Ve)||Ve.nodeType?{trigger:Ve}:Ve,dl)).onUpdate,zt=Ve.toggleClass,Xn=Ve.id,bi=Ve.onToggle,Jr=Ve.onRefresh,$r=Ve.scrub,pi=Ve.trigger,nn=Ve.pin,gr=Ve.pinSpacing,Qo=Ve.invalidateOnRefresh,he=Ve.anticipatePin,_e=Ve.onScrubComplete,re=Ve.onSnapComplete,Ae=Ve.once,lt=Ve.snap,li=Ve.pinReparent,mi=Ve.pinSpacer,lr=Ve.containerAnimation,ca=Ve.fastScrollEnd,xs=Ve.preventOverlaps,$i=Ve.horizontal||Ve.containerAnimation&&!1!==Ve.horizontal?xt:Zn,_s=!$r&&0!==$r,Or=qi(Ve.scroller||Gn),Ca=Pn.core.getCache(Or),ia=di(Or),Fa="fixed"===("pinType"in Ve?Ve.pinType:be(Or,"pinType")||ia&&"fixed"),bs=[Ve.onEnter,Ve.onLeave,Ve.onEnterBack,Ve.onLeaveBack],Cs=_s&&Ve.toggleActions.split(" "),Ea="markers"in Ve?Ve.markers:dl.markers,ga=ia?0:parseFloat(ts(Or)["border"+$i.p2+Ts])||0,Yt=this,vr=Ve.onRefreshInit&&function(){return Ve.onRefreshInit(Yt)},fr=function(De,mt,Ve){var $e=Ve.d,Et=Ve.d2,fn=Ve.a;return(fn=be(De,"getBoundingClientRect"))?function(){return fn()[$e]}:function(){return(mt?br(Et):De["client"+Et])||0}}(Or,ia,$i),za=(De=Or,!ia||~Ee.indexOf(De)?jr(De):function(){return Hi}),ln=0,Ji=0,ds=0,Ys=Lt(Or,$i);if(Yt._startClamp=Yt._endClamp=!1,Yt._dir=$i,he*=45,Yt.scroller=Or,Yt.scroll=lr?lr.time.bind(lr):Ys,$a=Ys(),Yt.vars=Ve,$e=$e||Ve.animation,"refreshPriority"in Ve&&(Vr=1,-9999===Ve.refreshPriority&&(Sn=Yt)),Ca.tweenScroll=Ca.tweenScroll||{top:ol(Or,Zn),left:ol(Or,xt)},Yt.tweenTo=Qa=Ca.tweenScroll[$i.p],Yt.scrubDuration=function(hi){(Es=ht(hi)&&hi)?Si?Si.duration(hi):Si=Pn.to($e,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Es,paused:!0,onComplete:function(){return _e&&_e(Yt)}}):(Si&&Si.progress(1).kill(),Si=0)},$e&&($e.vars.lazy=!1,$e._initted&&!Yt.isReverted||!1!==$e.vars.immediateRender&&!1!==Ve.immediateRender&&$e.duration()&&$e.render(0,!0,!0),Yt.animation=$e.pause(),$e.scrollTrigger=Yt,Yt.scrubDuration($r),Ui=0,Xn||(Xn=$e.vars.id)),lt&&((!ut(lt)||lt.push)&&(lt={snapTo:lt}),"scrollBehavior"in Ai.style&&Pn.set(ia?[Ai,_r]:Or,{scrollBehavior:"auto"}),Se.forEach(function(hi){return Gr(hi)&&hi.target===(ia?wi.scrollingElement||_r:Or)&&(hi.smooth=!1)}),Wa=Gr(lt.snapTo)?lt.snapTo:"labels"===lt.snapTo?function(De){return function(mt){return Pn.utils.snap(vs(De),mt)}}($e):"labelsDirectional"===lt.snapTo?function(De){return function(mt,Ve){return Uo(vs(De))(mt,Ve.direction)}}($e):!1!==lt.directional?function(hi,kr){return Uo(lt.snapTo)(hi,ki()-Ji<500?0:kr.direction)}:Pn.utils.snap(lt.snapTo),Xo=ut(Xo=lt.duration||{min:.1,max:2})?et(Xo.min,Xo.max):et(Xo,Xo),To=Pn.delayedCall(lt.delay||Es/2||.1,function(){var hi=Ys(),kr=ki()-Ji<500,nr=Qa.tween;if(!(kr||Math.abs(Yt.getVelocity())<10)||nr||tn||ln===hi)Yt.isActive&&ln!==hi&&To.restart(!0);else{var lo,Ao,Ur=(hi-_o)/hs,ns=$e&&!_s?$e.totalProgress():Ur,Ro=kr?0:(ns-Je)/(ki()-Dt)*1e3||0,Ds=Pn.utils.clamp(-Ur,1-Ur,vn(Ro/2)*Ro/.185),wr=Ur+(!1===lt.inertia?0:Ds),qa=lt.onStart,Ms=lt.onInterrupt,va=lt.onComplete;if(lo=Wa(wr,Yt),ht(lo)||(lo=wr),Ao=Math.max(0,Math.round(_o+lo*hs)),hi<=Bs&&hi>=_o&&Ao!==hi){if(nr&&!nr._initted&&nr.data<=vn(Ao-hi))return;!1===lt.inertia&&(Ds=lo-Ur),Qa(Ao,{duration:Xo(vn(.185*Math.max(vn(wr-ns),vn(lo-ns))/Ro/.05||0)),ease:lt.ease||"power3",data:vn(Ao-hi),onInterrupt:function(){return To.restart(!0)&&Ms&&Ms(Yt)},onComplete:function(){Yt.update(),ln=Ys(),$e&&!_s&&(Si?Si.resetTo("totalProgress",lo,$e._tTime/$e._tDur):$e.progress(lo)),Ui=Je=$e&&!_s?$e.totalProgress():Yt.progress,re&&re(Yt),va&&va(Yt)}},hi,Ds*hs,Ao-hi-Ds*hs),qa&&qa(Yt,Qa.tween)}}}).pause()),Xn&&(qs[Xn]=Yt),(oa=(pi=Yt.trigger=qi(pi||!0!==nn&&nn))&&pi._gsap&&pi._gsap.stRevert)&&(oa=oa(Yt)),nn=!0===nn?pi:qi(nn),ko(zt)&&(zt={targets:pi,className:zt}),nn&&(!1===gr||gr===Ir||(gr=!(!gr&&nn.parentNode&&nn.parentNode.style&&"flex"===ts(nn.parentNode).display)&&Ki),Yt.pin=nn,(fs=Pn.core.getCache(nn)).spacer?Ho=fs.pinState:(mi&&((mi=qi(mi))&&!mi.nodeType&&(mi=mi.current||mi.nativeElement),fs.spacerIsNative=!!mi,mi&&(fs.spacerState=sr(mi))),fs.spacer=ra=mi||wi.createElement("div"),ra.classList.add("pin-spacer"),Xn&&ra.classList.add("pin-spacer-"+Xn),fs.pinState=Ho=sr(nn)),!1!==Ve.force3D&&Pn.set(nn,{force3D:!0}),Yt.spacer=ra=fs.spacer,mo=ts(nn),Xt=mo[gr+$i.os2],Ce=Pn.getProperty(nn),se=Pn.quickSetter(nn,$i.a,Di),ys(nn,ra,mo),ml=sr(nn)),Ea){Tl=ut(Ea)?Qs(Ea,Il):Il,sn=fl("scroller-start",Xn,Or,$i,Tl,0),wa=fl("scroller-end",Xn,Or,$i,Tl,0,sn),$=sn["offset"+$i.op.d2];var Xa=qi(be(Or,"content")||Or);sl=this.markerStart=fl("start",Xn,Xa,$i,Tl,$,0,lr),yl=this.markerEnd=fl("end",Xn,Xa,$i,Tl,$,0,lr),lr&&(Ta=Pn.quickSetter([sl,yl],$i.a,Di)),!Fa&&(!Ee.length||!0!==be(Or,"fixedMarkers"))&&(function(De){var mt=ts(De).position;De.style.position="absolute"===mt||"fixed"===mt?mt:"relative"}(ia?Ai:Or),Pn.set([sn,wa],{force3D:!0}),Mi=Pn.quickSetter(sn,$i.a,Di),Co=Pn.quickSetter(wa,$i.a,Di))}if(lr){var Rr=lr.vars.onUpdate,Wi=lr.vars.onUpdateParams;lr.eventCallback("onUpdate",function(){Yt.update(0,0,1),Rr&&Rr.apply(lr,Wi||[])})}if(Yt.previous=function(){return mr[mr.indexOf(Yt)-1]},Yt.next=function(){return mr[mr.indexOf(Yt)+1]},Yt.revert=function(hi,kr){if(!kr)return Yt.kill(!0);var nr=!1!==hi||!Yt.enabled,Ur=cn;nr!==Yt.isReverted&&(nr&&(uo=Math.max(Ys(),Yt.scroll.rec||0),ds=Yt.progress,ua=$e&&$e.progress()),sl&&[sl,yl,sn,wa].forEach(function(ns){return ns.style.display=nr?"none":"block"}),nr&&(cn=Yt,Yt.update(nr)),nn&&(!li||!Yt.isActive)&&(nr?function(De,mt,Ve){co(Ve);var $e=De._gsap;if($e.spacerIsNative)co($e.spacerState);else if(De._gsap.swappedIn){var Et=mt.parentNode;Et&&(Et.insertBefore(De,mt),Et.removeChild(mt))}De._gsap.swappedIn=!1}(nn,ra,Ho):ys(nn,ra,ts(nn),Qt)),nr||Yt.update(nr),cn=Ur,Yt.isReverted=nr)},Yt.refresh=function(hi,kr,nr,Ur){if(!cn&&Yt.enabled||kr){if(nn&&hi&&io)return void er(kt,"scrollEnd",Ka);!Er&&vr&&vr(Yt),cn=Yt,Qa.tween&&!nr&&(Qa.tween.kill(),Qa.tween=0),Si&&Si.pause(),Qo&&$e&&$e.revert({kill:!1}).invalidate(),Yt.isReverted||Yt.revert(!0,!0),Yt._subPinOffset=!1;var da,Bi,Zs,We,T,L,V,X,ce,pe,xe,Be,Ke,ns=fr(),Ro=za(),Ds=lr?lr.duration():Zi(Or,$i),wr=hs<=.01,lo=0,Ao=Ur||0,Fr=ut(nr)?nr.end:Ve.end,qa=Ve.endTrigger||pi,Ms=ut(nr)?nr.start:Ve.start||(0!==Ve.start&&pi?nn?"0 0":"0 100%":0),va=Yt.pinnedContainer=Ve.pinnedContainer&&qi(Ve.pinnedContainer,Yt),sa=pi&&Math.max(0,mr.indexOf(Yt))||0,el=sa;for(Ea&&ut(nr)&&(Be=Pn.getProperty(sn,$i.p),Ke=Pn.getProperty(wa,$i.p));el-- >0;)(L=mr[el]).end||L.refresh(0,1)||(cn=Yt),(V=L.pin)&&(V===pi||V===nn||V===va)&&!L.isReverted&&(pe||(pe=[]),pe.unshift(L),L.revert(!0,!0)),L!==mr[el]&&(sa--,el--);for(Gr(Ms)&&(Ms=Ms(Yt)),Ms=Ss(Ms,"start",Yt),_o=Xl(Ms,pi,ns,$i,Ys(),sl,sn,Yt,Ro,ga,Fa,Ds,lr,Yt._startClamp&&"_startClamp")||(nn?-.001:0),Gr(Fr)&&(Fr=Fr(Yt)),ko(Fr)&&!Fr.indexOf("+=")&&(~Fr.indexOf(" ")?Fr=(ko(Ms)?Ms.split(" ")[0]:"")+Fr:(lo=Us(Fr.substr(2),ns),Fr=ko(Ms)?Ms:(lr?Pn.utils.mapRange(0,lr.duration(),lr.scrollTrigger.start,lr.scrollTrigger.end,_o):_o)+lo,qa=pi)),Fr=Ss(Fr,"end",Yt),Bs=Math.max(_o,Xl(Fr||(qa?"100% 0":Ds),qa,ns,$i,Ys()+lo,yl,wa,Yt,Ro,ga,Fa,Ds,lr,Yt._endClamp&&"_endClamp"))||-.001,lo=0,el=sa;el--;)(V=(L=mr[el]).pin)&&L.start-L._pinPush<=_o&&!lr&&L.end>0&&(da=L.end-(Yt._startClamp?Math.max(0,L.start):L.start),(V===pi&&L.start-L._pinPush<_o||V===va)&&isNaN(Ms)&&(lo+=da*(1-L.progress)),V===nn&&(Ao+=da));if(_o+=lo,Bs+=lo,Yt._startClamp&&(Yt._startClamp+=lo),Yt._endClamp&&!Er&&(Yt._endClamp=Bs||-.001,Bs=Math.min(Bs,Zi(Or,$i))),hs=Bs-_o||(_o-=.01)&&.001,wr&&(ds=Pn.utils.clamp(0,1,Pn.utils.normalize(_o,Bs,uo))),Yt._pinPush=Ao,sl&&lo&&((da={})[$i.a]="+="+lo,va&&(da[$i.p]="-="+Ys()),Pn.set([sl,yl],da)),!nn||Zo&&Yt.end>=Zi(Or,$i)){if(pi&&Ys()&&!lr)for(Bi=pi.parentNode;Bi&&Bi!==Ai;)Bi._pinOffset&&(_o-=Bi._pinOffset,Bs-=Bi._pinOffset),Bi=Bi.parentNode}else da=ts(nn),We=$i===Zn,Zs=Ys(),ve=parseFloat(Ce($i.a))+Ao,!Ds&&Bs>1&&(xe={style:xe=(ia?wi.scrollingElement||_r:Or).style,value:xe["overflow"+$i.a.toUpperCase()]},ia&&"scroll"!==ts(Ai)["overflow"+$i.a.toUpperCase()]&&(xe.style["overflow"+$i.a.toUpperCase()]="scroll")),ys(nn,ra,da),ml=sr(nn),Bi=ss(nn,!0),X=Fa&&Lt(Or,We?xt:Zn)(),gr?((Qt=[gr+$i.os2,hs+Ao+Di]).t=ra,(el=gr===Ki?aa(nn,$i)+hs+Ao:0)&&(Qt.push($i.d,el+Di),"auto"!==ra.style.flexBasis&&(ra.style.flexBasis=el+Di)),co(Qt),va&&mr.forEach(function(ot){ot.pin===va&&!1!==ot.vars.pinSpacing&&(ot._subPinOffset=!0)}),Fa&&Ys(uo)):(el=aa(nn,$i))&&"auto"!==ra.style.flexBasis&&(ra.style.flexBasis=el+Di),Fa&&((T={top:Bi.top+(We?Zs-_o:X)+Di,left:Bi.left+(We?X:Zs-_o)+Di,boxSizing:"border-box",position:"fixed"})[Mr]=T["max"+Ts]=Math.ceil(Bi.width)+Di,T[ho]=T["max"+Rs]=Math.ceil(Bi.height)+Di,T[Ir]=T[Ir+pr]=T[Ir+Zr]=T[Ir+us]=T[Ir+Wr]="0",T[Ki]=da[Ki],T[Ki+pr]=da[Ki+pr],T[Ki+Zr]=da[Ki+Zr],T[Ki+us]=da[Ki+us],T[Ki+Wr]=da[Ki+Wr],As=function(De,mt,Ve){for(var zt,$e=[],Et=De.length,fn=Ve?8:0;fn<Et;fn+=2)$e.push(zt=De[fn],zt in mt?mt[zt]:De[fn+1]);return $e.t=De.t,$e}(Ho,T,li),Er&&Ys(0)),$e?(ce=$e._initted,no(1),$e.render($e.duration(),!0,!0),Ue=Ce($i.a)-ve+hs+Ao,Oo=Math.abs(hs-Ue)>1,Fa&&Oo&&As.splice(As.length-2,2),$e.render(0,!0,!0),ce||$e.invalidate(!0),$e.parent||$e.totalTime($e.totalTime()),no(0)):Ue=hs,xe&&(xe.value?xe.style["overflow"+$i.a.toUpperCase()]=xe.value:xe.style.removeProperty("overflow-"+$i.a));pe&&pe.forEach(function(ot){return ot.revert(!1,!0)}),Yt.start=_o,Yt.end=Bs,$a=Na=Er?uo:Ys(),!lr&&!Er&&($a<uo&&Ys(uo),Yt.scroll.rec=0),Yt.revert(!1,!0),Ji=ki(),To&&(ln=-1,To.restart(!0)),cn=0,$e&&_s&&($e._initted||ua)&&$e.progress()!==ua&&$e.progress(ua||0,!0).render($e.time(),!0,!0),(wr||ds!==Yt.progress||lr||Qo||$e&&!$e._initted)&&($e&&!_s&&$e.totalProgress(lr&&_o<-.001&&!ds?Pn.utils.normalize(_o,Bs,0):ds,!0),Yt.progress=wr||($a-_o)/hs===ds?0:ds),nn&&gr&&(ra._pinOffset=Math.round(Yt.progress*Ue)),Si&&Si.invalidate(),isNaN(Be)||(Be-=Pn.getProperty(sn,$i.p),Ke-=Pn.getProperty(wa,$i.p),Rl(sn,$i,Be),Rl(sl,$i,Be-(Ur||0)),Rl(wa,$i,Ke),Rl(yl,$i,Ke-(Ur||0))),wr&&!Er&&Yt.update(),Jr&&!Er&&!Qr&&(Qr=!0,Jr(Yt),Qr=!1)}},Yt.getVelocity=function(){return(Ys()-Na)/(ki()-Dt)*1e3||0},Yt.endAnimation=function(){nt(Yt.callbackAnimation),$e&&(Si?Si.progress(1):$e.paused()?_s||nt($e,Yt.direction<0,1):nt($e,$e.reversed()))},Yt.labelToScroll=function(hi){return $e&&$e.labels&&(_o||Yt.refresh()||_o)+$e.labels[hi]/$e.duration()*hs||0},Yt.getTrailing=function(hi){var kr=mr.indexOf(Yt),nr=Yt.direction>0?mr.slice(0,kr).reverse():mr.slice(kr+1);return(ko(hi)?nr.filter(function(Ur){return Ur.vars.preventOverlaps===hi}):nr).filter(function(Ur){return Yt.direction>0?Ur.end<=_o:Ur.start>=Bs})},Yt.update=function(hi,kr,nr){if(!lr||nr||hi){var wr,Ao,Fr,qa,Ms,va,sa,Ur=!0===Er?uo:Yt.scroll(),ns=hi?0:(Ur-_o)/hs,Ro=ns<0?0:ns>1?1:ns||0,Ds=Yt.progress;if(kr&&(Na=$a,$a=lr?Ys():Ur,lt&&(Je=Ui,Ui=$e&&!_s?$e.totalProgress():Ro)),he&&nn&&!cn&&!_i&&io&&(!Ro&&_o<Ur+(Ur-Na)/(ki()-Dt)*he?Ro=1e-4:1===Ro&&Bs>Ur+(Ur-Na)/(ki()-Dt)*he&&(Ro=.9999)),Ro!==Ds&&Yt.enabled){if(qa=(Ms=(wr=Yt.isActive=!!Ro&&Ro<1)!=(!!Ds&&Ds<1))||!!Ro!=!!Ds,Yt.direction=Ro>Ds?1:-1,Yt.progress=Ro,qa&&!cn&&(Ao=Ro&&!Ds?0:1===Ro?1:1===Ds?2:3,_s&&(Fr=!Ms&&"none"!==Cs[Ao+1]&&Cs[Ao+1]||Cs[Ao],sa=$e&&("complete"===Fr||"reset"===Fr||Fr in $e))),xs&&(Ms||sa)&&(sa||$r||!$e)&&(Gr(xs)?xs(Yt):Yt.getTrailing(xs).forEach(function(Zs){return Zs.endAnimation()})),_s||(!Si||cn||_i?$e&&$e.totalProgress(Ro,!(!cn||!Ji&&!hi)):(Si._dp._time-Si._start!==Si._time&&Si.render(Si._dp._time-Si._start),Si.resetTo?Si.resetTo("totalProgress",Ro,$e._tTime/$e._tDur):(Si.vars.totalProgress=Ro,Si.invalidate().restart()))),nn)if(hi&&gr&&(ra.style[gr+$i.os2]=Xt),Fa){if(qa){if(va=!hi&&Ro>Ds&&Bs+1>Ur&&Ur+1>=Zi(Or,$i),li)if(hi||!wr&&!va)Ja(nn,ra);else{var el=ss(nn,!0),da=Ur-_o;Ja(nn,Ai,el.top+($i===Zn?da:0)+Di,el.left+($i===Zn?0:da)+Di)}co(wr||va?As:ml),Oo&&Ro<1&&wr||se(ve+(1!==Ro||va?0:Ue))}}else se(ct(ve+Ue*Ro));lt&&!Qa.tween&&!cn&&!_i&&To.restart(!0),zt&&(Ms||Ae&&Ro&&(Ro<1||!Ha))&&dt(zt.targets).forEach(function(Zs){return Zs.classList[wr||Ae?"add":"remove"](zt.className)}),fn&&!_s&&!hi&&fn(Yt),qa&&!cn?(_s&&(sa&&("complete"===Fr?$e.pause().totalProgress(1):"reset"===Fr?$e.restart(!0).pause():"restart"===Fr?$e.restart(!0):$e[Fr]()),fn&&fn(Yt)),(Ms||!Ha)&&(bi&&Ms&&Pt(Yt,bi),bs[Ao]&&Pt(Yt,bs[Ao]),Ae&&(1===Ro?Yt.kill(!1,1):bs[Ao]=0),Ms||bs[Ao=1===Ro?1:3]&&Pt(Yt,bs[Ao])),ca&&!wr&&Math.abs(Yt.getVelocity())>(ht(ca)?ca:2500)&&(nt(Yt.callbackAnimation),Si?Si.progress(1):nt($e,"reverse"===Fr?1:!Ro,1))):_s&&fn&&!cn&&fn(Yt)}if(Co){var Bi=lr?Ur/lr.duration()*(lr._caScrollDist||0):Ur;Mi(Bi+(sn._isFlipped?1:0)),Co(Bi)}Ta&&Ta(-Ur/lr.duration()*(lr._caScrollDist||0))}},Yt.enable=function(hi,kr){Yt.enabled||(Yt.enabled=!0,er(Or,"resize",Oa),ia||er(Or,"scroll",Sa),vr&&er(kt,"refreshInit",vr),!1!==hi&&(Yt.progress=ds=0,$a=Na=ln=Ys()),!1!==kr&&Yt.refresh())},Yt.getTween=function(hi){return hi&&Qa?Qa.tween:Si},Yt.setPositions=function(hi,kr,nr,Ur){if(lr){var ns=lr.scrollTrigger,Ro=lr.duration(),Ds=ns.end-ns.start;hi=ns.start+Ds*hi/Ro,kr=ns.start+Ds*kr/Ro}Yt.refresh(!1,!1,{start:ro(hi,nr&&!!Yt._startClamp),end:ro(kr,nr&&!!Yt._endClamp)},Ur),Yt.update()},Yt.adjustPinSpacing=function(hi){if(Qt&&hi){var kr=Qt.indexOf($i.d)+1;Qt[kr]=parseFloat(Qt[kr])+hi+Di,Qt[1]=parseFloat(Qt[1])+hi+Di,co(Qt)}},Yt.disable=function(hi,kr){if(Yt.enabled&&(!1!==hi&&Yt.revert(!0,!0),Yt.enabled=Yt.isActive=!1,kr||Si&&Si.pause(),uo=0,fs&&(fs.uncache=1),vr&&Ko(kt,"refreshInit",vr),To&&(To.pause(),Qa.tween&&Qa.tween.kill()&&(Qa.tween=0)),!ia)){for(var nr=mr.length;nr--;)if(mr[nr].scroller===Or&&mr[nr]!==Yt)return;Ko(Or,"resize",Oa),ia||Ko(Or,"scroll",Sa)}},Yt.kill=function(hi,kr){Yt.disable(hi,kr),Si&&!kr&&Si.kill(),Xn&&delete qs[Xn];var nr=mr.indexOf(Yt);nr>=0&&mr.splice(nr,1),nr===zi&&Lr>0&&zi--,nr=0,mr.forEach(function(Ur){return Ur.scroller===Yt.scroller&&(nr=1)}),nr||Er||(Yt.scroll.rec=0),$e&&($e.scrollTrigger=null,hi&&$e.revert({kill:!1}),kr||$e.kill()),sl&&[sl,yl,sn,wa].forEach(function(Ur){return Ur.parentNode&&Ur.parentNode.removeChild(Ur)}),Sn===Yt&&(Sn=0),nn&&(fs&&(fs.uncache=1),nr=0,mr.forEach(function(Ur){return Ur.pin===nn&&nr++}),nr||(fs.spacer=0)),Ve.onKill&&Ve.onKill(Yt)},mr.push(Yt),Yt.enable(!1,!1),oa&&oa(Yt),$e&&$e.add&&!hs){var Eo=Yt.update;Yt.update=function(){Yt.update=Eo,Se.cache++,_o||Bs||Yt.refresh()},Pn.delayedCall(.01,Yt.update),hs=.01,_o=Bs=0}else Yt.refresh();nn&&function(){if(as!==na){var De=as=na;requestAnimationFrame(function(){return De===na&&Ws(!0)})}}()}else this.update=this.refresh=this.kill=ze;var De},kt.register=function(Ve){return to||(Pn=Ve||Qn(),Wt()&&window.document&&kt.enable(),to=gs),to},kt.defaults=function(Ve){if(Ve)for(var $e in Ve)dl[$e]=Ve[$e];return dl},kt.disable=function(Ve,$e){gs=0,mr.forEach(function(fn){return fn[$e?"kill":"disable"](Ve)}),Ko(Gn,"wheel",Sa),Ko(wi,"scroll",Sa),clearInterval(It),Ko(wi,"touchcancel",ze),Ko(Ai,"touchstart",ze),ks(Ko,wi,"pointerdown,touchstart,mousedown",Gt),ks(Ko,wi,"pointerup,touchend,mouseup",Bt),Lo.kill(),ha(Ko);for(var Et=0;Et<Se.length;Et+=3)Io(Ko,Se[Et],Se[Et+1]),Io(Ko,Se[Et],Se[Et+2])},kt.enable=function(){if(Gn=window,wi=document,_r=wi.documentElement,Ai=wi.body,Pn&&(dt=Pn.utils.toArray,et=Pn.utils.clamp,ar=Pn.core.context||ze,no=Pn.core.suppressOverwrites||ze,xo=Gn.history.scrollRestoration||"auto",ma=Gn.pageYOffset||0,Pn.core.globals("ScrollTrigger",kt),Ai)){gs=1,(zr=document.createElement("div")).style.height="100vh",zr.style.position="absolute",Va(),Ls(),$n.register(Pn),kt.isTouch=$n.isTouch,oo=$n.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),So=1===$n.isTouch,er(Gn,"wheel",Sa),Yr=[Gn,wi,_r,Ai],Pn.matchMedia?(kt.matchMedia=function(bi){var $r,Jr=Pn.matchMedia();for($r in bi)Jr.add($r,bi[$r]);return Jr},Pn.addEventListener("matchMediaInit",function(){return Hr()}),Pn.addEventListener("matchMediaRevert",function(){return Ga()}),Pn.addEventListener("matchMedia",function(){Ws(0,1),ta("matchMedia")}),Pn.matchMedia().add("(orientation: portrait)",function(){return il(),il})):console.warn("Requires GSAP 3.11.0 or later"),il(),er(wi,"scroll",Sa);var zt,Xn,Ve=Ai.hasAttribute("style"),$e=Ai.style,Et=$e.borderTopStyle,fn=Pn.core.Animation.prototype;for(fn.revert||Object.defineProperty(fn,"revert",{value:function(){return this.time(-.01,!0)}}),$e.borderTopStyle="solid",zt=ss(Ai),Zn.m=Math.round(zt.top+Zn.sc())||0,xt.m=Math.round(zt.left+xt.sc())||0,Et?$e.borderTopStyle=Et:$e.removeProperty("border-top-style"),Ve||(Ai.setAttribute("style",""),Ai.removeAttribute("style")),It=setInterval(Nr,250),Pn.delayedCall(.5,function(){return _i=0}),er(wi,"touchcancel",ze),er(Ai,"touchstart",ze),ks(er,wi,"pointerdown,touchstart,mousedown",Gt),ks(er,wi,"pointerup,touchend,mouseup",Bt),Br=Pn.utils.checkPrefix("transform"),la.push(Br),to=ki(),Lo=Pn.delayedCall(.2,Ws).pause(),ci=[wi,"visibilitychange",function(){var bi=Gn.innerWidth,Jr=Gn.innerHeight;wi.hidden?(oi=bi,Rn=Jr):(oi!==bi||Rn!==Jr)&&Oa()},wi,"DOMContentLoaded",Ws,Gn,"load",Ws,Gn,"resize",Oa],ha(er),mr.forEach(function(bi){return bi.enable(0,1)}),Xn=0;Xn<Se.length;Xn+=3)Io(Ko,Se[Xn],Se[Xn+1]),Io(Ko,Se[Xn],Se[Xn+2])}},kt.config=function(Ve){"limitCallbacks"in Ve&&(Ha=!!Ve.limitCallbacks);var $e=Ve.syncInterval;$e&&clearInterval(It)||(It=$e)&&setInterval(Nr,$e),"ignoreMobileResize"in Ve&&(So=1===kt.isTouch&&Ve.ignoreMobileResize),"autoRefreshEvents"in Ve&&(ha(Ko)||ha(er,Ve.autoRefreshEvents||"none"),wo=-1===(Ve.autoRefreshEvents+"").indexOf("resize"))},kt.scrollerProxy=function(Ve,$e){var Et=qi(Ve),fn=Se.indexOf(Et),zt=di(Et);~fn&&Se.splice(fn,zt?6:2),$e&&(zt?Ee.unshift(Gn,$e,Ai,$e,_r,$e):Ee.unshift(Et,$e))},kt.clearMatchMedia=function(Ve){mr.forEach(function($e){return $e._ctx&&$e._ctx.query===Ve&&$e._ctx.kill(!0,!0)})},kt.isInViewport=function(Ve,$e,Et){var fn=(ko(Ve)?qi(Ve):Ve).getBoundingClientRect(),zt=fn[Et?Mr:ho]*$e||0;return Et?fn.right-zt>0&&fn.left+zt<Gn.innerWidth:fn.bottom-zt>0&&fn.top+zt<Gn.innerHeight},kt.positionInViewport=function(Ve,$e,Et){ko(Ve)&&(Ve=qi(Ve));var fn=Ve.getBoundingClientRect(),zt=fn[Et?Mr:ho],Xn=null==$e?zt/2:$e in El?El[$e]*zt:~$e.indexOf("%")?parseFloat($e)*zt/100:parseFloat($e)||0;return Et?(fn.left+Xn)/Gn.innerWidth:(fn.top+Xn)/Gn.innerHeight},kt.killAll=function(Ve){if(mr.slice(0).forEach(function(Et){return"ScrollSmoother"!==Et.vars.id&&Et.kill()}),!0!==Ve){var $e=so.killAll||[];so={},$e.forEach(function(Et){return Et()})}},kt}();dr.version="3.12.7",dr.saveStyles=function(kt){return kt?dt(kt).forEach(function(De){if(De&&De.style){var mt=Jo.indexOf(De);mt>=0&&Jo.splice(mt,5),Jo.push(De,De.style.cssText,De.getBBox&&De.getAttribute("transform"),Pn.core.getCache(De),ar())}}):Jo},dr.revert=function(kt,De){return Hr(!kt,De)},dr.create=function(kt,De){return new dr(kt,De)},dr.refresh=function(kt){return kt?Oa(!0):(to||dr.register())&&Ws(!0)},dr.update=function(kt){return++Se.cache&&tr(!0===kt?2:0)},dr.clearScrollMemory=jo,dr.maxScroll=function(kt,De){return Zi(kt,De?xt:Zn)},dr.getScrollFunc=function(kt,De){return Lt(qi(kt),De?xt:Zn)},dr.getById=function(kt){return qs[kt]},dr.getAll=function(){return mr.filter(function(kt){return"ScrollSmoother"!==kt.vars.id})},dr.isScrolling=function(){return!!io},dr.snapDirectional=Uo,dr.addEventListener=function(kt,De){var mt=so[kt]||(so[kt]=[]);~mt.indexOf(De)||mt.push(De)},dr.removeEventListener=function(kt,De){var mt=so[kt],Ve=mt&&mt.indexOf(De);Ve>=0&&mt.splice(Ve,1)},dr.batch=function(kt,De){var zt,mt=[],Ve={},$e=De.interval||.016,Et=De.batchMax||1e9,fn=function(bi,Jr){var $r=[],pi=[],nn=Pn.delayedCall($e,function(){Jr($r,pi),$r=[],pi=[]}).pause();return function(gr){$r.length||nn.restart(!0),$r.push(gr.trigger),pi.push(gr),Et<=$r.length&&nn.progress(1)}};for(zt in De)Ve[zt]="on"===zt.substr(0,2)&&Gr(De[zt])&&"onRefreshInit"!==zt?fn(0,De[zt]):De[zt];return Gr(Et)&&(Et=Et(),er(dr,"refresh",function(){return Et=De.batchMax()})),dt(kt).forEach(function(Xn){var bi={};for(zt in Ve)bi[zt]=Ve[zt];bi.trigger=Xn,mt.push(dr.create(bi))}),mt};var Kr,hl=function(De,mt,Ve,$e){return mt>$e?De($e):mt<0&&De(0),Ve>$e?($e-mt)/(Ve-mt):Ve<0?mt/(mt-Ve):1},Fl=function kt(De,mt){!0===mt?De.style.removeProperty("touch-action"):De.style.touchAction=!0===mt?"auto":mt?"pan-"+mt+($n.isTouch?" pinch-zoom":""):"none",De===_r&&kt(Ai,mt)},Ra={auto:1,scroll:1},wl=function(De){var Xn,mt=De.event,Ve=De.target,$e=De.axis,Et=(mt.changedTouches?mt.changedTouches[0]:mt).target,fn=Et._gsap||Pn.core.getCache(Et),zt=ki();if(!fn._isScrollT||zt-fn._isScrollT>2e3){for(;Et&&Et!==Ai&&(Et.scrollHeight<=Et.clientHeight&&Et.scrollWidth<=Et.clientWidth||!Ra[(Xn=ts(Et)).overflowY]&&!Ra[Xn.overflowX]);)Et=Et.parentNode;fn._isScroll=Et&&Et!==Ve&&!di(Et)&&(Ra[(Xn=ts(Et)).overflowY]||Ra[Xn.overflowX]),fn._isScrollT=zt}(fn._isScroll||"x"===$e)&&(mt.stopPropagation(),mt._gsapAllow=!0)},Xs=function(De,mt,Ve,$e){return $n.create({target:De,capture:!0,debounce:!1,lockAxis:!0,type:mt,onWheel:$e=$e&&wl,onPress:$e,onDrag:$e,onScroll:$e,onEnable:function(){return Ve&&er(wi,$n.eventTypes[0],Yl,!1,!0)},onDisable:function(){return Ko(wi,$n.eventTypes[0],Yl,!0)}})},pl=/(input|label|select|textarea)/i,Yl=function(De){var mt=pl.test(De.target.tagName);(mt||Kr)&&(De._gsapAllow=!0,Kr=mt)};dr.sort=function(kt){if(Gr(kt))return mr.sort(kt);var De=Gn.pageYOffset||0;return dr.getAll().forEach(function(mt){return mt._sortY=mt.trigger?De+mt.trigger.getBoundingClientRect().top:mt.start+Gn.innerHeight}),mr.sort(kt||function(mt,Ve){return-1e6*(mt.vars.refreshPriority||0)+(mt.vars.containerAnimation?1e6:mt._sortY)-((Ve.vars.containerAnimation?1e6:Ve._sortY)+-1e6*(Ve.vars.refreshPriority||0))})},dr.observe=function(kt){return new $n(kt)},dr.normalizeScroll=function(kt){if(typeof kt>"u")return Xi;if(!0===kt&&Xi)return Xi.enable();if(!1===kt)return Xi&&Xi.kill(),void(Xi=kt);var De=kt instanceof $n?kt:function(De){ut(De)||(De={}),De.preventDefault=De.isNormalizer=De.allowClicks=!0,De.type||(De.type="wheel,touch"),De.debounce=!!De.debounce,De.id=De.id||"normalizer";var zt,Xn,Ae,lt,Or,Ca,ia,Fa,Ve=De.normalizeScrollX,$e=De.momentum,Et=De.allowNestedScroll,fn=De.onRelease,bi=qi(De.target)||_r,Jr=Pn.core.globals().ScrollSmoother,$r=Jr&&Jr.get(),pi=oo&&(De.content&&qi(De.content)||$r&&!1!==De.content&&!$r.smooth()&&$r.content()),nn=Lt(bi,Zn),gr=Lt(bi,xt),Qo=1,he=($n.isTouch&&Gn.visualViewport?Gn.visualViewport.scale*Gn.visualViewport.width:Gn.outerWidth)/Gn.innerWidth,_e=0,re=Gr($e)?function(){return $e(zt)}:function(){return $e||2.8},li=Xs(bi,De.type,!0,Et),mi=function(){return lt=!1},lr=ze,ca=ze,xs=function(){Xn=Zi(bi,Zn),ca=et(oo?1:0,Xn),Ve&&(lr=et(0,Zi(bi,xt))),Ae=na},$i=function(){pi._gsap.y=ct(parseFloat(pi._gsap.y)+nn.offset)+"px",pi.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(pi._gsap.y)+", 0, 1)",nn.offset=nn.cacheID=0},bs=function(){xs(),Or.isActive()&&Or.vars.scrollY>Xn&&(nn()>Xn?Or.progress(1)&&nn(Xn):Or.resetTo("scrollY",Xn))};return pi&&Pn.set(pi,{y:"+=0"}),De.ignoreCheck=function(Cs){return oo&&"touchmove"===Cs.type&&function(){if(lt){requestAnimationFrame(mi);var Ea=ct(zt.deltaY/2),ga=ca(nn.v-Ea);if(pi&&ga!==nn.v+nn.offset){nn.offset=ga-nn.v;var Yt=ct((parseFloat(pi&&pi._gsap.y)||0)-nn.offset);pi.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Yt+", 0, 1)",pi._gsap.y=Yt+"px",nn.cacheID=Se.cache,tr()}return!0}nn.offset&&$i(),lt=!0}()||Qo>1.05&&"touchstart"!==Cs.type||zt.isGesturing||Cs.touches&&Cs.touches.length>1},De.onPress=function(){lt=!1;var Cs=Qo;Qo=ct((Gn.visualViewport&&Gn.visualViewport.scale||1)/he),Or.pause(),Cs!==Qo&&Fl(bi,Qo>1.01||!Ve&&"x"),Ca=gr(),ia=nn(),xs(),Ae=na},De.onRelease=De.onGestureStart=function(Cs,Ea){if(nn.offset&&$i(),Ea){Se.cache++;var Yt,vr,ga=re();Ve&&(Yt=gr(),ga*=hl(gr,Yt,vr=Yt+.05*ga*-Cs.velocityX/.227,Zi(bi,xt)),Or.vars.scrollX=lr(vr)),Yt=nn(),ga*=hl(nn,Yt,vr=Yt+.05*ga*-Cs.velocityY/.227,Zi(bi,Zn)),Or.vars.scrollY=ca(vr),Or.invalidate().duration(ga).play(.01),(oo&&Or.vars.scrollY>=Xn||Yt>=Xn-1)&&Pn.to({},{onUpdate:bs,duration:ga})}else Fa.restart(!0);fn&&fn(Cs)},De.onWheel=function(){Or._ts&&Or.pause(),ki()-_e>1e3&&(Ae=0,_e=ki())},De.onChange=function(Cs,Ea,ga,Yt,vr){if(na!==Ae&&xs(),Ea&&Ve&&gr(lr(Yt[2]===Ea?Ca+(Cs.startX-Cs.x):gr()+Ea-Yt[1])),ga){nn.offset&&$i();var fr=vr[2]===ga,za=fr?ia+Cs.startY-Cs.y:nn()+ga-vr[1],ln=ca(za);fr&&za!==ln&&(ia+=ln-za),nn(ln)}(ga||Ea)&&tr()},De.onEnable=function(){Fl(bi,!Ve&&"x"),dr.addEventListener("refresh",bs),er(Gn,"resize",bs),nn.smooth&&(nn.target.style.scrollBehavior="auto",nn.smooth=gr.smooth=!1),li.enable()},De.onDisable=function(){Fl(bi,!0),Ko(Gn,"resize",bs),dr.removeEventListener("refresh",bs),li.kill()},De.lockAxis=!1!==De.lockAxis,(zt=new $n(De)).iOS=oo,oo&&!nn()&&nn(1),oo&&Pn.ticker.add(ze),Fa=zt._dc,Or=Pn.to(zt,{ease:"power4",paused:!0,inherit:!1,scrollX:Ve?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:$o(nn,nn(),function(){return Or.pause()})},onUpdate:tr,onComplete:Fa.vars.onComplete}),zt}(kt);return Xi&&Xi.target===De.target&&Xi.kill(),di(De.target)&&(Xi=De),De},dr.core={_getVelocityProp:Rt,_inputObserver:Xs,_scrollers:Se,_proxies:Ee,bridge:{ss:function(){io||ta("scrollStart"),io=ki()},ref:function(){return cn}}},Qn()&&Pn.registerPlugin(dr)},9777:(Ge,u,_)=>{"use strict";function M(We){if(void 0===We)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We}function K(We,T){We.prototype=Object.create(T.prototype),We.prototype.constructor=We,We.__proto__=T}_.r(u),_.d(u,{Back:()=>mi,Bounce:()=>ca,CSSPlugin:()=>da,Circ:()=>_s,Cubic:()=>_e,Elastic:()=>li,Expo:()=>$i,Linear:()=>Qo,Power0:()=>Jr,Power1:()=>$r,Power2:()=>pi,Power3:()=>nn,Power4:()=>gr,Quad:()=>he,Quart:()=>re,Quint:()=>Ae,Sine:()=>xs,SteppedEase:()=>lr,Strong:()=>lt,TimelineLite:()=>ls,TimelineMax:()=>ls,TweenLite:()=>sr,TweenMax:()=>Zs,default:()=>Bi,gsap:()=>Bi});var R,y,h,xt,Zn,qi,Lt,on,dt,Uo,mr,Be,Ke,ot,Ft,Kt,qt,We,T,L,V,X,ce,pe,xe,gn,G={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},W={duration:.5,overwrite:!1,delay:0},E=1e8,P=1/E,F=2*Math.PI,B=F/4,k=0,ne=Math.sqrt,q=Math.cos,de=Math.sin,ge=function(T){return"string"==typeof T},Oe=function(T){return"function"==typeof T},Qe=function(T){return"number"==typeof T},rt=function(T){return typeof T>"u"},Se=function(T){return"object"==typeof T},Ee=function(T){return!1!==T},Ne=function(){return typeof window<"u"},Ze=function(T){return Oe(T)||ge(T)},je="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},be=Array.isArray,qe=/(?:-?\.?\d|\.)+/gi,bt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Nt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_t=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,en=/[+-]=-?[.\d]+/,rn=/[^,'"\[\]\s]+/gi,an=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Rt={},Ut={},In=function(T){return(Ut=xo(T,Rt))&&bi},_n=function(T,L){return console.warn("Invalid property",T,"set to",L,"Missing plugin? gsap.registerPlugin()")},$n=function(T,L){return!L&&console.warn(T)},Pn=function(T,L){return T&&(Rt[T]=L)&&Ut&&(Ut[T]=L)||Rt},to=function(){return 0},Gn={suppressEvents:!0,isStart:!0,kill:!1},wi={suppressEvents:!0,kill:!1},_r={suppressEvents:!0},Ai={},Yr=[],Lo={},et={},Dt={},It=30,cn=[],tn="",Br=function(T){var V,X,L=T[0];if(Se(L)||Oe(L)||(T=[T]),!(V=(L._gsap||{}).harness)){for(X=cn.length;X--&&!cn[X].targetTest(L););V=cn[X]}for(X=T.length;X--;)T[X]&&(T[X]._gsap||(T[X]._gsap=new na(T[X],V)))||T.splice(X,1);return T},zi=function(T){return T._gsap||Br(fi(T))[0]._gsap},oi=function(T,L,V){return(V=T[L])&&Oe(V)?T[L]():rt(V)&&T.getAttribute&&T.getAttribute(L)||V},Rn=function(T,L){return(T=T.split(",")).forEach(L)||T},ci=function(T){return Math.round(1e5*T)/1e5||0},Vr=function(T){return Math.round(1e7*T)/1e7||0},no=function(T,L){var V=L.charAt(0),X=parseFloat(L.substr(2));return T=parseFloat(T),"+"===V?T+X:"-"===V?T-X:"*"===V?T*X:T/X},wo=function(T,L){for(var V=L.length,X=0;T.indexOf(L[X])<0&&++X<V;);return X<V},Xi=function(){var V,X,T=Yr.length,L=Yr.slice(0);for(Lo={},Yr.length=0,V=0;V<T;V++)(X=L[V])&&X._lazy&&(X.render(X._lazy[0],X._lazy[1],!0)._lazy=0)},So=function(T,L,V,X){Yr.length&&!y&&Xi(),T.render(L,V,X||y&&L<0&&(T._initted||T._startAt)),Yr.length&&!y&&Xi()},zo=function(T){var L=parseFloat(T);return(L||0===L)&&(T+"").match(rn).length<2?L:ge(T)?T.trim():T},vi=function(T){return T},oo=function(T,L){for(var V in L)V in T||(T[V]=L[V]);return T},xo=function(T,L){for(var V in L)T[V]=L[V];return T},zr=function We(T,L){for(var V in L)"__proto__"!==V&&"constructor"!==V&&"prototype"!==V&&(T[V]=Se(L[V])?We(T[V]||(T[V]={}),L[V]):L[V]);return T},Ns=function(T,L){var X,V={};for(X in T)X in L||(V[X]=T[X]);return V},xi=function(T){var L=T.parent||xt,V=T.keyframes?function(T){return function(L,V){for(var X in V)X in L||"duration"===X&&T||"ease"===X||(L[X]=V[X])}}(be(T.keyframes)):oo;if(Ee(T.inherit))for(;L;)V(T,L.vars.defaults),L=L.parent||L._dp;return T},Ha=function(T,L,V,X,ce){void 0===V&&(V="_first"),void 0===X&&(X="_last");var xe,pe=T[X];if(ce)for(xe=L[ce];pe&&pe[ce]>xe;)pe=pe._prev;return pe?(L._next=pe._next,pe._next=L):(L._next=T[V],T[V]=L),L._next?L._next._prev=L:T[X]=L,L._prev=pe,L.parent=L._dp=T,L},_i=function(T,L,V,X){void 0===V&&(V="_first"),void 0===X&&(X="_last");var ce=L._prev,pe=L._next;ce?ce._next=pe:T[V]===L&&(T[V]=pe),pe?pe._prev=ce:T[X]===L&&(T[X]=ce),L._next=L._prev=L.parent=null},ki=function(T,L){T.parent&&(!L||T.parent.autoRemoveChildren)&&T.parent.remove&&T.parent.remove(T),T._act=0},ji=function(T,L){if(T&&(!L||L._end>T._dur||L._start<0))for(var V=T;V;)V._dirty=1,V=V.parent;return T},gs=function(T,L,V,X){return T._startAt&&(y?T._startAt.revert(wi):T.vars.immediateRender&&!T.vars.autoRevert||T._startAt.render(L,!0,X))},Ss=function We(T){return!T||T._ts&&We(T.parent)},ro=function(T){return T._repeat?Ls(T._tTime,T=T.duration()+T._rDelay)*T:0},Ls=function(T,L){var V=Math.floor(T=Vr(T/L));return T&&V===T?V-1:V},Gt=function(T,L){return(T-L._start)*L._ts+(L._ts>=0?0:L._dirty?L.totalDuration():L._tDur)},Bt=function(T){return T._end=Vr(T._start+(T._tDur/Math.abs(T._ts||T._rts||P)||0))},ze=function(T,L){var V=T._dp;return V&&V.smoothChildTiming&&T._ts&&(T._start=Vr(V._time-(T._ts>0?L/T._ts:((T._dirty?T.totalDuration():T._tDur)-L)/-T._ts)),Bt(T),V._dirty||ji(V,T)),T},ct=function(T,L){var V;if((L._time||!L._dur&&L._initted||L._start<T._time&&(L._dur||!L.add))&&(V=Gt(T.rawTime(),L),(!L._dur||nt(0,L.totalDuration(),V)-L._tTime>P)&&L.render(V,!0)),ji(T,L)._dp&&T._initted&&T._time>=T._dur&&T._ts){if(T._dur<T.duration())for(V=T;V._dp;)V.rawTime()>=0&&V.totalTime(V._tTime),V=V._dp;T._zTime=-P}},Wt=function(T,L,V,X){return L.parent&&ki(L),L._start=Vr((Qe(V)?V:V||T!==xt?Gr(T,V,L):T._time)+L._delay),L._end=Vr(L._start+(L.totalDuration()/Math.abs(L.timeScale())||0)),Ha(T,L,"_first","_last",T._sort?"_start":0),jr(L)||(T._recent=L),X||ct(T,L),T._ts<0&&ze(T,T._tTime),T},Qn=function(T,L){return(Rt.ScrollTrigger||_n("scrollTrigger",L))&&Rt.ScrollTrigger.create(L,T)},di=function(T,L,V,X,ce){return tr(T,L,ce),T._initted?!V&&T._pt&&!y&&(T._dur&&!1!==T.vars.lazy||!T._dur&&T.vars.lazy)&&dt!==qs.frame?(Yr.push(T),T._lazy=[ce,X],1):void 0:1},br=function We(T){var L=T.parent;return L&&L._ts&&L._initted&&!L._lock&&(L.rawTime()<0||We(L))},jr=function(T){var L=T.data;return"isFromStart"===L||"isStart"===L},Zi=function(T,L,V,X){var ce=T._repeat,pe=Vr(L)||0,xe=T._tTime/T._tDur;return xe&&!X&&(T._time*=pe/T._dur),T._dur=pe,T._tDur=ce?ce<0?1e10:Vr(pe*(ce+1)+T._rDelay*ce):pe,xe>0&&!X&&ze(T,T._tTime=T._tDur*xe),T.parent&&Bt(T),V||ji(T.parent,T),T},ha=function(T){return T instanceof ls?ji(T):Zi(T,T._dur)},ko={_start:0,endTime:to,totalDuration:to},Gr=function We(T,L,V){var xe,Be,Ke,X=T.labels,ce=T._recent||ko,pe=T.duration()>=E?ce.endTime(!1):T._dur;return ge(L)&&(isNaN(L)||L in X)?(Be=L.charAt(0),Ke="%"===L.substr(-1),xe=L.indexOf("="),"<"===Be||">"===Be?(xe>=0&&(L=L.replace(/=/,"")),("<"===Be?ce._start:ce.endTime(ce._repeat>=0))+(parseFloat(L.substr(1))||0)*(Ke?(xe<0?ce:V).totalDuration()/100:1)):xe<0?(L in X||(X[L]=pe),X[L]):(Be=parseFloat(L.charAt(xe-1)+L.substr(xe+1)),Ke&&V&&(Be=Be/100*(be(V)?V[0]:V).totalDuration()),xe>1?We(T,L.substr(0,xe-1),V)+Be:pe+Be)):null==L?pe:+L},ht=function(T,L,V){var xe,Be,X=Qe(L[1]),ce=(X?2:1)+(T<2?0:1),pe=L[ce];if(X&&(pe.duration=L[1]),pe.parent=V,T){for(xe=pe,Be=V;Be&&!("immediateRender"in xe);)xe=Be.vars.defaults||{},Be=Ee(Be.vars.inherit)&&Be.parent;pe.immediateRender=Ee(xe.immediateRender),T<2?pe.runBackwards=1:pe.startAt=L[ce-1]}return new sr(L[0],pe,L[ce+1])},ut=function(T,L){return T||0===T?L(T):L},nt=function(T,L,V){return V<T?T:V>L?L:V},Pt=function(T,L){return ge(T)&&(L=an.exec(T))?L[1]:""},bn=[].slice,Fn=function(T,L){return T&&Se(T)&&"length"in T&&(!L&&!T.length||T.length-1 in T&&Se(T[0]))&&!T.nodeType&&T!==Zn},fi=function(T,L,V){return h&&!L&&h.selector?h.selector(T):!ge(T)||V||!qi&&ea()?be(T)?function(T,L,V){return void 0===V&&(V=[]),T.forEach(function(X){var ce;return ge(X)&&!L||Fn(X,1)?(ce=V).push.apply(ce,fi(X)):V.push(X)})||V}(T,V):Fn(T)?bn.call(T,0):T?[T]:[]:bn.call((L||Lt).querySelectorAll(T),0)},Mr=function(T){return T=fi(T)[0]||$n("Invalid scope")||{},function(L){var V=T.current||T.nativeElement||T;return fi(L,V.querySelectorAll?V:V===T?$n("Invalid scope")||Lt.createElement("div"):T)}},ho=function(T){return T.sort(function(){return.5-Math.random()})},Zr=function(T){if(Oe(T))return T;var L=Se(T)?T:{each:T},V=Jo(L.ease),X=L.from||0,ce=parseFloat(L.base)||0,pe={},xe=X>0&&X<1,Be=isNaN(X)||xe,Ke=L.axis,ot=X,Ft=X;return ge(X)?ot=Ft={center:.5,edges:.5,end:1}[X]||0:!xe&&Be&&(ot=X[0],Ft=X[1]),function(Kt,qt,gn){var ni,ti,Ot,On,Kn,Fi,ii,Ti,Nn,Tt=(gn||L).length,En=pe[Tt];if(!En){if(!(Nn="auto"===L.grid?0:(L.grid||[1,E])[1])){for(ii=-E;ii<(ii=gn[Nn++].getBoundingClientRect().left)&&Nn<Tt;);Nn<Tt&&Nn--}for(En=pe[Tt]=[],ni=Be?Math.min(Nn,Tt)*ot-.5:X%Nn,ti=Nn===E?0:Be?Tt*Ft/Nn-.5:X/Nn|0,ii=0,Ti=E,Fi=0;Fi<Tt;Fi++)Ot=Fi%Nn-ni,On=ti-(Fi/Nn|0),En[Fi]=Kn=Ke?Math.abs("y"===Ke?On:Ot):ne(Ot*Ot+On*On),Kn>ii&&(ii=Kn),Kn<Ti&&(Ti=Kn);"random"===X&&ho(En),En.max=ii-Ti,En.min=Ti,En.v=Tt=(parseFloat(L.amount)||parseFloat(L.each)*(Nn>Tt?Tt-1:Ke?"y"===Ke?Tt/Nn:Nn:Math.max(Nn,Tt/Nn))||0)*("edges"===X?-1:1),En.b=Tt<0?ce-Tt:ce,En.u=Pt(L.amount||L.each)||0,V=V&&Tt<0?Ka(V):V}return Tt=(En[Kt]-En.min)/En.max||0,Vr(En.b+(V?V(Tt):Tt)*En.v)+En.u}},Wr=function(T){var L=Math.pow(10,((T+"").split(".")[1]||"").length);return function(V){var X=Vr(Math.round(parseFloat(V)/T)*T*L);return(X-X%1)/L+(Qe(V)?0:Pt(V))}},pr=function(T,L){var X,ce,V=be(T);return!V&&Se(T)&&(X=V=T.radius||E,T.values?(T=fi(T.values),(ce=!Qe(T[0]))&&(X*=X)):T=Wr(T.increment)),ut(L,V?Oe(T)?function(pe){return ce=T(pe),Math.abs(ce-pe)<=X?ce:pe}:function(pe){for(var Kt,qt,xe=parseFloat(ce?pe.x:pe),Be=parseFloat(ce?pe.y:0),Ke=E,ot=0,Ft=T.length;Ft--;)(Kt=ce?(Kt=T[Ft].x-xe)*Kt+(qt=T[Ft].y-Be)*qt:Math.abs(T[Ft]-xe))<Ke&&(Ke=Kt,ot=Ft);return ot=!X||Ke<=X?T[ot]:pe,ce||ot===pe||Qe(pe)?ot:ot+Pt(pe)}:Wr(T))},us=function(T,L,V,X){return ut(be(T)?!L:!0===V?!!(V=0):!X,function(){return be(T)?T[~~(Math.random()*T.length)]:(V=V||1e-5)&&(X=V<1?Math.pow(10,(V+"").length-2):1)&&Math.floor(Math.round((T-V/2+Math.random()*(L-T+.99*V))/V)*V*X)/X})},Rs=function(T,L,V){return ut(V,function(X){return T[~~L(X)]})},Ba=function(T){for(var X,ce,pe,xe,L=0,V="";~(X=T.indexOf("random(",L));)pe=T.indexOf(")",X),xe="["===T.charAt(X+7),ce=T.substr(X+7,pe-X-7).match(xe?rn:qe),V+=T.substr(L,X-L)+us(xe?ce:+ce[0],xe?0:+ce[1],+ce[2]||1e-5),L=pe+1;return V+T.substr(L,T.length-L)},Qs=function(T,L,V,X,ce){var pe=L-T,xe=X-V;return ut(ce,function(Be){return V+((Be-T)/pe*xe||0)})},aa=function(T,L,V){var pe,xe,Be,X=T.labels,ce=E;for(pe in X)(xe=X[pe]-L)<0==!!V&&xe&&ce>(xe=Math.abs(xe))&&(Be=pe,ce=xe);return Be},vs=function(T,L,V){var Be,Ke,ot,X=T.vars,ce=X[L],pe=h,xe=T._ctx;if(ce)return Be=X[L+"Params"],Ke=X.callbackScope||T,V&&Yr.length&&Xi(),xe&&(h=xe),ot=Be?ce.apply(Ke,Be):ce.call(Ke),h=pe,ot},pa=function(T){return ki(T),T.scrollTrigger&&T.scrollTrigger.kill(!!y),T.progress()<1&&vs(T,"onInterrupt"),T},tl=[],ks=function(T){if(T)if(T=!T.name&&T.default||T,Ne()||T.headless){var L=T.name,V=Oe(T),X=L&&!V&&T.init?function(){this._props=[]}:T,ce={init:to,render:dr,add:xa,kill:Fl,modifier:hl,rawVars:0},pe={targetTest:0,get:0,getSetter:Ja,aliases:{},register:0};if(ea(),T!==X){if(et[L])return;oo(X,oo(Ns(T,ce),pe)),xo(X.prototype,xo(ce,Ns(T,pe))),et[X.prop=L]=X,T.targetTest&&(cn.push(X),Ai[L]=1),L=("css"===L?"CSS":L.charAt(0).toUpperCase()+L.substr(1))+"Plugin"}Pn(L,X),T.register&&T.register(bi,X,Xs)}else tl.push(T)},er=255,Ko={aqua:[0,er,er],lime:[0,er,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,er],navy:[0,0,128],white:[er,er,er],olive:[128,128,0],yellow:[er,er,0],orange:[er,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[er,0,0],pink:[er,192,203],cyan:[0,er,er],transparent:[er,er,er,0]},Io=function(T,L,V){return(6*(T+=T<0?1:T>1?-1:0)<1?L+(V-L)*T*6:T<.5?V:3*T<2?L+(V-L)*(2/3-T)*6:L)*er+.5|0},Il=function(T,L,V){var ce,pe,xe,Be,Ke,ot,Ft,Kt,qt,gn,X=T?Qe(T)?[T>>16,T>>8&er,T&er]:0:Ko.black;if(!X){if(","===T.substr(-1)&&(T=T.substr(0,T.length-1)),Ko[T])X=Ko[T];else if("#"===T.charAt(0)){if(T.length<6&&(ce=T.charAt(1),pe=T.charAt(2),xe=T.charAt(3),T="#"+ce+ce+pe+pe+xe+xe+(5===T.length?T.charAt(4)+T.charAt(4):"")),9===T.length)return[(X=parseInt(T.substr(1,6),16))>>16,X>>8&er,X&er,parseInt(T.substr(7),16)/255];X=[(T=parseInt(T.substr(1),16))>>16,T>>8&er,T&er]}else if("hsl"===T.substr(0,3))if(X=gn=T.match(qe),L){if(~T.indexOf("="))return X=T.match(bt),V&&X.length<4&&(X[3]=1),X}else Be=+X[0]%360/360,Ke=+X[1]/100,ce=2*(ot=+X[2]/100)-(pe=ot<=.5?ot*(Ke+1):ot+Ke-ot*Ke),X.length>3&&(X[3]*=1),X[0]=Io(Be+1/3,ce,pe),X[1]=Io(Be,ce,pe),X[2]=Io(Be-1/3,ce,pe);else X=T.match(qe)||Ko.transparent;X=X.map(Number)}return L&&!gn&&(ce=X[0]/er,pe=X[1]/er,xe=X[2]/er,ot=((Ft=Math.max(ce,pe,xe))+(Kt=Math.min(ce,pe,xe)))/2,Ft===Kt?Be=Ke=0:(qt=Ft-Kt,Ke=ot>.5?qt/(2-Ft-Kt):qt/(Ft+Kt),Be=Ft===ce?(pe-xe)/qt+(pe<xe?6:0):Ft===pe?(xe-ce)/qt+2:(ce-pe)/qt+4,Be*=60),X[0]=~~(Be+.5),X[1]=~~(100*Ke+.5),X[2]=~~(100*ot+.5)),V&&X.length<4&&(X[3]=1),X},dl=function(T){var L=[],V=[],X=-1;return T.split(Us).forEach(function(ce){var pe=ce.match(Nt)||[];L.push.apply(L,pe),V.push(X+=pe.length+1)}),L.c=V,L},El=function(T,L,V){var Be,Ke,ot,Ft,X="",ce=(T+X).match(Us),pe=L?"hsla(":"rgba(",xe=0;if(!ce)return T;if(ce=ce.map(function(Kt){return(Kt=Il(Kt,L,1))&&pe+(L?Kt[0]+","+Kt[1]+"%,"+Kt[2]+"%,"+Kt[3]:Kt.join(","))+")"}),V&&(ot=dl(T),(Be=V.c).join(X)!==ot.c.join(X)))for(Ft=(Ke=T.replace(Us,"1").split(Nt)).length-1;xe<Ft;xe++)X+=Ke[xe]+(~Be.indexOf(xe)?ce.shift()||pe+"0,0,0,0)":(ot.length?ot:ce.length?ce:V).shift());if(!Ke)for(Ft=(Ke=T.split(Us)).length-1;xe<Ft;xe++)X+=Ke[xe]+ce[xe];return X+Ke[Ft]},Us=function(){var T,We="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(T in Ko)We+="|"+T+"\\b";return new RegExp(We+")","gi")}(),fl=/hsl[a]?\(/,nl=function(T){var V,L=T.join(" ");if(Us.lastIndex=0,Us.test(L))return V=fl.test(L),T[1]=El(T[1],V),T[0]=El(T[0],V,dl(T[1])),!0},qs=(We=Date.now,T=500,L=33,V=We(),X=V,pe=ce=1e3/240,gn=function Tt(En){var Ot,On,Kn,Fi,ni=We()-X,ti=!0===En;if((ni>T||ni<0)&&(V+=ni-L),((Ot=(Kn=(X+=ni)-V)-pe)>0||ti)&&(Fi=++Ft.frame,Kt=Kn-1e3*Ft.time,Ft.time=Kn/=1e3,pe+=Ot+(Ot>=ce?4:ce-Ot),On=1),ti||(Be=Ke(Tt)),On)for(qt=0;qt<xe.length;qt++)xe[qt](Kn,Kt,Fi,En)},Ft={time:0,frame:0,tick:function(){gn(!0)},deltaRatio:function(En){return Kt/(1e3/(En||60))},wake:function(){on&&(!qi&&Ne()&&(Zn=qi=window,Lt=Zn.document||{},Rt.gsap=bi,(Zn.gsapVersions||(Zn.gsapVersions=[])).push(bi.version),In(Ut||Zn.GreenSockGlobals||!Zn.gsap&&Zn||{}),tl.forEach(ks)),ot=typeof requestAnimationFrame<"u"&&requestAnimationFrame,Be&&Ft.sleep(),Ke=ot||function(En){return setTimeout(En,pe-1e3*Ft.time+1|0)},mr=1,gn(2))},sleep:function(){(ot?cancelAnimationFrame:clearTimeout)(Be),mr=0,Ke=to},lagSmoothing:function(En,ni){T=En||1/0,L=Math.min(ni||33,T)},fps:function(En){pe=1e3*Ft.time+(ce=1e3/(En||240))},add:function(En,ni,ti){var Ot=ni?function(On,Kn,Fi,ii){En(On,Kn,Fi,ii),Ft.remove(Ot)}:En;return Ft.remove(En),xe[ti?"unshift":"push"](Ot),ea(),Ot},remove:function(En,ni){~(ni=xe.indexOf(En))&&xe.splice(ni,1)&&qt>=ni&&qt--},_listeners:xe=[]}),ea=function(){return!mr&&qs.wake()},Nr={},Sa=/^[\d.\-M][\d.\-,\s]/,il=/["']/g,Oa=function(T){for(var xe,Be,Ke,L={},V=T.substr(1,T.length-3).split(":"),X=V[0],ce=1,pe=V.length;ce<pe;ce++)Be=V[ce],xe=ce!==pe-1?Be.lastIndexOf(","):Be.length,Ke=Be.substr(0,xe),L[X]=isNaN(Ke)?Ke.replace(il,"").trim():+Ke,X=Be.substr(xe+1).trim();return L},Ka=function(T){return function(L){return 1-T(1-L)}},ta=function We(T,L){for(var X,V=T._first;V;)V instanceof ls?We(V,L):V.vars.yoyoEase&&(!V._yoyo||!V._repeat)&&V._yoyo!==L&&(V.timeline?We(V.timeline,L):(X=V._ease,V._ease=V._yEase,V._yEase=X,V._yoyo=L)),V=V._next},Jo=function(T,L){return T&&(Oe(T)?T:Nr[T]||function(T){var L=(T+"").split("("),V=Nr[L[0]];return V&&L.length>1&&V.config?V.config.apply(null,~T.indexOf("{")?[Oa(L[1])]:function(T){var L=T.indexOf("(")+1,V=T.indexOf(")"),X=T.indexOf("(",L);return T.substring(L,~X&&X<V?T.indexOf(")",V+1):V)}(T).split(",").map(zo)):Nr._CE&&Sa.test(T)?Nr._CE("",T):V}(T))||L},Ga=function(T,L,V,X){void 0===V&&(V=function(Be){return 1-L(1-Be)}),void 0===X&&(X=function(Be){return Be<.5?L(2*Be)/2:1-L(2*(1-Be))/2});var pe,ce={easeIn:L,easeOut:V,easeInOut:X};return Rn(T,function(xe){for(var Be in Nr[xe]=Rt[xe]=ce,Nr[pe=xe.toLowerCase()]=V,ce)Nr[pe+("easeIn"===Be?".in":"easeOut"===Be?".out":".inOut")]=Nr[xe+"."+Be]=ce[Be]}),ce},Hr=function(T){return function(L){return L<.5?(1-T(1-2*L))/2:.5+T(2*(L-.5))/2}},jo=function We(T,L,V){var X=L>=1?L:1,ce=(V||(T?.3:.45))/(L<1?L:1),pe=ce/F*(Math.asin(1/X)||0),xe=function(ot){return 1===ot?1:X*Math.pow(2,-10*ot)*de((ot-pe)*ce)+1},Be="out"===T?xe:"in"===T?function(Ke){return 1-xe(1-Ke)}:Hr(xe);return ce=F/ce,Be.config=function(Ke,ot){return We(T,Ke,ot)},Be},Er=function We(T,L){void 0===L&&(L=1.70158);var V=function(pe){return pe?--pe*pe*((L+1)*pe+L)+1:0},X="out"===T?V:"in"===T?function(ce){return 1-V(1-ce)}:Hr(V);return X.config=function(ce){return We(T,ce)},X};Rn("Linear,Quad,Cubic,Quart,Quint,Strong",function(We,T){var L=T<5?T+1:T;Ga(We+",Power"+(L-1),T?function(V){return Math.pow(V,L)}:function(V){return V},function(V){return 1-Math.pow(1-V,L)},function(V){return V<.5?Math.pow(2*V,L)/2:1-Math.pow(2*(1-V),L)/2})}),Nr.Linear.easeNone=Nr.none=Nr.Linear.easeIn,Ga("Elastic",jo("in"),jo("out"),jo()),function(We,T){var ce=function(xe){return xe<.36363636363636365?We*xe*xe:xe<.7272727272727273?We*Math.pow(xe-1.5/T,2)+.75:xe<.9090909090909092?We*(xe-=2.25/T)*xe+.9375:We*Math.pow(xe-2.625/T,2)+.984375};Ga("Bounce",function(pe){return 1-ce(1-pe)},ce)}(7.5625,2.75),Ga("Expo",function(We){return Math.pow(2,10*(We-1))*We+We*We*We*We*We*We*(1-We)}),Ga("Circ",function(We){return-(ne(1-We*We)-1)}),Ga("Sine",function(We){return 1===We?1:1-q(We*B)}),Ga("Back",Er("in"),Er("out"),Er()),Nr.SteppedEase=Nr.steps=Rt.SteppedEase={config:function(T,L){void 0===T&&(T=1);var V=1/T,X=T+(L?0:1),ce=L?1:0;return function(xe){return((X*nt(0,.99999999,xe)|0)+ce)*V}}},W.ease=Nr["quad.out"],Rn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(We){return tn+=We+","+We+"Params,"});var na=function(T,L){this.id=k++,T._gsap=this,this.target=T,this.harness=L,this.get=L?L.get:oi,this.set=L?L.getSetter:Ja},as=function(){function We(L){this.vars=L,this._delay=+L.delay||0,(this._repeat=L.repeat===1/0?-2:L.repeat||0)&&(this._rDelay=L.repeatDelay||0,this._yoyo=!!L.yoyo||!!L.yoyoEase),this._ts=1,Zi(this,+L.duration,1,1),this.data=L.data,h&&(this._ctx=h,h.data.push(this)),mr||qs.wake()}var T=We.prototype;return T.delay=function(V){return V||0===V?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+V-this._delay),this._delay=V,this):this._delay},T.duration=function(V){return arguments.length?this.totalDuration(this._repeat>0?V+(V+this._rDelay)*this._repeat:V):this.totalDuration()&&this._dur},T.totalDuration=function(V){return arguments.length?(this._dirty=0,Zi(this,this._repeat<0?V:(V-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},T.totalTime=function(V,X){if(ea(),!arguments.length)return this._tTime;var ce=this._dp;if(ce&&ce.smoothChildTiming&&this._ts){for(ze(this,V),!ce._dp||ce.parent||ct(ce,this);ce&&ce.parent;)ce.parent._time!==ce._start+(ce._ts>=0?ce._tTime/ce._ts:(ce.totalDuration()-ce._tTime)/-ce._ts)&&ce.totalTime(ce._tTime,!0),ce=ce.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&V<this._tDur||this._ts<0&&V>0||!this._tDur&&!V)&&Wt(this._dp,this,this._start-this._delay)}return(this._tTime!==V||!this._dur&&!X||this._initted&&Math.abs(this._zTime)===P||!V&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=V),So(this,V,X)),this},T.time=function(V,X){return arguments.length?this.totalTime(Math.min(this.totalDuration(),V+ro(this))%(this._dur+this._rDelay)||(V?this._dur:0),X):this._time},T.totalProgress=function(V,X){return arguments.length?this.totalTime(this.totalDuration()*V,X):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},T.progress=function(V,X){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?V:1-V)+ro(this),X):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},T.iteration=function(V,X){var ce=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(V-1)*ce,X):this._repeat?Ls(this._tTime,ce)+1:1},T.timeScale=function(V,X){if(!arguments.length)return this._rts===-P?0:this._rts;if(this._rts===V)return this;var ce=this.parent&&this._ts?Gt(this.parent._time,this):this._tTime;return this._rts=+V||0,this._ts=this._ps||V===-P?0:this._rts,this.totalTime(nt(-Math.abs(this._delay),this._tDur,ce),!1!==X),Bt(this),function(T){for(var L=T.parent;L&&L.parent;)L._dirty=1,L.totalDuration(),L=L.parent;return T}(this)},T.paused=function(V){return arguments.length?(this._ps!==V&&(this._ps=V,V?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ea(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==P&&(this._tTime-=P)))),this):this._ps},T.startTime=function(V){if(arguments.length){this._start=V;var X=this.parent||this._dp;return X&&(X._sort||!this.parent)&&Wt(X,this,V-this._delay),this}return this._start},T.endTime=function(V){return this._start+(Ee(V)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},T.rawTime=function(V){var X=this.parent||this._dp;return X?V&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gt(X.rawTime(V),this):this._tTime:this._tTime},T.revert=function(V){void 0===V&&(V=_r);var X=y;return y=V,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(V),this.totalTime(-.01,V.suppressEvents)),"nested"!==this.data&&!1!==V.kill&&this.kill(),y=X,this},T.globalTime=function(V){for(var X=this,ce=arguments.length?V:X.rawTime();X;)ce=X._start+ce/(Math.abs(X._ts)||1),X=X._dp;return!this.parent&&this._sat?this._sat.globalTime(V):ce},T.repeat=function(V){return arguments.length?(this._repeat=V===1/0?-2:V,ha(this)):-2===this._repeat?1/0:this._repeat},T.repeatDelay=function(V){if(arguments.length){var X=this._time;return this._rDelay=V,ha(this),X?this.time(X):this}return this._rDelay},T.yoyo=function(V){return arguments.length?(this._yoyo=V,this):this._yoyo},T.seek=function(V,X){return this.totalTime(Gr(this,V),Ee(X))},T.restart=function(V,X){return this.play().totalTime(V?-this._delay:0,Ee(X)),this._dur||(this._zTime=-P),this},T.play=function(V,X){return null!=V&&this.seek(V,X),this.reversed(!1).paused(!1)},T.reverse=function(V,X){return null!=V&&this.seek(V||this.totalDuration(),X),this.reversed(!0).paused(!1)},T.pause=function(V,X){return null!=V&&this.seek(V,X),this.paused(!0)},T.resume=function(){return this.paused(!1)},T.reversed=function(V){return arguments.length?(!!V!==this.reversed()&&this.timeScale(-this._rts||(V?-P:0)),this):this._rts<0},T.invalidate=function(){return this._initted=this._act=0,this._zTime=-P,this},T.isActive=function(){var ce,V=this.parent||this._dp,X=this._start;return!(V&&!(this._ts&&this._initted&&V.isActive()&&(ce=V.rawTime(!0))>=X&&ce<this.endTime(!0)-P))},T.eventCallback=function(V,X,ce){var pe=this.vars;return arguments.length>1?(X?(pe[V]=X,ce&&(pe[V+"Params"]=ce),"onUpdate"===V&&(this._onUpdate=X)):delete pe[V],this):pe[V]},T.then=function(V){var X=this;return new Promise(function(ce){var pe=Oe(V)?V:vi,xe=function(){var Ke=X.then;X.then=null,Oe(pe)&&(pe=pe(X))&&(pe.then||pe===X)&&(X.then=Ke),ce(pe),X.then=Ke};X._initted&&1===X.totalProgress()&&X._ts>=0||!X._tTime&&X._ts<0?xe():X._prom=xe})},T.kill=function(){pa(this)},We}();oo(as.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-P,_prom:0,_ps:!1,_rts:1});var ls=function(We){function T(V,X){var ce;return void 0===V&&(V={}),(ce=We.call(this,V)||this).labels={},ce.smoothChildTiming=!!V.smoothChildTiming,ce.autoRemoveChildren=!!V.autoRemoveChildren,ce._sort=Ee(V.sortChildren),xt&&Wt(V.parent||xt,M(ce),X),V.reversed&&ce.reverse(),V.paused&&ce.paused(!0),V.scrollTrigger&&Qn(M(ce),V.scrollTrigger),ce}K(T,We);var L=T.prototype;return L.to=function(X,ce,pe){return ht(0,arguments,this),this},L.from=function(X,ce,pe){return ht(1,arguments,this),this},L.fromTo=function(X,ce,pe,xe){return ht(2,arguments,this),this},L.set=function(X,ce,pe){return ce.duration=0,ce.parent=this,xi(ce).repeatDelay||(ce.repeat=0),ce.immediateRender=!!ce.immediateRender,new sr(X,ce,Gr(this,pe),1),this},L.call=function(X,ce,pe){return Wt(this,sr.delayedCall(0,X,ce),pe)},L.staggerTo=function(X,ce,pe,xe,Be,Ke,ot){return pe.duration=ce,pe.stagger=pe.stagger||xe,pe.onComplete=Ke,pe.onCompleteParams=ot,pe.parent=this,new sr(X,pe,Gr(this,Be)),this},L.staggerFrom=function(X,ce,pe,xe,Be,Ke,ot){return pe.runBackwards=1,xi(pe).immediateRender=Ee(pe.immediateRender),this.staggerTo(X,ce,pe,xe,Be,Ke,ot)},L.staggerFromTo=function(X,ce,pe,xe,Be,Ke,ot,Ft){return xe.startAt=pe,xi(xe).immediateRender=Ee(xe.immediateRender),this.staggerTo(X,ce,xe,Be,Ke,ot,Ft)},L.render=function(X,ce,pe){var Kt,qt,gn,Tt,En,ni,ti,Ot,On,Kn,Fi,ii,xe=this._time,Be=this._dirty?this.totalDuration():this._tDur,Ke=this._dur,ot=X<=0?0:Vr(X),Ft=this._zTime<0!=X<0&&(this._initted||!Ke);if(this!==xt&&ot>Be&&X>=0&&(ot=Be),ot!==this._tTime||pe||Ft){if(xe!==this._time&&Ke&&(ot+=this._time-xe,X+=this._time-xe),Kt=ot,On=this._start,ni=!(Ot=this._ts),Ft&&(Ke||(xe=this._zTime),(X||!ce)&&(this._zTime=X)),this._repeat){if(Fi=this._yoyo,En=Ke+this._rDelay,this._repeat<-1&&X<0)return this.totalTime(100*En+X,ce,pe);if(Kt=Vr(ot%En),ot===Be?(Tt=this._repeat,Kt=Ke):((Tt=~~(Kn=Vr(ot/En)))&&Tt===Kn&&(Kt=Ke,Tt--),Kt>Ke&&(Kt=Ke)),Kn=Ls(this._tTime,En),!xe&&this._tTime&&Kn!==Tt&&this._tTime-Kn*En-this._dur<=0&&(Kn=Tt),Fi&&1&Tt&&(Kt=Ke-Kt,ii=1),Tt!==Kn&&!this._lock){var Ti=Fi&&1&Kn,Nn=Ti===(Fi&&1&Tt);if(Tt<Kn&&(Ti=!Ti),xe=Ti?0:ot%Ke?Ke:ot,this._lock=1,this.render(xe||(ii?0:Vr(Tt*En)),ce,!Ke)._lock=0,this._tTime=ot,!ce&&this.parent&&vs(this,"onRepeat"),this.vars.repeatRefresh&&!ii&&(this.invalidate()._lock=1),xe&&xe!==this._time||ni!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(Ke=this._dur,Be=this._tDur,Nn&&(this._lock=2,this.render(xe=Ti?Ke:-1e-4,!0),this.vars.repeatRefresh&&!ii&&this.invalidate()),this._lock=0,!this._ts&&!ni)return this;ta(this,ii)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(ti=function(T,L,V){var X;if(V>L)for(X=T._first;X&&X._start<=V;){if("isPause"===X.data&&X._start>L)return X;X=X._next}else for(X=T._last;X&&X._start>=V;){if("isPause"===X.data&&X._start<L)return X;X=X._prev}}(this,Vr(xe),Vr(Kt)),ti&&(ot-=Kt-(Kt=ti._start))),this._tTime=ot,this._time=Kt,this._act=!Ot,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=X,xe=0),!xe&&Kt&&!ce&&!Tt&&(vs(this,"onStart"),this._tTime!==ot))return this;if(Kt>=xe&&X>=0)for(qt=this._first;qt;){if(gn=qt._next,(qt._act||Kt>=qt._start)&&qt._ts&&ti!==qt){if(qt.parent!==this)return this.render(X,ce,pe);if(qt.render(qt._ts>0?(Kt-qt._start)*qt._ts:(qt._dirty?qt.totalDuration():qt._tDur)+(Kt-qt._start)*qt._ts,ce,pe),Kt!==this._time||!this._ts&&!ni){ti=0,gn&&(ot+=this._zTime=-P);break}}qt=gn}else{qt=this._last;for(var Xr=X<0?X:Kt;qt;){if(gn=qt._prev,(qt._act||Xr<=qt._end)&&qt._ts&&ti!==qt){if(qt.parent!==this)return this.render(X,ce,pe);if(qt.render(qt._ts>0?(Xr-qt._start)*qt._ts:(qt._dirty?qt.totalDuration():qt._tDur)+(Xr-qt._start)*qt._ts,ce,pe||y&&(qt._initted||qt._startAt)),Kt!==this._time||!this._ts&&!ni){ti=0,gn&&(ot+=this._zTime=Xr?-P:P);break}}qt=gn}}if(ti&&!ce&&(this.pause(),ti.render(Kt>=xe?0:-P)._zTime=Kt>=xe?1:-1,this._ts))return this._start=On,Bt(this),this.render(X,ce,pe);this._onUpdate&&!ce&&vs(this,"onUpdate",!0),(ot===Be&&this._tTime>=this.totalDuration()||!ot&&xe)&&(On===this._start||Math.abs(Ot)!==Math.abs(this._ts))&&(this._lock||((X||!Ke)&&(ot===Be&&this._ts>0||!ot&&this._ts<0)&&ki(this,1),!ce&&(!(X<0)||xe)&&(ot||xe||!Be)&&(vs(this,ot===Be&&X>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(ot<Be&&this.timeScale()>0)&&this._prom())))}return this},L.add=function(X,ce){var pe=this;if(Qe(ce)||(ce=Gr(this,ce,X)),!(X instanceof as)){if(be(X))return X.forEach(function(xe){return pe.add(xe,ce)}),this;if(ge(X))return this.addLabel(X,ce);if(!Oe(X))return this;X=sr.delayedCall(0,X)}return this!==X?Wt(this,X,ce):this},L.getChildren=function(X,ce,pe,xe){void 0===X&&(X=!0),void 0===ce&&(ce=!0),void 0===pe&&(pe=!0),void 0===xe&&(xe=-E);for(var Be=[],Ke=this._first;Ke;)Ke._start>=xe&&(Ke instanceof sr?ce&&Be.push(Ke):(pe&&Be.push(Ke),X&&Be.push.apply(Be,Ke.getChildren(!0,ce,pe)))),Ke=Ke._next;return Be},L.getById=function(X){for(var ce=this.getChildren(1,1,1),pe=ce.length;pe--;)if(ce[pe].vars.id===X)return ce[pe]},L.remove=function(X){return ge(X)?this.removeLabel(X):Oe(X)?this.killTweensOf(X):(X.parent===this&&_i(this,X),X===this._recent&&(this._recent=this._last),ji(this))},L.totalTime=function(X,ce){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vr(qs.time-(this._ts>0?X/this._ts:(this.totalDuration()-X)/-this._ts))),We.prototype.totalTime.call(this,X,ce),this._forcing=0,this):this._tTime},L.addLabel=function(X,ce){return this.labels[X]=Gr(this,ce),this},L.removeLabel=function(X){return delete this.labels[X],this},L.addPause=function(X,ce,pe){var xe=sr.delayedCall(0,ce||to,pe);return xe.data="isPause",this._hasPause=1,Wt(this,xe,Gr(this,X))},L.removePause=function(X){var ce=this._first;for(X=Gr(this,X);ce;)ce._start===X&&"isPause"===ce.data&&ki(ce),ce=ce._next},L.killTweensOf=function(X,ce,pe){for(var xe=this.getTweensOf(X,pe),Be=xe.length;Be--;)Lr!==xe[Be]&&xe[Be].kill(X,ce);return this},L.getTweensOf=function(X,ce){for(var ot,pe=[],xe=fi(X),Be=this._first,Ke=Qe(ce);Be;)Be instanceof sr?wo(Be._targets,xe)&&(Ke?(!Lr||Be._initted&&Be._ts)&&Be.globalTime(0)<=ce&&Be.globalTime(Be.totalDuration())>ce:!ce||Be.isActive())&&pe.push(Be):(ot=Be.getTweensOf(xe,ce)).length&&pe.push.apply(pe,ot),Be=Be._next;return pe},L.tweenTo=function(X,ce){ce=ce||{};var qt,pe=this,xe=Gr(pe,X),Ke=ce.startAt,ot=ce.onStart,Ft=ce.onStartParams,Kt=ce.immediateRender,gn=sr.to(pe,oo({ease:ce.ease||"none",lazy:!1,immediateRender:!1,time:xe,overwrite:"auto",duration:ce.duration||Math.abs((xe-(Ke&&"time"in Ke?Ke.time:pe._time))/pe.timeScale())||P,onStart:function(){if(pe.pause(),!qt){var En=ce.duration||Math.abs((xe-(Ke&&"time"in Ke?Ke.time:pe._time))/pe.timeScale());gn._dur!==En&&Zi(gn,En,0,1).render(gn._time,!0,!0),qt=1}ot&&ot.apply(gn,Ft||[])}},ce));return Kt?gn.render(0):gn},L.tweenFromTo=function(X,ce,pe){return this.tweenTo(ce,oo({startAt:{time:Gr(this,X)}},pe))},L.recent=function(){return this._recent},L.nextLabel=function(X){return void 0===X&&(X=this._time),aa(this,Gr(this,X))},L.previousLabel=function(X){return void 0===X&&(X=this._time),aa(this,Gr(this,X),1)},L.currentLabel=function(X){return arguments.length?this.seek(X,!0):this.previousLabel(this._time+P)},L.shiftChildren=function(X,ce,pe){void 0===pe&&(pe=0);for(var Ke,xe=this._first,Be=this.labels;xe;)xe._start>=pe&&(xe._start+=X,xe._end+=X),xe=xe._next;if(ce)for(Ke in Be)Be[Ke]>=pe&&(Be[Ke]+=X);return ji(this)},L.invalidate=function(X){var ce=this._first;for(this._lock=0;ce;)ce.invalidate(X),ce=ce._next;return We.prototype.invalidate.call(this,X)},L.clear=function(X){void 0===X&&(X=!0);for(var pe,ce=this._first;ce;)pe=ce._next,this.remove(ce),ce=pe;return this._dp&&(this._time=this._tTime=this._pTime=0),X&&(this.labels={}),ji(this)},L.totalDuration=function(X){var Ke,ot,Ft,ce=0,pe=this,xe=pe._last,Be=E;if(arguments.length)return pe.timeScale((pe._repeat<0?pe.duration():pe.totalDuration())/(pe.reversed()?-X:X));if(pe._dirty){for(Ft=pe.parent;xe;)Ke=xe._prev,xe._dirty&&xe.totalDuration(),(ot=xe._start)>Be&&pe._sort&&xe._ts&&!pe._lock?(pe._lock=1,Wt(pe,xe,ot-xe._delay,1)._lock=0):Be=ot,ot<0&&xe._ts&&(ce-=ot,(!Ft&&!pe._dp||Ft&&Ft.smoothChildTiming)&&(pe._start+=ot/pe._ts,pe._time-=ot,pe._tTime-=ot),pe.shiftChildren(-ot,!1,-1/0),Be=0),xe._end>ce&&xe._ts&&(ce=xe._end),xe=Ke;Zi(pe,pe===xt&&pe._time>ce?pe._time:ce,1,1),pe._dirty=0}return pe._tDur},T.updateRoot=function(X){if(xt._ts&&(So(xt,Gt(X,xt)),dt=qs.frame),qs.frame>=It){It+=G.autoSleep||120;var ce=xt._first;if((!ce||!ce._ts)&&G.autoSleep&&qs._listeners.length<2){for(;ce&&!ce._ts;)ce=ce._next;ce||qs.sleep()}}},T}(as);oo(ls.prototype,{_lock:0,_hasPause:0,_forcing:0});var Lr,Sn,Va=function(T,L,V,X,ce,pe,xe){var Ft,Kt,qt,gn,Tt,En,ni,ti,Be=new Xs(this._pt,T,L,0,1,ol,null,ce),Ke=0,ot=0;for(Be.b=V,Be.e=X,V+="",(ni=~(X+="").indexOf("random("))&&(X=Ba(X)),pe&&(pe(ti=[V,X],T,L),V=ti[0],X=ti[1]),Kt=V.match(_t)||[];Ft=_t.exec(X);)gn=Ft[0],Tt=X.substring(Ke,Ft.index),qt?qt=(qt+1)%5:"rgba("===Tt.substr(-5)&&(qt=1),gn!==Kt[ot++]&&(En=parseFloat(Kt[ot-1])||0,Be._pt={_next:Be._pt,p:Tt||1===ot?Tt:",",s:En,c:"="===gn.charAt(1)?no(En,gn)-En:parseFloat(gn)-En,m:qt&&qt<4?Math.round:0},Ke=_t.lastIndex);return Be.c=Ke<X.length?X.substring(Ke,X.length):"",Be.fp=xe,(en.test(X)||ni)&&(Be.e=0),this._pt=Be,Be},xa=function(T,L,V,X,ce,pe,xe,Be,Ke,ot){Oe(X)&&(X=X(ce||0,T,pe));var gn,Ft=T[L],Kt="get"!==V?V:Oe(Ft)?Ke?T[L.indexOf("set")||!Oe(T["get"+L.substr(3)])?L:"get"+L.substr(3)](Ke):T[L]():Ft,qt=Oe(Ft)?Ke?Xl:Hi:ao;if(ge(X)&&(~X.indexOf("random(")&&(X=Ba(X)),"="===X.charAt(1)&&((gn=no(Kt,X)+(Pt(Kt)||0))||0===gn)&&(X=gn)),!ot||Kt!==X||Sn)return isNaN(Kt*X)||""===X?(!Ft&&!(L in T)&&_n(L,X),Va.call(this,T,L,Kt,X,qt,Be||G.stringFilter,Ke)):(gn=new Xs(this._pt,T,L,+Kt||0,X-(Kt||0),"boolean"==typeof Ft?Rl:$o,0,qt),Ke&&(gn.fp=Ke),xe&&gn.modifier(xe,this,T),this._pt=gn)},ma=function(T,L,V,X,ce,pe){var xe,Be,Ke,ot;if(et[T]&&!1!==(xe=new et[T]).init(ce,xe.rawVars?L[T]:function(T,L,V,X,ce){if(Oe(T)&&(T=ys(T,ce,L,V,X)),!Se(T)||T.style&&T.nodeType||be(T)||je(T))return ge(T)?ys(T,ce,L,V,X):T;var xe,pe={};for(xe in T)pe[xe]=ys(T[xe],ce,L,V,X);return pe}(L[T],X,ce,pe,V),V,X,pe)&&(V._pt=Be=new Xs(V._pt,ce,T,0,1,xe.render,xe,0,xe.priority),V!==Uo))for(Ke=V._ptLookup[V._targets.indexOf(ce)],ot=xe._props.length;ot--;)Ke[xe._props[ot]]=Be;return xe},tr=function We(T,L,V){var Kn,Fi,ii,Ti,Nn,Xr,qr,Ps,is,Aa,Da,rs,Ks,X=T.vars,ce=X.ease,pe=X.startAt,xe=X.immediateRender,Be=X.lazy,Ke=X.onUpdate,ot=X.runBackwards,Ft=X.yoyoEase,Kt=X.keyframes,qt=X.autoRevert,gn=T._dur,Tt=T._startAt,En=T._targets,ni=T.parent,ti=ni&&"nested"===ni.data?ni.vars.targets:En,Ot="auto"===T._overwrite&&!R,On=T.timeline;if(On&&(!Kt||!ce)&&(ce="none"),T._ease=Jo(ce,W.ease),T._yEase=Ft?Ka(Jo(!0===Ft?ce:Ft,W.ease)):0,Ft&&T._yoyo&&!T._repeat&&(Ft=T._yEase,T._yEase=T._ease,T._ease=Ft),T._from=!On&&!!X.runBackwards,!On||Kt&&!X.stagger){if(rs=(Ps=En[0]?zi(En[0]).harness:0)&&X[Ps.prop],Kn=Ns(X,Ai),Tt&&(Tt._zTime<0&&Tt.progress(1),L<0&&ot&&xe&&!qt?Tt.render(-1,!0):Tt.revert(ot&&gn?wi:Gn),Tt._lazy=0),pe){if(ki(T._startAt=sr.set(En,oo({data:"isStart",overwrite:!1,parent:ni,immediateRender:!0,lazy:!Tt&&Ee(Be),startAt:null,delay:0,onUpdate:Ke&&function(){return vs(T,"onUpdate")},stagger:0},pe))),T._startAt._dp=0,T._startAt._sat=T,L<0&&(y||!xe&&!qt)&&T._startAt.revert(wi),xe&&gn&&L<=0&&V<=0)return void(L&&(T._zTime=L))}else if(ot&&gn&&!Tt)if(L&&(xe=!1),ii=oo({overwrite:!1,data:"isFromStart",lazy:xe&&!Tt&&Ee(Be),immediateRender:xe,stagger:0,parent:ni},Kn),rs&&(ii[Ps.prop]=rs),ki(T._startAt=sr.set(En,ii)),T._startAt._dp=0,T._startAt._sat=T,L<0&&(y?T._startAt.revert(wi):T._startAt.render(-1,!0)),T._zTime=L,xe){if(!L)return}else We(T._startAt,P,P);for(T._pt=T._ptCache=0,Be=gn&&Ee(Be)||Be&&!gn,Fi=0;Fi<En.length;Fi++){if(qr=(Nn=En[Fi])._gsap||Br(En)[Fi]._gsap,T._ptLookup[Fi]=Aa={},Lo[qr.id]&&Yr.length&&Xi(),Da=ti===En?Fi:ti.indexOf(Nn),Ps&&!1!==(is=new Ps).init(Nn,rs||Kn,T,Da,ti)&&(T._pt=Ti=new Xs(T._pt,Nn,is.name,0,1,is.render,is,0,is.priority),is._props.forEach(function(Nl){Aa[Nl]=Ti}),is.priority&&(Xr=1)),!Ps||rs)for(ii in Kn)et[ii]&&(is=ma(ii,Kn,T,Da,Nn,ti))?is.priority&&(Xr=1):Aa[ii]=Ti=xa.call(T,Nn,ii,"get",Kn[ii],Da,ti,0,X.stringFilter);T._op&&T._op[Fi]&&T.kill(Nn,T._op[Fi]),Ot&&T._pt&&(Lr=T,xt.killTweensOf(Nn,Aa,T.globalTime(L)),Ks=!T.parent,Lr=0),T._pt&&Be&&(Lo[qr.id]=1)}Xr&&wl(T),T._onInit&&T._onInit(T)}T._onUpdate=Ke,T._initted=(!T._op||T._pt)&&!Ks,Kt&&L<=0&&On.render(E,!0,!0)},Ol=function(T,L,V,X){var pe,xe,ce=L.ease||X||"power1.inOut";if(be(L))xe=V[T]||(V[T]=[]),L.forEach(function(Be,Ke){return xe.push({t:Ke/(L.length-1)*100,v:Be,e:ce})});else for(pe in L)xe=V[pe]||(V[pe]=[]),"ease"===pe||xe.push({t:parseFloat(T),v:L[pe],e:ce})},ys=function(T,L,V,X,ce){return Oe(T)?T.call(L,V,X,ce):ge(T)&&~T.indexOf("random(")?Ba(T):T},rl=tn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",co={};Rn(rl+",id,stagger,delay,duration,paused,scrollTrigger",function(We){return co[We]=1});var sr=function(We){function T(V,X,ce,pe){var xe;"number"==typeof X&&(ce.duration=X,X=ce,ce=null);var On,Kn,Fi,ii,Ti,Nn,Xr,qr,Be=(xe=We.call(this,pe?X:xi(X))||this).vars,Ke=Be.duration,ot=Be.delay,Ft=Be.immediateRender,Kt=Be.stagger,qt=Be.overwrite,gn=Be.keyframes,Tt=Be.defaults,En=Be.scrollTrigger,ni=Be.yoyoEase,ti=X.parent||xt,Ot=(be(V)||je(V)?Qe(V[0]):"length"in X)?[V]:fi(V);if(xe._targets=Ot.length?Br(Ot):$n("GSAP target "+V+" not found. https://gsap.com",!G.nullTargetWarn)||[],xe._ptLookup=[],xe._overwrite=qt,gn||Kt||Ze(Ke)||Ze(ot)){if(X=xe.vars,(On=xe.timeline=new ls({data:"nested",defaults:Tt||{},targets:ti&&"nested"===ti.data?ti.vars.targets:Ot})).kill(),On.parent=On._dp=M(xe),On._start=0,Kt||Ze(Ke)||Ze(ot)){if(ii=Ot.length,Xr=Kt&&Zr(Kt),Se(Kt))for(Ti in Kt)~rl.indexOf(Ti)&&(qr||(qr={}),qr[Ti]=Kt[Ti]);for(Kn=0;Kn<ii;Kn++)(Fi=Ns(X,co)).stagger=0,ni&&(Fi.yoyoEase=ni),qr&&xo(Fi,qr),Nn=Ot[Kn],Fi.duration=+ys(Ke,M(xe),Kn,Nn,Ot),Fi.delay=(+ys(ot,M(xe),Kn,Nn,Ot)||0)-xe._delay,!Kt&&1===ii&&Fi.delay&&(xe._delay=ot=Fi.delay,xe._start+=ot,Fi.delay=0),On.to(Nn,Fi,Xr?Xr(Kn,Nn,Ot):0),On._ease=Nr.none;On.duration()?Ke=ot=0:xe.timeline=0}else if(gn){xi(oo(On.vars.defaults,{ease:"none"})),On._ease=Jo(gn.ease||X.ease||"none");var is,Aa,Da,Ps=0;if(be(gn))gn.forEach(function(rs){return On.to(Ot,rs,">")}),On.duration();else{for(Ti in Fi={},gn)"ease"===Ti||"easeEach"===Ti||Ol(Ti,gn[Ti],Fi,gn.easeEach);for(Ti in Fi)for(is=Fi[Ti].sort(function(rs,Ks){return rs.t-Ks.t}),Ps=0,Kn=0;Kn<is.length;Kn++)(Da={ease:(Aa=is[Kn]).e,duration:(Aa.t-(Kn?is[Kn-1].t:0))/100*Ke})[Ti]=Aa.v,On.to(Ot,Da,Ps),Ps+=Da.duration;On.duration()<Ke&&On.to({},{duration:Ke-On.duration()})}}Ke||xe.duration(Ke=On.duration())}else xe.timeline=0;return!0===qt&&!R&&(Lr=M(xe),xt.killTweensOf(Ot),Lr=0),Wt(ti,M(xe),ce),X.reversed&&xe.reverse(),X.paused&&xe.paused(!0),(Ft||!Ke&&!gn&&xe._start===Vr(ti._time)&&Ee(Ft)&&Ss(M(xe))&&"nested"!==ti.data)&&(xe._tTime=-P,xe.render(Math.max(0,-ot)||0)),En&&Qn(M(xe),En),xe}K(T,We);var L=T.prototype;return L.render=function(X,ce,pe){var Kt,qt,gn,Tt,En,ni,ti,Ot,On,xe=this._time,Be=this._tDur,Ke=this._dur,ot=X<0,Ft=X>Be-P&&!ot?Be:X<P?0:X;if(Ke){if(Ft!==this._tTime||!X||pe||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==ot||this._lazy){if(Kt=Ft,Ot=this.timeline,this._repeat){if(Tt=Ke+this._rDelay,this._repeat<-1&&ot)return this.totalTime(100*Tt+X,ce,pe);if(Kt=Vr(Ft%Tt),Ft===Be?(gn=this._repeat,Kt=Ke):(gn=~~(En=Vr(Ft/Tt)))&&gn===En?(Kt=Ke,gn--):Kt>Ke&&(Kt=Ke),(ni=this._yoyo&&1&gn)&&(On=this._yEase,Kt=Ke-Kt),En=Ls(this._tTime,Tt),Kt===xe&&!pe&&this._initted&&gn===En)return this._tTime=Ft,this;gn!==En&&(Ot&&this._yEase&&ta(Ot,ni),this.vars.repeatRefresh&&!ni&&!this._lock&&Kt!==Tt&&this._initted&&(this._lock=pe=1,this.render(Vr(Tt*gn),!0).invalidate()._lock=0))}if(!this._initted){if(di(this,ot?X:Kt,pe,ce,Ft))return this._tTime=0,this;if(!(xe===this._time||pe&&this.vars.repeatRefresh&&gn!==En))return this;if(Ke!==this._dur)return this.render(X,ce,pe)}if(this._tTime=Ft,this._time=Kt,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=ti=(On||this._ease)(Kt/Ke),this._from&&(this.ratio=ti=1-ti),Kt&&!xe&&!ce&&!gn&&(vs(this,"onStart"),this._tTime!==Ft))return this;for(qt=this._pt;qt;)qt.r(ti,qt.d),qt=qt._next;Ot&&Ot.render(X<0?X:Ot._dur*Ot._ease(Kt/this._dur),ce,pe)||this._startAt&&(this._zTime=X),this._onUpdate&&!ce&&(ot&&gs(this,X,0,pe),vs(this,"onUpdate")),this._repeat&&gn!==En&&this.vars.onRepeat&&!ce&&this.parent&&vs(this,"onRepeat"),(Ft===this._tDur||!Ft)&&this._tTime===Ft&&(ot&&!this._onUpdate&&gs(this,X,0,!0),(X||!Ke)&&(Ft===this._tDur&&this._ts>0||!Ft&&this._ts<0)&&ki(this,1),!ce&&(!ot||xe)&&(Ft||xe||ni)&&(vs(this,Ft===Be?"onComplete":"onReverseComplete",!0),this._prom&&!(Ft<Be&&this.timeScale()>0)&&this._prom()))}}else!function(T,L,V,X){var Ke,ot,Ft,ce=T.ratio,pe=L<0||!L&&(!T._start&&br(T)&&(T._initted||!jr(T))||(T._ts<0||T._dp._ts<0)&&!jr(T))?0:1,xe=T._rDelay,Be=0;if(xe&&T._repeat&&(Be=nt(0,T._tDur,L),ot=Ls(Be,xe),T._yoyo&&1&ot&&(pe=1-pe),ot!==Ls(T._tTime,xe)&&(ce=1-pe,T.vars.repeatRefresh&&T._initted&&T.invalidate())),pe!==ce||y||X||T._zTime===P||!L&&T._zTime){if(!T._initted&&di(T,L,X,V,Be))return;for(Ft=T._zTime,T._zTime=L||(V?P:0),V||(V=L&&!Ft),T.ratio=pe,T._from&&(pe=1-pe),T._time=0,T._tTime=Be,Ke=T._pt;Ke;)Ke.r(pe,Ke.d),Ke=Ke._next;L<0&&gs(T,L,0,!0),T._onUpdate&&!V&&vs(T,"onUpdate"),Be&&T._repeat&&!V&&T.parent&&vs(T,"onRepeat"),(L>=T._tDur||L<0)&&T.ratio===pe&&(pe&&ki(T,1),!V&&!y&&(vs(T,pe?"onComplete":"onReverseComplete",!0),T._prom&&T._prom()))}else T._zTime||(T._zTime=L)}(this,X,ce,pe);return this},L.targets=function(){return this._targets},L.invalidate=function(X){return(!X||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(X),We.prototype.invalidate.call(this,X)},L.resetTo=function(X,ce,pe,xe,Be){mr||qs.wake(),this._ts||this.play();var Ke=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||tr(this,Ke),function(T,L,V,X,ce,pe,xe,Be){var ot,Ft,Kt,qt,Ke=(T._pt&&T._ptCache||(T._ptCache={}))[L];if(!Ke)for(Ke=T._ptCache[L]=[],Kt=T._ptLookup,qt=T._targets.length;qt--;){if((ot=Kt[qt][L])&&ot.d&&ot.d._pt)for(ot=ot.d._pt;ot&&ot.p!==L&&ot.fp!==L;)ot=ot._next;if(!ot)return Sn=1,T.vars[L]="+=0",tr(T,xe),Sn=0,Be?$n(L+" not eligible for reset"):1;Ke.push(ot)}for(qt=Ke.length;qt--;)(ot=(Ft=Ke[qt])._pt||Ft).s=!X&&0!==X||ce?ot.s+(X||0)+pe*ot.c:X,ot.c=V-ot.s,Ft.e&&(Ft.e=ci(V)+Pt(Ft.e)),Ft.b&&(Ft.b=ot.s+Pt(Ft.b))}(this,X,ce,pe,xe,this._ease(Ke/this._dur),Ke,Be)?this.resetTo(X,ce,pe,xe,1):(ze(this,0),this.parent||Ha(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},L.kill=function(X,ce){if(void 0===ce&&(ce="all"),!(X||ce&&"all"!==ce))return this._lazy=this._pt=0,this.parent?pa(this):this.scrollTrigger&&this.scrollTrigger.kill(!!y),this;if(this.timeline){var pe=this.timeline.totalDuration();return this.timeline.killTweensOf(X,ce,Lr&&!0!==Lr.vars.overwrite)._first||pa(this),this.parent&&pe!==this.timeline.totalDuration()&&Zi(this,this._dur*this.timeline._tDur/pe,0,1),this}var Ft,Kt,qt,gn,Tt,En,ni,xe=this._targets,Be=X?fi(X):xe,Ke=this._ptLookup,ot=this._pt;if((!ce||"all"===ce)&&function(T,L){for(var V=T.length,X=V===L.length;X&&V--&&T[V]===L[V];);return V<0}(xe,Be))return"all"===ce&&(this._pt=0),pa(this);for(Ft=this._op=this._op||[],"all"!==ce&&(ge(ce)&&(Tt={},Rn(ce,function(ti){return Tt[ti]=1}),ce=Tt),ce=function(T,L){var ce,pe,xe,Be,V=T[0]?zi(T[0]).harness:0,X=V&&V.aliases;if(!X)return L;for(pe in ce=xo({},L),X)if(pe in ce)for(xe=(Be=X[pe].split(",")).length;xe--;)ce[Be[xe]]=ce[pe];return ce}(xe,ce)),ni=xe.length;ni--;)if(~Be.indexOf(xe[ni]))for(Tt in Kt=Ke[ni],"all"===ce?(Ft[ni]=ce,gn=Kt,qt={}):(qt=Ft[ni]=Ft[ni]||{},gn=ce),gn)(En=Kt&&Kt[Tt])&&((!("kill"in En.d)||!0===En.d.kill(Tt))&&_i(this,En,"_pt"),delete Kt[Tt]),"all"!==qt&&(qt[Tt]=1);return this._initted&&!this._pt&&ot&&pa(this),this},T.to=function(X,ce){return new T(X,ce,arguments[2])},T.from=function(X,ce){return ht(1,arguments)},T.delayedCall=function(X,ce,pe,xe){return new T(ce,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:X,onComplete:ce,onReverseComplete:ce,onCompleteParams:pe,onReverseCompleteParams:pe,callbackScope:xe})},T.fromTo=function(X,ce,pe){return ht(2,arguments)},T.set=function(X,ce){return ce.duration=0,ce.repeatDelay||(ce.repeat=0),new T(X,ce)},T.killTweensOf=function(X,ce,pe){return xt.killTweensOf(X,ce,pe)},T}(as);oo(sr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Rn("staggerTo,staggerFrom,staggerFromTo",function(We){sr[We]=function(){var T=new ls,L=bn.call(arguments,0);return L.splice("staggerFromTo"===We?5:4,0,0),T[We].apply(T,L)}});var ao=function(T,L,V){return T[L]=V},Hi=function(T,L,V){return T[L](V)},Xl=function(T,L,V,X){return T[L](X.fp,V)},$s=function(T,L,V){return T.setAttribute(L,V)},Ja=function(T,L){return Oe(T[L])?Hi:rt(T[L])&&T.setAttribute?$s:ao},$o=function(T,L){return L.set(L.t,L.p,Math.round(1e6*(L.s+L.c*T))/1e6,L)},Rl=function(T,L){return L.set(L.t,L.p,!!(L.s+L.c*T),L)},ol=function(T,L){var V=L._pt,X="";if(!T&&L.b)X=L.b;else if(1===T&&L.e)X=L.e;else{for(;V;)X=V.p+(V.m?V.m(V.s+V.c*T):Math.round(1e4*(V.s+V.c*T))/1e4)+X,V=V._next;X+=L.c}L.set(L.t,L.p,X,L)},dr=function(T,L){for(var V=L._pt;V;)V.r(T,V.d),V=V._next},hl=function(T,L,V,X){for(var pe,ce=this._pt;ce;)pe=ce._next,ce.p===X&&ce.modifier(T,L,V),ce=pe},Fl=function(T){for(var V,X,L=this._pt;L;)X=L._next,L.p===T&&!L.op||L.op===T?_i(this,L,"_pt"):L.dep||(V=1),L=X;return!V},Ra=function(T,L,V,X){X.mSet(T,L,X.m.call(X.tween,V,X.mt),X)},wl=function(T){for(var V,X,ce,pe,L=T._pt;L;){for(V=L._next,X=ce;X&&X.pr>L.pr;)X=X._next;(L._prev=X?X._prev:pe)?L._prev._next=L:ce=L,(L._next=X)?X._prev=L:pe=L,L=V}T._pt=ce},Xs=function(){function We(L,V,X,ce,pe,xe,Be,Ke,ot){this.t=V,this.s=ce,this.c=pe,this.p=X,this.r=xe||$o,this.d=Be||this,this.set=Ke||ao,this.pr=ot||0,this._next=L,L&&(L._prev=this)}return We.prototype.modifier=function(V,X,ce){this.mSet=this.mSet||this.set,this.set=Ra,this.m=V,this.mt=ce,this.tween=X},We}();Rn(tn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(We){return Ai[We]=1}),Rt.TweenMax=Rt.TweenLite=sr,Rt.TimelineLite=Rt.TimelineMax=ls,xt=new ls({sortChildren:!1,defaults:W,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),G.stringFilter=nl;var pl=[],Kr={},Yl=[],Zl=0,kt=0,De=function(T){return(Kr[T]||Yl).map(function(L){return L()})},mt=function(){var T=Date.now(),L=[];T-Zl>2&&(De("matchMediaInit"),pl.forEach(function(V){var pe,xe,Be,Ke,X=V.queries,ce=V.conditions;for(xe in X)(pe=Zn.matchMedia(X[xe]).matches)&&(Be=1),pe!==ce[xe]&&(ce[xe]=pe,Ke=1);Ke&&(V.revert(),Be&&L.push(V))}),De("matchMediaRevert"),L.forEach(function(V){return V.onMatch(V,function(X){return V.add(null,X)})}),Zl=T,De("matchMedia"))},Ve=function(){function We(L,V){this.selector=V&&Mr(V),this.data=[],this._r=[],this.isReverted=!1,this.id=kt++,L&&this.add(L)}var T=We.prototype;return T.add=function(V,X,ce){Oe(V)&&(ce=X,X=V,V=Oe);var pe=this,xe=function(){var Ft,Ke=h,ot=pe.selector;return Ke&&Ke!==pe&&Ke.data.push(pe),ce&&(pe.selector=Mr(ce)),h=pe,Ft=X.apply(pe,arguments),Oe(Ft)&&pe._r.push(Ft),h=Ke,pe.selector=ot,pe.isReverted=!1,Ft};return pe.last=xe,V===Oe?xe(pe,function(Be){return pe.add(null,Be)}):V?pe[V]=xe:xe},T.ignore=function(V){var X=h;h=null,V(this),h=X},T.getTweens=function(){var V=[];return this.data.forEach(function(X){return X instanceof We?V.push.apply(V,X.getTweens()):X instanceof sr&&!(X.parent&&"nested"===X.parent.data)&&V.push(X)}),V},T.clear=function(){this._r.length=this.data.length=0},T.kill=function(V,X){var ce=this;if(V?function(){for(var Ke,xe=ce.getTweens(),Be=ce.data.length;Be--;)"isFlip"===(Ke=ce.data[Be]).data&&(Ke.revert(),Ke.getChildren(!0,!0,!1).forEach(function(ot){return xe.splice(xe.indexOf(ot),1)}));for(xe.map(function(ot){return{g:ot._dur||ot._delay||ot._sat&&!ot._sat.vars.immediateRender?ot.globalTime(0):-1/0,t:ot}}).sort(function(ot,Ft){return Ft.g-ot.g||-1/0}).forEach(function(ot){return ot.t.revert(V)}),Be=ce.data.length;Be--;)(Ke=ce.data[Be])instanceof ls?"nested"!==Ke.data&&(Ke.scrollTrigger&&Ke.scrollTrigger.revert(),Ke.kill()):!(Ke instanceof sr)&&Ke.revert&&Ke.revert(V);ce._r.forEach(function(ot){return ot(V,ce)}),ce.isReverted=!0}():this.data.forEach(function(xe){return xe.kill&&xe.kill()}),this.clear(),X)for(var pe=pl.length;pe--;)pl[pe].id===this.id&&pl.splice(pe,1)},T.revert=function(V){this.kill(V||{})},We}(),$e=function(){function We(L){this.contexts=[],this.scope=L,h&&h.data.push(this)}var T=We.prototype;return T.add=function(V,X,ce){Se(V)||(V={matches:V});var Be,Ke,ot,pe=new Ve(0,ce||this.scope),xe=pe.conditions={};for(Ke in h&&!pe.selector&&(pe.selector=h.selector),this.contexts.push(pe),X=pe.add("onMatch",X),pe.queries=V,V)"all"===Ke?ot=1:(Be=Zn.matchMedia(V[Ke]))&&(pl.indexOf(pe)<0&&pl.push(pe),(xe[Ke]=Be.matches)&&(ot=1),Be.addListener?Be.addListener(mt):Be.addEventListener("change",mt));return ot&&X(pe,function(Ft){return pe.add(null,Ft)}),this},T.revert=function(V){this.kill(V||{})},T.kill=function(V){this.contexts.forEach(function(X){return X.kill(V,!0)})},We}(),Et={registerPlugin:function(){for(var T=arguments.length,L=new Array(T),V=0;V<T;V++)L[V]=arguments[V];L.forEach(function(X){return ks(X)})},timeline:function(T){return new ls(T)},getTweensOf:function(T,L){return xt.getTweensOf(T,L)},getProperty:function(T,L,V,X){ge(T)&&(T=fi(T)[0]);var ce=zi(T||{}).get,pe=V?vi:zo;return"native"===V&&(V=""),T&&(L?pe((et[L]&&et[L].get||ce)(T,L,V,X)):function(xe,Be,Ke){return pe((et[xe]&&et[xe].get||ce)(T,xe,Be,Ke))})},quickSetter:function(T,L,V){if((T=fi(T)).length>1){var X=T.map(function(ot){return bi.quickSetter(ot,L,V)}),ce=X.length;return function(ot){for(var Ft=ce;Ft--;)X[Ft](ot)}}var pe=et[L],xe=zi(T=T[0]||{}),Be=xe.harness&&(xe.harness.aliases||{})[L]||L,Ke=pe?function(ot){var Ft=new pe;Uo._pt=0,Ft.init(T,V?ot+V:ot,Uo,0,[T]),Ft.render(1,Ft),Uo._pt&&dr(1,Uo)}:xe.set(T,Be);return pe?Ke:function(ot){return Ke(T,Be,V?ot+V:ot,xe,1)}},quickTo:function(T,L,V){var X,ce=bi.to(T,oo(((X={})[L]="+=0.1",X.paused=!0,X.stagger=0,X),V||{})),pe=function(Be,Ke,ot){return ce.resetTo(L,Be,Ke,ot)};return pe.tween=ce,pe},isTweening:function(T){return xt.getTweensOf(T,!0).length>0},defaults:function(T){return T&&T.ease&&(T.ease=Jo(T.ease,W.ease)),zr(W,T||{})},config:function(T){return zr(G,T||{})},registerEffect:function(T){var L=T.name,V=T.effect,ce=T.defaults,pe=T.extendTimeline;(T.plugins||"").split(",").forEach(function(xe){return xe&&!et[xe]&&!Rt[xe]&&$n(L+" effect requires "+xe+" plugin.")}),Dt[L]=function(xe,Be,Ke){return V(fi(xe),oo(Be||{},ce),Ke)},pe&&(ls.prototype[L]=function(xe,Be,Ke){return this.add(Dt[L](xe,Se(Be)?Be:(Ke=Be)&&{},this),Ke)})},registerEase:function(T,L){Nr[T]=Jo(L)},parseEase:function(T,L){return arguments.length?Jo(T,L):Nr},getById:function(T){return xt.getById(T)},exportRoot:function(T,L){void 0===T&&(T={});var X,ce,V=new ls(T);for(V.smoothChildTiming=Ee(T.smoothChildTiming),xt.remove(V),V._dp=0,V._time=V._tTime=xt._time,X=xt._first;X;)ce=X._next,(L||!(!X._dur&&X instanceof sr&&X.vars.onComplete===X._targets[0]))&&Wt(V,X,X._start-X._delay),X=ce;return Wt(xt,V,0),V},context:function(T,L){return T?new Ve(T,L):h},matchMedia:function(T){return new $e(T)},matchMediaRefresh:function(){return pl.forEach(function(T){var V,X,L=T.conditions;for(X in L)L[X]&&(L[X]=!1,V=1);V&&T.revert()})||mt()},addEventListener:function(T,L){var V=Kr[T]||(Kr[T]=[]);~V.indexOf(L)||V.push(L)},removeEventListener:function(T,L){var V=Kr[T],X=V&&V.indexOf(L);X>=0&&V.splice(X,1)},utils:{wrap:function We(T,L,V){var X=L-T;return be(T)?Rs(T,We(0,T.length),L):ut(V,function(ce){return(X+(ce-T)%X)%X+T})},wrapYoyo:function We(T,L,V){var X=L-T,ce=2*X;return be(T)?Rs(T,We(0,T.length-1),L):ut(V,function(pe){return T+((pe=(ce+(pe-T)%ce)%ce||0)>X?ce-pe:pe)})},distribute:Zr,random:us,snap:pr,normalize:function(T,L,V){return Qs(T,L,0,1,V)},getUnit:Pt,clamp:function(T,L,V){return ut(V,function(X){return nt(T,L,X)})},splitColor:Il,toArray:fi,selector:Mr,mapRange:Qs,pipe:function(){for(var T=arguments.length,L=new Array(T),V=0;V<T;V++)L[V]=arguments[V];return function(X){return L.reduce(function(ce,pe){return pe(ce)},X)}},unitize:function(T,L){return function(V){return T(parseFloat(V))+(L||Pt(V))}},interpolate:function We(T,L,V,X){var ce=isNaN(T+L)?0:function(qt){return(1-qt)*T+qt*L};if(!ce){var Be,Ke,ot,Ft,Kt,pe=ge(T),xe={};if(!0===V&&(X=1)&&(V=null),pe)T={p:T},L={p:L};else if(be(T)&&!be(L)){for(ot=[],Kt=(Ft=T.length)-2,Ke=1;Ke<Ft;Ke++)ot.push(We(T[Ke-1],T[Ke]));Ft--,ce=function(gn){gn*=Ft;var Tt=Math.min(Kt,~~gn);return ot[Tt](gn-Tt)},V=L}else X||(T=xo(be(T)?[]:{},T));if(!ot){for(Be in L)xa.call(xe,T,Be,"get",L[Be]);ce=function(gn){return dr(gn,xe)||(pe?T.p:T)}}}return ut(V,ce)},shuffle:ho},install:In,effects:Dt,ticker:qs,updateRoot:ls.updateRoot,plugins:et,globalTimeline:xt,core:{PropTween:Xs,globals:Pn,Tween:sr,Timeline:ls,Animation:as,getCache:zi,_removeLinkedListItem:_i,reverting:function(){return y},context:function(T){return T&&h&&(h.data.push(T),T._ctx=h),h},suppressOverwrites:function(T){return R=T}}};Rn("to,from,fromTo,delayedCall,set,killTweensOf",function(We){return Et[We]=sr[We]}),qs.add(ls.updateRoot),Uo=Et.to({},{duration:0});var fn=function(T,L){for(var V=T._pt;V&&V.p!==L&&V.op!==L&&V.fp!==L;)V=V._next;return V},Xn=function(T,L){return{name:T,rawVars:1,init:function(X,ce,pe){pe._onInit=function(xe){var Be,Ke;if(ge(ce)&&(Be={},Rn(ce,function(ot){return Be[ot]=1}),ce=Be),L){for(Ke in Be={},ce)Be[Ke]=L(ce[Ke]);ce=Be}!function(T,L){var X,ce,pe,V=T._targets;for(X in L)for(ce=V.length;ce--;)(pe=T._ptLookup[ce][X])&&(pe=pe.d)&&(pe._pt&&(pe=fn(pe,X)),pe&&pe.modifier&&pe.modifier(L[X],T,V[ce],X))}(xe,ce)}}}},bi=Et.registerPlugin({name:"attr",init:function(T,L,V,X,ce){var pe,xe,Be;for(pe in this.tween=V,L)Be=T.getAttribute(pe)||"",(xe=this.add(T,"setAttribute",(Be||0)+"",L[pe],X,ce,0,0,pe)).op=pe,xe.b=Be,this._props.push(pe)},render:function(T,L){for(var V=L._pt;V;)y?V.set(V.t,V.p,V.b,V):V.r(T,V.d),V=V._next}},{name:"endArray",init:function(T,L){for(var V=L.length;V--;)this.add(T,V,T[V]||0,L[V],0,0,0,0,0,1)}},Xn("roundProps",Wr),Xn("modifiers"),Xn("snap",pr))||Et;sr.version=ls.version=bi.version="3.12.7",on=1,Ne()&&ea();var Or,Ca,ia,Fa,bs,Ea,ga,se,Jr=Nr.Power0,$r=Nr.Power1,pi=Nr.Power2,nn=Nr.Power3,gr=Nr.Power4,Qo=Nr.Linear,he=Nr.Quad,_e=Nr.Cubic,re=Nr.Quart,Ae=Nr.Quint,lt=Nr.Strong,li=Nr.Elastic,mi=Nr.Back,lr=Nr.SteppedEase,ca=Nr.Bounce,xs=Nr.Sine,$i=Nr.Expo,_s=Nr.Circ,vr={},fr=180/Math.PI,za=Math.PI/180,ln=Math.atan2,Ji=1e8,ds=/([A-Z])/g,Ys=/(left|right|width|margin|padding|x)/i,Qa=/[\s,\(]\S/,fs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Wa=function(T,L){return L.set(L.t,L.p,Math.round(1e4*(L.s+L.c*T))/1e4+L.u,L)},$a=function(T,L){return L.set(L.t,L.p,1===T?L.e:Math.round(1e4*(L.s+L.c*T))/1e4+L.u,L)},Na=function(T,L){return L.set(L.t,L.p,T?Math.round(1e4*(L.s+L.c*T))/1e4+L.u:L.b,L)},_o=function(T,L){var V=L.s+L.c*T;L.set(L.t,L.p,~~(V+(V<0?-.5:.5))+L.u,L)},Bs=function(T,L){return L.set(L.t,L.p,T?L.e:L.b,L)},sl=function(T,L){return L.set(L.t,L.p,1!==T?L.b:L.e,L)},yl=function(T,L,V){return T.style[L]=V},sn=function(T,L,V){return T.style.setProperty(L,V)},wa=function(T,L,V){return T._gsap[L]=V},Tl=function(T,L,V){return T._gsap.scaleX=T._gsap.scaleY=V},Qr=function(T,L,V,X,ce){var pe=T._gsap;pe.scaleX=pe.scaleY=V,pe.renderTransform(ce,pe)},hs=function(T,L,V,X,ce){var pe=T._gsap;pe[L]=V,pe.renderTransform(ce,pe)},Ho="transform",As=Ho+"Origin",ml=function We(T,L){var V=this,X=this.target,ce=X.style,pe=X._gsap;if(T in vr&&ce){if(this.tfm=this.tfm||{},"transform"===T)return fs.transform.split(",").forEach(function(xe){return We.call(V,xe,L)});if(~(T=fs[T]||T).indexOf(",")?T.split(",").forEach(function(xe){return V.tfm[xe]=uo(X,xe)}):this.tfm[T]=pe.x?pe[T]:uo(X,T),T===As&&(this.tfm.zOrigin=pe.zOrigin),this.props.indexOf(Ho)>=0)return;pe.svg&&(this.svgo=X.getAttribute("data-svg-origin"),this.props.push(As,L,"")),T=Ho}(ce||L)&&this.props.push(T,L,ce[T])},ra=function(T){T.translate&&(T.removeProperty("translate"),T.removeProperty("scale"),T.removeProperty("rotate"))},$=function(){var ce,pe,T=this.props,L=this.target,V=L.style,X=L._gsap;for(ce=0;ce<T.length;ce+=3)T[ce+1]?2===T[ce+1]?L[T[ce]](T[ce+2]):L[T[ce]]=T[ce+2]:T[ce+2]?V[T[ce]]=T[ce+2]:V.removeProperty("--"===T[ce].substr(0,2)?T[ce]:T[ce].replace(ds,"-$1").toLowerCase());if(this.tfm){for(pe in this.tfm)X[pe]=this.tfm[pe];X.svg&&(X.renderTransform(),L.setAttribute("data-svg-origin",this.svgo||"")),(!(ce=ga())||!ce.isStart)&&!V[Ho]&&(ra(V),X.zOrigin&&V[As]&&(V[As]+=" "+X.zOrigin+"px",X.zOrigin=0,X.renderTransform()),X.uncache=1)}},Ce=function(T,L){var V={target:T,props:[],revert:$,save:ml};return T._gsap||bi.core.getCache(T),L&&T.style&&T.nodeType&&L.split(",").forEach(function(X){return V.save(X)}),V},ve=function(T,L){var V=Ca.createElementNS?Ca.createElementNS((L||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),T):Ca.createElement(T);return V&&V.style?V:Ca.createElement(T)},Ue=function We(T,L,V){var X=getComputedStyle(T);return X[L]||X.getPropertyValue(L.replace(ds,"-$1").toLowerCase())||X.getPropertyValue(L)||!V&&We(T,Qt(L)||L,1)||""},Xt="O,Moz,ms,Ms,Webkit".split(","),Qt=function(T,L,V){var ce=(L||bs).style,pe=5;if(T in ce&&!V)return T;for(T=T.charAt(0).toUpperCase()+T.substr(1);pe--&&!(Xt[pe]+T in ce););return pe<0?null:(3===pe?"ms":pe>=0?Xt[pe]:"")+T},Mi=function(){typeof window<"u"&&window.document&&(Or=window,ia=(Ca=Or.document).documentElement,bs=ve("div")||{style:{}},ve("div"),Ho=Qt(Ho),As=Ho+"Origin",bs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",se=!!Qt("perspective"),ga=bi.core.reverting,Fa=1)},Oo=function(T){var ce,L=T.ownerSVGElement,V=ve("svg",L&&L.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),X=T.cloneNode(!0);X.style.display="block",V.appendChild(X),ia.appendChild(V);try{ce=X.getBBox()}catch{}return V.removeChild(X),ia.removeChild(V),ce},Co=function(T,L){for(var V=L.length;V--;)if(T.hasAttribute(L[V]))return T.getAttribute(L[V])},mo=function(T){var L,V;try{L=T.getBBox()}catch{L=Oo(T),V=1}return L&&(L.width||L.height)||V||(L=Oo(T)),!L||L.width||L.x||L.y?L:{x:+Co(T,["x","cx","x1"])||0,y:+Co(T,["y","cy","y1"])||0,width:0,height:0}},Ui=function(T){return!(!T.getCTM||T.parentNode&&!T.ownerSVGElement||!mo(T))},Je=function(T,L){if(L){var X,V=T.style;L in vr&&L!==As&&(L=Ho),V.removeProperty?(("ms"===(X=L.substr(0,2))||"webkit"===L.substr(0,6))&&(L="-"+L),V.removeProperty("--"===X?L:L.replace(ds,"-$1").toLowerCase())):V.removeAttribute(L)}},Si=function(T,L,V,X,ce,pe){var xe=new Xs(T._pt,L,V,0,1,pe?sl:Bs);return T._pt=xe,xe.b=X,xe.e=ce,T._props.push(V),xe},Es={deg:1,rad:1,turn:1},Xo={grid:1,flex:1},To=function We(T,L,V,X){var gn,Tt,En,ni,ce=parseFloat(V)||0,pe=(V+"").trim().substr((ce+"").length)||"px",xe=bs.style,Be=Ys.test(L),Ke="svg"===T.tagName.toLowerCase(),ot=(Ke?"client":"offset")+(Be?"Width":"Height"),Kt="px"===X,qt="%"===X;if(X===pe||!ce||Es[X]||Es[pe])return ce;if("px"!==pe&&!Kt&&(ce=We(T,L,V,"px")),ni=T.getCTM&&Ui(T),(qt||"%"===pe)&&(vr[L]||~L.indexOf("adius")))return gn=ni?T.getBBox()[Be?"width":"height"]:T[ot],ci(qt?ce/gn*100:ce/100*gn);if(xe[Be?"width":"height"]=100+(Kt?pe:X),Tt="rem"!==X&&~L.indexOf("adius")||"em"===X&&T.appendChild&&!Ke?T:T.parentNode,ni&&(Tt=(T.ownerSVGElement||{}).parentNode),(!Tt||Tt===Ca||!Tt.appendChild)&&(Tt=Ca.body),(En=Tt._gsap)&&qt&&En.width&&Be&&En.time===qs.time&&!En.uncache)return ci(ce/En.width*100);if(!qt||"height"!==L&&"width"!==L)(qt||"%"===pe)&&!Xo[Ue(Tt,"display")]&&(xe.position=Ue(T,"position")),Tt===T&&(xe.position="static"),Tt.appendChild(bs),gn=bs[ot],Tt.removeChild(bs),xe.position="absolute";else{var ti=T.style[L];T.style[L]=100+X,gn=T[ot],ti?T.style[L]=ti:Je(T,L)}return Be&&qt&&((En=zi(Tt)).time=qs.time,En.width=Tt[ot]),ci(Kt?gn*ce/100:gn&&ce?100/gn*ce:0)},uo=function(T,L,V,X){var ce;return Fa||Mi(),L in fs&&"transform"!==L&&~(L=fs[L]).indexOf(",")&&(L=L.split(",")[0]),vr[L]&&"transform"!==L?(ce=ns(T,X),ce="transformOrigin"!==L?ce[L]:ce.svg?ce.origin:Ro(Ue(T,As))+" "+ce.zOrigin+"px"):(!(ce=T.style[L])||"auto"===ce||X||~(ce+"").indexOf("calc("))&&(ce=Rr[L]&&Rr[L](T,L,V)||Ue(T,L)||oi(T,L)||("opacity"===L?1:0)),V&&!~(ce+"").trim().indexOf(" ")?To(T,L,ce,V)+V:ce},ua=function(T,L,V,X){if(!V||"none"===V){var ce=Qt(L,T,1),pe=ce&&Ue(T,ce,1);pe&&pe!==V?(L=ce,V=pe):"borderColor"===L&&(V=Ue(T,"borderTopColor"))}var ot,Ft,Kt,qt,gn,Tt,En,ni,ti,Ot,On,xe=new Xs(this._pt,T.style,L,0,1,ol),Be=0,Ke=0;if(xe.b=V,xe.e=X,V+="","auto"==(X+="")&&(Tt=T.style[L],T.style[L]=X,X=Ue(T,L)||X,Tt?T.style[L]=Tt:Je(T,L)),nl(ot=[V,X]),X=ot[1],Kt=(V=ot[0]).match(Nt)||[],(X.match(Nt)||[]).length){for(;Ft=Nt.exec(X);)En=Ft[0],ti=X.substring(Be,Ft.index),gn?gn=(gn+1)%5:("rgba("===ti.substr(-5)||"hsla("===ti.substr(-5))&&(gn=1),En!==(Tt=Kt[Ke++]||"")&&(qt=parseFloat(Tt)||0,On=Tt.substr((qt+"").length),"="===En.charAt(1)&&(En=no(qt,En)+On),ni=parseFloat(En),Ot=En.substr((ni+"").length),Be=Nt.lastIndex-Ot.length,Ot||(Ot=Ot||G.units[L]||On,Be===X.length&&(X+=Ot,xe.e+=Ot)),On!==Ot&&(qt=To(T,L,Tt,Ot)||0),xe._pt={_next:xe._pt,p:ti||1===Ke?ti:",",s:qt,c:ni-qt,m:gn&&gn<4||"zIndex"===L?Math.round:0});xe.c=Be<X.length?X.substring(Be,X.length):""}else xe.r="display"===L&&"none"===X?sl:Bs;return en.test(X)&&(xe.e=0),this._pt=xe,xe},Ta={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},oa=function(T){var L=T.split(" "),V=L[0],X=L[1]||"50%";return("top"===V||"bottom"===V||"left"===X||"right"===X)&&(T=V,V=X,X=T),L[0]=Ta[V]||V,L[1]=Ta[X]||X,L.join(" ")},Xa=function(T,L){if(L.tween&&L.tween._time===L.tween._dur){var xe,Be,Ke,V=L.t,X=V.style,ce=L.u,pe=V._gsap;if("all"===ce||!0===ce)X.cssText="",Be=1;else for(Ke=(ce=ce.split(",")).length;--Ke>-1;)vr[xe=ce[Ke]]&&(Be=1,xe="transformOrigin"===xe?As:Ho),Je(V,xe);Be&&(Je(V,Ho),pe&&(pe.svg&&V.removeAttribute("transform"),X.scale=X.rotate=X.translate="none",ns(V,1),pe.uncache=1,ra(X)))}},Rr={clearProps:function(T,L,V,X,ce){if("isFromStart"!==ce.data){var pe=T._pt=new Xs(T._pt,L,V,0,0,Xa);return pe.u=X,pe.pr=-10,pe.tween=ce,T._props.push(V),1}}},Wi=[1,0,0,1,0,0],Eo={},hi=function(T){return"matrix(1, 0, 0, 1, 0, 0)"===T||"none"===T||!T},kr=function(T){var L=Ue(T,Ho);return hi(L)?Wi:L.substr(7).match(bt).map(ci)},nr=function(T,L){var pe,xe,Be,Ke,V=T._gsap||zi(T),X=T.style,ce=kr(T);return V.svg&&T.getAttribute("transform")?"1,0,0,1,0,0"===(ce=[(Be=T.transform.baseVal.consolidate().matrix).a,Be.b,Be.c,Be.d,Be.e,Be.f]).join(",")?Wi:ce:(ce===Wi&&!T.offsetParent&&T!==ia&&!V.svg&&(Be=X.display,X.display="block",(!(pe=T.parentNode)||!T.offsetParent&&!T.getBoundingClientRect().width)&&(Ke=1,xe=T.nextElementSibling,ia.appendChild(T)),ce=kr(T),Be?X.display=Be:Je(T,"display"),Ke&&(xe?pe.insertBefore(T,xe):pe?pe.appendChild(T):ia.removeChild(T))),L&&ce.length>6?[ce[0],ce[1],ce[4],ce[5],ce[12],ce[13]]:ce)},Ur=function(T,L,V,X,ce,pe){var Fi,ii,Nn,xe=T._gsap,Be=ce||nr(T,!0),Ke=xe.xOrigin||0,ot=xe.yOrigin||0,Ft=xe.xOffset||0,Kt=xe.yOffset||0,qt=Be[0],gn=Be[1],Tt=Be[2],En=Be[3],ni=Be[4],ti=Be[5],Ot=L.split(" "),On=parseFloat(Ot[0])||0,Kn=parseFloat(Ot[1])||0;V?Be!==Wi&&(ii=qt*En-gn*Tt)&&(Nn=On*(-gn/ii)+Kn*(qt/ii)-(qt*ti-gn*ni)/ii,On=On*(En/ii)+Kn*(-Tt/ii)+(Tt*ti-En*ni)/ii,Kn=Nn):(On=(Fi=mo(T)).x+(~Ot[0].indexOf("%")?On/100*Fi.width:On),Kn=Fi.y+(~(Ot[1]||Ot[0]).indexOf("%")?Kn/100*Fi.height:Kn)),X||!1!==X&&xe.smooth?(xe.xOffset=Ft+((ni=On-Ke)*qt+(ti=Kn-ot)*Tt)-ni,xe.yOffset=Kt+(ni*gn+ti*En)-ti):xe.xOffset=xe.yOffset=0,xe.xOrigin=On,xe.yOrigin=Kn,xe.smooth=!!X,xe.origin=L,xe.originIsAbsolute=!!V,T.style[As]="0px 0px",pe&&(Si(pe,xe,"xOrigin",Ke,On),Si(pe,xe,"yOrigin",ot,Kn),Si(pe,xe,"xOffset",Ft,xe.xOffset),Si(pe,xe,"yOffset",Kt,xe.yOffset)),T.setAttribute("data-svg-origin",On+" "+Kn)},ns=function(T,L){var V=T._gsap||new na(T);if("x"in V&&!L&&!V.uncache)return V;var ot,Ft,Kt,qt,gn,Tt,En,ni,ti,Ot,On,Kn,Fi,ii,Ti,Nn,Xr,qr,Ps,is,Aa,Da,rs,Ks,Nl,sc,Ll,z,Q,U,te,fe,X=T.style,ce=V.scaleX<0,xe="deg",Be=getComputedStyle(T),Ke=Ue(T,As)||"0";return ot=Ft=Kt=Tt=En=ni=ti=Ot=On=0,qt=gn=1,V.svg=!(!T.getCTM||!Ui(T)),Be.translate&&(("none"!==Be.translate||"none"!==Be.scale||"none"!==Be.rotate)&&(X[Ho]=("none"!==Be.translate?"translate3d("+(Be.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==Be.rotate?"rotate("+Be.rotate+") ":"")+("none"!==Be.scale?"scale("+Be.scale.split(" ").join(",")+") ":"")+("none"!==Be[Ho]?Be[Ho]:"")),X.scale=X.rotate=X.translate="none"),ii=nr(T,V.svg),V.svg&&(V.uncache?(Nl=T.getBBox(),Ke=V.xOrigin-Nl.x+"px "+(V.yOrigin-Nl.y)+"px",Ks=""):Ks=!L&&T.getAttribute("data-svg-origin"),Ur(T,Ks||Ke,!!Ks||V.originIsAbsolute,!1!==V.smooth,ii)),Kn=V.xOrigin||0,Fi=V.yOrigin||0,ii!==Wi&&(qr=ii[0],Ps=ii[1],is=ii[2],Aa=ii[3],ot=Da=ii[4],Ft=rs=ii[5],6===ii.length?(qt=Math.sqrt(qr*qr+Ps*Ps),gn=Math.sqrt(Aa*Aa+is*is),Tt=qr||Ps?ln(Ps,qr)*fr:0,(ti=is||Aa?ln(is,Aa)*fr+Tt:0)&&(gn*=Math.abs(Math.cos(ti*za))),V.svg&&(ot-=Kn-(Kn*qr+Fi*is),Ft-=Fi-(Kn*Ps+Fi*Aa))):(U=ii[7],Ll=ii[8],z=ii[9],te=ii[11],ot=ii[12],Ft=ii[13],Kt=ii[14],En=(Ti=ln(fe=ii[6],Q=ii[10]))*fr,Ti&&(Ks=Da*(Nn=Math.cos(-Ti))+Ll*(Xr=Math.sin(-Ti)),Nl=rs*Nn+z*Xr,sc=fe*Nn+Q*Xr,Ll=Da*-Xr+Ll*Nn,z=rs*-Xr+z*Nn,Q=fe*-Xr+Q*Nn,te=U*-Xr+te*Nn,Da=Ks,rs=Nl,fe=sc),ni=(Ti=ln(-is,Q))*fr,Ti&&(Nn=Math.cos(-Ti),te=Aa*(Xr=Math.sin(-Ti))+te*Nn,qr=Ks=qr*Nn-Ll*Xr,Ps=Nl=Ps*Nn-z*Xr,is=sc=is*Nn-Q*Xr),Tt=(Ti=ln(Ps,qr))*fr,Ti&&(Ks=qr*(Nn=Math.cos(Ti))+Ps*(Xr=Math.sin(Ti)),Nl=Da*Nn+rs*Xr,Ps=Ps*Nn-qr*Xr,rs=rs*Nn-Da*Xr,qr=Ks,Da=Nl),En&&Math.abs(En)+Math.abs(Tt)>359.9&&(En=Tt=0,ni=180-ni),qt=ci(Math.sqrt(qr*qr+Ps*Ps+is*is)),gn=ci(Math.sqrt(rs*rs+fe*fe)),Ti=ln(Da,rs),ti=Math.abs(Ti)>2e-4?Ti*fr:0,On=te?1/(te<0?-te:te):0),V.svg&&(Ks=T.getAttribute("transform"),V.forceCSS=T.setAttribute("transform","")||!hi(Ue(T,Ho)),Ks&&T.setAttribute("transform",Ks))),Math.abs(ti)>90&&Math.abs(ti)<270&&(ce?(qt*=-1,ti+=Tt<=0?180:-180,Tt+=Tt<=0?180:-180):(gn*=-1,ti+=ti<=0?180:-180)),L=L||V.uncache,V.x=ot-((V.xPercent=ot&&(!L&&V.xPercent||(Math.round(T.offsetWidth/2)===Math.round(-ot)?-50:0)))?T.offsetWidth*V.xPercent/100:0)+"px",V.y=Ft-((V.yPercent=Ft&&(!L&&V.yPercent||(Math.round(T.offsetHeight/2)===Math.round(-Ft)?-50:0)))?T.offsetHeight*V.yPercent/100:0)+"px",V.z=Kt+"px",V.scaleX=ci(qt),V.scaleY=ci(gn),V.rotation=ci(Tt)+xe,V.rotationX=ci(En)+xe,V.rotationY=ci(ni)+xe,V.skewX=ti+xe,V.skewY=Ot+xe,V.transformPerspective=On+"px",(V.zOrigin=parseFloat(Ke.split(" ")[2])||!L&&V.zOrigin||0)&&(X[As]=Ro(Ke)),V.xOffset=V.yOffset=0,V.force3D=G.force3D,V.renderTransform=V.svg?Ms:se?qa:wr,V.uncache=0,V},Ro=function(T){return(T=T.split(" "))[0]+" "+T[1]},Ds=function(T,L,V){var X=Pt(L);return ci(parseFloat(L)+parseFloat(To(T,"x",V+"px",X)))+X},wr=function(T,L){L.z="0px",L.rotationY=L.rotationX="0deg",L.force3D=0,qa(T,L)},lo="0deg",Ao="0px",Fr=") ",qa=function(T,L){var V=L||this,X=V.xPercent,ce=V.yPercent,pe=V.x,xe=V.y,Be=V.z,Ke=V.rotation,ot=V.rotationY,Ft=V.rotationX,Kt=V.skewX,qt=V.skewY,gn=V.scaleX,Tt=V.scaleY,En=V.transformPerspective,ni=V.force3D,ti=V.target,Ot=V.zOrigin,On="",Kn="auto"===ni&&T&&1!==T||!0===ni;if(Ot&&(Ft!==lo||ot!==lo)){var Nn,Fi=parseFloat(ot)*za,ii=Math.sin(Fi),Ti=Math.cos(Fi);Fi=parseFloat(Ft)*za,Nn=Math.cos(Fi),pe=Ds(ti,pe,ii*Nn*-Ot),xe=Ds(ti,xe,-Math.sin(Fi)*-Ot),Be=Ds(ti,Be,Ti*Nn*-Ot+Ot)}En!==Ao&&(On+="perspective("+En+Fr),(X||ce)&&(On+="translate("+X+"%, "+ce+"%) "),(Kn||pe!==Ao||xe!==Ao||Be!==Ao)&&(On+=Be!==Ao||Kn?"translate3d("+pe+", "+xe+", "+Be+") ":"translate("+pe+", "+xe+Fr),Ke!==lo&&(On+="rotate("+Ke+Fr),ot!==lo&&(On+="rotateY("+ot+Fr),Ft!==lo&&(On+="rotateX("+Ft+Fr),(Kt!==lo||qt!==lo)&&(On+="skew("+Kt+", "+qt+Fr),(1!==gn||1!==Tt)&&(On+="scale("+gn+", "+Tt+Fr),ti.style[Ho]=On||"translate(0, 0)"},Ms=function(T,L){var Kn,Fi,ii,Ti,Nn,V=L||this,X=V.xPercent,ce=V.yPercent,pe=V.x,xe=V.y,Be=V.rotation,Ke=V.skewX,ot=V.skewY,Ft=V.scaleX,Kt=V.scaleY,qt=V.target,gn=V.xOrigin,Tt=V.yOrigin,En=V.xOffset,ni=V.yOffset,ti=V.forceCSS,Ot=parseFloat(pe),On=parseFloat(xe);Be=parseFloat(Be),Ke=parseFloat(Ke),(ot=parseFloat(ot))&&(Ke+=ot=parseFloat(ot),Be+=ot),Be||Ke?(Be*=za,Ke*=za,Kn=Math.cos(Be)*Ft,Fi=Math.sin(Be)*Ft,ii=Math.sin(Be-Ke)*-Kt,Ti=Math.cos(Be-Ke)*Kt,Ke&&(ot*=za,Nn=Math.tan(Ke-ot),ii*=Nn=Math.sqrt(1+Nn*Nn),Ti*=Nn,ot&&(Nn=Math.tan(ot),Kn*=Nn=Math.sqrt(1+Nn*Nn),Fi*=Nn)),Kn=ci(Kn),Fi=ci(Fi),ii=ci(ii),Ti=ci(Ti)):(Kn=Ft,Ti=Kt,Fi=ii=0),(Ot&&!~(pe+"").indexOf("px")||On&&!~(xe+"").indexOf("px"))&&(Ot=To(qt,"x",pe,"px"),On=To(qt,"y",xe,"px")),(gn||Tt||En||ni)&&(Ot=ci(Ot+gn-(gn*Kn+Tt*ii)+En),On=ci(On+Tt-(gn*Fi+Tt*Ti)+ni)),(X||ce)&&(Nn=qt.getBBox(),Ot=ci(Ot+X/100*Nn.width),On=ci(On+ce/100*Nn.height)),qt.setAttribute("transform",Nn="matrix("+Kn+","+Fi+","+ii+","+Ti+","+Ot+","+On+")"),ti&&(qt.style[Ho]=Nn)},va=function(T,L,V,X,ce){var Ft,Kt,pe=360,xe=ge(ce),Ke=parseFloat(ce)*(xe&&~ce.indexOf("rad")?fr:1)-X,ot=X+Ke+"deg";return xe&&("short"===(Ft=ce.split("_")[1])&&(Ke%=pe)!=Ke%180&&(Ke+=Ke<0?pe:-pe),"cw"===Ft&&Ke<0?Ke=(Ke+pe*Ji)%pe-~~(Ke/pe)*pe:"ccw"===Ft&&Ke>0&&(Ke=(Ke-pe*Ji)%pe-~~(Ke/pe)*pe)),T._pt=Kt=new Xs(T._pt,L,V,X,Ke,$a),Kt.e=ot,Kt.u="deg",T._props.push(V),Kt},sa=function(T,L){for(var V in L)T[V]=L[V];return T},el=function(T,L,V){var xe,Be,Ke,ot,Ft,Kt,gn,X=sa({},V._gsap),pe=V.style;for(Be in X.svg?(Ke=V.getAttribute("transform"),V.setAttribute("transform",""),pe[Ho]=L,xe=ns(V,1),Je(V,Ho),V.setAttribute("transform",Ke)):(Ke=getComputedStyle(V)[Ho],pe[Ho]=L,xe=ns(V,1),pe[Ho]=Ke),vr)(Ke=X[Be])!==(ot=xe[Be])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(Be)<0&&(Ft=Pt(Ke)!==(gn=Pt(ot))?To(V,Be,Ke,gn):parseFloat(Ke),Kt=parseFloat(ot),T._pt=new Xs(T._pt,xe,Be,Ft,Kt-Ft,Wa),T._pt.u=gn||0,T._props.push(Be));sa(xe,X)};Rn("padding,margin,Width,Radius",function(We,T){var L="Top",V="Right",X="Bottom",ce="Left",pe=(T<3?[L,V,X,ce]:[L+ce,L+V,X+V,X+ce]).map(function(xe){return T<2?We+xe:"border"+xe+We});Rr[T>1?"border"+We:We]=function(xe,Be,Ke,ot,Ft){var Kt,qt;if(arguments.length<4)return Kt=pe.map(function(gn){return uo(xe,gn,Ke)}),5===(qt=Kt.join(" ")).split(Kt[0]).length?Kt[0]:qt;Kt=(ot+"").split(" "),qt={},pe.forEach(function(gn,Tt){return qt[gn]=Kt[Tt]=Kt[Tt]||Kt[(Tt-1)/2|0]}),xe.init(Be,qt,Ft)}});var da={name:"css",register:Mi,targetTest:function(T){return T.style&&T.nodeType},init:function(T,L,V,X,ce){var Ke,ot,Ft,Kt,qt,gn,Tt,En,ni,ti,Ot,On,Kn,Fi,ii,Ti,pe=this._props,xe=T.style,Be=V.vars.startAt;for(Tt in Fa||Mi(),this.styles=this.styles||Ce(T),Ti=this.styles.props,this.tween=V,L)if("autoRound"!==Tt&&(ot=L[Tt],!et[Tt]||!ma(Tt,L,V,X,T,ce)))if(gn=Rr[Tt],"function"==(qt=typeof ot)&&(qt=typeof(ot=ot.call(V,X,T,ce))),"string"===qt&&~ot.indexOf("random(")&&(ot=Ba(ot)),gn)gn(this,T,Tt,ot,V)&&(ii=1);else if("--"===Tt.substr(0,2))Ke=(getComputedStyle(T).getPropertyValue(Tt)+"").trim(),ot+="",Us.lastIndex=0,Us.test(Ke)||(En=Pt(Ke),ni=Pt(ot)),ni?En!==ni&&(Ke=To(T,Tt,Ke,ni)+ni):En&&(ot+=En),this.add(xe,"setProperty",Ke,ot,X,ce,0,0,Tt),pe.push(Tt),Ti.push(Tt,0,xe[Tt]);else if("undefined"!==qt){if(Be&&Tt in Be?(Ke="function"==typeof Be[Tt]?Be[Tt].call(V,X,T,ce):Be[Tt],ge(Ke)&&~Ke.indexOf("random(")&&(Ke=Ba(Ke)),Pt(Ke+"")||"auto"===Ke||(Ke+=G.units[Tt]||Pt(uo(T,Tt))||""),"="===(Ke+"").charAt(1)&&(Ke=uo(T,Tt))):Ke=uo(T,Tt),Kt=parseFloat(Ke),(ti="string"===qt&&"="===ot.charAt(1)&&ot.substr(0,2))&&(ot=ot.substr(2)),Ft=parseFloat(ot),Tt in fs&&("autoAlpha"===Tt&&(1===Kt&&"hidden"===uo(T,"visibility")&&Ft&&(Kt=0),Ti.push("visibility",0,xe.visibility),Si(this,xe,"visibility",Kt?"inherit":"hidden",Ft?"inherit":"hidden",!Ft)),"scale"!==Tt&&"transform"!==Tt&&~(Tt=fs[Tt]).indexOf(",")&&(Tt=Tt.split(",")[0])),Ot=Tt in vr)if(this.styles.save(Tt),On||((Kn=T._gsap).renderTransform&&!L.parseTransform||ns(T,L.parseTransform),Fi=!1!==L.smoothOrigin&&Kn.smooth,(On=this._pt=new Xs(this._pt,xe,Ho,0,1,Kn.renderTransform,Kn,0,-1)).dep=1),"scale"===Tt)this._pt=new Xs(this._pt,Kn,"scaleY",Kn.scaleY,(ti?no(Kn.scaleY,ti+Ft):Ft)-Kn.scaleY||0,Wa),this._pt.u=0,pe.push("scaleY",Tt),Tt+="X";else{if("transformOrigin"===Tt){Ti.push(As,0,xe[As]),ot=oa(ot),Kn.svg?Ur(T,ot,0,Fi,0,this):((ni=parseFloat(ot.split(" ")[2])||0)!==Kn.zOrigin&&Si(this,Kn,"zOrigin",Kn.zOrigin,ni),Si(this,xe,Tt,Ro(Ke),Ro(ot)));continue}if("svgOrigin"===Tt){Ur(T,ot,1,Fi,0,this);continue}if(Tt in Eo){va(this,Kn,Tt,Kt,ti?no(Kt,ti+ot):ot);continue}if("smoothOrigin"===Tt){Si(this,Kn,"smooth",Kn.smooth,ot);continue}if("force3D"===Tt){Kn[Tt]=ot;continue}if("transform"===Tt){el(this,ot,T);continue}}else Tt in xe||(Tt=Qt(Tt)||Tt);if(Ot||(Ft||0===Ft)&&(Kt||0===Kt)&&!Qa.test(ot)&&Tt in xe)Ft||(Ft=0),(En=(Ke+"").substr((Kt+"").length))!==(ni=Pt(ot)||(Tt in G.units?G.units[Tt]:En))&&(Kt=To(T,Tt,Ke,ni)),this._pt=new Xs(this._pt,Ot?Kn:xe,Tt,Kt,(ti?no(Kt,ti+Ft):Ft)-Kt,Ot||"px"!==ni&&"zIndex"!==Tt||!1===L.autoRound?Wa:_o),this._pt.u=ni||0,En!==ni&&"%"!==ni&&(this._pt.b=Ke,this._pt.r=Na);else if(Tt in xe)ua.call(this,T,Tt,Ke,ti?ti+ot:ot);else if(Tt in T)this.add(T,Tt,Ke||T[Tt],ti?ti+ot:ot,X,ce);else if("parseTransform"!==Tt){_n(Tt,ot);continue}Ot||(Tt in xe?Ti.push(Tt,0,xe[Tt]):"function"==typeof T[Tt]?Ti.push(Tt,2,T[Tt]()):Ti.push(Tt,1,Ke||T[Tt])),pe.push(Tt)}ii&&wl(this)},render:function(T,L){if(L.tween._time||!ga())for(var V=L._pt;V;)V.r(T,V.d),V=V._next;else L.styles.revert()},get:uo,aliases:fs,getSetter:function(T,L,V){var X=fs[L];return X&&X.indexOf(",")<0&&(L=X),L in vr&&L!==As&&(T._gsap.x||uo(T,"x"))?V&&Ea===V?"scale"===L?Tl:wa:(Ea=V||{})&&("scale"===L?Qr:hs):T.style&&!rt(T.style[L])?yl:~L.indexOf("-")?sn:Ja(T,L)},core:{_removeProperty:Je,_getMatrix:nr}};bi.utils.checkPrefix=Qt,bi.core.getStyleSaver=Ce,function(We,T,L,V){var X=Rn(We+","+T+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(ce){vr[ce]=1});Rn(T,function(ce){G.units[ce]="deg",Eo[ce]=1}),fs[X[13]]=We+","+T,Rn("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(ce){var pe=ce.split(":");fs[pe[1]]=X[pe[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Rn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(We){G.units[We]="px"}),bi.registerPlugin(da);var Bi=bi.registerPlugin(da)||bi,Zs=Bi.core.Tween},188:function(Ge,u,_){"use strict";var M=this&&this.__createBinding||(Object.create?function(co,sr,ao,Hi){void 0===Hi&&(Hi=ao),Object.defineProperty(co,Hi,{enumerable:!0,get:function(){return sr[ao]}})}:function(co,sr,ao,Hi){void 0===Hi&&(Hi=ao),co[Hi]=sr[ao]}),K=this&&this.__exportStar||function(co,sr){for(var ao in co)"default"!==ao&&!Object.prototype.hasOwnProperty.call(sr,ao)&&M(sr,co,ao)};Object.defineProperty(u,"__esModule",{value:!0}),u.interval=u.iif=u.generate=u.fromEventPattern=u.fromEvent=u.from=u.forkJoin=u.empty=u.defer=u.connectable=u.concat=u.combineLatest=u.bindNodeCallback=u.bindCallback=u.UnsubscriptionError=u.TimeoutError=u.SequenceError=u.ObjectUnsubscribedError=u.NotFoundError=u.EmptyError=u.ArgumentOutOfRangeError=u.firstValueFrom=u.lastValueFrom=u.isObservable=u.identity=u.noop=u.pipe=u.NotificationKind=u.Notification=u.Subscriber=u.Subscription=u.Scheduler=u.VirtualAction=u.VirtualTimeScheduler=u.animationFrameScheduler=u.animationFrame=u.queueScheduler=u.queue=u.asyncScheduler=u.async=u.asapScheduler=u.asap=u.AsyncSubject=u.ReplaySubject=u.BehaviorSubject=u.Subject=u.animationFrames=u.observable=u.ConnectableObservable=u.Observable=void 0,u.filter=u.expand=u.exhaustMap=u.exhaustAll=u.exhaust=u.every=u.endWith=u.elementAt=u.distinctUntilKeyChanged=u.distinctUntilChanged=u.distinct=u.dematerialize=u.delayWhen=u.delay=u.defaultIfEmpty=u.debounceTime=u.debounce=u.count=u.connect=u.concatWith=u.concatMapTo=u.concatMap=u.concatAll=u.combineLatestWith=u.combineLatestAll=u.combineAll=u.catchError=u.bufferWhen=u.bufferToggle=u.bufferTime=u.bufferCount=u.buffer=u.auditTime=u.audit=u.config=u.NEVER=u.EMPTY=u.scheduled=u.zip=u.using=u.timer=u.throwError=u.range=u.race=u.partition=u.pairs=u.onErrorResumeNext=u.of=u.never=u.merge=void 0,u.switchMap=u.switchAll=u.subscribeOn=u.startWith=u.skipWhile=u.skipUntil=u.skipLast=u.skip=u.single=u.shareReplay=u.share=u.sequenceEqual=u.scan=u.sampleTime=u.sample=u.refCount=u.retryWhen=u.retry=u.repeatWhen=u.repeat=u.reduce=u.raceWith=u.publishReplay=u.publishLast=u.publishBehavior=u.publish=u.pluck=u.pairwise=u.onErrorResumeNextWith=u.observeOn=u.multicast=u.min=u.mergeWith=u.mergeScan=u.mergeMapTo=u.mergeMap=u.flatMap=u.mergeAll=u.max=u.materialize=u.mapTo=u.map=u.last=u.isEmpty=u.ignoreElements=u.groupBy=u.first=u.findIndex=u.find=u.finalize=void 0,u.zipWith=u.zipAll=u.withLatestFrom=u.windowWhen=u.windowToggle=u.windowTime=u.windowCount=u.window=u.toArray=u.timestamp=u.timeoutWith=u.timeout=u.timeInterval=u.throwIfEmpty=u.throttleTime=u.throttle=u.tap=u.takeWhile=u.takeUntil=u.takeLast=u.take=u.switchScan=u.switchMapTo=void 0;var G=_(7072);Object.defineProperty(u,"Observable",{enumerable:!0,get:function(){return G.Observable}});var W=_(8840);Object.defineProperty(u,"ConnectableObservable",{enumerable:!0,get:function(){return W.ConnectableObservable}});var R=_(2289);Object.defineProperty(u,"observable",{enumerable:!0,get:function(){return R.observable}});var y=_(2505);Object.defineProperty(u,"animationFrames",{enumerable:!0,get:function(){return y.animationFrames}});var h=_(3653);Object.defineProperty(u,"Subject",{enumerable:!0,get:function(){return h.Subject}});var E=_(1552);Object.defineProperty(u,"BehaviorSubject",{enumerable:!0,get:function(){return E.BehaviorSubject}});var P=_(4098);Object.defineProperty(u,"ReplaySubject",{enumerable:!0,get:function(){return P.ReplaySubject}});var F=_(2562);Object.defineProperty(u,"AsyncSubject",{enumerable:!0,get:function(){return F.AsyncSubject}});var B=_(6842);Object.defineProperty(u,"asap",{enumerable:!0,get:function(){return B.asap}}),Object.defineProperty(u,"asapScheduler",{enumerable:!0,get:function(){return B.asapScheduler}});var k=_(9106);Object.defineProperty(u,"async",{enumerable:!0,get:function(){return k.async}}),Object.defineProperty(u,"asyncScheduler",{enumerable:!0,get:function(){return k.asyncScheduler}});var ne=_(3931);Object.defineProperty(u,"queue",{enumerable:!0,get:function(){return ne.queue}}),Object.defineProperty(u,"queueScheduler",{enumerable:!0,get:function(){return ne.queueScheduler}});var q=_(3989);Object.defineProperty(u,"animationFrame",{enumerable:!0,get:function(){return q.animationFrame}}),Object.defineProperty(u,"animationFrameScheduler",{enumerable:!0,get:function(){return q.animationFrameScheduler}});var de=_(3503);Object.defineProperty(u,"VirtualTimeScheduler",{enumerable:!0,get:function(){return de.VirtualTimeScheduler}}),Object.defineProperty(u,"VirtualAction",{enumerable:!0,get:function(){return de.VirtualAction}});var ge=_(4283);Object.defineProperty(u,"Scheduler",{enumerable:!0,get:function(){return ge.Scheduler}});var Oe=_(8085);Object.defineProperty(u,"Subscription",{enumerable:!0,get:function(){return Oe.Subscription}});var Qe=_(7032);Object.defineProperty(u,"Subscriber",{enumerable:!0,get:function(){return Qe.Subscriber}});var rt=_(9988);Object.defineProperty(u,"Notification",{enumerable:!0,get:function(){return rt.Notification}}),Object.defineProperty(u,"NotificationKind",{enumerable:!0,get:function(){return rt.NotificationKind}});var Se=_(3776);Object.defineProperty(u,"pipe",{enumerable:!0,get:function(){return Se.pipe}});var Ee=_(6048);Object.defineProperty(u,"noop",{enumerable:!0,get:function(){return Ee.noop}});var Ne=_(7288);Object.defineProperty(u,"identity",{enumerable:!0,get:function(){return Ne.identity}});var Ze=_(8447);Object.defineProperty(u,"isObservable",{enumerable:!0,get:function(){return Ze.isObservable}});var je=_(7632);Object.defineProperty(u,"lastValueFrom",{enumerable:!0,get:function(){return je.lastValueFrom}});var be=_(3133);Object.defineProperty(u,"firstValueFrom",{enumerable:!0,get:function(){return be.firstValueFrom}});var qe=_(4936);Object.defineProperty(u,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return qe.ArgumentOutOfRangeError}});var bt=_(6159);Object.defineProperty(u,"EmptyError",{enumerable:!0,get:function(){return bt.EmptyError}});var Nt=_(3811);Object.defineProperty(u,"NotFoundError",{enumerable:!0,get:function(){return Nt.NotFoundError}});var _t=_(5499);Object.defineProperty(u,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return _t.ObjectUnsubscribedError}});var en=_(833);Object.defineProperty(u,"SequenceError",{enumerable:!0,get:function(){return en.SequenceError}});var rn=_(6406);Object.defineProperty(u,"TimeoutError",{enumerable:!0,get:function(){return rn.TimeoutError}});var an=_(1490);Object.defineProperty(u,"UnsubscriptionError",{enumerable:!0,get:function(){return an.UnsubscriptionError}});var xt=_(2344);Object.defineProperty(u,"bindCallback",{enumerable:!0,get:function(){return xt.bindCallback}});var Zn=_(217);Object.defineProperty(u,"bindNodeCallback",{enumerable:!0,get:function(){return Zn.bindNodeCallback}});var qi=_(8250);Object.defineProperty(u,"combineLatest",{enumerable:!0,get:function(){return qi.combineLatest}});var Lt=_(7704);Object.defineProperty(u,"concat",{enumerable:!0,get:function(){return Lt.concat}});var Rt=_(8707);Object.defineProperty(u,"connectable",{enumerable:!0,get:function(){return Rt.connectable}});var Ut=_(1844);Object.defineProperty(u,"defer",{enumerable:!0,get:function(){return Ut.defer}});var on=_(8611);Object.defineProperty(u,"empty",{enumerable:!0,get:function(){return on.empty}});var In=_(148);Object.defineProperty(u,"forkJoin",{enumerable:!0,get:function(){return In.forkJoin}});var _n=_(7149);Object.defineProperty(u,"from",{enumerable:!0,get:function(){return _n.from}});var $n=_(1043);Object.defineProperty(u,"fromEvent",{enumerable:!0,get:function(){return $n.fromEvent}});var Pn=_(1460);Object.defineProperty(u,"fromEventPattern",{enumerable:!0,get:function(){return Pn.fromEventPattern}});var to=_(7459);Object.defineProperty(u,"generate",{enumerable:!0,get:function(){return to.generate}});var Gn=_(1575);Object.defineProperty(u,"iif",{enumerable:!0,get:function(){return Gn.iif}});var wi=_(630);Object.defineProperty(u,"interval",{enumerable:!0,get:function(){return wi.interval}});var _r=_(4052);Object.defineProperty(u,"merge",{enumerable:!0,get:function(){return _r.merge}});var Ai=_(8661);Object.defineProperty(u,"never",{enumerable:!0,get:function(){return Ai.never}});var Yr=_(655);Object.defineProperty(u,"of",{enumerable:!0,get:function(){return Yr.of}});var Lo=_(8186);Object.defineProperty(u,"onErrorResumeNext",{enumerable:!0,get:function(){return Lo.onErrorResumeNext}});var dt=_(5887);Object.defineProperty(u,"pairs",{enumerable:!0,get:function(){return dt.pairs}});var et=_(127);Object.defineProperty(u,"partition",{enumerable:!0,get:function(){return et.partition}});var Dt=_(9867);Object.defineProperty(u,"race",{enumerable:!0,get:function(){return Dt.race}});var It=_(1173);Object.defineProperty(u,"range",{enumerable:!0,get:function(){return It.range}});var cn=_(5931);Object.defineProperty(u,"throwError",{enumerable:!0,get:function(){return cn.throwError}});var tn=_(441);Object.defineProperty(u,"timer",{enumerable:!0,get:function(){return tn.timer}});var Br=_(7667);Object.defineProperty(u,"using",{enumerable:!0,get:function(){return Br.using}});var zi=_(2323);Object.defineProperty(u,"zip",{enumerable:!0,get:function(){return zi.zip}});var oi=_(3881);Object.defineProperty(u,"scheduled",{enumerable:!0,get:function(){return oi.scheduled}});var Rn=_(8611);Object.defineProperty(u,"EMPTY",{enumerable:!0,get:function(){return Rn.EMPTY}});var ci=_(8661);Object.defineProperty(u,"NEVER",{enumerable:!0,get:function(){return ci.NEVER}}),K(_(1728),u);var Vr=_(2528);Object.defineProperty(u,"config",{enumerable:!0,get:function(){return Vr.config}});var no=_(547);Object.defineProperty(u,"audit",{enumerable:!0,get:function(){return no.audit}});var wo=_(5651);Object.defineProperty(u,"auditTime",{enumerable:!0,get:function(){return wo.auditTime}});var Xi=_(4546);Object.defineProperty(u,"buffer",{enumerable:!0,get:function(){return Xi.buffer}});var So=_(7865);Object.defineProperty(u,"bufferCount",{enumerable:!0,get:function(){return So.bufferCount}});var zo=_(4567);Object.defineProperty(u,"bufferTime",{enumerable:!0,get:function(){return zo.bufferTime}});var vi=_(8151);Object.defineProperty(u,"bufferToggle",{enumerable:!0,get:function(){return vi.bufferToggle}});var oo=_(5201);Object.defineProperty(u,"bufferWhen",{enumerable:!0,get:function(){return oo.bufferWhen}});var ar=_(5503);Object.defineProperty(u,"catchError",{enumerable:!0,get:function(){return ar.catchError}});var xo=_(8868);Object.defineProperty(u,"combineAll",{enumerable:!0,get:function(){return xo.combineAll}});var zr=_(5638);Object.defineProperty(u,"combineLatestAll",{enumerable:!0,get:function(){return zr.combineLatestAll}});var Ns=_(7869);Object.defineProperty(u,"combineLatestWith",{enumerable:!0,get:function(){return Ns.combineLatestWith}});var xi=_(7507);Object.defineProperty(u,"concatAll",{enumerable:!0,get:function(){return xi.concatAll}});var Zo=_(6118);Object.defineProperty(u,"concatMap",{enumerable:!0,get:function(){return Zo.concatMap}});var Ha=_(5505);Object.defineProperty(u,"concatMapTo",{enumerable:!0,get:function(){return Ha.concatMapTo}});var _i=_(9451);Object.defineProperty(u,"concatWith",{enumerable:!0,get:function(){return _i.concatWith}});var ki=_(1673);Object.defineProperty(u,"connect",{enumerable:!0,get:function(){return ki.connect}});var ji=_(745);Object.defineProperty(u,"count",{enumerable:!0,get:function(){return ji.count}});var io=_(6799);Object.defineProperty(u,"debounce",{enumerable:!0,get:function(){return io.debounce}});var gs=_(6662);Object.defineProperty(u,"debounceTime",{enumerable:!0,get:function(){return gs.debounceTime}});var Ss=_(9033);Object.defineProperty(u,"defaultIfEmpty",{enumerable:!0,get:function(){return Ss.defaultIfEmpty}});var ro=_(9908);Object.defineProperty(u,"delay",{enumerable:!0,get:function(){return ro.delay}});var Ls=_(2680);Object.defineProperty(u,"delayWhen",{enumerable:!0,get:function(){return Ls.delayWhen}});var Gt=_(7856);Object.defineProperty(u,"dematerialize",{enumerable:!0,get:function(){return Gt.dematerialize}});var Bt=_(3506);Object.defineProperty(u,"distinct",{enumerable:!0,get:function(){return Bt.distinct}});var ze=_(9905);Object.defineProperty(u,"distinctUntilChanged",{enumerable:!0,get:function(){return ze.distinctUntilChanged}});var ct=_(9745);Object.defineProperty(u,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return ct.distinctUntilKeyChanged}});var Wt=_(55);Object.defineProperty(u,"elementAt",{enumerable:!0,get:function(){return Wt.elementAt}});var Qn=_(4486);Object.defineProperty(u,"endWith",{enumerable:!0,get:function(){return Qn.endWith}});var di=_(3595);Object.defineProperty(u,"every",{enumerable:!0,get:function(){return di.every}});var br=_(1222);Object.defineProperty(u,"exhaust",{enumerable:!0,get:function(){return br.exhaust}});var jr=_(5438);Object.defineProperty(u,"exhaustAll",{enumerable:!0,get:function(){return jr.exhaustAll}});var es=_(733);Object.defineProperty(u,"exhaustMap",{enumerable:!0,get:function(){return es.exhaustMap}});var cs=_(5006);Object.defineProperty(u,"expand",{enumerable:!0,get:function(){return cs.expand}});var Zi=_(4488);Object.defineProperty(u,"filter",{enumerable:!0,get:function(){return Zi.filter}});var ha=_(835);Object.defineProperty(u,"finalize",{enumerable:!0,get:function(){return ha.finalize}});var ko=_(6167);Object.defineProperty(u,"find",{enumerable:!0,get:function(){return ko.find}});var Gr=_(105);Object.defineProperty(u,"findIndex",{enumerable:!0,get:function(){return Gr.findIndex}});var ht=_(531);Object.defineProperty(u,"first",{enumerable:!0,get:function(){return ht.first}});var ut=_(7389);Object.defineProperty(u,"groupBy",{enumerable:!0,get:function(){return ut.groupBy}});var nt=_(8228);Object.defineProperty(u,"ignoreElements",{enumerable:!0,get:function(){return nt.ignoreElements}});var Pt=_(9185);Object.defineProperty(u,"isEmpty",{enumerable:!0,get:function(){return Pt.isEmpty}});var vn=_(3383);Object.defineProperty(u,"last",{enumerable:!0,get:function(){return vn.last}});var bn=_(5970);Object.defineProperty(u,"map",{enumerable:!0,get:function(){return bn.map}});var Fn=_(5901);Object.defineProperty(u,"mapTo",{enumerable:!0,get:function(){return Fn.mapTo}});var Ri=_(3136);Object.defineProperty(u,"materialize",{enumerable:!0,get:function(){return Ri.materialize}});var fi=_(1027);Object.defineProperty(u,"max",{enumerable:!0,get:function(){return fi.max}});var Mr=_(689);Object.defineProperty(u,"mergeAll",{enumerable:!0,get:function(){return Mr.mergeAll}});var ho=_(984);Object.defineProperty(u,"flatMap",{enumerable:!0,get:function(){return ho.flatMap}});var Zr=_(1049);Object.defineProperty(u,"mergeMap",{enumerable:!0,get:function(){return Zr.mergeMap}});var Wr=_(6191);Object.defineProperty(u,"mergeMapTo",{enumerable:!0,get:function(){return Wr.mergeMapTo}});var pr=_(6439);Object.defineProperty(u,"mergeScan",{enumerable:!0,get:function(){return pr.mergeScan}});var us=_(8821);Object.defineProperty(u,"mergeWith",{enumerable:!0,get:function(){return us.mergeWith}});var Ki=_(4147);Object.defineProperty(u,"min",{enumerable:!0,get:function(){return Ki.min}});var Ir=_(4290);Object.defineProperty(u,"multicast",{enumerable:!0,get:function(){return Ir.multicast}});var Ts=_(9512);Object.defineProperty(u,"observeOn",{enumerable:!0,get:function(){return Ts.observeOn}});var Rs=_(4268);Object.defineProperty(u,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Rs.onErrorResumeNextWith}});var Di=_(4827);Object.defineProperty(u,"pairwise",{enumerable:!0,get:function(){return Di.pairwise}});var ts=_(4011);Object.defineProperty(u,"pluck",{enumerable:!0,get:function(){return ts.pluck}});var Ba=_(3693);Object.defineProperty(u,"publish",{enumerable:!0,get:function(){return Ba.publish}});var Qs=_(7465);Object.defineProperty(u,"publishBehavior",{enumerable:!0,get:function(){return Qs.publishBehavior}});var ss=_(5982);Object.defineProperty(u,"publishLast",{enumerable:!0,get:function(){return ss.publishLast}});var aa=_(3121);Object.defineProperty(u,"publishReplay",{enumerable:!0,get:function(){return aa.publishReplay}});var vs=_(5413);Object.defineProperty(u,"raceWith",{enumerable:!0,get:function(){return vs.raceWith}});var pa=_(597);Object.defineProperty(u,"reduce",{enumerable:!0,get:function(){return pa.reduce}});var Uo=_(2923);Object.defineProperty(u,"repeat",{enumerable:!0,get:function(){return Uo.repeat}});var tl=_(2806);Object.defineProperty(u,"repeatWhen",{enumerable:!0,get:function(){return tl.repeatWhen}});var ks=_(1017);Object.defineProperty(u,"retry",{enumerable:!0,get:function(){return ks.retry}});var er=_(3377);Object.defineProperty(u,"retryWhen",{enumerable:!0,get:function(){return er.retryWhen}});var Ko=_(8551);Object.defineProperty(u,"refCount",{enumerable:!0,get:function(){return Ko.refCount}});var Io=_(8255);Object.defineProperty(u,"sample",{enumerable:!0,get:function(){return Io.sample}});var Il=_(941);Object.defineProperty(u,"sampleTime",{enumerable:!0,get:function(){return Il.sampleTime}});var dl=_(4141);Object.defineProperty(u,"scan",{enumerable:!0,get:function(){return dl.scan}});var El=_(5318);Object.defineProperty(u,"sequenceEqual",{enumerable:!0,get:function(){return El.sequenceEqual}});var Us=_(2905);Object.defineProperty(u,"share",{enumerable:!0,get:function(){return Us.share}});var fl=_(5940);Object.defineProperty(u,"shareReplay",{enumerable:!0,get:function(){return fl.shareReplay}});var nl=_(1619);Object.defineProperty(u,"single",{enumerable:!0,get:function(){return nl.single}});var mr=_(7605);Object.defineProperty(u,"skip",{enumerable:!0,get:function(){return mr.skip}});var qs=_(3106);Object.defineProperty(u,"skipLast",{enumerable:!0,get:function(){return qs.skipLast}});var ea=_(7457);Object.defineProperty(u,"skipUntil",{enumerable:!0,get:function(){return ea.skipUntil}});var Nr=_(676);Object.defineProperty(u,"skipWhile",{enumerable:!0,get:function(){return Nr.skipWhile}});var Sa=_(6907);Object.defineProperty(u,"startWith",{enumerable:!0,get:function(){return Sa.startWith}});var il=_(8625);Object.defineProperty(u,"subscribeOn",{enumerable:!0,get:function(){return il.subscribeOn}});var Oa=_(9311);Object.defineProperty(u,"switchAll",{enumerable:!0,get:function(){return Oa.switchAll}});var so=_(6180);Object.defineProperty(u,"switchMap",{enumerable:!0,get:function(){return so.switchMap}});var vl=_(7235);Object.defineProperty(u,"switchMapTo",{enumerable:!0,get:function(){return vl.switchMapTo}});var Ka=_(2546);Object.defineProperty(u,"switchScan",{enumerable:!0,get:function(){return Ka.switchScan}});var ta=_(3007);Object.defineProperty(u,"take",{enumerable:!0,get:function(){return ta.take}});var Jo=_(9747);Object.defineProperty(u,"takeLast",{enumerable:!0,get:function(){return Jo.takeLast}});var Ga=_(8325);Object.defineProperty(u,"takeUntil",{enumerable:!0,get:function(){return Ga.takeUntil}});var Hr=_(548);Object.defineProperty(u,"takeWhile",{enumerable:!0,get:function(){return Hr.takeWhile}});var jo=_(3023);Object.defineProperty(u,"tap",{enumerable:!0,get:function(){return jo.tap}});var Er=_(7635);Object.defineProperty(u,"throttle",{enumerable:!0,get:function(){return Er.throttle}});var na=_(2403);Object.defineProperty(u,"throttleTime",{enumerable:!0,get:function(){return na.throttleTime}});var as=_(909);Object.defineProperty(u,"throwIfEmpty",{enumerable:!0,get:function(){return as.throwIfEmpty}});var ls=_(5892);Object.defineProperty(u,"timeInterval",{enumerable:!0,get:function(){return ls.timeInterval}});var Va=_(6406);Object.defineProperty(u,"timeout",{enumerable:!0,get:function(){return Va.timeout}});var xa=_(6348);Object.defineProperty(u,"timeoutWith",{enumerable:!0,get:function(){return xa.timeoutWith}});var Ws=_(9010);Object.defineProperty(u,"timestamp",{enumerable:!0,get:function(){return Ws.timestamp}});var ma=_(2341);Object.defineProperty(u,"toArray",{enumerable:!0,get:function(){return ma.toArray}});var Lr=_(1176);Object.defineProperty(u,"window",{enumerable:!0,get:function(){return Lr.window}});var Sn=_(6193);Object.defineProperty(u,"windowCount",{enumerable:!0,get:function(){return Sn.windowCount}});var tr=_(2642);Object.defineProperty(u,"windowTime",{enumerable:!0,get:function(){return tr.windowTime}});var po=_(8036);Object.defineProperty(u,"windowToggle",{enumerable:!0,get:function(){return po.windowToggle}});var la=_(1624);Object.defineProperty(u,"windowWhen",{enumerable:!0,get:function(){return la.windowWhen}});var Ol=_(3725);Object.defineProperty(u,"withLatestFrom",{enumerable:!0,get:function(){return Ol.withLatestFrom}});var ys=_(378);Object.defineProperty(u,"zipAll",{enumerable:!0,get:function(){return ys.zipAll}});var rl=_(9952);Object.defineProperty(u,"zipWith",{enumerable:!0,get:function(){return rl.zipWith}})},2562:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncSubject=void 0;var G=function(W){function R(){var y=null!==W&&W.apply(this,arguments)||this;return y._value=null,y._hasValue=!1,y._isComplete=!1,y}return M(R,W),R.prototype._checkFinalizedStatuses=function(y){var h=this,P=h._hasValue,F=h._value,k=h.isStopped,ne=h._isComplete;h.hasError?y.error(h.thrownError):(k||ne)&&(P&&y.next(F),y.complete())},R.prototype.next=function(y){this.isStopped||(this._value=y,this._hasValue=!0)},R.prototype.complete=function(){var y=this,h=y._hasValue,E=y._value;y._isComplete||(this._isComplete=!0,h&&W.prototype.next.call(this,E),W.prototype.complete.call(this))},R}(_(3653).Subject);u.AsyncSubject=G},1552:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.BehaviorSubject=void 0;var G=function(W){function R(y){var h=W.call(this)||this;return h._value=y,h}return M(R,W),Object.defineProperty(R.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),R.prototype._subscribe=function(y){var h=W.prototype._subscribe.call(this,y);return!h.closed&&y.next(this._value),h},R.prototype.getValue=function(){var y=this,P=y._value;if(y.hasError)throw y.thrownError;return this._throwIfClosed(),P},R.prototype.next=function(y){W.prototype.next.call(this,this._value=y)},R}(_(3653).Subject);u.BehaviorSubject=G},9988:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observeNotification=u.Notification=u.NotificationKind=void 0;var E,M=_(8611),K=_(655),G=_(5931),W=_(1860);(E=u.NotificationKind||(u.NotificationKind={})).NEXT="N",E.ERROR="E",E.COMPLETE="C";var y=function(){function E(P,F,B){this.kind=P,this.value=F,this.error=B,this.hasValue="N"===P}return E.prototype.observe=function(P){return h(this,P)},E.prototype.do=function(P,F,B){var k=this,ne=k.kind,q=k.value,de=k.error;return"N"===ne?P?.(q):"E"===ne?F?.(de):B?.()},E.prototype.accept=function(P,F,B){var k;return W.isFunction(null===(k=P)||void 0===k?void 0:k.next)?this.observe(P):this.do(P,F,B)},E.prototype.toObservable=function(){var P=this,F=P.kind,k=P.error,ne="N"===F?K.of(P.value):"E"===F?G.throwError(function(){return k}):"C"===F?M.EMPTY:0;if(!ne)throw new TypeError("Unexpected notification kind "+F);return ne},E.createNext=function(P){return new E("N",P)},E.createError=function(P){return new E("E",void 0,P)},E.createComplete=function(){return E.completeNotification},E.completeNotification=new E("C"),E}();function h(E,P){var F,B,k,q=E.kind,de=E.value,ge=E.error;if("string"!=typeof q)throw new TypeError('Invalid notification, missing "kind"');"N"===q?null===(F=P.next)||void 0===F||F.call(P,de):"E"===q?null===(B=P.error)||void 0===B||B.call(P,ge):null===(k=P.complete)||void 0===k||k.call(P)}u.Notification=y,u.observeNotification=h},9642:(Ge,u)=>{"use strict";function K(G,W,R){return{kind:G,value:W,error:R}}Object.defineProperty(u,"__esModule",{value:!0}),u.createNotification=u.nextNotification=u.errorNotification=u.COMPLETE_NOTIFICATION=void 0,u.COMPLETE_NOTIFICATION=K("C",void 0,void 0),u.errorNotification=function _(G){return K("E",void 0,G)},u.nextNotification=function M(G){return K("N",G,void 0)},u.createNotification=K},7072:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Observable=void 0;var M=_(7032),K=_(8085),G=_(2289),W=_(3776),R=_(2528),y=_(1860),h=_(7525),E=function(){function k(ne){ne&&(this._subscribe=ne)}return k.prototype.lift=function(ne){var q=new k;return q.source=this,q.operator=ne,q},k.prototype.subscribe=function(ne,q,de){var ge=this,Oe=function B(k){return k&&k instanceof M.Subscriber||function F(k){return k&&y.isFunction(k.next)&&y.isFunction(k.error)&&y.isFunction(k.complete)}(k)&&K.isSubscription(k)}(ne)?ne:new M.SafeSubscriber(ne,q,de);return h.errorContext(function(){var rt=ge.operator,Se=ge.source;Oe.add(rt?rt.call(Oe,Se):Se?ge._subscribe(Oe):ge._trySubscribe(Oe))}),Oe},k.prototype._trySubscribe=function(ne){try{return this._subscribe(ne)}catch(q){ne.error(q)}},k.prototype.forEach=function(ne,q){var de=this;return new(q=P(q))(function(ge,Oe){var Qe=new M.SafeSubscriber({next:function(rt){try{ne(rt)}catch(Se){Oe(Se),Qe.unsubscribe()}},error:Oe,complete:ge});de.subscribe(Qe)})},k.prototype._subscribe=function(ne){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(ne)},k.prototype[G.observable]=function(){return this},k.prototype.pipe=function(){for(var ne=[],q=0;q<arguments.length;q++)ne[q]=arguments[q];return W.pipeFromArray(ne)(this)},k.prototype.toPromise=function(ne){var q=this;return new(ne=P(ne))(function(de,ge){var Oe;q.subscribe(function(Qe){return Oe=Qe},function(Qe){return ge(Qe)},function(){return de(Oe)})})},k.create=function(ne){return new k(ne)},k}();function P(k){var ne;return null!==(ne=k??R.config.Promise)&&void 0!==ne?ne:Promise}u.Observable=E},4098:function(Ge,u,_){"use strict";var R,M=this&&this.__extends||(R=function(y,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(E[F]=P[F])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=y}R(y,h),y.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(u,"__esModule",{value:!0}),u.ReplaySubject=void 0;var K=_(3653),G=_(1937),W=function(R){function y(h,E,P){void 0===h&&(h=1/0),void 0===E&&(E=1/0),void 0===P&&(P=G.dateTimestampProvider);var F=R.call(this)||this;return F._bufferSize=h,F._windowTime=E,F._timestampProvider=P,F._buffer=[],F._infiniteTimeWindow=!0,F._infiniteTimeWindow=E===1/0,F._bufferSize=Math.max(1,h),F._windowTime=Math.max(1,E),F}return M(y,R),y.prototype.next=function(h){var E=this,F=E._buffer,B=E._infiniteTimeWindow,k=E._timestampProvider,ne=E._windowTime;E.isStopped||(F.push(h),!B&&F.push(k.now()+ne)),this._trimBuffer(),R.prototype.next.call(this,h)},y.prototype._subscribe=function(h){this._throwIfClosed(),this._trimBuffer();for(var E=this._innerSubscribe(h),F=this._infiniteTimeWindow,k=this._buffer.slice(),ne=0;ne<k.length&&!h.closed;ne+=F?1:2)h.next(k[ne]);return this._checkFinalizedStatuses(h),E},y.prototype._trimBuffer=function(){var h=this,E=h._bufferSize,P=h._timestampProvider,F=h._buffer,B=h._infiniteTimeWindow,k=(B?1:2)*E;if(E<1/0&&k<F.length&&F.splice(0,F.length-k),!B){for(var ne=P.now(),q=0,de=1;de<F.length&&F[de]<=ne;de+=2)q=de;q&&F.splice(0,q+1)}},y}(K.Subject);u.ReplaySubject=W},4283:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Scheduler=void 0;var M=_(1937),K=function(){function G(W,R){void 0===R&&(R=G.now),this.schedulerActionCtor=W,this.now=R}return G.prototype.schedule=function(W,R,y){return void 0===R&&(R=0),new this.schedulerActionCtor(this,W).schedule(y,R)},G.now=M.dateTimestampProvider.now,G}();u.Scheduler=K},3653:function(Ge,u,_){"use strict";var F,M=this&&this.__extends||(F=function(B,k){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,q){ne.__proto__=q}||function(ne,q){for(var de in q)Object.prototype.hasOwnProperty.call(q,de)&&(ne[de]=q[de])})(B,k)},function(B,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function ne(){this.constructor=B}F(B,k),B.prototype=null===k?Object.create(k):(ne.prototype=k.prototype,new ne)}),K=this&&this.__values||function(F){var B="function"==typeof Symbol&&Symbol.iterator,k=B&&F[B],ne=0;if(k)return k.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&ne>=F.length&&(F=void 0),{value:F&&F[ne++],done:!F}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.AnonymousSubject=u.Subject=void 0;var G=_(7072),W=_(8085),R=_(5499),y=_(4615),h=_(7525),E=function(F){function B(){var k=F.call(this)||this;return k.closed=!1,k.currentObservers=null,k.observers=[],k.isStopped=!1,k.hasError=!1,k.thrownError=null,k}return M(B,F),B.prototype.lift=function(k){var ne=new P(this,this);return ne.operator=k,ne},B.prototype._throwIfClosed=function(){if(this.closed)throw new R.ObjectUnsubscribedError},B.prototype.next=function(k){var ne=this;h.errorContext(function(){var q,de;if(ne._throwIfClosed(),!ne.isStopped){ne.currentObservers||(ne.currentObservers=Array.from(ne.observers));try{for(var ge=K(ne.currentObservers),Oe=ge.next();!Oe.done;Oe=ge.next())Oe.value.next(k)}catch(rt){q={error:rt}}finally{try{Oe&&!Oe.done&&(de=ge.return)&&de.call(ge)}finally{if(q)throw q.error}}}})},B.prototype.error=function(k){var ne=this;h.errorContext(function(){if(ne._throwIfClosed(),!ne.isStopped){ne.hasError=ne.isStopped=!0,ne.thrownError=k;for(var q=ne.observers;q.length;)q.shift().error(k)}})},B.prototype.complete=function(){var k=this;h.errorContext(function(){if(k._throwIfClosed(),!k.isStopped){k.isStopped=!0;for(var ne=k.observers;ne.length;)ne.shift().complete()}})},B.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(B.prototype,"observed",{get:function(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0},enumerable:!1,configurable:!0}),B.prototype._trySubscribe=function(k){return this._throwIfClosed(),F.prototype._trySubscribe.call(this,k)},B.prototype._subscribe=function(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)},B.prototype._innerSubscribe=function(k){var ne=this,q=this,Oe=q.observers;return q.hasError||q.isStopped?W.EMPTY_SUBSCRIPTION:(this.currentObservers=null,Oe.push(k),new W.Subscription(function(){ne.currentObservers=null,y.arrRemove(Oe,k)}))},B.prototype._checkFinalizedStatuses=function(k){var ge=this.isStopped;this.hasError?k.error(this.thrownError):ge&&k.complete()},B.prototype.asObservable=function(){var k=new G.Observable;return k.source=this,k},B.create=function(k,ne){return new P(k,ne)},B}(G.Observable);u.Subject=E;var P=function(F){function B(k,ne){var q=F.call(this)||this;return q.destination=k,q.source=ne,q}return M(B,F),B.prototype.next=function(k){var ne,q;null===(q=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===q||q.call(ne,k)},B.prototype.error=function(k){var ne,q;null===(q=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===q||q.call(ne,k)},B.prototype.complete=function(){var k,ne;null===(ne=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===ne||ne.call(k)},B.prototype._subscribe=function(k){var ne,q;return null!==(q=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(k))&&void 0!==q?q:W.EMPTY_SUBSCRIPTION},B}(E);u.AnonymousSubject=P},7032:function(Ge,u,_){"use strict";var Qe,M=this&&this.__extends||(Qe=function(rt,Se){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,Ne){Ee.__proto__=Ne}||function(Ee,Ne){for(var Ze in Ne)Object.prototype.hasOwnProperty.call(Ne,Ze)&&(Ee[Ze]=Ne[Ze])})(rt,Se)},function(rt,Se){if("function"!=typeof Se&&null!==Se)throw new TypeError("Class extends value "+String(Se)+" is not a constructor or null");function Ee(){this.constructor=rt}Qe(rt,Se),rt.prototype=null===Se?Object.create(Se):(Ee.prototype=Se.prototype,new Ee)});Object.defineProperty(u,"__esModule",{value:!0}),u.EMPTY_OBSERVER=u.SafeSubscriber=u.Subscriber=void 0;var K=_(1860),G=_(8085),W=_(2528),R=_(9166),y=_(6048),h=_(9642),E=_(3410),P=_(7525),F=function(Qe){function rt(Se){var Ee=Qe.call(this)||this;return Ee.isStopped=!1,Se?(Ee.destination=Se,G.isSubscription(Se)&&Se.add(Ee)):Ee.destination=u.EMPTY_OBSERVER,Ee}return M(rt,Qe),rt.create=function(Se,Ee,Ne){return new q(Se,Ee,Ne)},rt.prototype.next=function(Se){this.isStopped?Oe(h.nextNotification(Se),this):this._next(Se)},rt.prototype.error=function(Se){this.isStopped?Oe(h.errorNotification(Se),this):(this.isStopped=!0,this._error(Se))},rt.prototype.complete=function(){this.isStopped?Oe(h.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},rt.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,Qe.prototype.unsubscribe.call(this),this.destination=null)},rt.prototype._next=function(Se){this.destination.next(Se)},rt.prototype._error=function(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}},rt.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},rt}(G.Subscription);u.Subscriber=F;var B=Function.prototype.bind;function k(Qe,rt){return B.call(Qe,rt)}var ne=function(){function Qe(rt){this.partialObserver=rt}return Qe.prototype.next=function(rt){var Se=this.partialObserver;if(Se.next)try{Se.next(rt)}catch(Ee){de(Ee)}},Qe.prototype.error=function(rt){var Se=this.partialObserver;if(Se.error)try{Se.error(rt)}catch(Ee){de(Ee)}else de(rt)},Qe.prototype.complete=function(){var rt=this.partialObserver;if(rt.complete)try{rt.complete()}catch(Se){de(Se)}},Qe}(),q=function(Qe){function rt(Se,Ee,Ne){var je,be,Ze=Qe.call(this)||this;return K.isFunction(Se)||!Se?je={next:Se??void 0,error:Ee??void 0,complete:Ne??void 0}:Ze&&W.config.useDeprecatedNextContext?((be=Object.create(Se)).unsubscribe=function(){return Ze.unsubscribe()},je={next:Se.next&&k(Se.next,be),error:Se.error&&k(Se.error,be),complete:Se.complete&&k(Se.complete,be)}):je=Se,Ze.destination=new ne(je),Ze}return M(rt,Qe),rt}(F);function de(Qe){W.config.useDeprecatedSynchronousErrorHandling?P.captureError(Qe):R.reportUnhandledError(Qe)}function Oe(Qe,rt){var Se=W.config.onStoppedNotification;Se&&E.timeoutProvider.setTimeout(function(){return Se(Qe,rt)})}u.SafeSubscriber=q,u.EMPTY_OBSERVER={closed:!0,next:y.noop,error:function ge(Qe){throw Qe},complete:y.noop}},8085:function(Ge,u,_){"use strict";var M=this&&this.__values||function(F){var B="function"==typeof Symbol&&Symbol.iterator,k=B&&F[B],ne=0;if(k)return k.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&ne>=F.length&&(F=void 0),{value:F&&F[ne++],done:!F}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},K=this&&this.__read||function(F,B){var k="function"==typeof Symbol&&F[Symbol.iterator];if(!k)return F;var q,ge,ne=k.call(F),de=[];try{for(;(void 0===B||B-- >0)&&!(q=ne.next()).done;)de.push(q.value)}catch(Oe){ge={error:Oe}}finally{try{q&&!q.done&&(k=ne.return)&&k.call(ne)}finally{if(ge)throw ge.error}}return de},G=this&&this.__spreadArray||function(F,B){for(var k=0,ne=B.length,q=F.length;k<ne;k++,q++)F[q]=B[k];return F};Object.defineProperty(u,"__esModule",{value:!0}),u.isSubscription=u.EMPTY_SUBSCRIPTION=u.Subscription=void 0;var W=_(1860),R=_(1490),y=_(4615),h=function(){function F(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}return F.prototype.unsubscribe=function(){var B,k,ne,q,de;if(!this.closed){this.closed=!0;var ge=this._parentage;if(ge)if(this._parentage=null,Array.isArray(ge))try{for(var Oe=M(ge),Qe=Oe.next();!Qe.done;Qe=Oe.next())Qe.value.remove(this)}catch(be){B={error:be}}finally{try{Qe&&!Qe.done&&(k=Oe.return)&&k.call(Oe)}finally{if(B)throw B.error}}else ge.remove(this);var Se=this.initialTeardown;if(W.isFunction(Se))try{Se()}catch(be){de=be instanceof R.UnsubscriptionError?be.errors:[be]}var Ee=this._finalizers;if(Ee){this._finalizers=null;try{for(var Ne=M(Ee),Ze=Ne.next();!Ze.done;Ze=Ne.next()){var je=Ze.value;try{P(je)}catch(be){de=de??[],be instanceof R.UnsubscriptionError?de=G(G([],K(de)),K(be.errors)):de.push(be)}}}catch(be){ne={error:be}}finally{try{Ze&&!Ze.done&&(q=Ne.return)&&q.call(Ne)}finally{if(ne)throw ne.error}}}if(de)throw new R.UnsubscriptionError(de)}},F.prototype.add=function(B){var k;if(B&&B!==this)if(this.closed)P(B);else{if(B instanceof F){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(B)}},F.prototype._hasParent=function(B){var k=this._parentage;return k===B||Array.isArray(k)&&k.includes(B)},F.prototype._addParent=function(B){var k=this._parentage;this._parentage=Array.isArray(k)?(k.push(B),k):k?[k,B]:B},F.prototype._removeParent=function(B){var k=this._parentage;k===B?this._parentage=null:Array.isArray(k)&&y.arrRemove(k,B)},F.prototype.remove=function(B){var k=this._finalizers;k&&y.arrRemove(k,B),B instanceof F&&B._removeParent(this)},F.EMPTY=((B=new F).closed=!0,B),F;var B}();function P(F){W.isFunction(F)?F():F.unsubscribe()}u.Subscription=h,u.EMPTY_SUBSCRIPTION=h.EMPTY,u.isSubscription=function E(F){return F instanceof h||F&&"closed"in F&&W.isFunction(F.remove)&&W.isFunction(F.add)&&W.isFunction(F.unsubscribe)}},2528:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.config=void 0,u.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3133:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.firstValueFrom=void 0;var M=_(6159),K=_(7032);u.firstValueFrom=function G(W,R){var y="object"==typeof R;return new Promise(function(h,E){var P=new K.SafeSubscriber({next:function(F){h(F),P.unsubscribe()},error:E,complete:function(){y?h(R.defaultValue):E(new M.EmptyError)}});W.subscribe(P)})}},7632:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.lastValueFrom=void 0;var M=_(6159);u.lastValueFrom=function K(G,W){var R="object"==typeof W;return new Promise(function(y,h){var P,E=!1;G.subscribe({next:function(F){P=F,E=!0},error:h,complete:function(){E?y(P):R?y(W.defaultValue):h(new M.EmptyError)}})})}},8840:function(Ge,u,_){"use strict";var E,M=this&&this.__extends||(E=function(P,F){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,k){B.__proto__=k}||function(B,k){for(var ne in k)Object.prototype.hasOwnProperty.call(k,ne)&&(B[ne]=k[ne])})(P,F)},function(P,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function B(){this.constructor=P}E(P,F),P.prototype=null===F?Object.create(F):(B.prototype=F.prototype,new B)});Object.defineProperty(u,"__esModule",{value:!0}),u.ConnectableObservable=void 0;var K=_(7072),G=_(8085),W=_(8551),R=_(3922),y=_(5145),h=function(E){function P(F,B){var k=E.call(this)||this;return k.source=F,k.subjectFactory=B,k._subject=null,k._refCount=0,k._connection=null,y.hasLift(F)&&(k.lift=F.lift),k}return M(P,E),P.prototype._subscribe=function(F){return this.getSubject().subscribe(F)},P.prototype.getSubject=function(){var F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject},P.prototype._teardown=function(){this._refCount=0;var F=this._connection;this._subject=this._connection=null,F?.unsubscribe()},P.prototype.connect=function(){var F=this,B=this._connection;if(!B){B=this._connection=new G.Subscription;var k=this.getSubject();B.add(this.source.subscribe(R.createOperatorSubscriber(k,void 0,function(){F._teardown(),k.complete()},function(ne){F._teardown(),k.error(ne)},function(){return F._teardown()}))),B.closed&&(this._connection=null,B=G.Subscription.EMPTY)}return B},P.prototype.refCount=function(){return W.refCount()(this)},P}(K.Observable);u.ConnectableObservable=h},2344:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bindCallback=void 0;var M=_(7204);u.bindCallback=function K(G,W,R){return M.bindCallbackInternals(!1,G,W,R)}},7204:function(Ge,u,_){"use strict";var M=this&&this.__read||function(F,B){var k="function"==typeof Symbol&&F[Symbol.iterator];if(!k)return F;var q,ge,ne=k.call(F),de=[];try{for(;(void 0===B||B-- >0)&&!(q=ne.next()).done;)de.push(q.value)}catch(Oe){ge={error:Oe}}finally{try{q&&!q.done&&(k=ne.return)&&k.call(ne)}finally{if(ge)throw ge.error}}return de},K=this&&this.__spreadArray||function(F,B){for(var k=0,ne=B.length,q=F.length;k<ne;k++,q++)F[q]=B[k];return F};Object.defineProperty(u,"__esModule",{value:!0}),u.bindCallbackInternals=void 0;var G=_(1832),W=_(7072),R=_(8625),y=_(9349),h=_(9512),E=_(2562);u.bindCallbackInternals=function P(F,B,k,ne){if(k){if(!G.isScheduler(k))return function(){for(var q=[],de=0;de<arguments.length;de++)q[de]=arguments[de];return P(F,B,ne).apply(this,q).pipe(y.mapOneOrManyArgs(k))};ne=k}return ne?function(){for(var q=[],de=0;de<arguments.length;de++)q[de]=arguments[de];return P(F,B).apply(this,q).pipe(R.subscribeOn(ne),h.observeOn(ne))}:function(){for(var q=this,de=[],ge=0;ge<arguments.length;ge++)de[ge]=arguments[ge];var Oe=new E.AsyncSubject,Qe=!0;return new W.Observable(function(rt){var Se=Oe.subscribe(rt);if(Qe){Qe=!1;var Ee=!1,Ne=!1;B.apply(q,K(K([],M(de)),[function(){for(var Ze=[],je=0;je<arguments.length;je++)Ze[je]=arguments[je];if(F){var be=Ze.shift();if(null!=be)return void Oe.error(be)}Oe.next(1<Ze.length?Ze:Ze[0]),Ne=!0,Ee&&Oe.complete()}])),Ne&&Oe.complete(),Ee=!0}return Se})}}},217:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bindNodeCallback=void 0;var M=_(7204);u.bindNodeCallback=function K(G,W,R){return M.bindCallbackInternals(!0,G,W,R)}},8250:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestInit=u.combineLatest=void 0;var M=_(7072),K=_(9422),G=_(7149),W=_(7288),R=_(9349),y=_(160),h=_(604),E=_(3922),P=_(7642);function B(ne,q,de){return void 0===de&&(de=W.identity),function(ge){k(q,function(){for(var Oe=ne.length,Qe=new Array(Oe),rt=Oe,Se=Oe,Ee=function(Ze){k(q,function(){var je=G.from(ne[Ze],q),be=!1;je.subscribe(E.createOperatorSubscriber(ge,function(qe){Qe[Ze]=qe,be||(be=!0,Se--),Se||ge.next(de(Qe.slice()))},function(){--rt||ge.complete()}))},ge)},Ne=0;Ne<Oe;Ne++)Ee(Ne)},ge)}}function k(ne,q,de){ne?P.executeSchedule(de,ne,q):q()}u.combineLatest=function F(){for(var ne=[],q=0;q<arguments.length;q++)ne[q]=arguments[q];var de=y.popScheduler(ne),ge=y.popResultSelector(ne),Oe=K.argsArgArrayOrObject(ne),Qe=Oe.args,rt=Oe.keys;if(0===Qe.length)return G.from([],de);var Se=new M.Observable(B(Qe,de,rt?function(Ee){return h.createObject(rt,Ee)}:W.identity));return ge?Se.pipe(R.mapOneOrManyArgs(ge)):Se},u.combineLatestInit=B},7704:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concat=void 0;var M=_(7507),K=_(160),G=_(7149);u.concat=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];return M.concatAll()(G.from(R,K.popScheduler(R)))}},8707:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.connectable=void 0;var M=_(3653),K=_(7072),G=_(1844),W={connector:function(){return new M.Subject},resetOnDisconnect:!0};u.connectable=function R(y,h){void 0===h&&(h=W);var E=null,P=h.connector,F=h.resetOnDisconnect,B=void 0===F||F,k=P(),ne=new K.Observable(function(q){return k.subscribe(q)});return ne.connect=function(){return(!E||E.closed)&&(E=G.defer(function(){return y}).subscribe(k),B&&E.add(function(){return k=P()})),E},ne}},1844:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.defer=void 0;var M=_(7072),K=_(7186);u.defer=function G(W){return new M.Observable(function(R){K.innerFrom(W()).subscribe(R)})}},2505:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrames=void 0;var M=_(7072),K=_(9118),G=_(8601);function R(h){return new M.Observable(function(E){var P=h||K.performanceTimestampProvider,F=P.now(),B=0,k=function(){E.closed||(B=G.animationFrameProvider.requestAnimationFrame(function(ne){B=0;var q=P.now();E.next({timestamp:h?q:ne,elapsed:q-F}),k()}))};return k(),function(){B&&G.animationFrameProvider.cancelAnimationFrame(B)}})}u.animationFrames=function W(h){return h?R(h):y};var y=R()},8611:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.empty=u.EMPTY=void 0;var M=_(7072);u.EMPTY=new M.Observable(function(W){return W.complete()}),u.empty=function K(W){return W?function G(W){return new M.Observable(function(R){return W.schedule(function(){return R.complete()})})}(W):u.EMPTY}},148:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.forkJoin=void 0;var M=_(7072),K=_(9422),G=_(7186),W=_(160),R=_(3922),y=_(9349),h=_(604);u.forkJoin=function E(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];var B=W.popResultSelector(P),k=K.argsArgArrayOrObject(P),ne=k.args,q=k.keys,de=new M.Observable(function(ge){var Oe=ne.length;if(Oe)for(var Qe=new Array(Oe),rt=Oe,Se=Oe,Ee=function(Ze){var je=!1;G.innerFrom(ne[Ze]).subscribe(R.createOperatorSubscriber(ge,function(be){je||(je=!0,Se--),Qe[Ze]=be},function(){return rt--},void 0,function(){(!rt||!je)&&(Se||ge.next(q?h.createObject(q,Qe):Qe),ge.complete())}))},Ne=0;Ne<Oe;Ne++)Ee(Ne);else ge.complete()});return B?de.pipe(y.mapOneOrManyArgs(B)):de}},7149:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.from=void 0;var M=_(3881),K=_(7186);u.from=function G(W,R){return R?M.scheduled(W,R):K.innerFrom(W)}},1043:function(Ge,u,_){"use strict";var M=this&&this.__read||function(ge,Oe){var Qe="function"==typeof Symbol&&ge[Symbol.iterator];if(!Qe)return ge;var Se,Ne,rt=Qe.call(ge),Ee=[];try{for(;(void 0===Oe||Oe-- >0)&&!(Se=rt.next()).done;)Ee.push(Se.value)}catch(Ze){Ne={error:Ze}}finally{try{Se&&!Se.done&&(Qe=rt.return)&&Qe.call(rt)}finally{if(Ne)throw Ne.error}}return Ee};Object.defineProperty(u,"__esModule",{value:!0}),u.fromEvent=void 0;var K=_(7186),G=_(7072),W=_(1049),R=_(1692),y=_(1860),h=_(9349),E=["addListener","removeListener"],P=["addEventListener","removeEventListener"],F=["on","off"];function k(ge,Oe){return function(Qe){return function(rt){return ge[Qe](Oe,rt)}}}u.fromEvent=function B(ge,Oe,Qe,rt){if(y.isFunction(Qe)&&(rt=Qe,Qe=void 0),rt)return B(ge,Oe,Qe).pipe(h.mapOneOrManyArgs(rt));var Se=M(function de(ge){return y.isFunction(ge.addEventListener)&&y.isFunction(ge.removeEventListener)}(ge)?P.map(function(Ze){return function(je){return ge[Ze](Oe,je,Qe)}}):function ne(ge){return y.isFunction(ge.addListener)&&y.isFunction(ge.removeListener)}(ge)?E.map(k(ge,Oe)):function q(ge){return y.isFunction(ge.on)&&y.isFunction(ge.off)}(ge)?F.map(k(ge,Oe)):[],2),Ee=Se[0],Ne=Se[1];if(!Ee&&R.isArrayLike(ge))return W.mergeMap(function(Ze){return B(Ze,Oe,Qe)})(K.innerFrom(ge));if(!Ee)throw new TypeError("Invalid event target");return new G.Observable(function(Ze){var je=function(){for(var be=[],qe=0;qe<arguments.length;qe++)be[qe]=arguments[qe];return Ze.next(1<be.length?be:be[0])};return Ee(je),function(){return Ne(je)}})}},1460:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromEventPattern=void 0;var M=_(7072),K=_(1860),G=_(9349);u.fromEventPattern=function W(R,y,h){return h?W(R,y).pipe(G.mapOneOrManyArgs(h)):new M.Observable(function(E){var P=function(){for(var B=[],k=0;k<arguments.length;k++)B[k]=arguments[k];return E.next(1===B.length?B[0]:B)},F=R(P);return K.isFunction(y)?function(){return y(P,F)}:void 0})}},8465:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromSubscribable=void 0;var M=_(7072);u.fromSubscribable=function K(G){return new M.Observable(function(W){return G.subscribe(W)})}},7459:function(Ge,u,_){"use strict";var M=this&&this.__generator||function(h,E){var F,B,k,ne,P={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return ne={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function q(ge){return function(Oe){return function de(ge){if(F)throw new TypeError("Generator is already executing.");for(;P;)try{if(F=1,B&&(k=2&ge[0]?B.return:ge[0]?B.throw||((k=B.return)&&k.call(B),0):B.next)&&!(k=k.call(B,ge[1])).done)return k;switch(B=0,k&&(ge=[2&ge[0],k.value]),ge[0]){case 0:case 1:k=ge;break;case 4:return P.label++,{value:ge[1],done:!1};case 5:P.label++,B=ge[1],ge=[0];continue;case 7:ge=P.ops.pop(),P.trys.pop();continue;default:if(!(k=(k=P.trys).length>0&&k[k.length-1])&&(6===ge[0]||2===ge[0])){P=0;continue}if(3===ge[0]&&(!k||ge[1]>k[0]&&ge[1]<k[3])){P.label=ge[1];break}if(6===ge[0]&&P.label<k[1]){P.label=k[1],k=ge;break}if(k&&P.label<k[2]){P.label=k[2],P.ops.push(ge);break}k[2]&&P.ops.pop(),P.trys.pop();continue}ge=E.call(h,P)}catch(Oe){ge=[6,Oe],B=0}finally{F=k=0}if(5&ge[0])throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}([ge,Oe])}}};Object.defineProperty(u,"__esModule",{value:!0}),u.generate=void 0;var K=_(7288),G=_(1832),W=_(1844),R=_(4017);u.generate=function y(h,E,P,F,B){var k,ne,q,de;function ge(){var Oe;return M(this,function(Qe){switch(Qe.label){case 0:Oe=de,Qe.label=1;case 1:return!E||E(Oe)?[4,q(Oe)]:[3,4];case 2:Qe.sent(),Qe.label=3;case 3:return Oe=P(Oe),[3,1];case 4:return[2]}})}return 1===arguments.length?(de=(k=h).initialState,E=k.condition,P=k.iterate,q=void 0===(ne=k.resultSelector)?K.identity:ne,B=k.scheduler):(de=h,!F||G.isScheduler(F)?(q=K.identity,B=F):q=F),W.defer(B?function(){return R.scheduleIterable(ge(),B)}:ge)}},1575:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.iif=void 0;var M=_(1844);u.iif=function K(G,W,R){return M.defer(function(){return G()?W:R})}},7186:function(Ge,u,_){"use strict";var M=this&&this.__awaiter||function(je,be,qe,bt){return new(qe||(qe=Promise))(function(_t,en){function rn(Zn){try{xt(bt.next(Zn))}catch(qi){en(qi)}}function an(Zn){try{xt(bt.throw(Zn))}catch(qi){en(qi)}}function xt(Zn){Zn.done?_t(Zn.value):function Nt(_t){return _t instanceof qe?_t:new qe(function(en){en(_t)})}(Zn.value).then(rn,an)}xt((bt=bt.apply(je,be||[])).next())})},K=this&&this.__generator||function(je,be){var bt,Nt,_t,en,qe={label:0,sent:function(){if(1&_t[0])throw _t[1];return _t[1]},trys:[],ops:[]};return en={next:rn(0),throw:rn(1),return:rn(2)},"function"==typeof Symbol&&(en[Symbol.iterator]=function(){return this}),en;function rn(xt){return function(Zn){return function an(xt){if(bt)throw new TypeError("Generator is already executing.");for(;qe;)try{if(bt=1,Nt&&(_t=2&xt[0]?Nt.return:xt[0]?Nt.throw||((_t=Nt.return)&&_t.call(Nt),0):Nt.next)&&!(_t=_t.call(Nt,xt[1])).done)return _t;switch(Nt=0,_t&&(xt=[2&xt[0],_t.value]),xt[0]){case 0:case 1:_t=xt;break;case 4:return qe.label++,{value:xt[1],done:!1};case 5:qe.label++,Nt=xt[1],xt=[0];continue;case 7:xt=qe.ops.pop(),qe.trys.pop();continue;default:if(!(_t=(_t=qe.trys).length>0&&_t[_t.length-1])&&(6===xt[0]||2===xt[0])){qe=0;continue}if(3===xt[0]&&(!_t||xt[1]>_t[0]&&xt[1]<_t[3])){qe.label=xt[1];break}if(6===xt[0]&&qe.label<_t[1]){qe.label=_t[1],_t=xt;break}if(_t&&qe.label<_t[2]){qe.label=_t[2],qe.ops.push(xt);break}_t[2]&&qe.ops.pop(),qe.trys.pop();continue}xt=be.call(je,qe)}catch(Zn){xt=[6,Zn],Nt=0}finally{bt=_t=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([xt,Zn])}}},G=this&&this.__asyncValues||function(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,be=je[Symbol.asyncIterator];return be?be.call(je):(je="function"==typeof W?W(je):je[Symbol.iterator](),qe={},bt("next"),bt("throw"),bt("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function bt(_t){qe[_t]=je[_t]&&function(en){return new Promise(function(rn,an){!function Nt(_t,en,rn,an){Promise.resolve(an).then(function(xt){_t({value:xt,done:rn})},en)}(rn,an,(en=je[_t](en)).done,en.value)})}}},W=this&&this.__values||function(je){var be="function"==typeof Symbol&&Symbol.iterator,qe=be&&je[be],bt=0;if(qe)return qe.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&bt>=je.length&&(je=void 0),{value:je&&je[bt++],done:!je}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.fromReadableStreamLike=u.fromAsyncIterable=u.fromIterable=u.fromPromise=u.fromArrayLike=u.fromInteropObservable=u.innerFrom=void 0;var R=_(1692),y=_(7035),h=_(7072),E=_(3593),P=_(8474),F=_(7116),B=_(5754),k=_(7307),ne=_(1860),q=_(9166),de=_(2289);function Oe(je){return new h.Observable(function(be){var qe=je[de.observable]();if(ne.isFunction(qe.subscribe))return qe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qe(je){return new h.Observable(function(be){for(var qe=0;qe<je.length&&!be.closed;qe++)be.next(je[qe]);be.complete()})}function rt(je){return new h.Observable(function(be){je.then(function(qe){be.closed||(be.next(qe),be.complete())},function(qe){return be.error(qe)}).then(null,q.reportUnhandledError)})}function Se(je){return new h.Observable(function(be){var qe,bt;try{for(var Nt=W(je),_t=Nt.next();!_t.done;_t=Nt.next())if(be.next(_t.value),be.closed)return}catch(rn){qe={error:rn}}finally{try{_t&&!_t.done&&(bt=Nt.return)&&bt.call(Nt)}finally{if(qe)throw qe.error}}be.complete()})}function Ee(je){return new h.Observable(function(be){(function Ze(je,be){var qe,bt,Nt,_t;return M(this,void 0,void 0,function(){var rn;return K(this,function(an){switch(an.label){case 0:an.trys.push([0,5,6,11]),qe=G(je),an.label=1;case 1:return[4,qe.next()];case 2:if((bt=an.sent()).done)return[3,4];if(be.next(bt.value),be.closed)return[2];an.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return rn=an.sent(),Nt={error:rn},[3,11];case 6:return an.trys.push([6,,9,10]),bt&&!bt.done&&(_t=qe.return)?[4,_t.call(qe)]:[3,8];case 7:an.sent(),an.label=8;case 8:return[3,10];case 9:if(Nt)throw Nt.error;return[7];case 10:return[7];case 11:return be.complete(),[2]}})})})(je,be).catch(function(qe){return be.error(qe)})})}function Ne(je){return Ee(k.readableStreamLikeToAsyncGenerator(je))}u.innerFrom=function ge(je){if(je instanceof h.Observable)return je;if(null!=je){if(E.isInteropObservable(je))return Oe(je);if(R.isArrayLike(je))return Qe(je);if(y.isPromise(je))return rt(je);if(P.isAsyncIterable(je))return Ee(je);if(B.isIterable(je))return Se(je);if(k.isReadableStreamLike(je))return Ne(je)}throw F.createInvalidObservableTypeError(je)},u.fromInteropObservable=Oe,u.fromArrayLike=Qe,u.fromPromise=rt,u.fromIterable=Se,u.fromAsyncIterable=Ee,u.fromReadableStreamLike=Ne},630:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.interval=void 0;var M=_(9106),K=_(441);u.interval=function G(W,R){return void 0===W&&(W=0),void 0===R&&(R=M.asyncScheduler),W<0&&(W=0),K.timer(W,W,R)}},4052:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.merge=void 0;var M=_(689),K=_(7186),G=_(8611),W=_(160),R=_(7149);u.merge=function y(){for(var h=[],E=0;E<arguments.length;E++)h[E]=arguments[E];var P=W.popScheduler(h),F=W.popNumber(h,1/0),B=h;return B.length?1===B.length?K.innerFrom(B[0]):M.mergeAll(F)(R.from(B,P)):G.EMPTY}},8661:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.never=u.NEVER=void 0;var M=_(7072),K=_(6048);u.NEVER=new M.Observable(K.noop),u.never=function G(){return u.NEVER}},655:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.of=void 0;var M=_(160),K=_(7149);u.of=function G(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];var y=M.popScheduler(W);return K.from(W,y)}},8186:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.onErrorResumeNext=void 0;var M=_(7072),K=_(7308),G=_(3922),W=_(6048),R=_(7186);u.onErrorResumeNext=function y(){for(var h=[],E=0;E<arguments.length;E++)h[E]=arguments[E];var P=K.argsOrArgArray(h);return new M.Observable(function(F){var B=0,k=function(){if(B<P.length){var ne=void 0;try{ne=R.innerFrom(P[B++])}catch{return void k()}var q=new G.OperatorSubscriber(F,void 0,W.noop,W.noop);ne.subscribe(q),q.add(k)}else F.complete()};k()})}},5887:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pairs=void 0;var M=_(7149);u.pairs=function K(G,W){return M.from(Object.entries(G),W)}},127:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.partition=void 0;var M=_(1080),K=_(4488),G=_(7186);u.partition=function W(R,y,h){return[K.filter(y,h)(G.innerFrom(R)),K.filter(M.not(y,h))(G.innerFrom(R))]}},9867:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.raceInit=u.race=void 0;var M=_(7072),K=_(7186),G=_(7308),W=_(3922);function y(h){return function(E){for(var P=[],F=function(k){P.push(K.innerFrom(h[k]).subscribe(W.createOperatorSubscriber(E,function(ne){if(P){for(var q=0;q<P.length;q++)q!==k&&P[q].unsubscribe();P=null}E.next(ne)})))},B=0;P&&!E.closed&&B<h.length;B++)F(B)}}u.race=function R(){for(var h=[],E=0;E<arguments.length;E++)h[E]=arguments[E];return 1===(h=G.argsOrArgArray(h)).length?K.innerFrom(h[0]):new M.Observable(y(h))},u.raceInit=y},1173:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.range=void 0;var M=_(7072),K=_(8611);u.range=function G(W,R,y){if(null==R&&(R=W,W=0),R<=0)return K.EMPTY;var h=R+W;return new M.Observable(y?function(E){var P=W;return y.schedule(function(){P<h?(E.next(P++),this.schedule()):E.complete()})}:function(E){for(var P=W;P<h&&!E.closed;)E.next(P++);E.complete()})}},5931:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throwError=void 0;var M=_(7072),K=_(1860);u.throwError=function G(W,R){var y=K.isFunction(W)?W:function(){return W},h=function(E){return E.error(y())};return new M.Observable(R?function(E){return R.schedule(h,0,E)}:h)}},441:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timer=void 0;var M=_(7072),K=_(9106),G=_(1832),W=_(7053);u.timer=function R(y,h,E){void 0===y&&(y=0),void 0===E&&(E=K.async);var P=-1;return null!=h&&(G.isScheduler(h)?E=h:P=h),new M.Observable(function(F){var B=W.isValidDate(y)?+y-E.now():y;B<0&&(B=0);var k=0;return E.schedule(function(){F.closed||(F.next(k++),0<=P?this.schedule(void 0,P):F.complete())},B)})}},7667:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.using=void 0;var M=_(7072),K=_(7186),G=_(8611);u.using=function W(R,y){return new M.Observable(function(h){var E=R(),P=y(E);return(P?K.innerFrom(P):G.EMPTY).subscribe(h),function(){E&&E.unsubscribe()}})}},2323:function(Ge,u,_){"use strict";var M=this&&this.__read||function(F,B){var k="function"==typeof Symbol&&F[Symbol.iterator];if(!k)return F;var q,ge,ne=k.call(F),de=[];try{for(;(void 0===B||B-- >0)&&!(q=ne.next()).done;)de.push(q.value)}catch(Oe){ge={error:Oe}}finally{try{q&&!q.done&&(k=ne.return)&&k.call(ne)}finally{if(ge)throw ge.error}}return de},K=this&&this.__spreadArray||function(F,B){for(var k=0,ne=B.length,q=F.length;k<ne;k++,q++)F[q]=B[k];return F};Object.defineProperty(u,"__esModule",{value:!0}),u.zip=void 0;var G=_(7072),W=_(7186),R=_(7308),y=_(8611),h=_(3922),E=_(160);u.zip=function P(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];var k=E.popResultSelector(F),ne=R.argsOrArgArray(F);return ne.length?new G.Observable(function(q){var de=ne.map(function(){return[]}),ge=ne.map(function(){return!1});q.add(function(){de=ge=null});for(var Oe=function(rt){W.innerFrom(ne[rt]).subscribe(h.createOperatorSubscriber(q,function(Se){if(de[rt].push(Se),de.every(function(Ne){return Ne.length})){var Ee=de.map(function(Ne){return Ne.shift()});q.next(k?k.apply(void 0,K([],M(Ee))):Ee),de.some(function(Ne,Ze){return!Ne.length&&ge[Ze]})&&q.complete()}},function(){ge[rt]=!0,!de[rt].length&&q.complete()}))},Qe=0;!q.closed&&Qe<ne.length;Qe++)Oe(Qe);return function(){de=ge=null}}):y.EMPTY}},3922:function(Ge,u,_){"use strict";var R,M=this&&this.__extends||(R=function(y,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(E[F]=P[F])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=y}R(y,h),y.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(u,"__esModule",{value:!0}),u.OperatorSubscriber=u.createOperatorSubscriber=void 0;var K=_(7032);u.createOperatorSubscriber=function G(R,y,h,E,P){return new W(R,y,h,E,P)};var W=function(R){function y(h,E,P,F,B,k){var ne=R.call(this,h)||this;return ne.onFinalize=B,ne.shouldUnsubscribe=k,ne._next=E?function(q){try{E(q)}catch(de){h.error(de)}}:R.prototype._next,ne._error=F?function(q){try{F(q)}catch(de){h.error(de)}finally{this.unsubscribe()}}:R.prototype._error,ne._complete=P?function(){try{P()}catch(q){h.error(q)}finally{this.unsubscribe()}}:R.prototype._complete,ne}return M(y,R),y.prototype.unsubscribe=function(){var h;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var E=this.closed;R.prototype.unsubscribe.call(this),!E&&(null===(h=this.onFinalize)||void 0===h||h.call(this))}},y}(K.Subscriber);u.OperatorSubscriber=W},547:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.audit=void 0;var M=_(5145),K=_(7186),G=_(3922);u.audit=function W(R){return M.operate(function(y,h){var E=!1,P=null,F=null,B=!1,k=function(){if(F?.unsubscribe(),F=null,E){E=!1;var q=P;P=null,h.next(q)}B&&h.complete()},ne=function(){F=null,B&&h.complete()};y.subscribe(G.createOperatorSubscriber(h,function(q){E=!0,P=q,F||K.innerFrom(R(q)).subscribe(F=G.createOperatorSubscriber(h,k,ne))},function(){B=!0,(!E||!F||F.closed)&&h.complete()}))})}},5651:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.auditTime=void 0;var M=_(9106),K=_(547),G=_(441);u.auditTime=function W(R,y){return void 0===y&&(y=M.asyncScheduler),K.audit(function(){return G.timer(R,y)})}},4546:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.buffer=void 0;var M=_(5145),K=_(6048),G=_(3922),W=_(7186);u.buffer=function R(y){return M.operate(function(h,E){var P=[];return h.subscribe(G.createOperatorSubscriber(E,function(F){return P.push(F)},function(){E.next(P),E.complete()})),W.innerFrom(y).subscribe(G.createOperatorSubscriber(E,function(){var F=P;P=[],E.next(F)},K.noop)),function(){P=null}})}},7865:function(Ge,u,_){"use strict";var M=this&&this.__values||function(y){var h="function"==typeof Symbol&&Symbol.iterator,E=h&&y[h],P=0;if(E)return E.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&P>=y.length&&(y=void 0),{value:y&&y[P++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferCount=void 0;var K=_(5145),G=_(3922),W=_(4615);u.bufferCount=function R(y,h){return void 0===h&&(h=null),h=h??y,K.operate(function(E,P){var F=[],B=0;E.subscribe(G.createOperatorSubscriber(P,function(k){var ne,q,de,ge,Oe=null;B++%h==0&&F.push([]);try{for(var Qe=M(F),rt=Qe.next();!rt.done;rt=Qe.next())(Se=rt.value).push(k),y<=Se.length&&(Oe=Oe??[]).push(Se)}catch(Ze){ne={error:Ze}}finally{try{rt&&!rt.done&&(q=Qe.return)&&q.call(Qe)}finally{if(ne)throw ne.error}}if(Oe)try{for(var Ee=M(Oe),Ne=Ee.next();!Ne.done;Ne=Ee.next()){var Se;W.arrRemove(F,Se=Ne.value),P.next(Se)}}catch(Ze){de={error:Ze}}finally{try{Ne&&!Ne.done&&(ge=Ee.return)&&ge.call(Ee)}finally{if(de)throw de.error}}},function(){var k,ne;try{for(var q=M(F),de=q.next();!de.done;de=q.next())P.next(de.value)}catch(Oe){k={error:Oe}}finally{try{de&&!de.done&&(ne=q.return)&&ne.call(q)}finally{if(k)throw k.error}}P.complete()},void 0,function(){F=null}))})}},4567:function(Ge,u,_){"use strict";var M=this&&this.__values||function(F){var B="function"==typeof Symbol&&Symbol.iterator,k=B&&F[B],ne=0;if(k)return k.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&ne>=F.length&&(F=void 0),{value:F&&F[ne++],done:!F}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferTime=void 0;var K=_(8085),G=_(5145),W=_(3922),R=_(4615),y=_(9106),h=_(160),E=_(7642);u.bufferTime=function P(F){for(var B,k,ne=[],q=1;q<arguments.length;q++)ne[q-1]=arguments[q];var de=null!==(B=h.popScheduler(ne))&&void 0!==B?B:y.asyncScheduler,ge=null!==(k=ne[0])&&void 0!==k?k:null,Oe=ne[1]||1/0;return G.operate(function(Qe,rt){var Se=[],Ee=!1,Ne=function(be){var qe=be.buffer;be.subs.unsubscribe(),R.arrRemove(Se,be),rt.next(qe),Ee&&Ze()},Ze=function(){if(Se){var be=new K.Subscription;rt.add(be);var bt={buffer:[],subs:be};Se.push(bt),E.executeSchedule(be,de,function(){return Ne(bt)},F)}};null!==ge&&ge>=0?E.executeSchedule(rt,de,Ze,ge,!0):Ee=!0,Ze();var je=W.createOperatorSubscriber(rt,function(be){var qe,bt,Nt=Se.slice();try{for(var _t=M(Nt),en=_t.next();!en.done;en=_t.next()){var rn=en.value,an=rn.buffer;an.push(be),Oe<=an.length&&Ne(rn)}}catch(xt){qe={error:xt}}finally{try{en&&!en.done&&(bt=_t.return)&&bt.call(_t)}finally{if(qe)throw qe.error}}},function(){for(;Se?.length;)rt.next(Se.shift().buffer);je?.unsubscribe(),rt.complete(),rt.unsubscribe()},void 0,function(){return Se=null});Qe.subscribe(je)})}},8151:function(Ge,u,_){"use strict";var M=this&&this.__values||function(P){var F="function"==typeof Symbol&&Symbol.iterator,B=F&&P[F],k=0;if(B)return B.call(P);if(P&&"number"==typeof P.length)return{next:function(){return P&&k>=P.length&&(P=void 0),{value:P&&P[k++],done:!P}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferToggle=void 0;var K=_(8085),G=_(5145),W=_(7186),R=_(3922),y=_(6048),h=_(4615);u.bufferToggle=function E(P,F){return G.operate(function(B,k){var ne=[];W.innerFrom(P).subscribe(R.createOperatorSubscriber(k,function(q){var de=[];ne.push(de);var ge=new K.Subscription;ge.add(W.innerFrom(F(q)).subscribe(R.createOperatorSubscriber(k,function(){h.arrRemove(ne,de),k.next(de),ge.unsubscribe()},y.noop)))},y.noop)),B.subscribe(R.createOperatorSubscriber(k,function(q){var de,ge;try{for(var Oe=M(ne),Qe=Oe.next();!Qe.done;Qe=Oe.next())Qe.value.push(q)}catch(Se){de={error:Se}}finally{try{Qe&&!Qe.done&&(ge=Oe.return)&&ge.call(Oe)}finally{if(de)throw de.error}}},function(){for(;ne.length>0;)k.next(ne.shift());k.complete()}))})}},5201:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bufferWhen=void 0;var M=_(5145),K=_(6048),G=_(3922),W=_(7186);u.bufferWhen=function R(y){return M.operate(function(h,E){var P=null,F=null,B=function(){F?.unsubscribe();var k=P;P=[],k&&E.next(k),W.innerFrom(y()).subscribe(F=G.createOperatorSubscriber(E,B,K.noop))};B(),h.subscribe(G.createOperatorSubscriber(E,function(k){return P?.push(k)},function(){P&&E.next(P),E.complete()},void 0,function(){return P=F=null}))})}},5503:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.catchError=void 0;var M=_(7186),K=_(3922),G=_(5145);u.catchError=function W(R){return G.operate(function(y,h){var F,E=null,P=!1;E=y.subscribe(K.createOperatorSubscriber(h,void 0,void 0,function(B){F=M.innerFrom(R(B,W(R)(y))),E?(E.unsubscribe(),E=null,F.subscribe(h)):P=!0})),P&&(E.unsubscribe(),E=null,F.subscribe(h))})}},8868:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineAll=void 0;var M=_(5638);u.combineAll=M.combineLatestAll},7839:function(Ge,u,_){"use strict";var M=this&&this.__read||function(F,B){var k="function"==typeof Symbol&&F[Symbol.iterator];if(!k)return F;var q,ge,ne=k.call(F),de=[];try{for(;(void 0===B||B-- >0)&&!(q=ne.next()).done;)de.push(q.value)}catch(Oe){ge={error:Oe}}finally{try{q&&!q.done&&(k=ne.return)&&k.call(ne)}finally{if(ge)throw ge.error}}return de},K=this&&this.__spreadArray||function(F,B){for(var k=0,ne=B.length,q=F.length;k<ne;k++,q++)F[q]=B[k];return F};Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatest=void 0;var G=_(8250),W=_(5145),R=_(7308),y=_(9349),h=_(3776),E=_(160);u.combineLatest=function P(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];var k=E.popResultSelector(F);return k?h.pipe(P.apply(void 0,K([],M(F))),y.mapOneOrManyArgs(k)):W.operate(function(ne,q){G.combineLatestInit(K([ne],M(R.argsOrArgArray(F))))(q)})}},5638:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestAll=void 0;var M=_(8250),K=_(4622);u.combineLatestAll=function G(W){return K.joinAllInternals(M.combineLatest,W)}},7869:function(Ge,u,_){"use strict";var M=this&&this.__read||function(R,y){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var P,B,E=h.call(R),F=[];try{for(;(void 0===y||y-- >0)&&!(P=E.next()).done;)F.push(P.value)}catch(k){B={error:k}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(B)throw B.error}}return F},K=this&&this.__spreadArray||function(R,y){for(var h=0,E=y.length,P=R.length;h<E;h++,P++)R[P]=y[h];return R};Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestWith=void 0;var G=_(7839);u.combineLatestWith=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];return G.combineLatest.apply(void 0,K([],M(R)))}},4526:function(Ge,u,_){"use strict";var M=this&&this.__read||function(E,P){var F="function"==typeof Symbol&&E[Symbol.iterator];if(!F)return E;var k,q,B=F.call(E),ne=[];try{for(;(void 0===P||P-- >0)&&!(k=B.next()).done;)ne.push(k.value)}catch(de){q={error:de}}finally{try{k&&!k.done&&(F=B.return)&&F.call(B)}finally{if(q)throw q.error}}return ne},K=this&&this.__spreadArray||function(E,P){for(var F=0,B=P.length,k=E.length;F<B;F++,k++)E[k]=P[F];return E};Object.defineProperty(u,"__esModule",{value:!0}),u.concat=void 0;var G=_(5145),W=_(7507),R=_(160),y=_(7149);u.concat=function h(){for(var E=[],P=0;P<arguments.length;P++)E[P]=arguments[P];var F=R.popScheduler(E);return G.operate(function(B,k){W.concatAll()(y.from(K([B],M(E)),F)).subscribe(k)})}},7507:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatAll=void 0;var M=_(689);u.concatAll=function K(){return M.mergeAll(1)}},6118:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatMap=void 0;var M=_(1049),K=_(1860);u.concatMap=function G(W,R){return K.isFunction(R)?M.mergeMap(W,R,1):M.mergeMap(W,1)}},5505:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatMapTo=void 0;var M=_(6118),K=_(1860);u.concatMapTo=function G(W,R){return K.isFunction(R)?M.concatMap(function(){return W},R):M.concatMap(function(){return W})}},9451:function(Ge,u,_){"use strict";var M=this&&this.__read||function(R,y){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var P,B,E=h.call(R),F=[];try{for(;(void 0===y||y-- >0)&&!(P=E.next()).done;)F.push(P.value)}catch(k){B={error:k}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(B)throw B.error}}return F},K=this&&this.__spreadArray||function(R,y){for(var h=0,E=y.length,P=R.length;h<E;h++,P++)R[P]=y[h];return R};Object.defineProperty(u,"__esModule",{value:!0}),u.concatWith=void 0;var G=_(4526);u.concatWith=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];return G.concat.apply(void 0,K([],M(R)))}},1673:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.connect=void 0;var M=_(3653),K=_(7186),G=_(5145),W=_(8465),R={connector:function(){return new M.Subject}};u.connect=function y(h,E){void 0===E&&(E=R);var P=E.connector;return G.operate(function(F,B){var k=P();K.innerFrom(h(W.fromSubscribable(k))).subscribe(B),B.add(F.subscribe(k))})}},745:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.count=void 0;var M=_(597);u.count=function K(G){return M.reduce(function(W,R,y){return!G||G(R,y)?W+1:W},0)}},6799:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.debounce=void 0;var M=_(5145),K=_(6048),G=_(3922),W=_(7186);u.debounce=function R(y){return M.operate(function(h,E){var P=!1,F=null,B=null,k=function(){if(B?.unsubscribe(),B=null,P){P=!1;var ne=F;F=null,E.next(ne)}};h.subscribe(G.createOperatorSubscriber(E,function(ne){B?.unsubscribe(),P=!0,F=ne,B=G.createOperatorSubscriber(E,k,K.noop),W.innerFrom(y(ne)).subscribe(B)},function(){k(),E.complete()},void 0,function(){F=B=null}))})}},6662:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.debounceTime=void 0;var M=_(9106),K=_(5145),G=_(3922);u.debounceTime=function W(R,y){return void 0===y&&(y=M.asyncScheduler),K.operate(function(h,E){var P=null,F=null,B=null,k=function(){if(P){P.unsubscribe(),P=null;var q=F;F=null,E.next(q)}};function ne(){var q=B+R,de=y.now();if(de<q)return P=this.schedule(void 0,q-de),void E.add(P);k()}h.subscribe(G.createOperatorSubscriber(E,function(q){F=q,B=y.now(),P||(P=y.schedule(ne,R),E.add(P))},function(){k(),E.complete()},void 0,function(){F=P=null}))})}},9033:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.defaultIfEmpty=void 0;var M=_(5145),K=_(3922);u.defaultIfEmpty=function G(W){return M.operate(function(R,y){var h=!1;R.subscribe(K.createOperatorSubscriber(y,function(E){h=!0,y.next(E)},function(){h||y.next(W),y.complete()}))})}},9908:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.delay=void 0;var M=_(9106),K=_(2680),G=_(441);u.delay=function W(R,y){void 0===y&&(y=M.asyncScheduler);var h=G.timer(R,y);return K.delayWhen(function(){return h})}},2680:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.delayWhen=void 0;var M=_(7704),K=_(3007),G=_(8228),W=_(5901),R=_(1049),y=_(7186);u.delayWhen=function h(E,P){return P?function(F){return M.concat(P.pipe(K.take(1),G.ignoreElements()),F.pipe(h(E)))}:R.mergeMap(function(F,B){return y.innerFrom(E(F,B)).pipe(K.take(1),W.mapTo(F))})}},7856:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.dematerialize=void 0;var M=_(9988),K=_(5145),G=_(3922);u.dematerialize=function W(){return K.operate(function(R,y){R.subscribe(G.createOperatorSubscriber(y,function(h){return M.observeNotification(h,y)}))})}},3506:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinct=void 0;var M=_(5145),K=_(3922),G=_(6048),W=_(7186);u.distinct=function R(y,h){return M.operate(function(E,P){var F=new Set;E.subscribe(K.createOperatorSubscriber(P,function(B){var k=y?y(B):B;F.has(k)||(F.add(k),P.next(B))})),h&&W.innerFrom(h).subscribe(K.createOperatorSubscriber(P,function(){return F.clear()},G.noop))})}},9905:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinctUntilChanged=void 0;var M=_(7288),K=_(5145),G=_(3922);function R(y,h){return y===h}u.distinctUntilChanged=function W(y,h){return void 0===h&&(h=M.identity),y=y??R,K.operate(function(E,P){var F,B=!0;E.subscribe(G.createOperatorSubscriber(P,function(k){var ne=h(k);(B||!y(F,ne))&&(B=!1,F=ne,P.next(k))}))})}},9745:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinctUntilKeyChanged=void 0;var M=_(9905);u.distinctUntilKeyChanged=function K(G,W){return M.distinctUntilChanged(function(R,y){return W?W(R[G],y[G]):R[G]===y[G]})}},55:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.elementAt=void 0;var M=_(4936),K=_(4488),G=_(909),W=_(9033),R=_(3007);u.elementAt=function y(h,E){if(h<0)throw new M.ArgumentOutOfRangeError;var P=arguments.length>=2;return function(F){return F.pipe(K.filter(function(B,k){return k===h}),R.take(1),P?W.defaultIfEmpty(E):G.throwIfEmpty(function(){return new M.ArgumentOutOfRangeError}))}}},4486:function(Ge,u,_){"use strict";var M=this&&this.__read||function(y,h){var E="function"==typeof Symbol&&y[Symbol.iterator];if(!E)return y;var F,k,P=E.call(y),B=[];try{for(;(void 0===h||h-- >0)&&!(F=P.next()).done;)B.push(F.value)}catch(ne){k={error:ne}}finally{try{F&&!F.done&&(E=P.return)&&E.call(P)}finally{if(k)throw k.error}}return B},K=this&&this.__spreadArray||function(y,h){for(var E=0,P=h.length,F=y.length;E<P;E++,F++)y[F]=h[E];return y};Object.defineProperty(u,"__esModule",{value:!0}),u.endWith=void 0;var G=_(7704),W=_(655);u.endWith=function R(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];return function(E){return G.concat(E,W.of.apply(void 0,K([],M(y))))}}},3595:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.every=void 0;var M=_(5145),K=_(3922);u.every=function G(W,R){return M.operate(function(y,h){var E=0;y.subscribe(K.createOperatorSubscriber(h,function(P){W.call(R,P,E++,y)||(h.next(!1),h.complete())},function(){h.next(!0),h.complete()}))})}},1222:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaust=void 0;var M=_(5438);u.exhaust=M.exhaustAll},5438:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaustAll=void 0;var M=_(733),K=_(7288);u.exhaustAll=function G(){return M.exhaustMap(K.identity)}},733:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaustMap=void 0;var M=_(5970),K=_(7186),G=_(5145),W=_(3922);u.exhaustMap=function R(y,h){return h?function(E){return E.pipe(R(function(P,F){return K.innerFrom(y(P,F)).pipe(M.map(function(B,k){return h(P,B,F,k)}))}))}:G.operate(function(E,P){var F=0,B=null,k=!1;E.subscribe(W.createOperatorSubscriber(P,function(ne){B||(B=W.createOperatorSubscriber(P,void 0,function(){B=null,k&&P.complete()}),K.innerFrom(y(ne,F++)).subscribe(B))},function(){k=!0,!B&&P.complete()}))})}},5006:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.expand=void 0;var M=_(5145),K=_(3509);u.expand=function G(W,R,y){return void 0===R&&(R=1/0),R=(R||0)<1?1/0:R,M.operate(function(h,E){return K.mergeInternals(h,E,W,R,void 0,!0,y)})}},4488:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.filter=void 0;var M=_(5145),K=_(3922);u.filter=function G(W,R){return M.operate(function(y,h){var E=0;y.subscribe(K.createOperatorSubscriber(h,function(P){return W.call(R,P,E++)&&h.next(P)}))})}},835:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.finalize=void 0;var M=_(5145);u.finalize=function K(G){return M.operate(function(W,R){try{W.subscribe(R)}finally{R.add(G)}})}},6167:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createFind=u.find=void 0;var M=_(5145),K=_(3922);function W(R,y,h){var E="index"===h;return function(P,F){var B=0;P.subscribe(K.createOperatorSubscriber(F,function(k){var ne=B++;R.call(y,k,ne,P)&&(F.next(E?ne:k),F.complete())},function(){F.next(E?-1:void 0),F.complete()}))}}u.find=function G(R,y){return M.operate(W(R,y,"value"))},u.createFind=W},105:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.findIndex=void 0;var M=_(5145),K=_(6167);u.findIndex=function G(W,R){return M.operate(K.createFind(W,R,"index"))}},531:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.first=void 0;var M=_(6159),K=_(4488),G=_(3007),W=_(9033),R=_(909),y=_(7288);u.first=function h(E,P){var F=arguments.length>=2;return function(B){return B.pipe(E?K.filter(function(k,ne){return E(k,ne,B)}):y.identity,G.take(1),F?W.defaultIfEmpty(P):R.throwIfEmpty(function(){return new M.EmptyError}))}}},984:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.flatMap=void 0;var M=_(1049);u.flatMap=M.mergeMap},7389:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.groupBy=void 0;var M=_(7072),K=_(7186),G=_(3653),W=_(5145),R=_(3922);u.groupBy=function y(h,E,P,F){return W.operate(function(B,k){var ne;E&&"function"!=typeof E?(P=E.duration,ne=E.element,F=E.connector):ne=E;var q=new Map,de=function(Ee){q.forEach(Ee),Ee(k)},ge=function(Ee){return de(function(Ne){return Ne.error(Ee)})},Oe=0,Qe=!1,rt=new R.OperatorSubscriber(k,function(Ee){try{var Ne=h(Ee),Ze=q.get(Ne);if(!Ze){q.set(Ne,Ze=F?F():new G.Subject);var je=function Se(Ee,Ne){var Ze=new M.Observable(function(je){Oe++;var be=Ne.subscribe(je);return function(){be.unsubscribe(),0==--Oe&&Qe&&rt.unsubscribe()}});return Ze.key=Ee,Ze}(Ne,Ze);if(k.next(je),P){var be=R.createOperatorSubscriber(Ze,function(){Ze.complete(),be?.unsubscribe()},void 0,void 0,function(){return q.delete(Ne)});rt.add(K.innerFrom(P(je)).subscribe(be))}}Ze.next(ne?ne(Ee):Ee)}catch(qe){ge(qe)}},function(){return de(function(Ee){return Ee.complete()})},ge,function(){return q.clear()},function(){return Qe=!0,0===Oe});B.subscribe(rt)})}},8228:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ignoreElements=void 0;var M=_(5145),K=_(3922),G=_(6048);u.ignoreElements=function W(){return M.operate(function(R,y){R.subscribe(K.createOperatorSubscriber(y,G.noop))})}},9185:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isEmpty=void 0;var M=_(5145),K=_(3922);u.isEmpty=function G(){return M.operate(function(W,R){W.subscribe(K.createOperatorSubscriber(R,function(){R.next(!1),R.complete()},function(){R.next(!0),R.complete()}))})}},4622:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.joinAllInternals=void 0;var M=_(7288),K=_(9349),G=_(3776),W=_(1049),R=_(2341);u.joinAllInternals=function y(h,E){return G.pipe(R.toArray(),W.mergeMap(function(P){return h(P)}),E?K.mapOneOrManyArgs(E):M.identity)}},3383:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.last=void 0;var M=_(6159),K=_(4488),G=_(9747),W=_(909),R=_(9033),y=_(7288);u.last=function h(E,P){var F=arguments.length>=2;return function(B){return B.pipe(E?K.filter(function(k,ne){return E(k,ne,B)}):y.identity,G.takeLast(1),F?R.defaultIfEmpty(P):W.throwIfEmpty(function(){return new M.EmptyError}))}}},5970:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.map=void 0;var M=_(5145),K=_(3922);u.map=function G(W,R){return M.operate(function(y,h){var E=0;y.subscribe(K.createOperatorSubscriber(h,function(P){h.next(W.call(R,P,E++))}))})}},5901:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mapTo=void 0;var M=_(5970);u.mapTo=function K(G){return M.map(function(){return G})}},3136:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.materialize=void 0;var M=_(9988),K=_(5145),G=_(3922);u.materialize=function W(){return K.operate(function(R,y){R.subscribe(G.createOperatorSubscriber(y,function(h){y.next(M.Notification.createNext(h))},function(){y.next(M.Notification.createComplete()),y.complete()},function(h){y.next(M.Notification.createError(h)),y.complete()}))})}},1027:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.max=void 0;var M=_(597),K=_(1860);u.max=function G(W){return M.reduce(K.isFunction(W)?function(R,y){return W(R,y)>0?R:y}:function(R,y){return R>y?R:y})}},5679:function(Ge,u,_){"use strict";var M=this&&this.__read||function(P,F){var B="function"==typeof Symbol&&P[Symbol.iterator];if(!B)return P;var ne,de,k=B.call(P),q=[];try{for(;(void 0===F||F-- >0)&&!(ne=k.next()).done;)q.push(ne.value)}catch(ge){de={error:ge}}finally{try{ne&&!ne.done&&(B=k.return)&&B.call(k)}finally{if(de)throw de.error}}return q},K=this&&this.__spreadArray||function(P,F){for(var B=0,k=F.length,ne=P.length;B<k;B++,ne++)P[ne]=F[B];return P};Object.defineProperty(u,"__esModule",{value:!0}),u.merge=void 0;var G=_(5145),W=_(7308),R=_(689),y=_(160),h=_(7149);u.merge=function E(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];var B=y.popScheduler(P),k=y.popNumber(P,1/0);return P=W.argsOrArgArray(P),G.operate(function(ne,q){R.mergeAll(k)(h.from(K([ne],M(P)),B)).subscribe(q)})}},689:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeAll=void 0;var M=_(1049),K=_(7288);u.mergeAll=function G(W){return void 0===W&&(W=1/0),M.mergeMap(K.identity,W)}},3509:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeInternals=void 0;var M=_(7186),K=_(7642),G=_(3922);u.mergeInternals=function W(R,y,h,E,P,F,B,k){var ne=[],q=0,de=0,ge=!1,Oe=function(){ge&&!ne.length&&!q&&y.complete()},Qe=function(Se){return q<E?rt(Se):ne.push(Se)},rt=function(Se){F&&y.next(Se),q++;var Ee=!1;M.innerFrom(h(Se,de++)).subscribe(G.createOperatorSubscriber(y,function(Ne){P?.(Ne),F?Qe(Ne):y.next(Ne)},function(){Ee=!0},void 0,function(){if(Ee)try{q--;for(var Ne=function(){var Ze=ne.shift();B?K.executeSchedule(y,B,function(){return rt(Ze)}):rt(Ze)};ne.length&&q<E;)Ne();Oe()}catch(Ze){y.error(Ze)}}))};return R.subscribe(G.createOperatorSubscriber(y,Qe,function(){ge=!0,Oe()})),function(){k?.()}}},1049:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeMap=void 0;var M=_(5970),K=_(7186),G=_(5145),W=_(3509),R=_(1860);u.mergeMap=function y(h,E,P){return void 0===P&&(P=1/0),R.isFunction(E)?y(function(F,B){return M.map(function(k,ne){return E(F,k,B,ne)})(K.innerFrom(h(F,B)))},P):("number"==typeof E&&(P=E),G.operate(function(F,B){return W.mergeInternals(F,B,h,P)}))}},6191:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeMapTo=void 0;var M=_(1049),K=_(1860);u.mergeMapTo=function G(W,R,y){return void 0===y&&(y=1/0),K.isFunction(R)?M.mergeMap(function(){return W},R,y):("number"==typeof R&&(y=R),M.mergeMap(function(){return W},y))}},6439:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeScan=void 0;var M=_(5145),K=_(3509);u.mergeScan=function G(W,R,y){return void 0===y&&(y=1/0),M.operate(function(h,E){var P=R;return K.mergeInternals(h,E,function(F,B){return W(P,F,B)},y,function(F){P=F},!1,void 0,function(){return P=null})})}},8821:function(Ge,u,_){"use strict";var M=this&&this.__read||function(R,y){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var P,B,E=h.call(R),F=[];try{for(;(void 0===y||y-- >0)&&!(P=E.next()).done;)F.push(P.value)}catch(k){B={error:k}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(B)throw B.error}}return F},K=this&&this.__spreadArray||function(R,y){for(var h=0,E=y.length,P=R.length;h<E;h++,P++)R[P]=y[h];return R};Object.defineProperty(u,"__esModule",{value:!0}),u.mergeWith=void 0;var G=_(5679);u.mergeWith=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];return G.merge.apply(void 0,K([],M(R)))}},4147:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.min=void 0;var M=_(597),K=_(1860);u.min=function G(W){return M.reduce(K.isFunction(W)?function(R,y){return W(R,y)<0?R:y}:function(R,y){return R<y?R:y})}},4290:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.multicast=void 0;var M=_(8840),K=_(1860),G=_(1673);u.multicast=function W(R,y){var h=K.isFunction(R)?R:function(){return R};return K.isFunction(y)?G.connect(y,{connector:h}):function(E){return new M.ConnectableObservable(E,h)}}},9512:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observeOn=void 0;var M=_(7642),K=_(5145),G=_(3922);u.observeOn=function W(R,y){return void 0===y&&(y=0),K.operate(function(h,E){h.subscribe(G.createOperatorSubscriber(E,function(P){return M.executeSchedule(E,R,function(){return E.next(P)},y)},function(){return M.executeSchedule(E,R,function(){return E.complete()},y)},function(P){return M.executeSchedule(E,R,function(){return E.error(P)},y)}))})}},4268:function(Ge,u,_){"use strict";var M=this&&this.__read||function(y,h){var E="function"==typeof Symbol&&y[Symbol.iterator];if(!E)return y;var F,k,P=E.call(y),B=[];try{for(;(void 0===h||h-- >0)&&!(F=P.next()).done;)B.push(F.value)}catch(ne){k={error:ne}}finally{try{F&&!F.done&&(E=P.return)&&E.call(P)}finally{if(k)throw k.error}}return B},K=this&&this.__spreadArray||function(y,h){for(var E=0,P=h.length,F=y.length;E<P;E++,F++)y[F]=h[E];return y};Object.defineProperty(u,"__esModule",{value:!0}),u.onErrorResumeNext=u.onErrorResumeNextWith=void 0;var G=_(7308),W=_(8186);function R(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];var E=G.argsOrArgArray(y);return function(P){return W.onErrorResumeNext.apply(void 0,K([P],M(E)))}}u.onErrorResumeNextWith=R,u.onErrorResumeNext=R},4827:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pairwise=void 0;var M=_(5145),K=_(3922);u.pairwise=function G(){return M.operate(function(W,R){var y,h=!1;W.subscribe(K.createOperatorSubscriber(R,function(E){var P=y;y=E,h&&R.next([P,E]),h=!0}))})}},2158:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.partition=void 0;var M=_(1080),K=_(4488);u.partition=function G(W,R){return function(y){return[K.filter(W,R)(y),K.filter(M.not(W,R))(y)]}}},4011:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pluck=void 0;var M=_(5970);u.pluck=function K(){for(var G=[],W=0;W<arguments.length;W++)G[W]=arguments[W];var R=G.length;if(0===R)throw new Error("list of properties cannot be empty.");return M.map(function(y){for(var h=y,E=0;E<R;E++){var P=h?.[G[E]];if(!(typeof P<"u"))return;h=P}return h})}},3693:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publish=void 0;var M=_(3653),K=_(4290),G=_(1673);u.publish=function W(R){return R?function(y){return G.connect(R)(y)}:function(y){return K.multicast(new M.Subject)(y)}}},7465:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishBehavior=void 0;var M=_(1552),K=_(8840);u.publishBehavior=function G(W){return function(R){var y=new M.BehaviorSubject(W);return new K.ConnectableObservable(R,function(){return y})}}},5982:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishLast=void 0;var M=_(2562),K=_(8840);u.publishLast=function G(){return function(W){var R=new M.AsyncSubject;return new K.ConnectableObservable(W,function(){return R})}}},3121:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishReplay=void 0;var M=_(4098),K=_(4290),G=_(1860);u.publishReplay=function W(R,y,h,E){h&&!G.isFunction(h)&&(E=h);var P=G.isFunction(h)?h:void 0;return function(F){return K.multicast(new M.ReplaySubject(R,y,E),P)(F)}}},2164:function(Ge,u,_){"use strict";var M=this&&this.__read||function(y,h){var E="function"==typeof Symbol&&y[Symbol.iterator];if(!E)return y;var F,k,P=E.call(y),B=[];try{for(;(void 0===h||h-- >0)&&!(F=P.next()).done;)B.push(F.value)}catch(ne){k={error:ne}}finally{try{F&&!F.done&&(E=P.return)&&E.call(P)}finally{if(k)throw k.error}}return B},K=this&&this.__spreadArray||function(y,h){for(var E=0,P=h.length,F=y.length;E<P;E++,F++)y[F]=h[E];return y};Object.defineProperty(u,"__esModule",{value:!0}),u.race=void 0;var G=_(7308),W=_(5413);u.race=function R(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];return W.raceWith.apply(void 0,K([],M(G.argsOrArgArray(y))))}},5413:function(Ge,u,_){"use strict";var M=this&&this.__read||function(h,E){var P="function"==typeof Symbol&&h[Symbol.iterator];if(!P)return h;var B,ne,F=P.call(h),k=[];try{for(;(void 0===E||E-- >0)&&!(B=F.next()).done;)k.push(B.value)}catch(q){ne={error:q}}finally{try{B&&!B.done&&(P=F.return)&&P.call(F)}finally{if(ne)throw ne.error}}return k},K=this&&this.__spreadArray||function(h,E){for(var P=0,F=E.length,B=h.length;P<F;P++,B++)h[B]=E[P];return h};Object.defineProperty(u,"__esModule",{value:!0}),u.raceWith=void 0;var G=_(9867),W=_(5145),R=_(7288);u.raceWith=function y(){for(var h=[],E=0;E<arguments.length;E++)h[E]=arguments[E];return h.length?W.operate(function(P,F){G.raceInit(K([P],M(h)))(F)}):R.identity}},597:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reduce=void 0;var M=_(9902),K=_(5145);u.reduce=function G(W,R){return K.operate(M.scanInternals(W,R,arguments.length>=2,!1,!0))}},8551:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.refCount=void 0;var M=_(5145),K=_(3922);u.refCount=function G(){return M.operate(function(W,R){var y=null;W._refCount++;var h=K.createOperatorSubscriber(R,void 0,void 0,void 0,function(){if(!W||W._refCount<=0||0<--W._refCount)y=null;else{var E=W._connection,P=y;y=null,E&&(!P||E===P)&&E.unsubscribe(),R.unsubscribe()}});W.subscribe(h),h.closed||(y=W.connect())})}},2923:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.repeat=void 0;var M=_(8611),K=_(5145),G=_(3922),W=_(7186),R=_(441);u.repeat=function y(h){var E,F,P=1/0;return null!=h&&("object"==typeof h?(P=void 0===(E=h.count)?1/0:E,F=h.delay):P=h),P<=0?function(){return M.EMPTY}:K.operate(function(B,k){var q,ne=0,de=function(){if(q?.unsubscribe(),q=null,null!=F){var Oe="number"==typeof F?R.timer(F):W.innerFrom(F(ne)),Qe=G.createOperatorSubscriber(k,function(){Qe.unsubscribe(),ge()});Oe.subscribe(Qe)}else ge()},ge=function(){var Oe=!1;q=B.subscribe(G.createOperatorSubscriber(k,void 0,function(){++ne<P?q?de():Oe=!0:k.complete()})),Oe&&de()};ge()})}},2806:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.repeatWhen=void 0;var M=_(7186),K=_(3653),G=_(5145),W=_(3922);u.repeatWhen=function R(y){return G.operate(function(h,E){var P,B,F=!1,k=!1,ne=!1,q=function(){return ne&&k&&(E.complete(),!0)},ge=function(){ne=!1,P=h.subscribe(W.createOperatorSubscriber(E,void 0,function(){ne=!0,!q()&&(B||(B=new K.Subject,M.innerFrom(y(B)).subscribe(W.createOperatorSubscriber(E,function(){P?ge():F=!0},function(){k=!0,q()}))),B).next()})),F&&(P.unsubscribe(),P=null,F=!1,ge())};ge()})}},1017:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.retry=void 0;var M=_(5145),K=_(3922),G=_(7288),W=_(441),R=_(7186);u.retry=function y(h){var E;void 0===h&&(h=1/0);var P=(E=h&&"object"==typeof h?h:{count:h}).count,F=void 0===P?1/0:P,B=E.delay,k=E.resetOnSuccess,ne=void 0!==k&&k;return F<=0?G.identity:M.operate(function(q,de){var Oe,ge=0,Qe=function(){var rt=!1;Oe=q.subscribe(K.createOperatorSubscriber(de,function(Se){ne&&(ge=0),de.next(Se)},void 0,function(Se){if(ge++<F){var Ee=function(){Oe?(Oe.unsubscribe(),Oe=null,Qe()):rt=!0};if(null!=B){var Ne="number"==typeof B?W.timer(B):R.innerFrom(B(Se,ge)),Ze=K.createOperatorSubscriber(de,function(){Ze.unsubscribe(),Ee()},function(){de.complete()});Ne.subscribe(Ze)}else Ee()}else de.error(Se)})),rt&&(Oe.unsubscribe(),Oe=null,Qe())};Qe()})}},3377:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.retryWhen=void 0;var M=_(7186),K=_(3653),G=_(5145),W=_(3922);u.retryWhen=function R(y){return G.operate(function(h,E){var P,B,F=!1,k=function(){P=h.subscribe(W.createOperatorSubscriber(E,void 0,void 0,function(ne){B||(B=new K.Subject,M.innerFrom(y(B)).subscribe(W.createOperatorSubscriber(E,function(){return P?k():F=!0}))),B&&B.next(ne)})),F&&(P.unsubscribe(),P=null,F=!1,k())};k()})}},8255:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sample=void 0;var M=_(7186),K=_(5145),G=_(6048),W=_(3922);u.sample=function R(y){return K.operate(function(h,E){var P=!1,F=null;h.subscribe(W.createOperatorSubscriber(E,function(B){P=!0,F=B})),M.innerFrom(y).subscribe(W.createOperatorSubscriber(E,function(){if(P){P=!1;var B=F;F=null,E.next(B)}},G.noop))})}},941:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sampleTime=void 0;var M=_(9106),K=_(8255),G=_(630);u.sampleTime=function W(R,y){return void 0===y&&(y=M.asyncScheduler),K.sample(G.interval(R,y))}},4141:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scan=void 0;var M=_(5145),K=_(9902);u.scan=function G(W,R){return M.operate(K.scanInternals(W,R,arguments.length>=2,!0))}},9902:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scanInternals=void 0;var M=_(3922);u.scanInternals=function K(G,W,R,y,h){return function(E,P){var F=R,B=W,k=0;E.subscribe(M.createOperatorSubscriber(P,function(ne){var q=k++;B=F?G(B,ne,q):(F=!0,ne),y&&P.next(B)},h&&function(){F&&P.next(B),P.complete()}))}}},5318:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sequenceEqual=void 0;var M=_(5145),K=_(3922),G=_(7186);u.sequenceEqual=function W(y,h){return void 0===h&&(h=function(E,P){return E===P}),M.operate(function(E,P){var F={buffer:[],complete:!1},B={buffer:[],complete:!1},k=function(q){P.next(q),P.complete()},ne=function(q,de){var ge=K.createOperatorSubscriber(P,function(Oe){var Qe=de.buffer;0===Qe.length?de.complete?k(!1):q.buffer.push(Oe):!h(Oe,Qe.shift())&&k(!1)},function(){q.complete=!0,de.complete&&k(0===de.buffer.length),ge?.unsubscribe()});return ge};E.subscribe(ne(F,B)),G.innerFrom(y).subscribe(ne(B,F))})}},2905:function(Ge,u,_){"use strict";var M=this&&this.__read||function(P,F){var B="function"==typeof Symbol&&P[Symbol.iterator];if(!B)return P;var ne,de,k=B.call(P),q=[];try{for(;(void 0===F||F-- >0)&&!(ne=k.next()).done;)q.push(ne.value)}catch(ge){de={error:ge}}finally{try{ne&&!ne.done&&(B=k.return)&&B.call(k)}finally{if(de)throw de.error}}return q},K=this&&this.__spreadArray||function(P,F){for(var B=0,k=F.length,ne=P.length;B<k;B++,ne++)P[ne]=F[B];return P};Object.defineProperty(u,"__esModule",{value:!0}),u.share=void 0;var G=_(7186),W=_(3653),R=_(7032),y=_(5145);function E(P,F){for(var B=[],k=2;k<arguments.length;k++)B[k-2]=arguments[k];if(!0!==F){if(!1!==F){var ne=new R.SafeSubscriber({next:function(){ne.unsubscribe(),P()}});return G.innerFrom(F.apply(void 0,K([],M(B)))).subscribe(ne)}}else P()}u.share=function h(P){void 0===P&&(P={});var F=P.connector,B=void 0===F?function(){return new W.Subject}:F,k=P.resetOnError,ne=void 0===k||k,q=P.resetOnComplete,de=void 0===q||q,ge=P.resetOnRefCountZero,Oe=void 0===ge||ge;return function(Qe){var rt,Se,Ee,Ne=0,Ze=!1,je=!1,be=function(){Se?.unsubscribe(),Se=void 0},qe=function(){be(),rt=Ee=void 0,Ze=je=!1},bt=function(){var Nt=rt;qe(),Nt?.unsubscribe()};return y.operate(function(Nt,_t){Ne++,!je&&!Ze&&be();var en=Ee=Ee??B();_t.add(function(){0==--Ne&&!je&&!Ze&&(Se=E(bt,Oe))}),en.subscribe(_t),!rt&&Ne>0&&(rt=new R.SafeSubscriber({next:function(rn){return en.next(rn)},error:function(rn){je=!0,be(),Se=E(qe,ne,rn),en.error(rn)},complete:function(){Ze=!0,be(),Se=E(qe,de),en.complete()}}),G.innerFrom(Nt).subscribe(rt))})(Qe)}}},5940:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.shareReplay=void 0;var M=_(4098),K=_(2905);u.shareReplay=function G(W,R,y){var h,E,P,F,B=!1;return W&&"object"==typeof W?(F=void 0===(h=W.bufferSize)?1/0:h,R=void 0===(E=W.windowTime)?1/0:E,B=void 0!==(P=W.refCount)&&P,y=W.scheduler):F=W??1/0,K.share({connector:function(){return new M.ReplaySubject(F,R,y)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:B})}},1619:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.single=void 0;var M=_(6159),K=_(833),G=_(3811),W=_(5145),R=_(3922);u.single=function y(h){return W.operate(function(E,P){var B,F=!1,k=!1,ne=0;E.subscribe(R.createOperatorSubscriber(P,function(q){k=!0,(!h||h(q,ne++,E))&&(F&&P.error(new K.SequenceError("Too many matching values")),F=!0,B=q)},function(){F?(P.next(B),P.complete()):P.error(k?new G.NotFoundError("No matching values"):new M.EmptyError)}))})}},7605:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skip=void 0;var M=_(4488);u.skip=function K(G){return M.filter(function(W,R){return G<=R})}},3106:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipLast=void 0;var M=_(7288),K=_(5145),G=_(3922);u.skipLast=function W(R){return R<=0?M.identity:K.operate(function(y,h){var E=new Array(R),P=0;return y.subscribe(G.createOperatorSubscriber(h,function(F){var B=P++;if(B<R)E[B]=F;else{var k=B%R,ne=E[k];E[k]=F,h.next(ne)}})),function(){E=null}})}},7457:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipUntil=void 0;var M=_(5145),K=_(3922),G=_(7186),W=_(6048);u.skipUntil=function R(y){return M.operate(function(h,E){var P=!1,F=K.createOperatorSubscriber(E,function(){F?.unsubscribe(),P=!0},W.noop);G.innerFrom(y).subscribe(F),h.subscribe(K.createOperatorSubscriber(E,function(B){return P&&E.next(B)}))})}},676:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipWhile=void 0;var M=_(5145),K=_(3922);u.skipWhile=function G(W){return M.operate(function(R,y){var h=!1,E=0;R.subscribe(K.createOperatorSubscriber(y,function(P){return(h||(h=!W(P,E++)))&&y.next(P)}))})}},6907:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.startWith=void 0;var M=_(7704),K=_(160),G=_(5145);u.startWith=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];var h=K.popScheduler(R);return G.operate(function(E,P){(h?M.concat(R,E,h):M.concat(R,E)).subscribe(P)})}},8625:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.subscribeOn=void 0;var M=_(5145);u.subscribeOn=function K(G,W){return void 0===W&&(W=0),M.operate(function(R,y){y.add(G.schedule(function(){return R.subscribe(y)},W))})}},9311:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchAll=void 0;var M=_(6180),K=_(7288);u.switchAll=function G(){return M.switchMap(K.identity)}},6180:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchMap=void 0;var M=_(7186),K=_(5145),G=_(3922);u.switchMap=function W(R,y){return K.operate(function(h,E){var P=null,F=0,B=!1,k=function(){return B&&!P&&E.complete()};h.subscribe(G.createOperatorSubscriber(E,function(ne){P?.unsubscribe();var q=0,de=F++;M.innerFrom(R(ne,de)).subscribe(P=G.createOperatorSubscriber(E,function(ge){return E.next(y?y(ne,ge,de,q++):ge)},function(){P=null,k()}))},function(){B=!0,k()}))})}},7235:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchMapTo=void 0;var M=_(6180),K=_(1860);u.switchMapTo=function G(W,R){return K.isFunction(R)?M.switchMap(function(){return W},R):M.switchMap(function(){return W})}},2546:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchScan=void 0;var M=_(6180),K=_(5145);u.switchScan=function G(W,R){return K.operate(function(y,h){var E=R;return M.switchMap(function(P,F){return W(E,P,F)},function(P,F){return E=F,F})(y).subscribe(h),function(){E=null}})}},3007:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.take=void 0;var M=_(8611),K=_(5145),G=_(3922);u.take=function W(R){return R<=0?function(){return M.EMPTY}:K.operate(function(y,h){var E=0;y.subscribe(G.createOperatorSubscriber(h,function(P){++E<=R&&(h.next(P),R<=E&&h.complete())}))})}},9747:function(Ge,u,_){"use strict";var M=this&&this.__values||function(y){var h="function"==typeof Symbol&&Symbol.iterator,E=h&&y[h],P=0;if(E)return E.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&P>=y.length&&(y=void 0),{value:y&&y[P++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.takeLast=void 0;var K=_(8611),G=_(5145),W=_(3922);u.takeLast=function R(y){return y<=0?function(){return K.EMPTY}:G.operate(function(h,E){var P=[];h.subscribe(W.createOperatorSubscriber(E,function(F){P.push(F),y<P.length&&P.shift()},function(){var F,B;try{for(var k=M(P),ne=k.next();!ne.done;ne=k.next())E.next(ne.value)}catch(de){F={error:de}}finally{try{ne&&!ne.done&&(B=k.return)&&B.call(k)}finally{if(F)throw F.error}}E.complete()},void 0,function(){P=null}))})}},8325:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.takeUntil=void 0;var M=_(5145),K=_(3922),G=_(7186),W=_(6048);u.takeUntil=function R(y){return M.operate(function(h,E){G.innerFrom(y).subscribe(K.createOperatorSubscriber(E,function(){return E.complete()},W.noop)),!E.closed&&h.subscribe(E)})}},548:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.takeWhile=void 0;var M=_(5145),K=_(3922);u.takeWhile=function G(W,R){return void 0===R&&(R=!1),M.operate(function(y,h){var E=0;y.subscribe(K.createOperatorSubscriber(h,function(P){var F=W(P,E++);(F||R)&&h.next(P),!F&&h.complete()}))})}},3023:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.tap=void 0;var M=_(1860),K=_(5145),G=_(3922),W=_(7288);u.tap=function R(y,h,E){var P=M.isFunction(y)||h||E?{next:y,error:h,complete:E}:y;return P?K.operate(function(F,B){var k;null===(k=P.subscribe)||void 0===k||k.call(P);var ne=!0;F.subscribe(G.createOperatorSubscriber(B,function(q){var de;null===(de=P.next)||void 0===de||de.call(P,q),B.next(q)},function(){var q;ne=!1,null===(q=P.complete)||void 0===q||q.call(P),B.complete()},function(q){var de;ne=!1,null===(de=P.error)||void 0===de||de.call(P,q),B.error(q)},function(){var q,de;ne&&(null===(q=P.unsubscribe)||void 0===q||q.call(P)),null===(de=P.finalize)||void 0===de||de.call(P)}))}):W.identity}},7635:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throttle=void 0;var M=_(5145),K=_(3922),G=_(7186);u.throttle=function W(R,y){return M.operate(function(h,E){var P=y??{},F=P.leading,B=void 0===F||F,k=P.trailing,ne=void 0!==k&&k,q=!1,de=null,ge=null,Oe=!1,Qe=function(){ge?.unsubscribe(),ge=null,ne&&(Ee(),Oe&&E.complete())},rt=function(){ge=null,Oe&&E.complete()},Se=function(Ne){return ge=G.innerFrom(R(Ne)).subscribe(K.createOperatorSubscriber(E,Qe,rt))},Ee=function(){if(q){q=!1;var Ne=de;de=null,E.next(Ne),!Oe&&Se(Ne)}};h.subscribe(K.createOperatorSubscriber(E,function(Ne){q=!0,de=Ne,(!ge||ge.closed)&&(B?Ee():Se(Ne))},function(){Oe=!0,(!(ne&&q&&ge)||ge.closed)&&E.complete()}))})}},2403:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throttleTime=void 0;var M=_(9106),K=_(7635),G=_(441);u.throttleTime=function W(R,y,h){void 0===y&&(y=M.asyncScheduler);var E=G.timer(R,y);return K.throttle(function(){return E},h)}},909:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throwIfEmpty=void 0;var M=_(6159),K=_(5145),G=_(3922);function R(){return new M.EmptyError}u.throwIfEmpty=function W(y){return void 0===y&&(y=R),K.operate(function(h,E){var P=!1;h.subscribe(G.createOperatorSubscriber(E,function(F){P=!0,E.next(F)},function(){return P?E.complete():E.error(y())}))})}},5892:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TimeInterval=u.timeInterval=void 0;var M=_(9106),K=_(5145),G=_(3922);u.timeInterval=function W(y){return void 0===y&&(y=M.asyncScheduler),K.operate(function(h,E){var P=y.now();h.subscribe(G.createOperatorSubscriber(E,function(F){var B=y.now(),k=B-P;P=B,E.next(new R(F,k))}))})};var R=function y(h,E){this.value=h,this.interval=E};u.TimeInterval=R},6406:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timeout=u.TimeoutError=void 0;var M=_(9106),K=_(7053),G=_(5145),W=_(7186),R=_(508),y=_(3922),h=_(7642);function P(F){throw new u.TimeoutError(F)}u.TimeoutError=R.createErrorClass(function(F){return function(k){void 0===k&&(k=null),F(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=k}}),u.timeout=function E(F,B){var k=K.isValidDate(F)?{first:F}:"number"==typeof F?{each:F}:F,ne=k.first,q=k.each,de=k.with,ge=void 0===de?P:de,Oe=k.scheduler,Qe=void 0===Oe?B??M.asyncScheduler:Oe,rt=k.meta,Se=void 0===rt?null:rt;if(null==ne&&null==q)throw new TypeError("No timeout provided.");return G.operate(function(Ee,Ne){var Ze,je,be=null,qe=0,bt=function(Nt){je=h.executeSchedule(Ne,Qe,function(){try{Ze.unsubscribe(),W.innerFrom(ge({meta:Se,lastValue:be,seen:qe})).subscribe(Ne)}catch(_t){Ne.error(_t)}},Nt)};Ze=Ee.subscribe(y.createOperatorSubscriber(Ne,function(Nt){je?.unsubscribe(),qe++,Ne.next(be=Nt),q>0&&bt(q)},void 0,void 0,function(){je?.closed||je?.unsubscribe(),be=null})),!qe&&bt(null!=ne?"number"==typeof ne?ne:+ne-Qe.now():q)})}},6348:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timeoutWith=void 0;var M=_(9106),K=_(7053),G=_(6406);u.timeoutWith=function W(R,y,h){var E,P,F;if(h=h??M.async,K.isValidDate(R)?E=R:"number"==typeof R&&(P=R),!y)throw new TypeError("No observable provided to switch to");if(F=function(){return y},null==E&&null==P)throw new TypeError("No timeout provided.");return G.timeout({first:E,each:P,scheduler:h,with:F})}},9010:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timestamp=void 0;var M=_(1937),K=_(5970);u.timestamp=function G(W){return void 0===W&&(W=M.dateTimestampProvider),K.map(function(R){return{value:R,timestamp:W.now()}})}},2341:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.toArray=void 0;var M=_(597),K=_(5145),G=function(R,y){return R.push(y),R};u.toArray=function W(){return K.operate(function(R,y){M.reduce(G,[])(R).subscribe(y)})}},1176:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.window=void 0;var M=_(3653),K=_(5145),G=_(3922),W=_(6048),R=_(7186);u.window=function y(h){return K.operate(function(E,P){var F=new M.Subject;P.next(F.asObservable());var B=function(k){F.error(k),P.error(k)};return E.subscribe(G.createOperatorSubscriber(P,function(k){return F?.next(k)},function(){F.complete(),P.complete()},B)),R.innerFrom(h).subscribe(G.createOperatorSubscriber(P,function(){F.complete(),P.next(F=new M.Subject)},W.noop,B)),function(){F?.unsubscribe(),F=null}})}},6193:function(Ge,u,_){"use strict";var M=this&&this.__values||function(y){var h="function"==typeof Symbol&&Symbol.iterator,E=h&&y[h],P=0;if(E)return E.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&P>=y.length&&(y=void 0),{value:y&&y[P++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.windowCount=void 0;var K=_(3653),G=_(5145),W=_(3922);u.windowCount=function R(y,h){void 0===h&&(h=0);var E=h>0?h:y;return G.operate(function(P,F){var B=[new K.Subject],ne=0;F.next(B[0].asObservable()),P.subscribe(W.createOperatorSubscriber(F,function(q){var de,ge;try{for(var Oe=M(B),Qe=Oe.next();!Qe.done;Qe=Oe.next())Qe.value.next(q)}catch(Ne){de={error:Ne}}finally{try{Qe&&!Qe.done&&(ge=Oe.return)&&ge.call(Oe)}finally{if(de)throw de.error}}var Se=ne-y+1;if(Se>=0&&Se%E==0&&B.shift().complete(),++ne%E==0){var Ee=new K.Subject;B.push(Ee),F.next(Ee.asObservable())}},function(){for(;B.length>0;)B.shift().complete();F.complete()},function(q){for(;B.length>0;)B.shift().error(q);F.error(q)},function(){B=null}))})}},2642:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.windowTime=void 0;var M=_(3653),K=_(9106),G=_(8085),W=_(5145),R=_(3922),y=_(4615),h=_(160),E=_(7642);u.windowTime=function P(F){for(var B,k,ne=[],q=1;q<arguments.length;q++)ne[q-1]=arguments[q];var de=null!==(B=h.popScheduler(ne))&&void 0!==B?B:K.asyncScheduler,ge=null!==(k=ne[0])&&void 0!==k?k:null,Oe=ne[1]||1/0;return W.operate(function(Qe,rt){var Se=[],Ee=!1,Ne=function(qe){var Nt=qe.subs;qe.window.complete(),Nt.unsubscribe(),y.arrRemove(Se,qe),Ee&&Ze()},Ze=function(){if(Se){var qe=new G.Subscription;rt.add(qe);var bt=new M.Subject,Nt={window:bt,subs:qe,seen:0};Se.push(Nt),rt.next(bt.asObservable()),E.executeSchedule(qe,de,function(){return Ne(Nt)},F)}};null!==ge&&ge>=0?E.executeSchedule(rt,de,Ze,ge,!0):Ee=!0,Ze();var je=function(qe){return Se.slice().forEach(qe)},be=function(qe){je(function(bt){return qe(bt.window)}),qe(rt),rt.unsubscribe()};return Qe.subscribe(R.createOperatorSubscriber(rt,function(qe){je(function(bt){bt.window.next(qe),Oe<=++bt.seen&&Ne(bt)})},function(){return be(function(qe){return qe.complete()})},function(qe){return be(function(bt){return bt.error(qe)})})),function(){Se=null}})}},8036:function(Ge,u,_){"use strict";var M=this&&this.__values||function(F){var B="function"==typeof Symbol&&Symbol.iterator,k=B&&F[B],ne=0;if(k)return k.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&ne>=F.length&&(F=void 0),{value:F&&F[ne++],done:!F}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.windowToggle=void 0;var K=_(3653),G=_(8085),W=_(5145),R=_(7186),y=_(3922),h=_(6048),E=_(4615);u.windowToggle=function P(F,B){return W.operate(function(k,ne){var q=[],de=function(ge){for(;0<q.length;)q.shift().error(ge);ne.error(ge)};R.innerFrom(F).subscribe(y.createOperatorSubscriber(ne,function(ge){var Oe=new K.Subject;q.push(Oe);var Se,Qe=new G.Subscription;try{Se=R.innerFrom(B(ge))}catch(Ee){return void de(Ee)}ne.next(Oe.asObservable()),Qe.add(Se.subscribe(y.createOperatorSubscriber(ne,function(){E.arrRemove(q,Oe),Oe.complete(),Qe.unsubscribe()},h.noop,de)))},h.noop)),k.subscribe(y.createOperatorSubscriber(ne,function(ge){var Oe,Qe,rt=q.slice();try{for(var Se=M(rt),Ee=Se.next();!Ee.done;Ee=Se.next())Ee.value.next(ge)}catch(Ze){Oe={error:Ze}}finally{try{Ee&&!Ee.done&&(Qe=Se.return)&&Qe.call(Se)}finally{if(Oe)throw Oe.error}}},function(){for(;0<q.length;)q.shift().complete();ne.complete()},de,function(){for(;0<q.length;)q.shift().unsubscribe()}))})}},1624:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.windowWhen=void 0;var M=_(3653),K=_(5145),G=_(3922),W=_(7186);u.windowWhen=function R(y){return K.operate(function(h,E){var P,F,B=function(ne){P.error(ne),E.error(ne)},k=function(){var ne;F?.unsubscribe(),P?.complete(),P=new M.Subject,E.next(P.asObservable());try{ne=W.innerFrom(y())}catch(q){return void B(q)}ne.subscribe(F=G.createOperatorSubscriber(E,k,k,B))};k(),h.subscribe(G.createOperatorSubscriber(E,function(ne){return P.next(ne)},function(){P.complete(),E.complete()},B,function(){F?.unsubscribe(),P=null}))})}},3725:function(Ge,u,_){"use strict";var M=this&&this.__read||function(F,B){var k="function"==typeof Symbol&&F[Symbol.iterator];if(!k)return F;var q,ge,ne=k.call(F),de=[];try{for(;(void 0===B||B-- >0)&&!(q=ne.next()).done;)de.push(q.value)}catch(Oe){ge={error:Oe}}finally{try{q&&!q.done&&(k=ne.return)&&k.call(ne)}finally{if(ge)throw ge.error}}return de},K=this&&this.__spreadArray||function(F,B){for(var k=0,ne=B.length,q=F.length;k<ne;k++,q++)F[q]=B[k];return F};Object.defineProperty(u,"__esModule",{value:!0}),u.withLatestFrom=void 0;var G=_(5145),W=_(3922),R=_(7186),y=_(7288),h=_(6048),E=_(160);u.withLatestFrom=function P(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];var k=E.popResultSelector(F);return G.operate(function(ne,q){for(var de=F.length,ge=new Array(de),Oe=F.map(function(){return!1}),Qe=!1,rt=function(Ee){R.innerFrom(F[Ee]).subscribe(W.createOperatorSubscriber(q,function(Ne){ge[Ee]=Ne,!Qe&&!Oe[Ee]&&(Oe[Ee]=!0,(Qe=Oe.every(y.identity))&&(Oe=null))},h.noop))},Se=0;Se<de;Se++)rt(Se);ne.subscribe(W.createOperatorSubscriber(q,function(Ee){if(Qe){var Ne=K([Ee],M(ge));q.next(k?k.apply(void 0,K([],M(Ne))):Ne)}}))})}},398:function(Ge,u,_){"use strict";var M=this&&this.__read||function(y,h){var E="function"==typeof Symbol&&y[Symbol.iterator];if(!E)return y;var F,k,P=E.call(y),B=[];try{for(;(void 0===h||h-- >0)&&!(F=P.next()).done;)B.push(F.value)}catch(ne){k={error:ne}}finally{try{F&&!F.done&&(E=P.return)&&E.call(P)}finally{if(k)throw k.error}}return B},K=this&&this.__spreadArray||function(y,h){for(var E=0,P=h.length,F=y.length;E<P;E++,F++)y[F]=h[E];return y};Object.defineProperty(u,"__esModule",{value:!0}),u.zip=void 0;var G=_(2323),W=_(5145);u.zip=function R(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];return W.operate(function(E,P){G.zip.apply(void 0,K([E],M(y))).subscribe(P)})}},378:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.zipAll=void 0;var M=_(2323),K=_(4622);u.zipAll=function G(W){return K.joinAllInternals(M.zip,W)}},9952:function(Ge,u,_){"use strict";var M=this&&this.__read||function(R,y){var h="function"==typeof Symbol&&R[Symbol.iterator];if(!h)return R;var P,B,E=h.call(R),F=[];try{for(;(void 0===y||y-- >0)&&!(P=E.next()).done;)F.push(P.value)}catch(k){B={error:k}}finally{try{P&&!P.done&&(h=E.return)&&h.call(E)}finally{if(B)throw B.error}}return F},K=this&&this.__spreadArray||function(R,y){for(var h=0,E=y.length,P=R.length;h<E;h++,P++)R[P]=y[h];return R};Object.defineProperty(u,"__esModule",{value:!0}),u.zipWith=void 0;var G=_(398);u.zipWith=function W(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];return G.zip.apply(void 0,K([],M(R)))}},448:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleArray=void 0;var M=_(7072);u.scheduleArray=function K(G,W){return new M.Observable(function(R){var y=0;return W.schedule(function(){y===G.length?R.complete():(R.next(G[y++]),R.closed||this.schedule())})})}},2617:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleAsyncIterable=void 0;var M=_(7072),K=_(7642);u.scheduleAsyncIterable=function G(W,R){if(!W)throw new Error("Iterable cannot be null");return new M.Observable(function(y){K.executeSchedule(y,R,function(){var h=W[Symbol.asyncIterator]();K.executeSchedule(y,R,function(){h.next().then(function(E){E.done?y.complete():y.next(E.value)})},0,!0)})})}},4017:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleIterable=void 0;var M=_(7072),K=_(5900),G=_(1860),W=_(7642);u.scheduleIterable=function R(y,h){return new M.Observable(function(E){var P;return W.executeSchedule(E,h,function(){P=y[K.iterator](),W.executeSchedule(E,h,function(){var F,B,k;try{B=(F=P.next()).value,k=F.done}catch(ne){return void E.error(ne)}k?E.complete():E.next(B)},0,!0)}),function(){return G.isFunction(P?.return)&&P.return()}})}},8117:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleObservable=void 0;var M=_(7186),K=_(9512),G=_(8625);u.scheduleObservable=function W(R,y){return M.innerFrom(R).pipe(G.subscribeOn(y),K.observeOn(y))}},4230:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.schedulePromise=void 0;var M=_(7186),K=_(9512),G=_(8625);u.schedulePromise=function W(R,y){return M.innerFrom(R).pipe(G.subscribeOn(y),K.observeOn(y))}},4260:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleReadableStreamLike=void 0;var M=_(2617),K=_(7307);u.scheduleReadableStreamLike=function G(W,R){return M.scheduleAsyncIterable(K.readableStreamLikeToAsyncGenerator(W),R)}},3881:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduled=void 0;var M=_(8117),K=_(4230),G=_(448),W=_(4017),R=_(2617),y=_(3593),h=_(7035),E=_(1692),P=_(5754),F=_(8474),B=_(7116),k=_(7307),ne=_(4260);u.scheduled=function q(de,ge){if(null!=de){if(y.isInteropObservable(de))return M.scheduleObservable(de,ge);if(E.isArrayLike(de))return G.scheduleArray(de,ge);if(h.isPromise(de))return K.schedulePromise(de,ge);if(F.isAsyncIterable(de))return R.scheduleAsyncIterable(de,ge);if(P.isIterable(de))return W.scheduleIterable(de,ge);if(k.isReadableStreamLike(de))return ne.scheduleReadableStreamLike(de,ge)}throw B.createInvalidObservableTypeError(de)}},6667:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.Action=void 0;var G=function(W){function R(y,h){return W.call(this)||this}return M(R,W),R.prototype.schedule=function(y,h){return void 0===h&&(h=0),this},R}(_(8085).Subscription);u.Action=G},4308:function(Ge,u,_){"use strict";var R,M=this&&this.__extends||(R=function(y,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(E[F]=P[F])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=y}R(y,h),y.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(u,"__esModule",{value:!0}),u.AnimationFrameAction=void 0;var K=_(63),G=_(8601),W=function(R){function y(h,E){var P=R.call(this,h,E)||this;return P.scheduler=h,P.work=E,P}return M(y,R),y.prototype.requestAsyncId=function(h,E,P){return void 0===P&&(P=0),null!==P&&P>0?R.prototype.requestAsyncId.call(this,h,E,P):(h.actions.push(this),h._scheduled||(h._scheduled=G.animationFrameProvider.requestAnimationFrame(function(){return h.flush(void 0)})))},y.prototype.recycleAsyncId=function(h,E,P){var F;if(void 0===P&&(P=0),null!=P?P>0:this.delay>0)return R.prototype.recycleAsyncId.call(this,h,E,P);var B=h.actions;null!=E&&(null===(F=B[B.length-1])||void 0===F?void 0:F.id)!==E&&(G.animationFrameProvider.cancelAnimationFrame(E),h._scheduled=void 0)},y}(K.AsyncAction);u.AnimationFrameAction=W},2783:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.AnimationFrameScheduler=void 0;var G=function(W){function R(){return null!==W&&W.apply(this,arguments)||this}return M(R,W),R.prototype.flush=function(y){this._active=!0;var h=this._scheduled;this._scheduled=void 0;var P,E=this.actions;y=y||E.shift();do{if(P=y.execute(y.state,y.delay))break}while((y=E[0])&&y.id===h&&E.shift());if(this._active=!1,P){for(;(y=E[0])&&y.id===h&&E.shift();)y.unsubscribe();throw P}},R}(_(3104).AsyncScheduler);u.AnimationFrameScheduler=G},3262:function(Ge,u,_){"use strict";var R,M=this&&this.__extends||(R=function(y,h){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(E[F]=P[F])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function E(){this.constructor=y}R(y,h),y.prototype=null===h?Object.create(h):(E.prototype=h.prototype,new E)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsapAction=void 0;var K=_(63),G=_(6494),W=function(R){function y(h,E){var P=R.call(this,h,E)||this;return P.scheduler=h,P.work=E,P}return M(y,R),y.prototype.requestAsyncId=function(h,E,P){return void 0===P&&(P=0),null!==P&&P>0?R.prototype.requestAsyncId.call(this,h,E,P):(h.actions.push(this),h._scheduled||(h._scheduled=G.immediateProvider.setImmediate(h.flush.bind(h,void 0))))},y.prototype.recycleAsyncId=function(h,E,P){var F;if(void 0===P&&(P=0),null!=P?P>0:this.delay>0)return R.prototype.recycleAsyncId.call(this,h,E,P);var B=h.actions;null!=E&&(null===(F=B[B.length-1])||void 0===F?void 0:F.id)!==E&&(G.immediateProvider.clearImmediate(E),h._scheduled===E&&(h._scheduled=void 0))},y}(K.AsyncAction);u.AsapAction=W},4027:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsapScheduler=void 0;var G=function(W){function R(){return null!==W&&W.apply(this,arguments)||this}return M(R,W),R.prototype.flush=function(y){this._active=!0;var h=this._scheduled;this._scheduled=void 0;var P,E=this.actions;y=y||E.shift();do{if(P=y.execute(y.state,y.delay))break}while((y=E[0])&&y.id===h&&E.shift());if(this._active=!1,P){for(;(y=E[0])&&y.id===h&&E.shift();)y.unsubscribe();throw P}},R}(_(3104).AsyncScheduler);u.AsapScheduler=G},63:function(Ge,u,_){"use strict";var y,M=this&&this.__extends||(y=function(h,E){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&(P[B]=F[B])})(h,E)},function(h,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function P(){this.constructor=h}y(h,E),h.prototype=null===E?Object.create(E):(P.prototype=E.prototype,new P)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncAction=void 0;var K=_(6667),G=_(7246),W=_(4615),R=function(y){function h(E,P){var F=y.call(this,E,P)||this;return F.scheduler=E,F.work=P,F.pending=!1,F}return M(h,y),h.prototype.schedule=function(E,P){var F;if(void 0===P&&(P=0),this.closed)return this;this.state=E;var B=this.id,k=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(k,B,P)),this.pending=!0,this.delay=P,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(k,this.id,P),this},h.prototype.requestAsyncId=function(E,P,F){return void 0===F&&(F=0),G.intervalProvider.setInterval(E.flush.bind(E,this),F)},h.prototype.recycleAsyncId=function(E,P,F){if(void 0===F&&(F=0),null!=F&&this.delay===F&&!1===this.pending)return P;null!=P&&G.intervalProvider.clearInterval(P)},h.prototype.execute=function(E,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var F=this._execute(E,P);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},h.prototype._execute=function(E,P){var B,F=!1;try{this.work(E)}catch(k){F=!0,B=k||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),B},h.prototype.unsubscribe=function(){if(!this.closed){var P=this.id,F=this.scheduler,B=F.actions;this.work=this.state=this.scheduler=null,this.pending=!1,W.arrRemove(B,this),null!=P&&(this.id=this.recycleAsyncId(F,P,null)),this.delay=null,y.prototype.unsubscribe.call(this)}},h}(K.Action);u.AsyncAction=R},3104:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncScheduler=void 0;var K=_(4283),G=function(W){function R(y,h){void 0===h&&(h=K.Scheduler.now);var E=W.call(this,y,h)||this;return E.actions=[],E._active=!1,E}return M(R,W),R.prototype.flush=function(y){var h=this.actions;if(this._active)h.push(y);else{var E;this._active=!0;do{if(E=y.execute(y.state,y.delay))break}while(y=h.shift());if(this._active=!1,E){for(;y=h.shift();)y.unsubscribe();throw E}}},R}(K.Scheduler);u.AsyncScheduler=G},3460:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.QueueAction=void 0;var G=function(W){function R(y,h){var E=W.call(this,y,h)||this;return E.scheduler=y,E.work=h,E}return M(R,W),R.prototype.schedule=function(y,h){return void 0===h&&(h=0),h>0?W.prototype.schedule.call(this,y,h):(this.delay=h,this.state=y,this.scheduler.flush(this),this)},R.prototype.execute=function(y,h){return h>0||this.closed?W.prototype.execute.call(this,y,h):this._execute(y,h)},R.prototype.requestAsyncId=function(y,h,E){return void 0===E&&(E=0),null!=E&&E>0||null==E&&this.delay>0?W.prototype.requestAsyncId.call(this,y,h,E):(y.flush(this),0)},R}(_(63).AsyncAction);u.QueueAction=G},2091:function(Ge,u,_){"use strict";var W,M=this&&this.__extends||(W=function(R,y){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(h[P]=E[P])})(R,y)},function(R,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=R}W(R,y),R.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)});Object.defineProperty(u,"__esModule",{value:!0}),u.QueueScheduler=void 0;var G=function(W){function R(){return null!==W&&W.apply(this,arguments)||this}return M(R,W),R}(_(3104).AsyncScheduler);u.QueueScheduler=G},3503:function(Ge,u,_){"use strict";var h,M=this&&this.__extends||(h=function(E,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,B){F.__proto__=B}||function(F,B){for(var k in B)Object.prototype.hasOwnProperty.call(B,k)&&(F[k]=B[k])})(E,P)},function(E,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function F(){this.constructor=E}h(E,P),E.prototype=null===P?Object.create(P):(F.prototype=P.prototype,new F)});Object.defineProperty(u,"__esModule",{value:!0}),u.VirtualAction=u.VirtualTimeScheduler=void 0;var K=_(63),G=_(8085),R=function(h){function E(P,F){void 0===P&&(P=y),void 0===F&&(F=1/0);var B=h.call(this,P,function(){return B.frame})||this;return B.maxFrames=F,B.frame=0,B.index=-1,B}return M(E,h),E.prototype.flush=function(){for(var k,ne,F=this.actions,B=this.maxFrames;(ne=F[0])&&ne.delay<=B&&(F.shift(),this.frame=ne.delay,!(k=ne.execute(ne.state,ne.delay))););if(k){for(;ne=F.shift();)ne.unsubscribe();throw k}},E.frameTimeFactor=10,E}(_(3104).AsyncScheduler);u.VirtualTimeScheduler=R;var y=function(h){function E(P,F,B){void 0===B&&(B=P.index+=1);var k=h.call(this,P,F)||this;return k.scheduler=P,k.work=F,k.index=B,k.active=!0,k.index=P.index=B,k}return M(E,h),E.prototype.schedule=function(P,F){if(void 0===F&&(F=0),Number.isFinite(F)){if(!this.id)return h.prototype.schedule.call(this,P,F);this.active=!1;var B=new E(this.scheduler,this.work);return this.add(B),B.schedule(P,F)}return G.Subscription.EMPTY},E.prototype.requestAsyncId=function(P,F,B){void 0===B&&(B=0),this.delay=P.frame+B;var k=P.actions;return k.push(this),k.sort(E.sortActions),1},E.prototype.recycleAsyncId=function(P,F,B){void 0===B&&(B=0)},E.prototype._execute=function(P,F){if(!0===this.active)return h.prototype._execute.call(this,P,F)},E.sortActions=function(P,F){return P.delay===F.delay?P.index===F.index?0:P.index>F.index?1:-1:P.delay>F.delay?1:-1},E}(K.AsyncAction);u.VirtualAction=y},3989:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrame=u.animationFrameScheduler=void 0;var M=_(4308),K=_(2783);u.animationFrameScheduler=new K.AnimationFrameScheduler(M.AnimationFrameAction),u.animationFrame=u.animationFrameScheduler},8601:function(Ge,u,_){"use strict";var M=this&&this.__read||function(W,R){var y="function"==typeof Symbol&&W[Symbol.iterator];if(!y)return W;var E,F,h=y.call(W),P=[];try{for(;(void 0===R||R-- >0)&&!(E=h.next()).done;)P.push(E.value)}catch(B){F={error:B}}finally{try{E&&!E.done&&(y=h.return)&&y.call(h)}finally{if(F)throw F.error}}return P},K=this&&this.__spreadArray||function(W,R){for(var y=0,h=R.length,E=W.length;y<h;y++,E++)W[E]=R[y];return W};Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrameProvider=void 0;var G=_(8085);u.animationFrameProvider={schedule:function(W){var R=requestAnimationFrame,y=cancelAnimationFrame,h=u.animationFrameProvider.delegate;h&&(R=h.requestAnimationFrame,y=h.cancelAnimationFrame);var E=R(function(P){y=void 0,W(P)});return new G.Subscription(function(){return y?.(E)})},requestAnimationFrame:function(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];var y=u.animationFrameProvider.delegate;return(y?.requestAnimationFrame||requestAnimationFrame).apply(void 0,K([],M(W)))},cancelAnimationFrame:function(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];var y=u.animationFrameProvider.delegate;return(y?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,K([],M(W)))},delegate:void 0}},6842:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.asap=u.asapScheduler=void 0;var M=_(3262),K=_(4027);u.asapScheduler=new K.AsapScheduler(M.AsapAction),u.asap=u.asapScheduler},9106:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.async=u.asyncScheduler=void 0;var M=_(63),K=_(3104);u.asyncScheduler=new K.AsyncScheduler(M.AsyncAction),u.async=u.asyncScheduler},1937:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.dateTimestampProvider=void 0,u.dateTimestampProvider={now:function(){return(u.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6494:function(Ge,u,_){"use strict";var M=this&&this.__read||function(y,h){var E="function"==typeof Symbol&&y[Symbol.iterator];if(!E)return y;var F,k,P=E.call(y),B=[];try{for(;(void 0===h||h-- >0)&&!(F=P.next()).done;)B.push(F.value)}catch(ne){k={error:ne}}finally{try{F&&!F.done&&(E=P.return)&&E.call(P)}finally{if(k)throw k.error}}return B},K=this&&this.__spreadArray||function(y,h){for(var E=0,P=h.length,F=y.length;E<P;E++,F++)y[F]=h[E];return y};Object.defineProperty(u,"__esModule",{value:!0}),u.immediateProvider=void 0;var G=_(3643),W=G.Immediate.setImmediate,R=G.Immediate.clearImmediate;u.immediateProvider={setImmediate:function(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];var E=u.immediateProvider.delegate;return(E?.setImmediate||W).apply(void 0,K([],M(y)))},clearImmediate:function(y){var h=u.immediateProvider.delegate;return(h?.clearImmediate||R)(y)},delegate:void 0}},7246:function(Ge,u){"use strict";var _=this&&this.__read||function(K,G){var W="function"==typeof Symbol&&K[Symbol.iterator];if(!W)return K;var y,E,R=W.call(K),h=[];try{for(;(void 0===G||G-- >0)&&!(y=R.next()).done;)h.push(y.value)}catch(P){E={error:P}}finally{try{y&&!y.done&&(W=R.return)&&W.call(R)}finally{if(E)throw E.error}}return h},M=this&&this.__spreadArray||function(K,G){for(var W=0,R=G.length,y=K.length;W<R;W++,y++)K[y]=G[W];return K};Object.defineProperty(u,"__esModule",{value:!0}),u.intervalProvider=void 0,u.intervalProvider={setInterval:function(K,G){for(var W=[],R=2;R<arguments.length;R++)W[R-2]=arguments[R];var y=u.intervalProvider.delegate;return y?.setInterval?y.setInterval.apply(y,M([K,G],_(W))):setInterval.apply(void 0,M([K,G],_(W)))},clearInterval:function(K){var G=u.intervalProvider.delegate;return(G?.clearInterval||clearInterval)(K)},delegate:void 0}},9118:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.performanceTimestampProvider=void 0,u.performanceTimestampProvider={now:function(){return(u.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},3931:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.queue=u.queueScheduler=void 0;var M=_(3460),K=_(2091);u.queueScheduler=new K.QueueScheduler(M.QueueAction),u.queue=u.queueScheduler},3410:function(Ge,u){"use strict";var _=this&&this.__read||function(K,G){var W="function"==typeof Symbol&&K[Symbol.iterator];if(!W)return K;var y,E,R=W.call(K),h=[];try{for(;(void 0===G||G-- >0)&&!(y=R.next()).done;)h.push(y.value)}catch(P){E={error:P}}finally{try{y&&!y.done&&(W=R.return)&&W.call(R)}finally{if(E)throw E.error}}return h},M=this&&this.__spreadArray||function(K,G){for(var W=0,R=G.length,y=K.length;W<R;W++,y++)K[y]=G[W];return K};Object.defineProperty(u,"__esModule",{value:!0}),u.timeoutProvider=void 0,u.timeoutProvider={setTimeout:function(K,G){for(var W=[],R=2;R<arguments.length;R++)W[R-2]=arguments[R];var y=u.timeoutProvider.delegate;return y?.setTimeout?y.setTimeout.apply(y,M([K,G],_(W))):setTimeout.apply(void 0,M([K,G],_(W)))},clearTimeout:function(K){var G=u.timeoutProvider.delegate;return(G?.clearTimeout||clearTimeout)(K)},delegate:void 0}},5900:(Ge,u)=>{"use strict";function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(u,"__esModule",{value:!0}),u.iterator=u.getSymbolIterator=void 0,u.getSymbolIterator=_,u.iterator=_()},2289:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observable=void 0,u.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1728:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0})},4936:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ArgumentOutOfRangeError=void 0;var M=_(508);u.ArgumentOutOfRangeError=M.createErrorClass(function(K){return function(){K(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},6159:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EmptyError=void 0;var M=_(508);u.EmptyError=M.createErrorClass(function(K){return function(){K(this),this.name="EmptyError",this.message="no elements in sequence"}})},3643:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TestTools=u.Immediate=void 0;var M,_=1,K={};function G(W){return W in K&&(delete K[W],!0)}u.Immediate={setImmediate:function(W){var R=_++;return K[R]=!0,M||(M=Promise.resolve()),M.then(function(){return G(R)&&W()}),R},clearImmediate:function(W){G(W)}},u.TestTools={pending:function(){return Object.keys(K).length}}},3811:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.NotFoundError=void 0;var M=_(508);u.NotFoundError=M.createErrorClass(function(K){return function(W){K(this),this.name="NotFoundError",this.message=W}})},5499:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ObjectUnsubscribedError=void 0;var M=_(508);u.ObjectUnsubscribedError=M.createErrorClass(function(K){return function(){K(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},833:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SequenceError=void 0;var M=_(508);u.SequenceError=M.createErrorClass(function(K){return function(W){K(this),this.name="SequenceError",this.message=W}})},1490:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UnsubscriptionError=void 0;var M=_(508);u.UnsubscriptionError=M.createErrorClass(function(K){return function(W){K(this),this.message=W?W.length+" errors occurred during unsubscription:\n"+W.map(function(R,y){return y+1+") "+R.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=W}})},160:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.popNumber=u.popScheduler=u.popResultSelector=void 0;var M=_(1860),K=_(1832);function G(h){return h[h.length-1]}u.popResultSelector=function W(h){return M.isFunction(G(h))?h.pop():void 0},u.popScheduler=function R(h){return K.isScheduler(G(h))?h.pop():void 0},u.popNumber=function y(h,E){return"number"==typeof G(h)?h.pop():E}},9422:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.argsArgArrayOrObject=void 0;var _=Array.isArray,M=Object.getPrototypeOf,K=Object.prototype,G=Object.keys;u.argsArgArrayOrObject=function W(y){if(1===y.length){var h=y[0];if(_(h))return{args:h,keys:null};if(function R(y){return y&&"object"==typeof y&&M(y)===K}(h)){var E=G(h);return{args:E.map(function(P){return h[P]}),keys:E}}}return{args:y,keys:null}}},7308:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.argsOrArgArray=void 0;var _=Array.isArray;u.argsOrArgArray=function M(K){return 1===K.length&&_(K[0])?K[0]:K}},4615:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.arrRemove=void 0,u.arrRemove=function _(M,K){if(M){var G=M.indexOf(K);0<=G&&M.splice(G,1)}}},508:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createErrorClass=void 0,u.createErrorClass=function _(M){var G=M(function(W){Error.call(W),W.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}},604:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createObject=void 0,u.createObject=function _(M,K){return M.reduce(function(G,W,R){return G[W]=K[R],G},{})}},7525:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.captureError=u.errorContext=void 0;var M=_(2528),K=null;u.errorContext=function G(R){if(M.config.useDeprecatedSynchronousErrorHandling){var y=!K;if(y&&(K={errorThrown:!1,error:null}),R(),y){var h=K;if(K=null,h.errorThrown)throw h.error}}else R()},u.captureError=function W(R){M.config.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=R)}},7642:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.executeSchedule=void 0,u.executeSchedule=function _(M,K,G,W,R){void 0===W&&(W=0),void 0===R&&(R=!1);var y=K.schedule(function(){G(),R?M.add(this.schedule(null,W)):this.unsubscribe()},W);if(M.add(y),!R)return y}},7288:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.identity=void 0,u.identity=function _(M){return M}},1692:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isArrayLike=void 0,u.isArrayLike=function(_){return _&&"number"==typeof _.length&&"function"!=typeof _}},8474:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isAsyncIterable=void 0;var M=_(1860);u.isAsyncIterable=function K(G){return Symbol.asyncIterator&&M.isFunction(G?.[Symbol.asyncIterator])}},7053:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isValidDate=void 0,u.isValidDate=function _(M){return M instanceof Date&&!isNaN(M)}},1860:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isFunction=void 0,u.isFunction=function _(M){return"function"==typeof M}},3593:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isInteropObservable=void 0;var M=_(2289),K=_(1860);u.isInteropObservable=function G(W){return K.isFunction(W[M.observable])}},5754:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isIterable=void 0;var M=_(5900),K=_(1860);u.isIterable=function G(W){return K.isFunction(W?.[M.iterator])}},8447:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isObservable=void 0;var M=_(7072),K=_(1860);u.isObservable=function G(W){return!!W&&(W instanceof M.Observable||K.isFunction(W.lift)&&K.isFunction(W.subscribe))}},7035:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isPromise=void 0;var M=_(1860);u.isPromise=function K(G){return M.isFunction(G?.then)}},7307:function(Ge,u,_){"use strict";var M=this&&this.__generator||function(h,E){var F,B,k,ne,P={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return ne={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function q(ge){return function(Oe){return function de(ge){if(F)throw new TypeError("Generator is already executing.");for(;P;)try{if(F=1,B&&(k=2&ge[0]?B.return:ge[0]?B.throw||((k=B.return)&&k.call(B),0):B.next)&&!(k=k.call(B,ge[1])).done)return k;switch(B=0,k&&(ge=[2&ge[0],k.value]),ge[0]){case 0:case 1:k=ge;break;case 4:return P.label++,{value:ge[1],done:!1};case 5:P.label++,B=ge[1],ge=[0];continue;case 7:ge=P.ops.pop(),P.trys.pop();continue;default:if(!(k=(k=P.trys).length>0&&k[k.length-1])&&(6===ge[0]||2===ge[0])){P=0;continue}if(3===ge[0]&&(!k||ge[1]>k[0]&&ge[1]<k[3])){P.label=ge[1];break}if(6===ge[0]&&P.label<k[1]){P.label=k[1],k=ge;break}if(k&&P.label<k[2]){P.label=k[2],P.ops.push(ge);break}k[2]&&P.ops.pop(),P.trys.pop();continue}ge=E.call(h,P)}catch(Oe){ge=[6,Oe],B=0}finally{F=k=0}if(5&ge[0])throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}([ge,Oe])}}},K=this&&this.__await||function(h){return this instanceof K?(this.v=h,this):new K(h)},G=this&&this.__asyncGenerator||function(h,E,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,F=P.apply(h,E||[]),k=[];return B={},ne("next"),ne("throw"),ne("return"),B[Symbol.asyncIterator]=function(){return this},B;function ne(rt){F[rt]&&(B[rt]=function(Se){return new Promise(function(Ee,Ne){k.push([rt,Se,Ee,Ne])>1||q(rt,Se)})})}function q(rt,Se){try{!function de(rt){rt.value instanceof K?Promise.resolve(rt.value.v).then(ge,Oe):Qe(k[0][2],rt)}(F[rt](Se))}catch(Ee){Qe(k[0][3],Ee)}}function ge(rt){q("next",rt)}function Oe(rt){q("throw",rt)}function Qe(rt,Se){rt(Se),k.shift(),k.length&&q(k[0][0],k[0][1])}};Object.defineProperty(u,"__esModule",{value:!0}),u.isReadableStreamLike=u.readableStreamLikeToAsyncGenerator=void 0;var W=_(1860);u.readableStreamLikeToAsyncGenerator=function R(h){return G(this,arguments,function(){var P,F,B;return M(this,function(ne){switch(ne.label){case 0:P=h.getReader(),ne.label=1;case 1:ne.trys.push([1,,9,10]),ne.label=2;case 2:return[4,K(P.read())];case 3:return F=ne.sent(),B=F.value,F.done?[4,K(void 0)]:[3,5];case 4:return[2,ne.sent()];case 5:return[4,K(B)];case 6:return[4,ne.sent()];case 7:return ne.sent(),[3,2];case 8:return[3,10];case 9:return P.releaseLock(),[7];case 10:return[2]}})})},u.isReadableStreamLike=function y(h){return W.isFunction(h?.getReader)}},1832:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isScheduler=void 0;var M=_(1860);u.isScheduler=function K(G){return G&&M.isFunction(G.schedule)}},5145:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.operate=u.hasLift=void 0;var M=_(1860);function K(W){return M.isFunction(W?.lift)}u.hasLift=K,u.operate=function G(W){return function(R){if(K(R))return R.lift(function(y){try{return W(y,this)}catch(h){this.error(h)}});throw new TypeError("Unable to lift unknown Observable type")}}},9349:function(Ge,u,_){"use strict";var M=this&&this.__read||function(h,E){var P="function"==typeof Symbol&&h[Symbol.iterator];if(!P)return h;var B,ne,F=P.call(h),k=[];try{for(;(void 0===E||E-- >0)&&!(B=F.next()).done;)k.push(B.value)}catch(q){ne={error:q}}finally{try{B&&!B.done&&(P=F.return)&&P.call(F)}finally{if(ne)throw ne.error}}return k},K=this&&this.__spreadArray||function(h,E){for(var P=0,F=E.length,B=h.length;P<F;P++,B++)h[B]=E[P];return h};Object.defineProperty(u,"__esModule",{value:!0}),u.mapOneOrManyArgs=void 0;var G=_(5970),W=Array.isArray;u.mapOneOrManyArgs=function y(h){return G.map(function(E){return function R(h,E){return W(E)?h.apply(void 0,K([],M(E))):h(E)}(h,E)})}},6048:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.noop=void 0,u.noop=function _(){}},1080:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.not=void 0,u.not=function _(M,K){return function(G,W){return!M.call(K,G,W)}}},3776:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pipeFromArray=u.pipe=void 0;var M=_(7288);function G(W){return 0===W.length?M.identity:1===W.length?W[0]:function(y){return W.reduce(function(h,E){return E(h)},y)}}u.pipe=function K(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];return G(W)},u.pipeFromArray=G},9166:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reportUnhandledError=void 0;var M=_(2528),K=_(3410);u.reportUnhandledError=function G(W){K.timeoutProvider.setTimeout(function(){var R=M.config.onUnhandledError;if(!R)throw W;R(W)})}},7116:(Ge,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createInvalidObservableTypeError=void 0,u.createInvalidObservableTypeError=function _(M){return new TypeError("You provided "+(null!==M&&"object"==typeof M?"an invalid object":"'"+M+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},6837:(Ge,u,_)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeAll=u.merge=u.max=u.materialize=u.mapTo=u.map=u.last=u.isEmpty=u.ignoreElements=u.groupBy=u.first=u.findIndex=u.find=u.finalize=u.filter=u.expand=u.exhaustMap=u.exhaustAll=u.exhaust=u.every=u.endWith=u.elementAt=u.distinctUntilKeyChanged=u.distinctUntilChanged=u.distinct=u.dematerialize=u.delayWhen=u.delay=u.defaultIfEmpty=u.debounceTime=u.debounce=u.count=u.connect=u.concatWith=u.concatMapTo=u.concatMap=u.concatAll=u.concat=u.combineLatestWith=u.combineLatest=u.combineLatestAll=u.combineAll=u.catchError=u.bufferWhen=u.bufferToggle=u.bufferTime=u.bufferCount=u.buffer=u.auditTime=u.audit=void 0,u.timeInterval=u.throwIfEmpty=u.throttleTime=u.throttle=u.tap=u.takeWhile=u.takeUntil=u.takeLast=u.take=u.switchScan=u.switchMapTo=u.switchMap=u.switchAll=u.subscribeOn=u.startWith=u.skipWhile=u.skipUntil=u.skipLast=u.skip=u.single=u.shareReplay=u.share=u.sequenceEqual=u.scan=u.sampleTime=u.sample=u.refCount=u.retryWhen=u.retry=u.repeatWhen=u.repeat=u.reduce=u.raceWith=u.race=u.publishReplay=u.publishLast=u.publishBehavior=u.publish=u.pluck=u.partition=u.pairwise=u.onErrorResumeNext=u.observeOn=u.multicast=u.min=u.mergeWith=u.mergeScan=u.mergeMapTo=u.mergeMap=u.flatMap=void 0,u.zipWith=u.zipAll=u.zip=u.withLatestFrom=u.windowWhen=u.windowToggle=u.windowTime=u.windowCount=u.window=u.toArray=u.timestamp=u.timeoutWith=u.timeout=void 0;var M=_(547);Object.defineProperty(u,"audit",{enumerable:!0,get:function(){return M.audit}});var K=_(5651);Object.defineProperty(u,"auditTime",{enumerable:!0,get:function(){return K.auditTime}});var G=_(4546);Object.defineProperty(u,"buffer",{enumerable:!0,get:function(){return G.buffer}});var W=_(7865);Object.defineProperty(u,"bufferCount",{enumerable:!0,get:function(){return W.bufferCount}});var R=_(4567);Object.defineProperty(u,"bufferTime",{enumerable:!0,get:function(){return R.bufferTime}});var y=_(8151);Object.defineProperty(u,"bufferToggle",{enumerable:!0,get:function(){return y.bufferToggle}});var h=_(5201);Object.defineProperty(u,"bufferWhen",{enumerable:!0,get:function(){return h.bufferWhen}});var E=_(5503);Object.defineProperty(u,"catchError",{enumerable:!0,get:function(){return E.catchError}});var P=_(8868);Object.defineProperty(u,"combineAll",{enumerable:!0,get:function(){return P.combineAll}});var F=_(5638);Object.defineProperty(u,"combineLatestAll",{enumerable:!0,get:function(){return F.combineLatestAll}});var B=_(7839);Object.defineProperty(u,"combineLatest",{enumerable:!0,get:function(){return B.combineLatest}});var k=_(7869);Object.defineProperty(u,"combineLatestWith",{enumerable:!0,get:function(){return k.combineLatestWith}});var ne=_(4526);Object.defineProperty(u,"concat",{enumerable:!0,get:function(){return ne.concat}});var q=_(7507);Object.defineProperty(u,"concatAll",{enumerable:!0,get:function(){return q.concatAll}});var de=_(6118);Object.defineProperty(u,"concatMap",{enumerable:!0,get:function(){return de.concatMap}});var ge=_(5505);Object.defineProperty(u,"concatMapTo",{enumerable:!0,get:function(){return ge.concatMapTo}});var Oe=_(9451);Object.defineProperty(u,"concatWith",{enumerable:!0,get:function(){return Oe.concatWith}});var Qe=_(1673);Object.defineProperty(u,"connect",{enumerable:!0,get:function(){return Qe.connect}});var rt=_(745);Object.defineProperty(u,"count",{enumerable:!0,get:function(){return rt.count}});var Se=_(6799);Object.defineProperty(u,"debounce",{enumerable:!0,get:function(){return Se.debounce}});var Ee=_(6662);Object.defineProperty(u,"debounceTime",{enumerable:!0,get:function(){return Ee.debounceTime}});var Ne=_(9033);Object.defineProperty(u,"defaultIfEmpty",{enumerable:!0,get:function(){return Ne.defaultIfEmpty}});var Ze=_(9908);Object.defineProperty(u,"delay",{enumerable:!0,get:function(){return Ze.delay}});var je=_(2680);Object.defineProperty(u,"delayWhen",{enumerable:!0,get:function(){return je.delayWhen}});var be=_(7856);Object.defineProperty(u,"dematerialize",{enumerable:!0,get:function(){return be.dematerialize}});var qe=_(3506);Object.defineProperty(u,"distinct",{enumerable:!0,get:function(){return qe.distinct}});var bt=_(9905);Object.defineProperty(u,"distinctUntilChanged",{enumerable:!0,get:function(){return bt.distinctUntilChanged}});var Nt=_(9745);Object.defineProperty(u,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Nt.distinctUntilKeyChanged}});var _t=_(55);Object.defineProperty(u,"elementAt",{enumerable:!0,get:function(){return _t.elementAt}});var en=_(4486);Object.defineProperty(u,"endWith",{enumerable:!0,get:function(){return en.endWith}});var rn=_(3595);Object.defineProperty(u,"every",{enumerable:!0,get:function(){return rn.every}});var an=_(1222);Object.defineProperty(u,"exhaust",{enumerable:!0,get:function(){return an.exhaust}});var xt=_(5438);Object.defineProperty(u,"exhaustAll",{enumerable:!0,get:function(){return xt.exhaustAll}});var Zn=_(733);Object.defineProperty(u,"exhaustMap",{enumerable:!0,get:function(){return Zn.exhaustMap}});var qi=_(5006);Object.defineProperty(u,"expand",{enumerable:!0,get:function(){return qi.expand}});var Lt=_(4488);Object.defineProperty(u,"filter",{enumerable:!0,get:function(){return Lt.filter}});var Rt=_(835);Object.defineProperty(u,"finalize",{enumerable:!0,get:function(){return Rt.finalize}});var Ut=_(6167);Object.defineProperty(u,"find",{enumerable:!0,get:function(){return Ut.find}});var on=_(105);Object.defineProperty(u,"findIndex",{enumerable:!0,get:function(){return on.findIndex}});var In=_(531);Object.defineProperty(u,"first",{enumerable:!0,get:function(){return In.first}});var _n=_(7389);Object.defineProperty(u,"groupBy",{enumerable:!0,get:function(){return _n.groupBy}});var $n=_(8228);Object.defineProperty(u,"ignoreElements",{enumerable:!0,get:function(){return $n.ignoreElements}});var Pn=_(9185);Object.defineProperty(u,"isEmpty",{enumerable:!0,get:function(){return Pn.isEmpty}});var to=_(3383);Object.defineProperty(u,"last",{enumerable:!0,get:function(){return to.last}});var Gn=_(5970);Object.defineProperty(u,"map",{enumerable:!0,get:function(){return Gn.map}});var wi=_(5901);Object.defineProperty(u,"mapTo",{enumerable:!0,get:function(){return wi.mapTo}});var _r=_(3136);Object.defineProperty(u,"materialize",{enumerable:!0,get:function(){return _r.materialize}});var Ai=_(1027);Object.defineProperty(u,"max",{enumerable:!0,get:function(){return Ai.max}});var Yr=_(5679);Object.defineProperty(u,"merge",{enumerable:!0,get:function(){return Yr.merge}});var Lo=_(689);Object.defineProperty(u,"mergeAll",{enumerable:!0,get:function(){return Lo.mergeAll}});var dt=_(984);Object.defineProperty(u,"flatMap",{enumerable:!0,get:function(){return dt.flatMap}});var et=_(1049);Object.defineProperty(u,"mergeMap",{enumerable:!0,get:function(){return et.mergeMap}});var Dt=_(6191);Object.defineProperty(u,"mergeMapTo",{enumerable:!0,get:function(){return Dt.mergeMapTo}});var It=_(6439);Object.defineProperty(u,"mergeScan",{enumerable:!0,get:function(){return It.mergeScan}});var cn=_(8821);Object.defineProperty(u,"mergeWith",{enumerable:!0,get:function(){return cn.mergeWith}});var tn=_(4147);Object.defineProperty(u,"min",{enumerable:!0,get:function(){return tn.min}});var Br=_(4290);Object.defineProperty(u,"multicast",{enumerable:!0,get:function(){return Br.multicast}});var zi=_(9512);Object.defineProperty(u,"observeOn",{enumerable:!0,get:function(){return zi.observeOn}});var oi=_(4268);Object.defineProperty(u,"onErrorResumeNext",{enumerable:!0,get:function(){return oi.onErrorResumeNext}});var Rn=_(4827);Object.defineProperty(u,"pairwise",{enumerable:!0,get:function(){return Rn.pairwise}});var ci=_(2158);Object.defineProperty(u,"partition",{enumerable:!0,get:function(){return ci.partition}});var Vr=_(4011);Object.defineProperty(u,"pluck",{enumerable:!0,get:function(){return Vr.pluck}});var no=_(3693);Object.defineProperty(u,"publish",{enumerable:!0,get:function(){return no.publish}});var wo=_(7465);Object.defineProperty(u,"publishBehavior",{enumerable:!0,get:function(){return wo.publishBehavior}});var Xi=_(5982);Object.defineProperty(u,"publishLast",{enumerable:!0,get:function(){return Xi.publishLast}});var So=_(3121);Object.defineProperty(u,"publishReplay",{enumerable:!0,get:function(){return So.publishReplay}});var zo=_(2164);Object.defineProperty(u,"race",{enumerable:!0,get:function(){return zo.race}});var vi=_(5413);Object.defineProperty(u,"raceWith",{enumerable:!0,get:function(){return vi.raceWith}});var oo=_(597);Object.defineProperty(u,"reduce",{enumerable:!0,get:function(){return oo.reduce}});var ar=_(2923);Object.defineProperty(u,"repeat",{enumerable:!0,get:function(){return ar.repeat}});var xo=_(2806);Object.defineProperty(u,"repeatWhen",{enumerable:!0,get:function(){return xo.repeatWhen}});var zr=_(1017);Object.defineProperty(u,"retry",{enumerable:!0,get:function(){return zr.retry}});var Ns=_(3377);Object.defineProperty(u,"retryWhen",{enumerable:!0,get:function(){return Ns.retryWhen}});var xi=_(8551);Object.defineProperty(u,"refCount",{enumerable:!0,get:function(){return xi.refCount}});var Zo=_(8255);Object.defineProperty(u,"sample",{enumerable:!0,get:function(){return Zo.sample}});var Ha=_(941);Object.defineProperty(u,"sampleTime",{enumerable:!0,get:function(){return Ha.sampleTime}});var _i=_(4141);Object.defineProperty(u,"scan",{enumerable:!0,get:function(){return _i.scan}});var ki=_(5318);Object.defineProperty(u,"sequenceEqual",{enumerable:!0,get:function(){return ki.sequenceEqual}});var ji=_(2905);Object.defineProperty(u,"share",{enumerable:!0,get:function(){return ji.share}});var io=_(5940);Object.defineProperty(u,"shareReplay",{enumerable:!0,get:function(){return io.shareReplay}});var gs=_(1619);Object.defineProperty(u,"single",{enumerable:!0,get:function(){return gs.single}});var Ss=_(7605);Object.defineProperty(u,"skip",{enumerable:!0,get:function(){return Ss.skip}});var ro=_(3106);Object.defineProperty(u,"skipLast",{enumerable:!0,get:function(){return ro.skipLast}});var Ls=_(7457);Object.defineProperty(u,"skipUntil",{enumerable:!0,get:function(){return Ls.skipUntil}});var Gt=_(676);Object.defineProperty(u,"skipWhile",{enumerable:!0,get:function(){return Gt.skipWhile}});var Bt=_(6907);Object.defineProperty(u,"startWith",{enumerable:!0,get:function(){return Bt.startWith}});var ze=_(8625);Object.defineProperty(u,"subscribeOn",{enumerable:!0,get:function(){return ze.subscribeOn}});var ct=_(9311);Object.defineProperty(u,"switchAll",{enumerable:!0,get:function(){return ct.switchAll}});var Wt=_(6180);Object.defineProperty(u,"switchMap",{enumerable:!0,get:function(){return Wt.switchMap}});var Qn=_(7235);Object.defineProperty(u,"switchMapTo",{enumerable:!0,get:function(){return Qn.switchMapTo}});var di=_(2546);Object.defineProperty(u,"switchScan",{enumerable:!0,get:function(){return di.switchScan}});var br=_(3007);Object.defineProperty(u,"take",{enumerable:!0,get:function(){return br.take}});var jr=_(9747);Object.defineProperty(u,"takeLast",{enumerable:!0,get:function(){return jr.takeLast}});var es=_(8325);Object.defineProperty(u,"takeUntil",{enumerable:!0,get:function(){return es.takeUntil}});var cs=_(548);Object.defineProperty(u,"takeWhile",{enumerable:!0,get:function(){return cs.takeWhile}});var Zi=_(3023);Object.defineProperty(u,"tap",{enumerable:!0,get:function(){return Zi.tap}});var ha=_(7635);Object.defineProperty(u,"throttle",{enumerable:!0,get:function(){return ha.throttle}});var ko=_(2403);Object.defineProperty(u,"throttleTime",{enumerable:!0,get:function(){return ko.throttleTime}});var Gr=_(909);Object.defineProperty(u,"throwIfEmpty",{enumerable:!0,get:function(){return Gr.throwIfEmpty}});var ht=_(5892);Object.defineProperty(u,"timeInterval",{enumerable:!0,get:function(){return ht.timeInterval}});var ut=_(6406);Object.defineProperty(u,"timeout",{enumerable:!0,get:function(){return ut.timeout}});var nt=_(6348);Object.defineProperty(u,"timeoutWith",{enumerable:!0,get:function(){return nt.timeoutWith}});var Pt=_(9010);Object.defineProperty(u,"timestamp",{enumerable:!0,get:function(){return Pt.timestamp}});var vn=_(2341);Object.defineProperty(u,"toArray",{enumerable:!0,get:function(){return vn.toArray}});var bn=_(1176);Object.defineProperty(u,"window",{enumerable:!0,get:function(){return bn.window}});var Fn=_(6193);Object.defineProperty(u,"windowCount",{enumerable:!0,get:function(){return Fn.windowCount}});var Ri=_(2642);Object.defineProperty(u,"windowTime",{enumerable:!0,get:function(){return Ri.windowTime}});var fi=_(8036);Object.defineProperty(u,"windowToggle",{enumerable:!0,get:function(){return fi.windowToggle}});var Mr=_(1624);Object.defineProperty(u,"windowWhen",{enumerable:!0,get:function(){return Mr.windowWhen}});var ho=_(3725);Object.defineProperty(u,"withLatestFrom",{enumerable:!0,get:function(){return ho.withLatestFrom}});var Zr=_(398);Object.defineProperty(u,"zip",{enumerable:!0,get:function(){return Zr.zip}});var Wr=_(378);Object.defineProperty(u,"zipAll",{enumerable:!0,get:function(){return Wr.zipAll}});var pr=_(9952);Object.defineProperty(u,"zipWith",{enumerable:!0,get:function(){return pr.zipWith}})},5619:(Ge,u,_)=>{"use strict";_.d(u,{X:()=>K});var M=_(8645);class K extends M.x{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const R=super._subscribe(W);return!R.closed&&W.next(this._value),R}getValue(){const{hasError:W,thrownError:R,_value:y}=this;if(W)throw R;return this._throwIfClosed(),y}next(W){super.next(this._value=W)}}},5592:(Ge,u,_)=>{"use strict";_.d(u,{y:()=>E});var M=_(305),K=_(7394),G=_(4850),W=_(8407),R=_(2653),y=_(4674),h=_(1441);let E=(()=>{class k{constructor(q){q&&(this._subscribe=q)}lift(q){const de=new k;return de.source=this,de.operator=q,de}subscribe(q,de,ge){const Oe=function B(k){return k&&k instanceof M.Lv||function F(k){return k&&(0,y.m)(k.next)&&(0,y.m)(k.error)&&(0,y.m)(k.complete)}(k)&&(0,K.Nn)(k)}(q)?q:new M.Hp(q,de,ge);return(0,h.x)(()=>{const{operator:Qe,source:rt}=this;Oe.add(Qe?Qe.call(Oe,rt):rt?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(q){try{return this._subscribe(q)}catch(de){q.error(de)}}forEach(q,de){return new(de=P(de))((ge,Oe)=>{const Qe=new M.Hp({next:rt=>{try{q(rt)}catch(Se){Oe(Se),Qe.unsubscribe()}},error:Oe,complete:ge});this.subscribe(Qe)})}_subscribe(q){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(q)}[G.L](){return this}pipe(...q){return(0,W.U)(q)(this)}toPromise(q){return new(q=P(q))((de,ge)=>{let Oe;this.subscribe(Qe=>Oe=Qe,Qe=>ge(Qe),()=>de(Oe))})}}return k.create=ne=>new k(ne),k})();function P(k){var ne;return null!==(ne=k??R.config.Promise)&&void 0!==ne?ne:Promise}},8645:(Ge,u,_)=>{"use strict";_.d(u,{x:()=>h});var M=_(5592),K=_(7394);const W=(0,_(2306).d)(P=>function(){P(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=_(9039),y=_(1441);let h=(()=>{class P extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const k=new E(this,this);return k.operator=B,k}_throwIfClosed(){if(this.closed)throw new W}next(B){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const k of this.currentObservers)k.next(B)}})}error(B){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:k}=this;for(;k.length;)k.shift().error(B)}})}complete(){(0,y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:k,isStopped:ne,observers:q}=this;return k||ne?K.Lc:(this.currentObservers=null,q.push(B),new K.w0(()=>{this.currentObservers=null,(0,R.P)(q,B)}))}_checkFinalizedStatuses(B){const{hasError:k,thrownError:ne,isStopped:q}=this;k?B.error(ne):q&&B.complete()}asObservable(){const B=new M.y;return B.source=this,B}}return P.create=(F,B)=>new E(F,B),P})();class E extends h{constructor(F,B){super(),this.destination=F,this.source=B}next(F){var B,k;null===(k=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===k||k.call(B,F)}error(F){var B,k;null===(k=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===k||k.call(B,F)}complete(){var F,B;null===(B=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===B||B.call(F)}_subscribe(F){var B,k;return null!==(k=null===(B=this.source)||void 0===B?void 0:B.subscribe(F))&&void 0!==k?k:K.Lc}}},305:(Ge,u,_)=>{"use strict";_.d(u,{Hp:()=>ge,Lv:()=>k});var M=_(4674),K=_(7394),G=_(2653),W=_(3894),R=_(2420);const y=P("C",void 0,void 0);function P(Ee,Ne,Ze){return{kind:Ee,value:Ne,error:Ze}}var F=_(7599),B=_(1441);class k extends K.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,K.Nn)(Ne)&&Ne.add(this)):this.destination=Se}static create(Ne,Ze,je){return new ge(Ne,Ze,je)}next(Ne){this.isStopped?rt(function E(Ee){return P("N",Ee,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?rt(function h(Ee){return P("E",void 0,Ee)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?rt(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ne=Function.prototype.bind;function q(Ee,Ne){return ne.call(Ee,Ne)}class de{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(Ne)}catch(je){Oe(je)}}error(Ne){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(Ne)}catch(je){Oe(je)}else Oe(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ze){Oe(Ze)}}}class ge extends k{constructor(Ne,Ze,je){let be;if(super(),(0,M.m)(Ne)||!Ne)be={next:Ne??void 0,error:Ze??void 0,complete:je??void 0};else{let qe;this&&G.config.useDeprecatedNextContext?(qe=Object.create(Ne),qe.unsubscribe=()=>this.unsubscribe(),be={next:Ne.next&&q(Ne.next,qe),error:Ne.error&&q(Ne.error,qe),complete:Ne.complete&&q(Ne.complete,qe)}):be=Ne}this.destination=new de(be)}}function Oe(Ee){G.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ee):(0,W.h)(Ee)}function rt(Ee,Ne){const{onStoppedNotification:Ze}=G.config;Ze&&F.z.setTimeout(()=>Ze(Ee,Ne))}const Se={closed:!0,next:R.Z,error:function Qe(Ee){throw Ee},complete:R.Z}},7394:(Ge,u,_)=>{"use strict";_.d(u,{Lc:()=>y,w0:()=>R,Nn:()=>h});var M=_(4674);const G=(0,_(2306).d)(P=>function(B){P(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((k,ne)=>`${ne+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var W=_(9039);class R{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const q of B)q.remove(this);else B.remove(this);const{initialTeardown:k}=this;if((0,M.m)(k))try{k()}catch(q){F=q instanceof G?q.errors:[q]}const{_finalizers:ne}=this;if(ne){this._finalizers=null;for(const q of ne)try{E(q)}catch(de){F=F??[],de instanceof G?F=[...F,...de.errors]:F.push(de)}}if(F)throw new G(F)}}add(F){var B;if(F&&F!==this)if(this.closed)E(F);else{if(F instanceof R){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(F)}}_hasParent(F){const{_parentage:B}=this;return B===F||Array.isArray(B)&&B.includes(F)}_addParent(F){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(F),B):B?[B,F]:F}_removeParent(F){const{_parentage:B}=this;B===F?this._parentage=null:Array.isArray(B)&&(0,W.P)(B,F)}remove(F){const{_finalizers:B}=this;B&&(0,W.P)(B,F),F instanceof R&&F._removeParent(this)}}R.EMPTY=(()=>{const P=new R;return P.closed=!0,P})();const y=R.EMPTY;function h(P){return P instanceof R||P&&"closed"in P&&(0,M.m)(P.remove)&&(0,M.m)(P.add)&&(0,M.m)(P.unsubscribe)}function E(P){(0,M.m)(P)?P():P.unsubscribe()}},2653:(Ge,u,_)=>{"use strict";_.d(u,{config:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Ge,u,_)=>{"use strict";_.d(u,{E:()=>K});const K=new(_(5592).y)(R=>R.complete())},7715:(Ge,u,_)=>{"use strict";_.d(u,{D:()=>je});var M=_(4829),K=_(7103),G=_(9360),W=_(8251);function R(be,qe=0){return(0,G.e)((bt,Nt)=>{bt.subscribe((0,W.x)(Nt,_t=>(0,K.f)(Nt,be,()=>Nt.next(_t),qe),()=>(0,K.f)(Nt,be,()=>Nt.complete(),qe),_t=>(0,K.f)(Nt,be,()=>Nt.error(_t),qe)))})}function y(be,qe=0){return(0,G.e)((bt,Nt)=>{Nt.add(be.schedule(()=>bt.subscribe(Nt),qe))})}var P=_(5592),B=_(4971),k=_(4674);function q(be,qe){if(!be)throw new Error("Iterable cannot be null");return new P.y(bt=>{(0,K.f)(bt,qe,()=>{const Nt=be[Symbol.asyncIterator]();(0,K.f)(bt,qe,()=>{Nt.next().then(_t=>{_t.done?bt.complete():bt.next(_t.value)})},0,!0)})})}var de=_(8382),ge=_(4026),Oe=_(4266),Qe=_(3664),rt=_(5726),Se=_(9853),Ee=_(541);function je(be,qe){return qe?function Ze(be,qe){if(null!=be){if((0,de.c)(be))return function h(be,qe){return(0,M.Xf)(be).pipe(y(qe),R(qe))}(be,qe);if((0,Oe.z)(be))return function F(be,qe){return new P.y(bt=>{let Nt=0;return qe.schedule(function(){Nt===be.length?bt.complete():(bt.next(be[Nt++]),bt.closed||this.schedule())})})}(be,qe);if((0,ge.t)(be))return function E(be,qe){return(0,M.Xf)(be).pipe(y(qe),R(qe))}(be,qe);if((0,rt.D)(be))return q(be,qe);if((0,Qe.T)(be))return function ne(be,qe){return new P.y(bt=>{let Nt;return(0,K.f)(bt,qe,()=>{Nt=be[B.h](),(0,K.f)(bt,qe,()=>{let _t,en;try{({value:_t,done:en}=Nt.next())}catch(rn){return void bt.error(rn)}en?bt.complete():bt.next(_t)},0,!0)}),()=>(0,k.m)(Nt?.return)&&Nt.return()})}(be,qe);if((0,Ee.L)(be))return function Ne(be,qe){return q((0,Ee.Q)(be),qe)}(be,qe)}throw(0,Se.z)(be)}(be,qe):(0,M.Xf)(be)}},4829:(Ge,u,_)=>{"use strict";_.d(u,{Xf:()=>ne});var M=_(7582),K=_(4266),G=_(4026),W=_(5592),R=_(8382),y=_(5726),h=_(9853),E=_(3664),P=_(541),F=_(4674),B=_(3894),k=_(4850);function ne(Ee){if(Ee instanceof W.y)return Ee;if(null!=Ee){if((0,R.c)(Ee))return function q(Ee){return new W.y(Ne=>{const Ze=Ee[k.L]();if((0,F.m)(Ze.subscribe))return Ze.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,K.z)(Ee))return function de(Ee){return new W.y(Ne=>{for(let Ze=0;Ze<Ee.length&&!Ne.closed;Ze++)Ne.next(Ee[Ze]);Ne.complete()})}(Ee);if((0,G.t)(Ee))return function ge(Ee){return new W.y(Ne=>{Ee.then(Ze=>{Ne.closed||(Ne.next(Ze),Ne.complete())},Ze=>Ne.error(Ze)).then(null,B.h)})}(Ee);if((0,y.D)(Ee))return Qe(Ee);if((0,E.T)(Ee))return function Oe(Ee){return new W.y(Ne=>{for(const Ze of Ee)if(Ne.next(Ze),Ne.closed)return;Ne.complete()})}(Ee);if((0,P.L)(Ee))return function rt(Ee){return Qe((0,P.Q)(Ee))}(Ee)}throw(0,h.z)(Ee)}function Qe(Ee){return new W.y(Ne=>{(function Se(Ee,Ne){var Ze,je,be,qe;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,M.KL)(Ee);!(je=yield Ze.next()).done;)if(Ne.next(je.value),Ne.closed)return}catch(bt){be={error:bt}}finally{try{je&&!je.done&&(qe=Ze.return)&&(yield qe.call(Ze))}finally{if(be)throw be.error}}Ne.complete()})})(Ee,Ne).catch(Ze=>Ne.error(Ze))})}},2096:(Ge,u,_)=>{"use strict";_.d(u,{of:()=>G});var M=_(4564),K=_(7715);function G(...W){const R=(0,M.yG)(W);return(0,K.D)(W,R)}},8251:(Ge,u,_)=>{"use strict";_.d(u,{x:()=>K});var M=_(305);function K(W,R,y,h,E){return new G(W,R,y,h,E)}class G extends M.Lv{constructor(R,y,h,E,P,F){super(R),this.onFinalize=P,this.shouldUnsubscribe=F,this._next=y?function(B){try{y(B)}catch(k){R.error(k)}}:super._next,this._error=E?function(B){try{E(B)}catch(k){R.error(k)}finally{this.unsubscribe()}}:super._error,this._complete=h?function(){try{h()}catch(B){R.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:y}=this;super.unsubscribe(),!y&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},6328:(Ge,u,_)=>{"use strict";_.d(u,{b:()=>G});var M=_(1631),K=_(4674);function G(W,R){return(0,K.m)(R)?(0,M.z)(W,R,1):(0,M.z)(W,1)}},3572:(Ge,u,_)=>{"use strict";_.d(u,{d:()=>G});var M=_(9360),K=_(8251);function G(W){return(0,M.e)((R,y)=>{let h=!1;R.subscribe((0,K.x)(y,E=>{h=!0,y.next(E)},()=>{h||y.next(W),y.complete()}))})}},3997:(Ge,u,_)=>{"use strict";_.d(u,{x:()=>W});var M=_(2737),K=_(9360),G=_(8251);function W(y,h=M.y){return y=y??R,(0,K.e)((E,P)=>{let F,B=!0;E.subscribe((0,G.x)(P,k=>{const ne=h(k);(B||!y(F,ne))&&(B=!1,F=ne,P.next(k))}))})}function R(y,h){return y===h}},2181:(Ge,u,_)=>{"use strict";_.d(u,{h:()=>G});var M=_(9360),K=_(8251);function G(W,R){return(0,M.e)((y,h)=>{let E=0;y.subscribe((0,K.x)(h,P=>W.call(R,P,E++)&&h.next(P)))})}},4716:(Ge,u,_)=>{"use strict";_.d(u,{x:()=>K});var M=_(9360);function K(G){return(0,M.e)((W,R)=>{try{W.subscribe(R)}finally{R.add(G)}})}},1374:(Ge,u,_)=>{"use strict";_.d(u,{P:()=>h});var M=_(6973),K=_(2181),G=_(8180),W=_(3572),R=_(3026),y=_(2737);function h(E,P){const F=arguments.length>=2;return B=>B.pipe(E?(0,K.h)((k,ne)=>E(k,ne,B)):y.y,(0,G.q)(1),F?(0,W.d)(P):(0,R.T)(()=>new M.K))}},7398:(Ge,u,_)=>{"use strict";_.d(u,{U:()=>G});var M=_(9360),K=_(8251);function G(W,R){return(0,M.e)((y,h)=>{let E=0;y.subscribe((0,K.x)(h,P=>{h.next(W.call(R,P,E++))}))})}},7537:(Ge,u,_)=>{"use strict";_.d(u,{J:()=>G});var M=_(1631),K=_(2737);function G(W=1/0){return(0,M.z)(K.y,W)}},1631:(Ge,u,_)=>{"use strict";_.d(u,{z:()=>E});var M=_(7398),K=_(4829),G=_(9360),W=_(7103),R=_(8251),h=_(4674);function E(P,F,B=1/0){return(0,h.m)(F)?E((k,ne)=>(0,M.U)((q,de)=>F(k,q,ne,de))((0,K.Xf)(P(k,ne))),B):("number"==typeof F&&(B=F),(0,G.e)((k,ne)=>function y(P,F,B,k,ne,q,de,ge){const Oe=[];let Qe=0,rt=0,Se=!1;const Ee=()=>{Se&&!Oe.length&&!Qe&&F.complete()},Ne=je=>Qe<k?Ze(je):Oe.push(je),Ze=je=>{q&&F.next(je),Qe++;let be=!1;(0,K.Xf)(B(je,rt++)).subscribe((0,R.x)(F,qe=>{ne?.(qe),q?Ne(qe):F.next(qe)},()=>{be=!0},void 0,()=>{if(be)try{for(Qe--;Oe.length&&Qe<k;){const qe=Oe.shift();de?(0,W.f)(F,de,()=>Ze(qe)):Ze(qe)}Ee()}catch(qe){F.error(qe)}}))};return P.subscribe((0,R.x)(F,Ne,()=>{Se=!0,Ee()})),()=>{ge?.()}}(k,ne,P,B)))}},4664:(Ge,u,_)=>{"use strict";_.d(u,{w:()=>W});var M=_(4829),K=_(9360),G=_(8251);function W(R,y){return(0,K.e)((h,E)=>{let P=null,F=0,B=!1;const k=()=>B&&!P&&E.complete();h.subscribe((0,G.x)(E,ne=>{P?.unsubscribe();let q=0;const de=F++;(0,M.Xf)(R(ne,de)).subscribe(P=(0,G.x)(E,ge=>E.next(y?y(ne,ge,de,q++):ge),()=>{P=null,k()}))},()=>{B=!0,k()}))})}},8180:(Ge,u,_)=>{"use strict";_.d(u,{q:()=>W});var M=_(6232),K=_(9360),G=_(8251);function W(R){return R<=0?()=>M.E:(0,K.e)((y,h)=>{let E=0;y.subscribe((0,G.x)(h,P=>{++E<=R&&(h.next(P),R<=E&&h.complete())}))})}},9397:(Ge,u,_)=>{"use strict";_.d(u,{b:()=>R});var M=_(4674),K=_(9360),G=_(8251),W=_(2737);function R(y,h,E){const P=(0,M.m)(y)||h||E?{next:y,error:h,complete:E}:y;return P?(0,K.e)((F,B)=>{var k;null===(k=P.subscribe)||void 0===k||k.call(P);let ne=!0;F.subscribe((0,G.x)(B,q=>{var de;null===(de=P.next)||void 0===de||de.call(P,q),B.next(q)},()=>{var q;ne=!1,null===(q=P.complete)||void 0===q||q.call(P),B.complete()},q=>{var de;ne=!1,null===(de=P.error)||void 0===de||de.call(P,q),B.error(q)},()=>{var q,de;ne&&(null===(q=P.unsubscribe)||void 0===q||q.call(P)),null===(de=P.finalize)||void 0===de||de.call(P)}))}):W.y}},3026:(Ge,u,_)=>{"use strict";_.d(u,{T:()=>W});var M=_(6973),K=_(9360),G=_(8251);function W(y=R){return(0,K.e)((h,E)=>{let P=!1;h.subscribe((0,G.x)(E,F=>{P=!0,E.next(F)},()=>P?E.complete():E.error(y())))})}function R(){return new M.K}},7599:(Ge,u,_)=>{"use strict";_.d(u,{z:()=>M});const M={setTimeout(K,G,...W){const{delegate:R}=M;return R?.setTimeout?R.setTimeout(K,G,...W):setTimeout(K,G,...W)},clearTimeout(K){const{delegate:G}=M;return(G?.clearTimeout||clearTimeout)(K)},delegate:void 0}},4971:(Ge,u,_)=>{"use strict";_.d(u,{h:()=>K});const K=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ge,u,_)=>{"use strict";_.d(u,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Ge,u,_)=>{"use strict";_.d(u,{K:()=>K});const K=(0,_(2306).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Ge,u,_)=>{"use strict";_.d(u,{_6:()=>y,jO:()=>W,yG:()=>R});var M=_(4674);function G(h){return h[h.length-1]}function W(h){return(0,M.m)(G(h))?h.pop():void 0}function R(h){return function K(h){return h&&(0,M.m)(h.schedule)}(G(h))?h.pop():void 0}function y(h,E){return"number"==typeof G(h)?h.pop():E}},7453:(Ge,u,_)=>{"use strict";_.d(u,{D:()=>R});const{isArray:M}=Array,{getPrototypeOf:K,prototype:G,keys:W}=Object;function R(h){if(1===h.length){const E=h[0];if(M(E))return{args:E,keys:null};if(function y(h){return h&&"object"==typeof h&&K(h)===G}(E)){const P=W(E);return{args:P.map(F=>E[F]),keys:P}}}return{args:h,keys:null}}},9039:(Ge,u,_)=>{"use strict";function M(K,G){if(K){const W=K.indexOf(G);0<=W&&K.splice(W,1)}}_.d(u,{P:()=>M})},2306:(Ge,u,_)=>{"use strict";function M(K){const W=K(R=>{Error.call(R),R.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}_.d(u,{d:()=>M})},2714:(Ge,u,_)=>{"use strict";function M(K,G){return K.reduce((W,R,y)=>(W[R]=G[y],W),{})}_.d(u,{n:()=>M})},1441:(Ge,u,_)=>{"use strict";_.d(u,{O:()=>W,x:()=>G});var M=_(2653);let K=null;function G(R){if(M.config.useDeprecatedSynchronousErrorHandling){const y=!K;if(y&&(K={errorThrown:!1,error:null}),R(),y){const{errorThrown:h,error:E}=K;if(K=null,h)throw E}}else R()}function W(R){M.config.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=R)}},7103:(Ge,u,_)=>{"use strict";function M(K,G,W,R=0,y=!1){const h=G.schedule(function(){W(),y?K.add(this.schedule(null,R)):this.unsubscribe()},R);if(K.add(h),!y)return h}_.d(u,{f:()=>M})},2737:(Ge,u,_)=>{"use strict";function M(K){return K}_.d(u,{y:()=>M})},4266:(Ge,u,_)=>{"use strict";_.d(u,{z:()=>M});const M=K=>K&&"number"==typeof K.length&&"function"!=typeof K},5726:(Ge,u,_)=>{"use strict";_.d(u,{D:()=>K});var M=_(4674);function K(G){return Symbol.asyncIterator&&(0,M.m)(G?.[Symbol.asyncIterator])}},4674:(Ge,u,_)=>{"use strict";function M(K){return"function"==typeof K}_.d(u,{m:()=>M})},8382:(Ge,u,_)=>{"use strict";_.d(u,{c:()=>G});var M=_(4850),K=_(4674);function G(W){return(0,K.m)(W[M.L])}},3664:(Ge,u,_)=>{"use strict";_.d(u,{T:()=>G});var M=_(4971),K=_(4674);function G(W){return(0,K.m)(W?.[M.h])}},4026:(Ge,u,_)=>{"use strict";_.d(u,{t:()=>K});var M=_(4674);function K(G){return(0,M.m)(G?.then)}},541:(Ge,u,_)=>{"use strict";_.d(u,{L:()=>W,Q:()=>G});var M=_(7582),K=_(4674);function G(R){return(0,M.FC)(this,arguments,function*(){const h=R.getReader();try{for(;;){const{value:E,done:P}=yield(0,M.qq)(h.read());if(P)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(E)}}finally{h.releaseLock()}})}function W(R){return(0,K.m)(R?.getReader)}},9360:(Ge,u,_)=>{"use strict";_.d(u,{A:()=>K,e:()=>G});var M=_(4674);function K(W){return(0,M.m)(W?.lift)}function G(W){return R=>{if(K(R))return R.lift(function(y){try{return W(y,this)}catch(h){this.error(h)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ge,u,_)=>{"use strict";_.d(u,{Z:()=>W});var M=_(7398);const{isArray:K}=Array;function W(R){return(0,M.U)(y=>function G(R,y){return K(y)?R(...y):R(y)}(R,y))}},2420:(Ge,u,_)=>{"use strict";function M(){}_.d(u,{Z:()=>M})},8407:(Ge,u,_)=>{"use strict";_.d(u,{U:()=>G,z:()=>K});var M=_(2737);function K(...W){return G(W)}function G(W){return 0===W.length?M.y:1===W.length?W[0]:function(y){return W.reduce((h,E)=>E(h),y)}}},3894:(Ge,u,_)=>{"use strict";_.d(u,{h:()=>G});var M=_(2653),K=_(7599);function G(W){K.z.setTimeout(()=>{const{onUnhandledError:R}=M.config;if(!R)throw W;R(W)})}},9853:(Ge,u,_)=>{"use strict";function M(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(u,{z:()=>M})},6636:(Ge,u,_)=>{"use strict";var M=_(7156).default;const K="175",F=1,B=2,k=3,Ne=100,Lo=0,dt=1,et=2,Dt=0,It=1,cn=2,tn=3,Br=4,zi=5,oi=6,Rn=7,ci="attached",Vr="detached",wo=301,Xi=302,vi=306,oo=1e3,ar=1001,xo=1002,zr=1003,Zo=1005,_i=1006,ki=1007,io=1008,Ss=1009,ro=1010,Ls=1011,Gt=1012,Bt=1013,ze=1014,ct=1015,Wt=1016,Qn=1017,di=1018,br=1020,jr=35902,es=1021,cs=1022,Zi=1023,ha=1024,ko=1025,Gr=1026,ht=1027,ut=1028,nt=1029,Pt=1030,vn=1031,Fn=1033,Ri=33776,fi=33777,Mr=33778,ho=33779,Zr=35840,Wr=35841,pr=35842,us=35843,Ki=36196,Ir=37492,Ts=37496,Rs=37808,Di=37809,ts=37810,Ba=37811,Qs=37812,ss=37813,aa=37814,vs=37815,pa=37816,Uo=37817,tl=37818,ks=37819,er=37820,Ko=37821,Io=36492,Il=36494,dl=36495,El=36283,Us=36284,fl=36285,nl=36286,Nr=2300,Oa=2400,so=2401,vl=2402,Ws="srgb",ma="srgb-linear",Lr="linear",Sn="srgb",po=7680,Yl=35044,Xn="300 es",bi=2e3,Jr=2001;class pi{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return void 0!==r&&void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){const r=this._listeners;if(void 0===r)return;const c=r[e];if(void 0!==c){const p=c.indexOf(t);-1!==p&&c.splice(p,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const r=t[e.type];if(void 0!==r){e.target=this;const c=r.slice(0);for(let p=0,b=c.length;p<b;p++)c[p].call(this,e);e.target=null}}}const nn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gr=1234567;const Qo=Math.PI/180,he=180/Math.PI;function _e(){const m=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(nn[255&m]+nn[m>>8&255]+nn[m>>16&255]+nn[m>>24&255]+"-"+nn[255&e]+nn[e>>8&255]+"-"+nn[e>>16&15|64]+nn[e>>24&255]+"-"+nn[63&t|128]+nn[t>>8&255]+"-"+nn[t>>16&255]+nn[t>>24&255]+nn[255&r]+nn[r>>8&255]+nn[r>>16&255]+nn[r>>24&255]).toLowerCase()}function re(m,e,t){return Math.max(e,Math.min(t,m))}function Ae(m,e){return(m%e+e)%e}function mi(m,e,t){return(1-t)*m+t*e}function vr(m,e){switch(e.constructor){case Float32Array:return m;case Uint32Array:return m/4294967295;case Uint16Array:return m/65535;case Uint8Array:return m/255;case Int32Array:return Math.max(m/2147483647,-1);case Int16Array:return Math.max(m/32767,-1);case Int8Array:return Math.max(m/127,-1);default:throw new Error("Invalid component type.")}}function fr(m,e){switch(e.constructor){case Float32Array:return m;case Uint32Array:return Math.round(4294967295*m);case Uint16Array:return Math.round(65535*m);case Uint8Array:return Math.round(255*m);case Int32Array:return Math.round(2147483647*m);case Int16Array:return Math.round(32767*m);case Int8Array:return Math.round(127*m);default:throw new Error("Invalid component type.")}}const za={DEG2RAD:Qo,RAD2DEG:he,generateUUID:_e,clamp:re,euclideanModulo:Ae,mapLinear:function lt(m,e,t,r,c){return r+(m-e)*(c-r)/(t-e)},inverseLerp:function li(m,e,t){return m!==e?(t-m)/(e-m):0},lerp:mi,damp:function lr(m,e,t,r){return mi(m,e,1-Math.exp(-t*r))},pingpong:function ca(m,e=1){return e-Math.abs(Ae(m,2*e)-e)},smoothstep:function xs(m,e,t){return m<=e?0:m>=t?1:(m=(m-e)/(t-e))*m*(3-2*m)},smootherstep:function $i(m,e,t){return m<=e?0:m>=t?1:(m=(m-e)/(t-e))*m*m*(m*(6*m-15)+10)},randInt:function _s(m,e){return m+Math.floor(Math.random()*(e-m+1))},randFloat:function Or(m,e){return m+Math.random()*(e-m)},randFloatSpread:function Ca(m){return m*(.5-Math.random())},seededRandom:function ia(m){void 0!==m&&(gr=m);let e=gr+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function Fa(m){return m*Qo},radToDeg:function bs(m){return m*he},isPowerOfTwo:function Cs(m){return 0==(m&m-1)&&0!==m},ceilPowerOfTwo:function Ea(m){return Math.pow(2,Math.ceil(Math.log(m)/Math.LN2))},floorPowerOfTwo:function ga(m){return Math.pow(2,Math.floor(Math.log(m)/Math.LN2))},setQuaternionFromProperEuler:function Yt(m,e,t,r,c){const p=Math.cos,b=Math.sin,x=p(t/2),A=b(t/2),I=p((e+r)/2),H=b((e+r)/2),Y=p((e-r)/2),Z=b((e-r)/2),ie=p((r-e)/2),ae=b((r-e)/2);switch(c){case"XYX":m.set(x*H,A*Y,A*Z,x*I);break;case"YZY":m.set(A*Z,x*H,A*Y,x*I);break;case"ZXZ":m.set(A*Y,A*Z,x*H,x*I);break;case"XZX":m.set(x*H,A*ae,A*ie,x*I);break;case"YXY":m.set(A*ie,x*H,A*ae,x*I);break;case"ZYZ":m.set(A*ae,A*ie,x*H,x*I);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+c)}},normalize:fr,denormalize:vr};class ln{constructor(e=0,t=0){ln.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,c=e.elements;return this.x=c[0]*t+c[3]*r+c[6],this.y=c[1]*t+c[4]*r+c[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=re(this.x,e.x,t.x),this.y=re(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=re(this.x,e,t),this.y=re(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(re(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(re(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),c=Math.sin(t),p=this.x-e.x,b=this.y-e.y;return this.x=p*r-b*c+e.x,this.y=p*c+b*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ji{constructor(e,t,r,c,p,b,x,A,I){Ji.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,c,p,b,x,A,I)}set(e,t,r,c,p,b,x,A,I){const H=this.elements;return H[0]=e,H[1]=c,H[2]=x,H[3]=t,H[4]=p,H[5]=A,H[6]=r,H[7]=b,H[8]=I,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,c=t.elements,p=this.elements,b=r[0],x=r[3],A=r[6],I=r[1],H=r[4],Y=r[7],Z=r[2],ie=r[5],ae=r[8],ye=c[0],le=c[3],oe=c[6],Pe=c[1],Te=c[4],we=c[7],pt=c[2],st=c[5],ft=c[8];return p[0]=b*ye+x*Pe+A*pt,p[3]=b*le+x*Te+A*st,p[6]=b*oe+x*we+A*ft,p[1]=I*ye+H*Pe+Y*pt,p[4]=I*le+H*Te+Y*st,p[7]=I*oe+H*we+Y*ft,p[2]=Z*ye+ie*Pe+ae*pt,p[5]=Z*le+ie*Te+ae*st,p[8]=Z*oe+ie*we+ae*ft,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],c=e[2],p=e[3],b=e[4],x=e[5],A=e[6],I=e[7],H=e[8];return t*b*H-t*x*I-r*p*H+r*x*A+c*p*I-c*b*A}invert(){const e=this.elements,t=e[0],r=e[1],c=e[2],p=e[3],b=e[4],x=e[5],A=e[6],I=e[7],H=e[8],Y=H*b-x*I,Z=x*A-H*p,ie=I*p-b*A,ae=t*Y+r*Z+c*ie;if(0===ae)return this.set(0,0,0,0,0,0,0,0,0);const ye=1/ae;return e[0]=Y*ye,e[1]=(c*I-H*r)*ye,e[2]=(x*r-c*b)*ye,e[3]=Z*ye,e[4]=(H*t-c*A)*ye,e[5]=(c*p-x*t)*ye,e[6]=ie*ye,e[7]=(r*A-I*t)*ye,e[8]=(b*t-r*p)*ye,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,c,p,b,x){const A=Math.cos(p),I=Math.sin(p);return this.set(r*A,r*I,-r*(A*b+I*x)+b+e,-c*I,c*A,-c*(-I*b+A*x)+x+t,0,0,1),this}scale(e,t){return this.premultiply(ds.makeScale(e,t)),this}rotate(e){return this.premultiply(ds.makeRotation(-e)),this}translate(e,t){return this.premultiply(ds.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let c=0;c<9;c++)if(t[c]!==r[c])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ds=new Ji;function Ys(m){for(let e=m.length-1;e>=0;--e)if(m[e]>=65535)return!0;return!1}const Qa={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fs(m,e){return new Qa[m](e)}function Wa(m){return document.createElementNS("http://www.w3.org/1999/xhtml",m)}function $a(){const m=Wa("canvas");return m.style.display="block",m}const Na={};function _o(m){m in Na||(Na[m]=!0,console.warn(m))}const sn=(new Ji).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),wa=(new Ji).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Tl(){const m={enabled:!0,workingColorSpace:ma,spaces:{},convert:function(c,p,b){return!1===this.enabled||p===b||!p||!b||(this.spaces[p].transfer===Sn&&(c.r=hs(c.r),c.g=hs(c.g),c.b=hs(c.b)),this.spaces[p].primaries!==this.spaces[b].primaries&&(c.applyMatrix3(this.spaces[p].toXYZ),c.applyMatrix3(this.spaces[b].fromXYZ)),this.spaces[b].transfer===Sn&&(c.r=Ho(c.r),c.g=Ho(c.g),c.b=Ho(c.b))),c},fromWorkingColorSpace:function(c,p){return this.convert(c,this.workingColorSpace,p)},toWorkingColorSpace:function(c,p){return this.convert(c,p,this.workingColorSpace)},getPrimaries:function(c){return this.spaces[c].primaries},getTransfer:function(c){return""===c?Lr:this.spaces[c].transfer},getLuminanceCoefficients:function(c,p=this.workingColorSpace){return c.fromArray(this.spaces[p].luminanceCoefficients)},define:function(c){Object.assign(this.spaces,c)},_getMatrix:function(c,p,b){return c.copy(this.spaces[p].toXYZ).multiply(this.spaces[b].fromXYZ)},_getDrawingBufferColorSpace:function(c){return this.spaces[c].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(c=this.workingColorSpace){return this.spaces[c].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return m.define({[ma]:{primaries:e,whitePoint:r,transfer:Lr,toXYZ:sn,fromXYZ:wa,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ws},outputColorSpaceConfig:{drawingBufferColorSpace:Ws}},[Ws]:{primaries:e,whitePoint:r,transfer:Sn,toXYZ:sn,fromXYZ:wa,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ws}}}),m}const Qr=Tl();function hs(m){return m<.04045?.0773993808*m:Math.pow(.9478672986*m+.0521327014,2.4)}function Ho(m){return m<.0031308?12.92*m:1.055*Math.pow(m,.41666)-.055}let As;class ml{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{void 0===As&&(As=Wa("canvas")),As.width=e.width,As.height=e.height;const c=As.getContext("2d");e instanceof ImageData?c.putImageData(e,0,0):c.drawImage(e,0,0,e.width,e.height),r=As}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Wa("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const c=r.getImageData(0,0,e.width,e.height),p=c.data;for(let b=0;b<p.length;b++)p[b]=255*hs(p[b]/255);return r.putImageData(c,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*hs(t[r]/255)):hs(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ra=0;class ${constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ra++}),this.uuid=_e(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},c=this.data;if(null!==c){let p;if(Array.isArray(c)){p=[];for(let b=0,x=c.length;b<x;b++)p.push(Ce(c[b].isDataTexture?c[b].image:c[b]))}else p=Ce(c);r.url=p}return t||(e.images[this.uuid]=r),r}}function Ce(m){return typeof HTMLImageElement<"u"&&m instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&m instanceof ImageBitmap?ml.getDataURL(m):m.data?{data:Array.from(m.data),width:m.width,height:m.height,type:m.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let se=0,ve=(()=>{class m extends pi{constructor(t=m.DEFAULT_IMAGE,r=m.DEFAULT_MAPPING,c=ar,p=ar,b=_i,x=io,A=Zi,I=Ss,H=m.DEFAULT_ANISOTROPY,Y=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:se++}),this.uuid=_e(),this.name="",this.source=new $(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=c,this.wrapT=p,this.magFilter=b,this.minFilter=x,this.anisotropy=H,this.format=A,this.internalFormat=null,this.type=I,this.offset=new ln(0,0),this.repeat=new ln(1,1),this.center=new ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ji,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Y,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const c={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(c.userData=this.userData),r||(t.textures[this.uuid]=c),c}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case oo:t.x=t.x-Math.floor(t.x);break;case ar:t.x=t.x<0?0:1;break;case xo:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case oo:t.y=t.y-Math.floor(t.y);break;case ar:t.y=t.y<0?0:1;break;case xo:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return m.DEFAULT_IMAGE=null,m.DEFAULT_MAPPING=300,m.DEFAULT_ANISOTROPY=1,m})();class Ue{constructor(e=0,t=0,r=0,c=1){Ue.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=c}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,c){return this.x=e,this.y=t,this.z=r,this.w=c,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,c=this.z,p=this.w,b=e.elements;return this.x=b[0]*t+b[4]*r+b[8]*c+b[12]*p,this.y=b[1]*t+b[5]*r+b[9]*c+b[13]*p,this.z=b[2]*t+b[6]*r+b[10]*c+b[14]*p,this.w=b[3]*t+b[7]*r+b[11]*c+b[15]*p,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,c,p;const A=e.elements,I=A[0],H=A[4],Y=A[8],Z=A[1],ie=A[5],ae=A[9],ye=A[2],le=A[6],oe=A[10];if(Math.abs(H-Z)<.01&&Math.abs(Y-ye)<.01&&Math.abs(ae-le)<.01){if(Math.abs(H+Z)<.1&&Math.abs(Y+ye)<.1&&Math.abs(ae+le)<.1&&Math.abs(I+ie+oe-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const Te=(I+1)/2,we=(ie+1)/2,pt=(oe+1)/2,st=(H+Z)/4,ft=(Y+ye)/4,yt=(ae+le)/4;return Te>we&&Te>pt?Te<.01?(r=0,c=.707106781,p=.707106781):(r=Math.sqrt(Te),c=st/r,p=ft/r):we>pt?we<.01?(r=.707106781,c=0,p=.707106781):(c=Math.sqrt(we),r=st/c,p=yt/c):pt<.01?(r=.707106781,c=.707106781,p=0):(p=Math.sqrt(pt),r=ft/p,c=yt/p),this.set(r,c,p,t),this}let Pe=Math.sqrt((le-ae)*(le-ae)+(Y-ye)*(Y-ye)+(Z-H)*(Z-H));return Math.abs(Pe)<.001&&(Pe=1),this.x=(le-ae)/Pe,this.y=(Y-ye)/Pe,this.z=(Z-H)/Pe,this.w=Math.acos((I+ie+oe-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=re(this.x,e.x,t.x),this.y=re(this.y,e.y,t.y),this.z=re(this.z,e.z,t.z),this.w=re(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=re(this.x,e,t),this.y=re(this.y,e,t),this.z=re(this.z,e,t),this.w=re(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(re(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Xt extends pi{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ue(0,0,e,t),this.scissorTest=!1,this.viewport=new Ue(0,0,e,t);const c={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:_i,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const p=new ve(c,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);p.flipY=!1,p.generateMipmaps=r.generateMipmaps,p.internalFormat=r.internalFormat,this.textures=[];const b=r.count;for(let x=0;x<b;x++)this.textures[x]=p.clone(),this.textures[x].isRenderTargetTexture=!0,this.textures[x].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let c=0,p=this.textures.length;c<p;c++)this.textures[c].image.width=e,this.textures[c].image.height=t,this.textures[c].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const c=Object.assign({},e.textures[t].image);this.textures[t].source=new $(c)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qt extends Xt{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Mi extends ve{constructor(e=null,t=1,r=1,c=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:c},this.magFilter=zr,this.minFilter=zr,this.wrapR=ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Co extends ve{constructor(e=null,t=1,r=1,c=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:c},this.magFilter=zr,this.minFilter=zr,this.wrapR=ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ui{constructor(e=0,t=0,r=0,c=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=c}static slerpFlat(e,t,r,c,p,b,x){let A=r[c+0],I=r[c+1],H=r[c+2],Y=r[c+3];const Z=p[b+0],ie=p[b+1],ae=p[b+2],ye=p[b+3];if(0===x)return e[t+0]=A,e[t+1]=I,e[t+2]=H,void(e[t+3]=Y);if(1===x)return e[t+0]=Z,e[t+1]=ie,e[t+2]=ae,void(e[t+3]=ye);if(Y!==ye||A!==Z||I!==ie||H!==ae){let le=1-x;const oe=A*Z+I*ie+H*ae+Y*ye,Pe=oe>=0?1:-1,Te=1-oe*oe;if(Te>Number.EPSILON){const pt=Math.sqrt(Te),st=Math.atan2(pt,oe*Pe);le=Math.sin(le*st)/pt,x=Math.sin(x*st)/pt}const we=x*Pe;if(A=A*le+Z*we,I=I*le+ie*we,H=H*le+ae*we,Y=Y*le+ye*we,le===1-x){const pt=1/Math.sqrt(A*A+I*I+H*H+Y*Y);A*=pt,I*=pt,H*=pt,Y*=pt}}e[t]=A,e[t+1]=I,e[t+2]=H,e[t+3]=Y}static multiplyQuaternionsFlat(e,t,r,c,p,b){const x=r[c],A=r[c+1],I=r[c+2],H=r[c+3],Y=p[b],Z=p[b+1],ie=p[b+2],ae=p[b+3];return e[t]=x*ae+H*Y+A*ie-I*Z,e[t+1]=A*ae+H*Z+I*Y-x*ie,e[t+2]=I*ae+H*ie+x*Z-A*Y,e[t+3]=H*ae-x*Y-A*Z-I*ie,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,c){return this._x=e,this._y=t,this._z=r,this._w=c,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,c=e._y,p=e._z,b=e._order,x=Math.cos,A=Math.sin,I=x(r/2),H=x(c/2),Y=x(p/2),Z=A(r/2),ie=A(c/2),ae=A(p/2);switch(b){case"XYZ":this._x=Z*H*Y+I*ie*ae,this._y=I*ie*Y-Z*H*ae,this._z=I*H*ae+Z*ie*Y,this._w=I*H*Y-Z*ie*ae;break;case"YXZ":this._x=Z*H*Y+I*ie*ae,this._y=I*ie*Y-Z*H*ae,this._z=I*H*ae-Z*ie*Y,this._w=I*H*Y+Z*ie*ae;break;case"ZXY":this._x=Z*H*Y-I*ie*ae,this._y=I*ie*Y+Z*H*ae,this._z=I*H*ae+Z*ie*Y,this._w=I*H*Y-Z*ie*ae;break;case"ZYX":this._x=Z*H*Y-I*ie*ae,this._y=I*ie*Y+Z*H*ae,this._z=I*H*ae-Z*ie*Y,this._w=I*H*Y+Z*ie*ae;break;case"YZX":this._x=Z*H*Y+I*ie*ae,this._y=I*ie*Y+Z*H*ae,this._z=I*H*ae-Z*ie*Y,this._w=I*H*Y-Z*ie*ae;break;case"XZY":this._x=Z*H*Y-I*ie*ae,this._y=I*ie*Y-Z*H*ae,this._z=I*H*ae+Z*ie*Y,this._w=I*H*Y+Z*ie*ae;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+b)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,c=Math.sin(r);return this._x=e.x*c,this._y=e.y*c,this._z=e.z*c,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],c=t[4],p=t[8],b=t[1],x=t[5],A=t[9],I=t[2],H=t[6],Y=t[10],Z=r+x+Y;if(Z>0){const ie=.5/Math.sqrt(Z+1);this._w=.25/ie,this._x=(H-A)*ie,this._y=(p-I)*ie,this._z=(b-c)*ie}else if(r>x&&r>Y){const ie=2*Math.sqrt(1+r-x-Y);this._w=(H-A)/ie,this._x=.25*ie,this._y=(c+b)/ie,this._z=(p+I)/ie}else if(x>Y){const ie=2*Math.sqrt(1+x-r-Y);this._w=(p-I)/ie,this._x=(c+b)/ie,this._y=.25*ie,this._z=(A+H)/ie}else{const ie=2*Math.sqrt(1+Y-r-x);this._w=(b-c)/ie,this._x=(p+I)/ie,this._y=(A+H)/ie,this._z=.25*ie}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(re(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const c=Math.min(1,t/r);return this.slerp(e,c),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,c=e._y,p=e._z,b=e._w,x=t._x,A=t._y,I=t._z,H=t._w;return this._x=r*H+b*x+c*I-p*A,this._y=c*H+b*A+p*x-r*I,this._z=p*H+b*I+r*A-c*x,this._w=b*H-r*x-c*A-p*I,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,c=this._y,p=this._z,b=this._w;let x=b*e._w+r*e._x+c*e._y+p*e._z;if(x<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,x=-x):this.copy(e),x>=1)return this._w=b,this._x=r,this._y=c,this._z=p,this;const A=1-x*x;if(A<=Number.EPSILON){const ie=1-t;return this._w=ie*b+t*this._w,this._x=ie*r+t*this._x,this._y=ie*c+t*this._y,this._z=ie*p+t*this._z,this.normalize(),this}const I=Math.sqrt(A),H=Math.atan2(I,x),Y=Math.sin((1-t)*H)/I,Z=Math.sin(t*H)/I;return this._w=b*Y+this._w*Z,this._x=r*Y+this._x*Z,this._y=c*Y+this._y*Z,this._z=p*Y+this._z*Z,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),c=Math.sqrt(1-r),p=Math.sqrt(r);return this.set(c*Math.sin(e),c*Math.cos(e),p*Math.sin(t),p*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Je{constructor(e=0,t=0,r=0){Je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Es.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Es.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,c=this.z,p=e.elements;return this.x=p[0]*t+p[3]*r+p[6]*c,this.y=p[1]*t+p[4]*r+p[7]*c,this.z=p[2]*t+p[5]*r+p[8]*c,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,c=this.z,p=e.elements,b=1/(p[3]*t+p[7]*r+p[11]*c+p[15]);return this.x=(p[0]*t+p[4]*r+p[8]*c+p[12])*b,this.y=(p[1]*t+p[5]*r+p[9]*c+p[13])*b,this.z=(p[2]*t+p[6]*r+p[10]*c+p[14])*b,this}applyQuaternion(e){const t=this.x,r=this.y,c=this.z,p=e.x,b=e.y,x=e.z,A=e.w,I=2*(b*c-x*r),H=2*(x*t-p*c),Y=2*(p*r-b*t);return this.x=t+A*I+b*Y-x*H,this.y=r+A*H+x*I-p*Y,this.z=c+A*Y+p*H-b*I,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,c=this.z,p=e.elements;return this.x=p[0]*t+p[4]*r+p[8]*c,this.y=p[1]*t+p[5]*r+p[9]*c,this.z=p[2]*t+p[6]*r+p[10]*c,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=re(this.x,e.x,t.x),this.y=re(this.y,e.y,t.y),this.z=re(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=re(this.x,e,t),this.y=re(this.y,e,t),this.z=re(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(re(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,c=e.y,p=e.z,b=t.x,x=t.y,A=t.z;return this.x=c*A-p*x,this.y=p*b-r*A,this.z=r*x-c*b,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Si.copy(this).projectOnVector(e),this.sub(Si)}reflect(e){return this.sub(Si.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(re(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,c=this.z-e.z;return t*t+r*r+c*c}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const c=Math.sin(t)*e;return this.x=c*Math.sin(r),this.y=Math.cos(t)*e,this.z=c*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),c=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=c,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Si=new Je,Es=new Ui;class Xo{constructor(e=new Je(1/0,1/0,1/0),t=new Je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(uo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(uo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=uo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const p=r.getAttribute("position");if(!0===t&&void 0!==p&&!0!==e.isInstancedMesh)for(let b=0,x=p.count;b<x;b++)!0===e.isMesh?e.getVertexPosition(b,uo):uo.fromBufferAttribute(p,b),uo.applyMatrix4(e.matrixWorld),this.expandByPoint(uo);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),ua.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),ua.copy(r.boundingBox)),ua.applyMatrix4(e.matrixWorld),this.union(ua)}const c=e.children;for(let p=0,b=c.length;p<b;p++)this.expandByObject(c[p],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,uo),uo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hi),kr.subVectors(this.max,hi),Ta.subVectors(e.a,hi),oa.subVectors(e.b,hi),Xa.subVectors(e.c,hi),Rr.subVectors(oa,Ta),Wi.subVectors(Xa,oa),Eo.subVectors(Ta,Xa);let t=[0,-Rr.z,Rr.y,0,-Wi.z,Wi.y,0,-Eo.z,Eo.y,Rr.z,0,-Rr.x,Wi.z,0,-Wi.x,Eo.z,0,-Eo.x,-Rr.y,Rr.x,0,-Wi.y,Wi.x,0,-Eo.y,Eo.x,0];return!(!ns(t,Ta,oa,Xa,kr)||(t=[1,0,0,0,1,0,0,0,1],!ns(t,Ta,oa,Xa,kr)))&&(nr.crossVectors(Rr,Wi),t=[nr.x,nr.y,nr.z],ns(t,Ta,oa,Xa,kr))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(uo).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(To[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),To[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),To[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),To[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),To[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),To[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),To[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),To[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(To)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const To=[new Je,new Je,new Je,new Je,new Je,new Je,new Je,new Je],uo=new Je,ua=new Xo,Ta=new Je,oa=new Je,Xa=new Je,Rr=new Je,Wi=new Je,Eo=new Je,hi=new Je,kr=new Je,nr=new Je,Ur=new Je;function ns(m,e,t,r,c){for(let p=0,b=m.length-3;p<=b;p+=3){Ur.fromArray(m,p);const x=c.x*Math.abs(Ur.x)+c.y*Math.abs(Ur.y)+c.z*Math.abs(Ur.z),A=e.dot(Ur),I=t.dot(Ur),H=r.dot(Ur);if(Math.max(-Math.max(A,I,H),Math.min(A,I,H))>x)return!1}return!0}const Ro=new Xo,Ds=new Je,wr=new Je;class lo{constructor(e=new Je,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):Ro.setFromPoints(e).getCenter(r);let c=0;for(let p=0,b=e.length;p<b;p++)c=Math.max(c,r.distanceToSquared(e[p]));return this.radius=Math.sqrt(c),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ds.subVectors(e,this.center);const t=Ds.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),c=.5*(r-this.radius);this.center.addScaledVector(Ds,c/r),this.radius+=c}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(wr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ds.copy(e.center).add(wr)),this.expandByPoint(Ds.copy(e.center).sub(wr))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ao=new Je,Fr=new Je,qa=new Je,Ms=new Je,va=new Je,sa=new Je,el=new Je;class da{constructor(e=new Je,t=new Je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ao)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ao.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ao.copy(this.origin).addScaledVector(this.direction,t),Ao.distanceToSquared(e))}distanceSqToSegment(e,t,r,c){Fr.copy(e).add(t).multiplyScalar(.5),qa.copy(t).sub(e).normalize(),Ms.copy(this.origin).sub(Fr);const p=.5*e.distanceTo(t),b=-this.direction.dot(qa),x=Ms.dot(this.direction),A=-Ms.dot(qa),I=Ms.lengthSq(),H=Math.abs(1-b*b);let Y,Z,ie,ae;if(H>0)if(Y=b*A-x,Z=b*x-A,ae=p*H,Y>=0)if(Z>=-ae)if(Z<=ae){const ye=1/H;Y*=ye,Z*=ye,ie=Y*(Y+b*Z+2*x)+Z*(b*Y+Z+2*A)+I}else Z=p,Y=Math.max(0,-(b*Z+x)),ie=-Y*Y+Z*(Z+2*A)+I;else Z=-p,Y=Math.max(0,-(b*Z+x)),ie=-Y*Y+Z*(Z+2*A)+I;else Z<=-ae?(Y=Math.max(0,-(-b*p+x)),Z=Y>0?-p:Math.min(Math.max(-p,-A),p),ie=-Y*Y+Z*(Z+2*A)+I):Z<=ae?(Y=0,Z=Math.min(Math.max(-p,-A),p),ie=Z*(Z+2*A)+I):(Y=Math.max(0,-(b*p+x)),Z=Y>0?p:Math.min(Math.max(-p,-A),p),ie=-Y*Y+Z*(Z+2*A)+I);else Z=b>0?-p:p,Y=Math.max(0,-(b*Z+x)),ie=-Y*Y+Z*(Z+2*A)+I;return r&&r.copy(this.origin).addScaledVector(this.direction,Y),c&&c.copy(Fr).addScaledVector(qa,Z),ie}intersectSphere(e,t){Ao.subVectors(e.center,this.origin);const r=Ao.dot(this.direction),c=Ao.dot(Ao)-r*r,p=e.radius*e.radius;if(c>p)return null;const b=Math.sqrt(p-c),x=r-b,A=r+b;return A<0?null:this.at(x<0?A:x,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,c,p,b,x,A;const I=1/this.direction.x,H=1/this.direction.y,Y=1/this.direction.z,Z=this.origin;return I>=0?(r=(e.min.x-Z.x)*I,c=(e.max.x-Z.x)*I):(r=(e.max.x-Z.x)*I,c=(e.min.x-Z.x)*I),H>=0?(p=(e.min.y-Z.y)*H,b=(e.max.y-Z.y)*H):(p=(e.max.y-Z.y)*H,b=(e.min.y-Z.y)*H),r>b||p>c||((p>r||isNaN(r))&&(r=p),(b<c||isNaN(c))&&(c=b),Y>=0?(x=(e.min.z-Z.z)*Y,A=(e.max.z-Z.z)*Y):(x=(e.max.z-Z.z)*Y,A=(e.min.z-Z.z)*Y),r>A||x>c)||((x>r||r!=r)&&(r=x),(A<c||c!=c)&&(c=A),c<0)?null:this.at(r>=0?r:c,t)}intersectsBox(e){return null!==this.intersectBox(e,Ao)}intersectTriangle(e,t,r,c,p){va.subVectors(t,e),sa.subVectors(r,e),el.crossVectors(va,sa);let x,b=this.direction.dot(el);if(b>0){if(c)return null;x=1}else{if(!(b<0))return null;x=-1,b=-b}Ms.subVectors(this.origin,e);const A=x*this.direction.dot(sa.crossVectors(Ms,sa));if(A<0)return null;const I=x*this.direction.dot(va.cross(Ms));if(I<0||A+I>b)return null;const H=-x*Ms.dot(el);return H<0?null:this.at(H/b,p)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Bi{constructor(e,t,r,c,p,b,x,A,I,H,Y,Z,ie,ae,ye,le){Bi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,c,p,b,x,A,I,H,Y,Z,ie,ae,ye,le)}set(e,t,r,c,p,b,x,A,I,H,Y,Z,ie,ae,ye,le){const oe=this.elements;return oe[0]=e,oe[4]=t,oe[8]=r,oe[12]=c,oe[1]=p,oe[5]=b,oe[9]=x,oe[13]=A,oe[2]=I,oe[6]=H,oe[10]=Y,oe[14]=Z,oe[3]=ie,oe[7]=ae,oe[11]=ye,oe[15]=le,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Bi).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,c=1/Zs.setFromMatrixColumn(e,0).length(),p=1/Zs.setFromMatrixColumn(e,1).length(),b=1/Zs.setFromMatrixColumn(e,2).length();return t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c,t[3]=0,t[4]=r[4]*p,t[5]=r[5]*p,t[6]=r[6]*p,t[7]=0,t[8]=r[8]*b,t[9]=r[9]*b,t[10]=r[10]*b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,c=e.y,p=e.z,b=Math.cos(r),x=Math.sin(r),A=Math.cos(c),I=Math.sin(c),H=Math.cos(p),Y=Math.sin(p);if("XYZ"===e.order){const Z=b*H,ie=b*Y,ae=x*H,ye=x*Y;t[0]=A*H,t[4]=-A*Y,t[8]=I,t[1]=ie+ae*I,t[5]=Z-ye*I,t[9]=-x*A,t[2]=ye-Z*I,t[6]=ae+ie*I,t[10]=b*A}else if("YXZ"===e.order){const Z=A*H,ie=A*Y,ae=I*H,ye=I*Y;t[0]=Z+ye*x,t[4]=ae*x-ie,t[8]=b*I,t[1]=b*Y,t[5]=b*H,t[9]=-x,t[2]=ie*x-ae,t[6]=ye+Z*x,t[10]=b*A}else if("ZXY"===e.order){const Z=A*H,ie=A*Y,ae=I*H,ye=I*Y;t[0]=Z-ye*x,t[4]=-b*Y,t[8]=ae+ie*x,t[1]=ie+ae*x,t[5]=b*H,t[9]=ye-Z*x,t[2]=-b*I,t[6]=x,t[10]=b*A}else if("ZYX"===e.order){const Z=b*H,ie=b*Y,ae=x*H,ye=x*Y;t[0]=A*H,t[4]=ae*I-ie,t[8]=Z*I+ye,t[1]=A*Y,t[5]=ye*I+Z,t[9]=ie*I-ae,t[2]=-I,t[6]=x*A,t[10]=b*A}else if("YZX"===e.order){const Z=b*A,ie=b*I,ae=x*A,ye=x*I;t[0]=A*H,t[4]=ye-Z*Y,t[8]=ae*Y+ie,t[1]=Y,t[5]=b*H,t[9]=-x*H,t[2]=-I*H,t[6]=ie*Y+ae,t[10]=Z-ye*Y}else if("XZY"===e.order){const Z=b*A,ie=b*I,ae=x*A,ye=x*I;t[0]=A*H,t[4]=-Y,t[8]=I*H,t[1]=Z*Y+ye,t[5]=b*H,t[9]=ie*Y-ae,t[2]=ae*Y-ie,t[6]=x*H,t[10]=ye*Y+Z}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(T,e,L)}lookAt(e,t,r){const c=this.elements;return ce.subVectors(e,t),0===ce.lengthSq()&&(ce.z=1),ce.normalize(),V.crossVectors(r,ce),0===V.lengthSq()&&(1===Math.abs(r.z)?ce.x+=1e-4:ce.z+=1e-4,ce.normalize(),V.crossVectors(r,ce)),V.normalize(),X.crossVectors(ce,V),c[0]=V.x,c[4]=X.x,c[8]=ce.x,c[1]=V.y,c[5]=X.y,c[9]=ce.y,c[2]=V.z,c[6]=X.z,c[10]=ce.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,c=t.elements,p=this.elements,b=r[0],x=r[4],A=r[8],I=r[12],H=r[1],Y=r[5],Z=r[9],ie=r[13],ae=r[2],ye=r[6],le=r[10],oe=r[14],Pe=r[3],Te=r[7],we=r[11],pt=r[15],st=c[0],ft=c[4],yt=c[8],He=c[12],ke=c[1],Ct=c[5],yn=c[9],un=c[13],wn=c[2],jn=c[6],xn=c[10],si=c[14],Cn=c[3],Ni=c[7],rr=c[11],Tr=c[15];return p[0]=b*st+x*ke+A*wn+I*Cn,p[4]=b*ft+x*Ct+A*jn+I*Ni,p[8]=b*yt+x*yn+A*xn+I*rr,p[12]=b*He+x*un+A*si+I*Tr,p[1]=H*st+Y*ke+Z*wn+ie*Cn,p[5]=H*ft+Y*Ct+Z*jn+ie*Ni,p[9]=H*yt+Y*yn+Z*xn+ie*rr,p[13]=H*He+Y*un+Z*si+ie*Tr,p[2]=ae*st+ye*ke+le*wn+oe*Cn,p[6]=ae*ft+ye*Ct+le*jn+oe*Ni,p[10]=ae*yt+ye*yn+le*xn+oe*rr,p[14]=ae*He+ye*un+le*si+oe*Tr,p[3]=Pe*st+Te*ke+we*wn+pt*Cn,p[7]=Pe*ft+Te*Ct+we*jn+pt*Ni,p[11]=Pe*yt+Te*yn+we*xn+pt*rr,p[15]=Pe*He+Te*un+we*si+pt*Tr,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],c=e[8],p=e[12],b=e[1],x=e[5],A=e[9],I=e[13],H=e[2],Y=e[6],Z=e[10],ie=e[14];return e[3]*(+p*A*Y-c*I*Y-p*x*Z+r*I*Z+c*x*ie-r*A*ie)+e[7]*(+t*A*ie-t*I*Z+p*b*Z-c*b*ie+c*I*H-p*A*H)+e[11]*(+t*I*Y-t*x*ie-p*b*Y+r*b*ie+p*x*H-r*I*H)+e[15]*(-c*x*H-t*A*Y+t*x*Z+c*b*Y-r*b*Z+r*A*H)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const c=this.elements;return e.isVector3?(c[12]=e.x,c[13]=e.y,c[14]=e.z):(c[12]=e,c[13]=t,c[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],c=e[2],p=e[3],b=e[4],x=e[5],A=e[6],I=e[7],H=e[8],Y=e[9],Z=e[10],ie=e[11],ae=e[12],ye=e[13],le=e[14],oe=e[15],Pe=Y*le*I-ye*Z*I+ye*A*ie-x*le*ie-Y*A*oe+x*Z*oe,Te=ae*Z*I-H*le*I-ae*A*ie+b*le*ie+H*A*oe-b*Z*oe,we=H*ye*I-ae*Y*I+ae*x*ie-b*ye*ie-H*x*oe+b*Y*oe,pt=ae*Y*A-H*ye*A-ae*x*Z+b*ye*Z+H*x*le-b*Y*le,st=t*Pe+r*Te+c*we+p*pt;if(0===st)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ft=1/st;return e[0]=Pe*ft,e[1]=(ye*Z*p-Y*le*p-ye*c*ie+r*le*ie+Y*c*oe-r*Z*oe)*ft,e[2]=(x*le*p-ye*A*p+ye*c*I-r*le*I-x*c*oe+r*A*oe)*ft,e[3]=(Y*A*p-x*Z*p-Y*c*I+r*Z*I+x*c*ie-r*A*ie)*ft,e[4]=Te*ft,e[5]=(H*le*p-ae*Z*p+ae*c*ie-t*le*ie-H*c*oe+t*Z*oe)*ft,e[6]=(ae*A*p-b*le*p-ae*c*I+t*le*I+b*c*oe-t*A*oe)*ft,e[7]=(b*Z*p-H*A*p+H*c*I-t*Z*I-b*c*ie+t*A*ie)*ft,e[8]=we*ft,e[9]=(ae*Y*p-H*ye*p-ae*r*ie+t*ye*ie+H*r*oe-t*Y*oe)*ft,e[10]=(b*ye*p-ae*x*p+ae*r*I-t*ye*I-b*r*oe+t*x*oe)*ft,e[11]=(H*x*p-b*Y*p-H*r*I+t*Y*I+b*r*ie-t*x*ie)*ft,e[12]=pt*ft,e[13]=(H*ye*c-ae*Y*c+ae*r*Z-t*ye*Z-H*r*le+t*Y*le)*ft,e[14]=(ae*x*c-b*ye*c-ae*r*A+t*ye*A+b*r*le-t*x*le)*ft,e[15]=(b*Y*c-H*x*c+H*r*A-t*Y*A-b*r*Z+t*x*Z)*ft,this}scale(e){const t=this.elements,r=e.x,c=e.y,p=e.z;return t[0]*=r,t[4]*=c,t[8]*=p,t[1]*=r,t[5]*=c,t[9]*=p,t[2]*=r,t[6]*=c,t[10]*=p,t[3]*=r,t[7]*=c,t[11]*=p,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),c=Math.sin(t),p=1-r,b=e.x,x=e.y,A=e.z,I=p*b,H=p*x;return this.set(I*b+r,I*x-c*A,I*A+c*x,0,I*x+c*A,H*x+r,H*A-c*b,0,I*A-c*x,H*A+c*b,p*A*A+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,c,p,b){return this.set(1,r,p,0,e,1,b,0,t,c,1,0,0,0,0,1),this}compose(e,t,r){const c=this.elements,p=t._x,b=t._y,x=t._z,A=t._w,I=p+p,H=b+b,Y=x+x,Z=p*I,ie=p*H,ae=p*Y,ye=b*H,le=b*Y,oe=x*Y,Pe=A*I,Te=A*H,we=A*Y,pt=r.x,st=r.y,ft=r.z;return c[0]=(1-(ye+oe))*pt,c[1]=(ie+we)*pt,c[2]=(ae-Te)*pt,c[3]=0,c[4]=(ie-we)*st,c[5]=(1-(Z+oe))*st,c[6]=(le+Pe)*st,c[7]=0,c[8]=(ae+Te)*ft,c[9]=(le-Pe)*ft,c[10]=(1-(Z+ye))*ft,c[11]=0,c[12]=e.x,c[13]=e.y,c[14]=e.z,c[15]=1,this}decompose(e,t,r){const c=this.elements;let p=Zs.set(c[0],c[1],c[2]).length();const b=Zs.set(c[4],c[5],c[6]).length(),x=Zs.set(c[8],c[9],c[10]).length();this.determinant()<0&&(p=-p),e.x=c[12],e.y=c[13],e.z=c[14],We.copy(this);const I=1/p,H=1/b,Y=1/x;return We.elements[0]*=I,We.elements[1]*=I,We.elements[2]*=I,We.elements[4]*=H,We.elements[5]*=H,We.elements[6]*=H,We.elements[8]*=Y,We.elements[9]*=Y,We.elements[10]*=Y,t.setFromRotationMatrix(We),r.x=p,r.y=b,r.z=x,this}makePerspective(e,t,r,c,p,b,x=bi){const A=this.elements,I=2*p/(t-e),H=2*p/(r-c),Y=(t+e)/(t-e),Z=(r+c)/(r-c);let ie,ae;if(x===bi)ie=-(b+p)/(b-p),ae=-2*b*p/(b-p);else{if(x!==Jr)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+x);ie=-b/(b-p),ae=-b*p/(b-p)}return A[0]=I,A[4]=0,A[8]=Y,A[12]=0,A[1]=0,A[5]=H,A[9]=Z,A[13]=0,A[2]=0,A[6]=0,A[10]=ie,A[14]=ae,A[3]=0,A[7]=0,A[11]=-1,A[15]=0,this}makeOrthographic(e,t,r,c,p,b,x=bi){const A=this.elements,I=1/(t-e),H=1/(r-c),Y=1/(b-p),Z=(t+e)*I,ie=(r+c)*H;let ae,ye;if(x===bi)ae=(b+p)*Y,ye=-2*Y;else{if(x!==Jr)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+x);ae=p*Y,ye=-1*Y}return A[0]=2*I,A[4]=0,A[8]=0,A[12]=-Z,A[1]=0,A[5]=2*H,A[9]=0,A[13]=-ie,A[2]=0,A[6]=0,A[10]=ye,A[14]=-ae,A[3]=0,A[7]=0,A[11]=0,A[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let c=0;c<16;c++)if(t[c]!==r[c])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Zs=new Je,We=new Bi,T=new Je(0,0,0),L=new Je(1,1,1),V=new Je,X=new Je,ce=new Je,pe=new Bi,xe=new Ui;let Be=(()=>{class m{constructor(t=0,r=0,c=0,p=m.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=c,this._order=p}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,c,p=this._order){return this._x=t,this._y=r,this._z=c,this._order=p,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,c=!0){const p=t.elements,b=p[0],x=p[4],A=p[8],I=p[1],H=p[5],Y=p[9],Z=p[2],ie=p[6],ae=p[10];switch(r){case"XYZ":this._y=Math.asin(re(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-Y,ae),this._z=Math.atan2(-x,b)):(this._x=Math.atan2(ie,H),this._z=0);break;case"YXZ":this._x=Math.asin(-re(Y,-1,1)),Math.abs(Y)<.9999999?(this._y=Math.atan2(A,ae),this._z=Math.atan2(I,H)):(this._y=Math.atan2(-Z,b),this._z=0);break;case"ZXY":this._x=Math.asin(re(ie,-1,1)),Math.abs(ie)<.9999999?(this._y=Math.atan2(-Z,ae),this._z=Math.atan2(-x,H)):(this._y=0,this._z=Math.atan2(I,b));break;case"ZYX":this._y=Math.asin(-re(Z,-1,1)),Math.abs(Z)<.9999999?(this._x=Math.atan2(ie,ae),this._z=Math.atan2(I,b)):(this._x=0,this._z=Math.atan2(-x,H));break;case"YZX":this._z=Math.asin(re(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(-Y,H),this._y=Math.atan2(-Z,b)):(this._x=0,this._y=Math.atan2(A,ae));break;case"XZY":this._z=Math.asin(-re(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(ie,H),this._y=Math.atan2(A,b)):(this._x=Math.atan2(-Y,ae),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===c&&this._onChangeCallback(),this}setFromQuaternion(t,r,c){return pe.makeRotationFromQuaternion(t),this.setFromRotationMatrix(pe,r,c)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return xe.setFromEuler(this),this.setFromQuaternion(xe,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return m.DEFAULT_ORDER="XYZ",m})();class Ke{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let ot=0;const Ft=new Je,Kt=new Ui,qt=new Bi,gn=new Je,Tt=new Je,En=new Je,ni=new Ui,ti=new Je(1,0,0),Ot=new Je(0,1,0),On=new Je(0,0,1),Kn={type:"added"},Fi={type:"removed"},ii={type:"childadded",child:null},Ti={type:"childremoved",child:null};let Nn=(()=>{class m extends pi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ot++}),this.uuid=_e(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=m.DEFAULT_UP.clone();const t=new Je,r=new Be,c=new Ui,p=new Je(1,1,1);r._onChange(function b(){c.setFromEuler(r,!1)}),c._onChange(function x(){r.setFromQuaternion(c,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:p},modelViewMatrix:{value:new Bi},normalMatrix:{value:new Ji}}),this.matrix=new Bi,this.matrixWorld=new Bi,this.matrixAutoUpdate=m.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=m.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ke,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return Kt.setFromAxisAngle(t,r),this.quaternion.multiply(Kt),this}rotateOnWorldAxis(t,r){return Kt.setFromAxisAngle(t,r),this.quaternion.premultiply(Kt),this}rotateX(t){return this.rotateOnAxis(ti,t)}rotateY(t){return this.rotateOnAxis(Ot,t)}rotateZ(t){return this.rotateOnAxis(On,t)}translateOnAxis(t,r){return Ft.copy(t).applyQuaternion(this.quaternion),this.position.add(Ft.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(ti,t)}translateY(t){return this.translateOnAxis(Ot,t)}translateZ(t){return this.translateOnAxis(On,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(qt.copy(this.matrixWorld).invert())}lookAt(t,r,c){t.isVector3?gn.copy(t):gn.set(t,r,c);const p=this.parent;this.updateWorldMatrix(!0,!1),Tt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qt.lookAt(Tt,gn,this.up):qt.lookAt(gn,Tt,this.up),this.quaternion.setFromRotationMatrix(qt),p&&(qt.extractRotation(p.matrixWorld),Kt.setFromRotationMatrix(qt),this.quaternion.premultiply(Kt.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Kn),ii.child=t,this.dispatchEvent(ii),ii.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.remove(arguments[c]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(Fi),Ti.child=t,this.dispatchEvent(Ti),Ti.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),qt.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),qt.multiply(t.parent.matrixWorld)),t.applyMatrix4(qt),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Kn),ii.child=t,this.dispatchEvent(ii),ii.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let c=0,p=this.children.length;c<p;c++){const x=this.children[c].getObjectByProperty(t,r);if(void 0!==x)return x}}getObjectsByProperty(t,r,c=[]){this[t]===r&&c.push(this);const p=this.children;for(let b=0,x=p.length;b<x;b++)p[b].getObjectsByProperty(t,r,c);return c}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tt,t,En),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tt,ni,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let c=0,p=r.length;c<p;c++)r[c].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let c=0,p=r.length;c<p;c++)r[c].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let c=0,p=r.length;c<p;c++)r[c].updateMatrixWorld(t)}updateWorldMatrix(t,r){const c=this.parent;if(!0===t&&null!==c&&c.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const p=this.children;for(let b=0,x=p.length;b<x;b++)p[b].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,c={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},c.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const p={};function b(A,I){return void 0===A[I.uuid]&&(A[I.uuid]=I.toJSON(t)),I.uuid}if(p.uuid=this.uuid,p.type=this.type,""!==this.name&&(p.name=this.name),!0===this.castShadow&&(p.castShadow=!0),!0===this.receiveShadow&&(p.receiveShadow=!0),!1===this.visible&&(p.visible=!1),!1===this.frustumCulled&&(p.frustumCulled=!1),0!==this.renderOrder&&(p.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(p.userData=this.userData),p.layers=this.layers.mask,p.matrix=this.matrix.toArray(),p.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(p.matrixAutoUpdate=!1),this.isInstancedMesh&&(p.type="InstancedMesh",p.count=this.count,p.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(p.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(p.type="BatchedMesh",p.perObjectFrustumCulled=this.perObjectFrustumCulled,p.sortObjects=this.sortObjects,p.drawRanges=this._drawRanges,p.reservedRanges=this._reservedRanges,p.visibility=this._visibility,p.active=this._active,p.bounds=this._bounds.map(A=>({boxInitialized:A.boxInitialized,boxMin:A.box.min.toArray(),boxMax:A.box.max.toArray(),sphereInitialized:A.sphereInitialized,sphereRadius:A.sphere.radius,sphereCenter:A.sphere.center.toArray()})),p.maxInstanceCount=this._maxInstanceCount,p.maxVertexCount=this._maxVertexCount,p.maxIndexCount=this._maxIndexCount,p.geometryInitialized=this._geometryInitialized,p.geometryCount=this._geometryCount,p.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(p.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(p.boundingSphere={center:p.boundingSphere.center.toArray(),radius:p.boundingSphere.radius}),null!==this.boundingBox&&(p.boundingBox={min:p.boundingBox.min.toArray(),max:p.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?p.background=this.background.toJSON():this.background.isTexture&&(p.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(p.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){p.geometry=b(t.geometries,this.geometry);const A=this.geometry.parameters;if(void 0!==A&&void 0!==A.shapes){const I=A.shapes;if(Array.isArray(I))for(let H=0,Y=I.length;H<Y;H++)b(t.shapes,I[H]);else b(t.shapes,I)}}if(this.isSkinnedMesh&&(p.bindMode=this.bindMode,p.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(b(t.skeletons,this.skeleton),p.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const A=[];for(let I=0,H=this.material.length;I<H;I++)A.push(b(t.materials,this.material[I]));p.material=A}else p.material=b(t.materials,this.material);if(this.children.length>0){p.children=[];for(let A=0;A<this.children.length;A++)p.children.push(this.children[A].toJSON(t).object)}if(this.animations.length>0){p.animations=[];for(let A=0;A<this.animations.length;A++)p.animations.push(b(t.animations,this.animations[A]))}if(r){const A=x(t.geometries),I=x(t.materials),H=x(t.textures),Y=x(t.images),Z=x(t.shapes),ie=x(t.skeletons),ae=x(t.animations),ye=x(t.nodes);A.length>0&&(c.geometries=A),I.length>0&&(c.materials=I),H.length>0&&(c.textures=H),Y.length>0&&(c.images=Y),Z.length>0&&(c.shapes=Z),ie.length>0&&(c.skeletons=ie),ae.length>0&&(c.animations=ae),ye.length>0&&(c.nodes=ye)}return c.object=p,c;function x(A){const I=[];for(const H in A){const Y=A[H];delete Y.metadata,I.push(Y)}return I}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let c=0;c<t.children.length;c++)this.add(t.children[c].clone());return this}}return m.DEFAULT_UP=new Je(0,1,0),m.DEFAULT_MATRIX_AUTO_UPDATE=!0,m.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,m})();const Xr=new Je,qr=new Je,Ps=new Je,is=new Je,Aa=new Je,Da=new Je,rs=new Je,Ks=new Je,Nl=new Je,sc=new Je,Ll=new Ue,z=new Ue,Q=new Ue;class U{constructor(e=new Je,t=new Je,r=new Je){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,c){c.subVectors(r,t),Xr.subVectors(e,t),c.cross(Xr);const p=c.lengthSq();return p>0?c.multiplyScalar(1/Math.sqrt(p)):c.set(0,0,0)}static getBarycoord(e,t,r,c,p){Xr.subVectors(c,t),qr.subVectors(r,t),Ps.subVectors(e,t);const b=Xr.dot(Xr),x=Xr.dot(qr),A=Xr.dot(Ps),I=qr.dot(qr),H=qr.dot(Ps),Y=b*I-x*x;if(0===Y)return p.set(0,0,0),null;const Z=1/Y,ie=(I*A-x*H)*Z,ae=(b*H-x*A)*Z;return p.set(1-ie-ae,ae,ie)}static containsPoint(e,t,r,c){return null!==this.getBarycoord(e,t,r,c,is)&&is.x>=0&&is.y>=0&&is.x+is.y<=1}static getInterpolation(e,t,r,c,p,b,x,A){return null===this.getBarycoord(e,t,r,c,is)?(A.x=0,A.y=0,"z"in A&&(A.z=0),"w"in A&&(A.w=0),null):(A.setScalar(0),A.addScaledVector(p,is.x),A.addScaledVector(b,is.y),A.addScaledVector(x,is.z),A)}static getInterpolatedAttribute(e,t,r,c,p,b){return Ll.setScalar(0),z.setScalar(0),Q.setScalar(0),Ll.fromBufferAttribute(e,t),z.fromBufferAttribute(e,r),Q.fromBufferAttribute(e,c),b.setScalar(0),b.addScaledVector(Ll,p.x),b.addScaledVector(z,p.y),b.addScaledVector(Q,p.z),b}static isFrontFacing(e,t,r,c){return Xr.subVectors(r,t),qr.subVectors(e,t),Xr.cross(qr).dot(c)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,c){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[c]),this}setFromAttributeAndIndices(e,t,r,c){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,c),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xr.subVectors(this.c,this.b),qr.subVectors(this.a,this.b),.5*Xr.cross(qr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return U.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return U.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,c,p){return U.getInterpolation(e,this.a,this.b,this.c,t,r,c,p)}containsPoint(e){return U.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return U.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,c=this.b,p=this.c;let b,x;Aa.subVectors(c,r),Da.subVectors(p,r),Ks.subVectors(e,r);const A=Aa.dot(Ks),I=Da.dot(Ks);if(A<=0&&I<=0)return t.copy(r);Nl.subVectors(e,c);const H=Aa.dot(Nl),Y=Da.dot(Nl);if(H>=0&&Y<=H)return t.copy(c);const Z=A*Y-H*I;if(Z<=0&&A>=0&&H<=0)return b=A/(A-H),t.copy(r).addScaledVector(Aa,b);sc.subVectors(e,p);const ie=Aa.dot(sc),ae=Da.dot(sc);if(ae>=0&&ie<=ae)return t.copy(p);const ye=ie*I-A*ae;if(ye<=0&&I>=0&&ae<=0)return x=I/(I-ae),t.copy(r).addScaledVector(Da,x);const le=H*ae-ie*Y;if(le<=0&&Y-H>=0&&ie-ae>=0)return rs.subVectors(p,c),x=(Y-H)/(Y-H+(ie-ae)),t.copy(c).addScaledVector(rs,x);const oe=1/(le+ye+Z);return b=ye*oe,x=Z*oe,t.copy(r).addScaledVector(Aa,b).addScaledVector(Da,x)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fe={h:0,s:0,l:0},Re={h:0,s:0,l:0};function at(m,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?m+6*(e-m)*t:t<.5?e:t<2/3?m+6*(e-m)*(2/3-t):m}class Mt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const c=e;c&&c.isColor?this.copy(c):"number"==typeof c?this.setHex(c):"string"==typeof c&&this.setStyle(c)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ws){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Qr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,c=Qr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Qr.toWorkingColorSpace(this,c),this}setHSL(e,t,r,c=Qr.workingColorSpace){if(e=Ae(e,1),t=re(t,0,1),r=re(r,0,1),0===t)this.r=this.g=this.b=r;else{const p=r<=.5?r*(1+t):r+t-r*t,b=2*r-p;this.r=at(b,p,e+1/3),this.g=at(b,p,e),this.b=at(b,p,e-1/3)}return Qr.toWorkingColorSpace(this,c),this}setStyle(e,t=Ws){function r(p){void 0!==p&&parseFloat(p)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let c;if(c=/^(\w+)\(([^\)]*)\)/.exec(e)){let p;const x=c[2];switch(c[1]){case"rgb":case"rgba":if(p=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(x))return r(p[4]),this.setRGB(Math.min(255,parseInt(p[1],10))/255,Math.min(255,parseInt(p[2],10))/255,Math.min(255,parseInt(p[3],10))/255,t);if(p=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(x))return r(p[4]),this.setRGB(Math.min(100,parseInt(p[1],10))/100,Math.min(100,parseInt(p[2],10))/100,Math.min(100,parseInt(p[3],10))/100,t);break;case"hsl":case"hsla":if(p=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(x))return r(p[4]),this.setHSL(parseFloat(p[1])/360,parseFloat(p[2])/100,parseFloat(p[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(c=/^\#([A-Fa-f\d]+)$/.exec(e)){const p=c[1],b=p.length;if(3===b)return this.setRGB(parseInt(p.charAt(0),16)/15,parseInt(p.charAt(1),16)/15,parseInt(p.charAt(2),16)/15,t);if(6===b)return this.setHex(parseInt(p,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ws){const r=te[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hs(e.r),this.g=hs(e.g),this.b=hs(e.b),this}copyLinearToSRGB(e){return this.r=Ho(e.r),this.g=Ho(e.g),this.b=Ho(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ws){return Qr.fromWorkingColorSpace(jt.copy(this),e),65536*Math.round(re(255*jt.r,0,255))+256*Math.round(re(255*jt.g,0,255))+Math.round(re(255*jt.b,0,255))}getHexString(e=Ws){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qr.workingColorSpace){Qr.fromWorkingColorSpace(jt.copy(this),t);const r=jt.r,c=jt.g,p=jt.b,b=Math.max(r,c,p),x=Math.min(r,c,p);let A,I;const H=(x+b)/2;if(x===b)A=0,I=0;else{const Y=b-x;switch(I=H<=.5?Y/(b+x):Y/(2-b-x),b){case r:A=(c-p)/Y+(c<p?6:0);break;case c:A=(p-r)/Y+2;break;case p:A=(r-c)/Y+4}A/=6}return e.h=A,e.s=I,e.l=H,e}getRGB(e,t=Qr.workingColorSpace){return Qr.fromWorkingColorSpace(jt.copy(this),t),e.r=jt.r,e.g=jt.g,e.b=jt.b,e}getStyle(e=Ws){Qr.fromWorkingColorSpace(jt.copy(this),e);const t=jt.r,r=jt.g,c=jt.b;return e!==Ws?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${c.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*c)})`}offsetHSL(e,t,r){return this.getHSL(fe),this.setHSL(fe.h+e,fe.s+t,fe.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(fe),e.getHSL(Re);const r=mi(fe.h,Re.h,t),c=mi(fe.s,Re.s,t),p=mi(fe.l,Re.l,t);return this.setHSL(r,c,p),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,c=this.b,p=e.elements;return this.r=p[0]*t+p[3]*r+p[6]*c,this.g=p[1]*t+p[4]*r+p[7]*c,this.b=p[2]*t+p[5]*r+p[8]*c,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const jt=new Mt;Mt.NAMES=te;let Ei=0;class ir extends pi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ei++}),this.uuid=_e(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Ne,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=po,this.stencilZFail=po,this.stencilZPass=po,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const c=this[t];void 0!==c?c&&c.isColor?c.set(r):c&&c.isVector3&&r&&r.isVector3?c.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function c(p){const b=[];for(const x in p){const A=p[x];delete A.metadata,b.push(A)}return b}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),this.blendEquation!==Ne&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==po&&(r.stencilFail=this.stencilFail),this.stencilZFail!==po&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==po&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const p=c(e.textures),b=c(e.images);p.length>0&&(r.textures=p),b.length>0&&(r.images=b)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const c=t.length;r=new Array(c);for(let p=0;p!==c;++p)r[p]=t[p].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ps extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Be,this.combine=Lo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Bo=Tc();function Tc(){const m=new ArrayBuffer(4),e=new Float32Array(m),t=new Uint32Array(m),r=new Uint32Array(512),c=new Uint32Array(512);for(let A=0;A<256;++A){const I=A-127;I<-27?(r[A]=0,r[256|A]=32768,c[A]=24,c[256|A]=24):I<-14?(r[A]=1024>>-I-14,r[256|A]=1024>>-I-14|32768,c[A]=-I-1,c[256|A]=-I-1):I<=15?(r[A]=I+15<<10,r[256|A]=I+15<<10|32768,c[A]=13,c[256|A]=13):I<128?(r[A]=31744,r[256|A]=64512,c[A]=24,c[256|A]=24):(r[A]=31744,r[256|A]=64512,c[A]=13,c[256|A]=13)}const p=new Uint32Array(2048),b=new Uint32Array(64),x=new Uint32Array(64);for(let A=1;A<1024;++A){let I=A<<13,H=0;for(;!(8388608&I);)I<<=1,H-=8388608;I&=-8388609,H+=947912704,p[A]=I|H}for(let A=1024;A<2048;++A)p[A]=939524096+(A-1024<<13);for(let A=1;A<31;++A)b[A]=A<<23;b[31]=1199570944,b[32]=2147483648;for(let A=33;A<63;++A)b[A]=2147483648+(A-32<<23);b[63]=3347054592;for(let A=1;A<64;++A)32!==A&&(x[A]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:c,mantissaTable:p,exponentTable:b,offsetTable:x}}function ya(m){Math.abs(m)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),m=re(m,-65504,65504),Bo.floatView[0]=m;const e=Bo.uint32View[0],t=e>>23&511;return Bo.baseTable[t]+((8388607&e)>>Bo.shiftTable[t])}function gc(m){const e=m>>10;return Bo.uint32View[0]=Bo.mantissaTable[Bo.offsetTable[e]+(1023&m)]+Bo.exponentTable[e],Bo.floatView[0]}const La=new Je,Al=new ln;let id=0;class eo{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=Yl,this.updateRanges=[],this.gpuType=ct,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let c=0,p=this.itemSize;c<p;c++)this.array[e+c]=t.array[r+c];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)Al.fromBufferAttribute(this,t),Al.applyMatrix3(e),this.setXY(t,Al.x,Al.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyMatrix3(e),this.setXYZ(t,La.x,La.y,La.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyMatrix4(e),this.setXYZ(t,La.x,La.y,La.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyNormalMatrix(e),this.setXYZ(t,La.x,La.y,La.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.transformDirection(e),this.setXYZ(t,La.x,La.y,La.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=vr(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=fr(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vr(t,this.array)),t}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vr(t,this.array)),t}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vr(t,this.array)),t}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,c){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=c,this}setXYZW(e,t,r,c,p){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array),p=fr(p,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=c,this.array[e+3]=p,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Yl&&(e.usage=this.usage),e}}class Df extends eo{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Fd extends eo{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Sr extends eo{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Fh=0;const ac=new Bi,Nd=new Nn,Ou=new Je,Dl=new Xo,gu=new Xo,Bl=new Je;class Do extends pi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fh++}),this.uuid=_e(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Ys(e)?Fd:Df)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const p=(new Ji).getNormalMatrix(e);r.applyNormalMatrix(p),r.needsUpdate=!0}const c=this.attributes.tangent;return void 0!==c&&(c.transformDirection(e),c.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ac.makeRotationFromQuaternion(e),this.applyMatrix4(ac),this}rotateX(e){return ac.makeRotationX(e),this.applyMatrix4(ac),this}rotateY(e){return ac.makeRotationY(e),this.applyMatrix4(ac),this}rotateZ(e){return ac.makeRotationZ(e),this.applyMatrix4(ac),this}translate(e,t,r){return ac.makeTranslation(e,t,r),this.applyMatrix4(ac),this}scale(e,t,r){return ac.makeScale(e,t,r),this.applyMatrix4(ac),this}lookAt(e){return Nd.lookAt(e),Nd.updateMatrix(),this.applyMatrix4(Nd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ou).negate(),this.translate(Ou.x,Ou.y,Ou.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let c=0,p=e.length;c<p;c++){const b=e[c];r.push(b.x,b.y,b.z||0)}this.setAttribute("position",new Sr(r,3))}else{const r=Math.min(e.length,t.count);for(let c=0;c<r;c++){const p=e[c];t.setXYZ(c,p.x,p.y,p.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Xo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Je(-1/0,-1/0,-1/0),new Je(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,c=t.length;r<c;r++)Dl.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Bl.addVectors(this.boundingBox.min,Dl.min),this.boundingBox.expandByPoint(Bl),Bl.addVectors(this.boundingBox.max,Dl.max),this.boundingBox.expandByPoint(Bl)):(this.boundingBox.expandByPoint(Dl.min),this.boundingBox.expandByPoint(Dl.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new lo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Je,1/0);if(e){const r=this.boundingSphere.center;if(Dl.setFromBufferAttribute(e),t)for(let p=0,b=t.length;p<b;p++)gu.setFromBufferAttribute(t[p]),this.morphTargetsRelative?(Bl.addVectors(Dl.min,gu.min),Dl.expandByPoint(Bl),Bl.addVectors(Dl.max,gu.max),Dl.expandByPoint(Bl)):(Dl.expandByPoint(gu.min),Dl.expandByPoint(gu.max));Dl.getCenter(r);let c=0;for(let p=0,b=e.count;p<b;p++)Bl.fromBufferAttribute(e,p),c=Math.max(c,r.distanceToSquared(Bl));if(t)for(let p=0,b=t.length;p<b;p++){const x=t[p],A=this.morphTargetsRelative;for(let I=0,H=x.count;I<H;I++)Bl.fromBufferAttribute(x,I),A&&(Ou.fromBufferAttribute(e,I),Bl.add(Ou)),c=Math.max(c,r.distanceToSquared(Bl))}this.boundingSphere.radius=Math.sqrt(c),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,c=t.normal,p=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new eo(new Float32Array(4*r.count),4));const b=this.getAttribute("tangent"),x=[],A=[];for(let yt=0;yt<r.count;yt++)x[yt]=new Je,A[yt]=new Je;const I=new Je,H=new Je,Y=new Je,Z=new ln,ie=new ln,ae=new ln,ye=new Je,le=new Je;function oe(yt,He,ke){I.fromBufferAttribute(r,yt),H.fromBufferAttribute(r,He),Y.fromBufferAttribute(r,ke),Z.fromBufferAttribute(p,yt),ie.fromBufferAttribute(p,He),ae.fromBufferAttribute(p,ke),H.sub(I),Y.sub(I),ie.sub(Z),ae.sub(Z);const Ct=1/(ie.x*ae.y-ae.x*ie.y);isFinite(Ct)&&(ye.copy(H).multiplyScalar(ae.y).addScaledVector(Y,-ie.y).multiplyScalar(Ct),le.copy(Y).multiplyScalar(ie.x).addScaledVector(H,-ae.x).multiplyScalar(Ct),x[yt].add(ye),x[He].add(ye),x[ke].add(ye),A[yt].add(le),A[He].add(le),A[ke].add(le))}let Pe=this.groups;0===Pe.length&&(Pe=[{start:0,count:e.count}]);for(let yt=0,He=Pe.length;yt<He;++yt){const ke=Pe[yt],Ct=ke.start;for(let un=Ct,wn=Ct+ke.count;un<wn;un+=3)oe(e.getX(un+0),e.getX(un+1),e.getX(un+2))}const Te=new Je,we=new Je,pt=new Je,st=new Je;function ft(yt){pt.fromBufferAttribute(c,yt),st.copy(pt);const He=x[yt];Te.copy(He),Te.sub(pt.multiplyScalar(pt.dot(He))).normalize(),we.crossVectors(st,He);const Ct=we.dot(A[yt])<0?-1:1;b.setXYZW(yt,Te.x,Te.y,Te.z,Ct)}for(let yt=0,He=Pe.length;yt<He;++yt){const ke=Pe[yt],Ct=ke.start;for(let un=Ct,wn=Ct+ke.count;un<wn;un+=3)ft(e.getX(un+0)),ft(e.getX(un+1)),ft(e.getX(un+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new eo(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let Z=0,ie=r.count;Z<ie;Z++)r.setXYZ(Z,0,0,0);const c=new Je,p=new Je,b=new Je,x=new Je,A=new Je,I=new Je,H=new Je,Y=new Je;if(e)for(let Z=0,ie=e.count;Z<ie;Z+=3){const ae=e.getX(Z+0),ye=e.getX(Z+1),le=e.getX(Z+2);c.fromBufferAttribute(t,ae),p.fromBufferAttribute(t,ye),b.fromBufferAttribute(t,le),H.subVectors(b,p),Y.subVectors(c,p),H.cross(Y),x.fromBufferAttribute(r,ae),A.fromBufferAttribute(r,ye),I.fromBufferAttribute(r,le),x.add(H),A.add(H),I.add(H),r.setXYZ(ae,x.x,x.y,x.z),r.setXYZ(ye,A.x,A.y,A.z),r.setXYZ(le,I.x,I.y,I.z)}else for(let Z=0,ie=t.count;Z<ie;Z+=3)c.fromBufferAttribute(t,Z+0),p.fromBufferAttribute(t,Z+1),b.fromBufferAttribute(t,Z+2),H.subVectors(b,p),Y.subVectors(c,p),H.cross(Y),r.setXYZ(Z+0,H.x,H.y,H.z),r.setXYZ(Z+1,H.x,H.y,H.z),r.setXYZ(Z+2,H.x,H.y,H.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Bl.fromBufferAttribute(e,t),Bl.normalize(),e.setXYZ(t,Bl.x,Bl.y,Bl.z)}toNonIndexed(){function e(x,A){const I=x.array,H=x.itemSize,Y=x.normalized,Z=new I.constructor(A.length*H);let ie=0,ae=0;for(let ye=0,le=A.length;ye<le;ye++){ie=x.isInterleavedBufferAttribute?A[ye]*x.data.stride+x.offset:A[ye]*H;for(let oe=0;oe<H;oe++)Z[ae++]=I[ie++]}return new eo(Z,H,Y)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Do,r=this.index.array,c=this.attributes;for(const x in c){const I=e(c[x],r);t.setAttribute(x,I)}const p=this.morphAttributes;for(const x in p){const A=[],I=p[x];for(let H=0,Y=I.length;H<Y;H++){const ie=e(I[H],r);A.push(ie)}t.morphAttributes[x]=A}t.morphTargetsRelative=this.morphTargetsRelative;const b=this.groups;for(let x=0,A=b.length;x<A;x++){const I=b[x];t.addGroup(I.start,I.count,I.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const A=this.parameters;for(const I in A)void 0!==A[I]&&(e[I]=A[I]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const A in r)e.data.attributes[A]=r[A].toJSON(e.data);const c={};let p=!1;for(const A in this.morphAttributes){const I=this.morphAttributes[A],H=[];for(let Y=0,Z=I.length;Y<Z;Y++)H.push(I[Y].toJSON(e.data));H.length>0&&(c[A]=H,p=!0)}p&&(e.data.morphAttributes=c,e.data.morphTargetsRelative=this.morphTargetsRelative);const b=this.groups;b.length>0&&(e.data.groups=JSON.parse(JSON.stringify(b)));const x=this.boundingSphere;return null!==x&&(e.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone());const c=e.attributes;for(const I in c)this.setAttribute(I,c[I].clone(t));const p=e.morphAttributes;for(const I in p){const H=[],Y=p[I];for(let Z=0,ie=Y.length;Z<ie;Z++)H.push(Y[Z].clone(t));this.morphAttributes[I]=H}this.morphTargetsRelative=e.morphTargetsRelative;const b=e.groups;for(let I=0,H=b.length;I<H;I++){const Y=b[I];this.addGroup(Y.start,Y.count,Y.materialIndex)}const x=e.boundingBox;null!==x&&(this.boundingBox=x.clone());const A=e.boundingSphere;return null!==A&&(this.boundingSphere=A.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ld=new Bi,rd=new da,Dc=new lo,Nh=new Je,am=new Je,Lh=new Je,kh=new Je,zg=new Je,Pf=new Je,Uh=new Je,Ru=new Je;class _l extends Nn{constructor(e=new Do,t=new ps){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const c=t[r[0]];if(void 0!==c){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,b=c.length;p<b;p++){const x=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=p}}}}getVertexPosition(e,t){const r=this.geometry,p=r.morphAttributes.position,b=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const x=this.morphTargetInfluences;if(p&&x){Pf.set(0,0,0);for(let A=0,I=p.length;A<I;A++){const H=x[A];0!==H&&(zg.fromBufferAttribute(p[A],e),Pf.addScaledVector(b?zg:zg.sub(t),H))}t.add(Pf)}return t}raycast(e,t){const r=this.geometry,p=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),Dc.copy(r.boundingSphere),Dc.applyMatrix4(p),rd.copy(e.ray).recast(e.near),(!1!==Dc.containsPoint(rd.origin)||!(null===rd.intersectSphere(Dc,Nh)||rd.origin.distanceToSquared(Nh)>(e.far-e.near)**2))&&(Ld.copy(p).invert(),rd.copy(e.ray).applyMatrix4(Ld),(null===r.boundingBox||!1!==rd.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,rd)))}_computeIntersections(e,t,r){let c;const p=this.geometry,b=this.material,x=p.index,A=p.attributes.position,I=p.attributes.uv,H=p.attributes.uv1,Y=p.attributes.normal,Z=p.groups,ie=p.drawRange;if(null!==x)if(Array.isArray(b))for(let ae=0,ye=Z.length;ae<ye;ae++){const le=Z[ae],oe=b[le.materialIndex];for(let we=Math.max(le.start,ie.start),pt=Math.min(x.count,Math.min(le.start+le.count,ie.start+ie.count));we<pt;we+=3)c=Fu(this,oe,e,r,I,H,Y,x.getX(we),x.getX(we+1),x.getX(we+2)),c&&(c.faceIndex=Math.floor(we/3),c.face.materialIndex=le.materialIndex,t.push(c))}else for(let le=Math.max(0,ie.start),oe=Math.min(x.count,ie.start+ie.count);le<oe;le+=3)c=Fu(this,b,e,r,I,H,Y,x.getX(le),x.getX(le+1),x.getX(le+2)),c&&(c.faceIndex=Math.floor(le/3),t.push(c));else if(void 0!==A)if(Array.isArray(b))for(let ae=0,ye=Z.length;ae<ye;ae++){const le=Z[ae],oe=b[le.materialIndex];for(let we=Math.max(le.start,ie.start),pt=Math.min(A.count,Math.min(le.start+le.count,ie.start+ie.count));we<pt;we+=3)c=Fu(this,oe,e,r,I,H,Y,we,we+1,we+2),c&&(c.faceIndex=Math.floor(we/3),c.face.materialIndex=le.materialIndex,t.push(c))}else for(let le=Math.max(0,ie.start),oe=Math.min(A.count,ie.start+ie.count);le<oe;le+=3)c=Fu(this,b,e,r,I,H,Y,le,le+1,le+2),c&&(c.faceIndex=Math.floor(le/3),t.push(c))}}function Fu(m,e,t,r,c,p,b,x,A,I){m.getVertexPosition(x,am),m.getVertexPosition(A,Lh),m.getVertexPosition(I,kh);const H=function If(m,e,t,r,c,p,b,x){let A;if(A=1===e.side?r.intersectTriangle(b,p,c,!0,x):r.intersectTriangle(c,p,b,0===e.side,x),null===A)return null;Ru.copy(x),Ru.applyMatrix4(m.matrixWorld);const I=t.ray.origin.distanceTo(Ru);return I<t.near||I>t.far?null:{distance:I,point:Ru.clone(),object:m}}(m,e,t,r,am,Lh,kh,Uh);if(H){const Y=new Je;U.getBarycoord(Uh,am,Lh,kh,Y),c&&(H.uv=U.getInterpolatedAttribute(c,x,A,I,Y,new ln)),p&&(H.uv1=U.getInterpolatedAttribute(p,x,A,I,Y,new ln)),b&&(H.normal=U.getInterpolatedAttribute(b,x,A,I,Y,new Je),H.normal.dot(r.direction)>0&&H.normal.multiplyScalar(-1));const Z={a:x,b:A,c:I,normal:new Je,materialIndex:0};U.getNormal(am,Lh,kh,Z.normal),H.face=Z,H.barycoord=Y}return H}class Fc extends Do{constructor(e=1,t=1,r=1,c=1,p=1,b=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:c,heightSegments:p,depthSegments:b};const x=this;c=Math.floor(c),p=Math.floor(p),b=Math.floor(b);const A=[],I=[],H=[],Y=[];let Z=0,ie=0;function ae(ye,le,oe,Pe,Te,we,pt,st,ft,yt,He){const ke=we/ft,Ct=pt/yt,yn=we/2,un=pt/2,wn=st/2,jn=ft+1,xn=yt+1;let si=0,Cn=0;const Ni=new Je;for(let rr=0;rr<xn;rr++){const Tr=rr*Ct-un;for(let qo=0;qo<jn;qo++)Ni[ye]=(qo*ke-yn)*Pe,Ni[le]=Tr*Te,Ni[oe]=wn,I.push(Ni.x,Ni.y,Ni.z),Ni[ye]=0,Ni[le]=0,Ni[oe]=st>0?1:-1,H.push(Ni.x,Ni.y,Ni.z),Y.push(qo/ft),Y.push(1-rr/yt),si+=1}for(let rr=0;rr<yt;rr++)for(let Tr=0;Tr<ft;Tr++){const _a=Z+Tr+jn*(rr+1),Vn=Z+(Tr+1)+jn*(rr+1),gi=Z+(Tr+1)+jn*rr;A.push(Z+Tr+jn*rr,_a,gi),A.push(_a,Vn,gi),Cn+=6}x.addGroup(ie,Cn,He),ie+=Cn,Z+=si}ae("z","y","x",-1,-1,r,t,e,b,p,0),ae("z","y","x",1,-1,r,t,-e,b,p,1),ae("x","z","y",1,1,e,r,t,c,b,2),ae("x","z","y",1,-1,e,r,-t,c,b,3),ae("x","y","z",1,-1,e,t,r,c,p,4),ae("x","y","z",-1,-1,e,t,-r,c,p,5),this.setIndex(A),this.setAttribute("position",new Sr(I,3)),this.setAttribute("normal",new Sr(H,3)),this.setAttribute("uv",new Sr(Y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Of(m){const e={};for(const t in m){e[t]={};for(const r in m[t]){const c=m[t][r];c&&(c.isColor||c.isMatrix3||c.isMatrix4||c.isVector2||c.isVector3||c.isVector4||c.isTexture||c.isQuaternion)?c.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=c.clone():e[t][r]=Array.isArray(c)?c.slice():c}}return e}function tc(m){const e={};for(let t=0;t<m.length;t++){const r=Of(m[t]);for(const c in r)e[c]=r[c]}return e}function cm(m){const e=m.getRenderTarget();return null===e?m.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Qr.workingColorSpace}const Nc={clone:Of,merge:tc};class nc extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Of(e.uniforms),this.uniformsGroups=function lm(m){const e=[];for(let t=0;t<m.length;t++)e.push(m[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const c in this.uniforms){const b=this.uniforms[c].value;t.uniforms[c]=b&&b.isTexture?{type:"t",value:b.toJSON(e).uuid}:b&&b.isColor?{type:"c",value:b.getHex()}:b&&b.isVector2?{type:"v2",value:b.toArray()}:b&&b.isVector3?{type:"v3",value:b.toArray()}:b&&b.isVector4?{type:"v4",value:b.toArray()}:b&&b.isMatrix3?{type:"m3",value:b.toArray()}:b&&b.isMatrix4?{type:"m4",value:b.toArray()}:{value:b}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const c in this.extensions)!0===this.extensions[c]&&(r[c]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class vu extends Nn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Bi,this.projectionMatrix=new Bi,this.projectionMatrixInverse=new Bi,this.coordinateSystem=bi}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Lc=new Je,Ff=new ln,Hg=new ln;class Vl extends vu{constructor(e=50,t=1,r=.1,c=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=c,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*he*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Qo*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*he*Math.atan(Math.tan(.5*Qo*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Lc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Lc.x,Lc.y).multiplyScalar(-e/Lc.z),Lc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Lc.x,Lc.y).multiplyScalar(-e/Lc.z)}getViewSize(e,t){return this.getViewBounds(e,Ff,Hg),t.subVectors(Hg,Ff)}setViewOffset(e,t,r,c,p,b){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=c,this.view.width=p,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Qo*this.fov)/this.zoom,r=2*t,c=this.aspect*r,p=-.5*c;const b=this.view;if(null!==this.view&&this.view.enabled){const A=b.fullWidth,I=b.fullHeight;p+=b.offsetX*c/A,t-=b.offsetY*r/I,c*=b.width/A,r*=b.height/I}const x=this.filmOffset;0!==x&&(p+=e*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(p,p+c,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Bh extends Nn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const c=new Vl(-90,1,e,t);c.layers=this.layers,this.add(c);const p=new Vl(-90,1,e,t);p.layers=this.layers,this.add(p);const b=new Vl(-90,1,e,t);b.layers=this.layers,this.add(b);const x=new Vl(-90,1,e,t);x.layers=this.layers,this.add(x);const A=new Vl(-90,1,e,t);A.layers=this.layers,this.add(A);const I=new Vl(-90,1,e,t);I.layers=this.layers,this.add(I)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,c,p,b,x,A]=t;for(const I of t)this.remove(I);if(e===bi)r.up.set(0,1,0),r.lookAt(1,0,0),c.up.set(0,1,0),c.lookAt(-1,0,0),p.up.set(0,0,-1),p.lookAt(0,1,0),b.up.set(0,0,1),b.lookAt(0,-1,0),x.up.set(0,1,0),x.lookAt(0,0,1),A.up.set(0,1,0),A.lookAt(0,0,-1);else{if(e!==Jr)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),c.up.set(0,-1,0),c.lookAt(1,0,0),p.up.set(0,0,1),p.lookAt(0,1,0),b.up.set(0,0,-1),b.lookAt(0,-1,0),x.up.set(0,-1,0),x.lookAt(0,0,1),A.up.set(0,-1,0),A.lookAt(0,0,-1)}for(const I of t)this.add(I),I.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:c}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[p,b,x,A,I,H]=this.children,Y=e.getRenderTarget(),Z=e.getActiveCubeFace(),ie=e.getActiveMipmapLevel(),ae=e.xr.enabled;e.xr.enabled=!1;const ye=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,c),e.render(t,p),e.setRenderTarget(r,1,c),e.render(t,b),e.setRenderTarget(r,2,c),e.render(t,x),e.setRenderTarget(r,3,c),e.render(t,A),e.setRenderTarget(r,4,c),e.render(t,I),r.texture.generateMipmaps=ye,e.setRenderTarget(r,5,c),e.render(t,H),e.setRenderTarget(Y,Z,ie),e.xr.enabled=ae,r.texture.needsPMREMUpdate=!0}}class kd extends ve{constructor(e=[],t=wo,r,c,p,b,x,A,I,H){super(e,t,r,c,p,b,x,A,I,H),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ud extends Qt{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new kd([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:_i}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",c=new Fc(5,5,5),p=new nc({name:"CubemapFromEquirect",uniforms:Of(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});p.uniforms.tEquirect.value=t;const b=new _l(c,p),x=t.minFilter;return t.minFilter===io&&(t.minFilter=_i),new Bh(1,10,this).update(e,b),t.minFilter=x,b.geometry.dispose(),b.material.dispose(),this}clear(e,t=!0,r=!0,c=!0){const p=e.getRenderTarget();for(let b=0;b<6;b++)e.setRenderTarget(this,b),e.clear(t,r,c);e.setRenderTarget(p)}}class Pc extends Nn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gg={type:"move"};class Nu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Pc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Pc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Je),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Pc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Je),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let c=null,p=null,b=null;const x=this._targetRay,A=this._grip,I=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(I&&e.hand){b=!0;for(const ye of e.hand.values()){const le=t.getJointPose(ye,r),oe=this._getHandJoint(I,ye);null!==le&&(oe.matrix.fromArray(le.transform.matrix),oe.matrix.decompose(oe.position,oe.rotation,oe.scale),oe.matrixWorldNeedsUpdate=!0,oe.jointRadius=le.radius),oe.visible=null!==le}const Z=I.joints["index-finger-tip"].position.distanceTo(I.joints["thumb-tip"].position),ie=.02,ae=.005;I.inputState.pinching&&Z>ie+ae?(I.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!I.inputState.pinching&&Z<=ie-ae&&(I.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==A&&e.gripSpace&&(p=t.getPose(e.gripSpace,r),null!==p&&(A.matrix.fromArray(p.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,p.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(p.linearVelocity)):A.hasLinearVelocity=!1,p.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(p.angularVelocity)):A.hasAngularVelocity=!1));null!==x&&(c=t.getPose(e.targetRaySpace,r),null===c&&null!==p&&(c=p),null!==c&&(x.matrix.fromArray(c.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,c.linearVelocity?(x.hasLinearVelocity=!0,x.linearVelocity.copy(c.linearVelocity)):x.hasLinearVelocity=!1,c.angularVelocity?(x.hasAngularVelocity=!0,x.angularVelocity.copy(c.angularVelocity)):x.hasAngularVelocity=!1,this.dispatchEvent(Gg)))}return null!==x&&(x.visible=null!==c),null!==A&&(A.visible=null!==p),null!==I&&(I.visible=null!==b),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new Pc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Bd{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=t}clone(){return new Bd(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Lu{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=t,this.far=r}clone(){return new Lu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Wg extends Nn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Be,this.environmentIntensity=1,this.environmentRotation=new Be,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class bl{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Yl,this.updateRanges=[],this.version=0,this.uuid=_e()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let c=0,p=this.stride;c<p;c++)this.array[e+c]=t.array[r+c];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_e()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_e()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const lc=new Je;class kc{constructor(e,t,r,c=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=c}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)lc.fromBufferAttribute(this,t),lc.applyMatrix4(e),this.setXYZ(t,lc.x,lc.y,lc.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)lc.fromBufferAttribute(this,t),lc.applyNormalMatrix(e),this.setXYZ(t,lc.x,lc.y,lc.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)lc.fromBufferAttribute(this,t),lc.transformDirection(e),this.setXYZ(t,lc.x,lc.y,lc.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=vr(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=fr(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=vr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=vr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=vr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=vr(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,c){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=c,this}setXYZW(e,t,r,c,p){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array),p=fr(p,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=c,this.data.array[e+3]=p,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const c=r*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)t.push(this.data.array[c+p])}return new eo(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const c=r*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)t.push(this.data.array[c+p])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Vd extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zd;const jd=new Je,ku=new Je,ic=new Je,fc=new ln,Jc=new ln,Hd=new Bi,Gd=new Je,Uc=new Je,Bc=new Je,um=new ln,Nf=new ln,Wd=new ln;class $g extends Nn{constructor(e=new Vd){if(super(),this.isSprite=!0,this.type="Sprite",void 0===zd){zd=new Do;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new bl(t,5);zd.setIndex([0,1,2,0,2,3]),zd.setAttribute("position",new kc(r,3,0,!1)),zd.setAttribute("uv",new kc(r,2,3,!1))}this.geometry=zd,this.material=e,this.center=new ln(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ku.setFromMatrixScale(this.matrixWorld),Hd.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ic.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ku.multiplyScalar(-ic.z);const r=this.material.rotation;let c,p;0!==r&&(p=Math.cos(r),c=Math.sin(r));const b=this.center;$d(Gd.set(-.5,-.5,0),ic,b,ku,c,p),$d(Uc.set(.5,-.5,0),ic,b,ku,c,p),$d(Bc.set(.5,.5,0),ic,b,ku,c,p),um.set(0,0),Nf.set(1,0),Wd.set(1,1);let x=e.ray.intersectTriangle(Gd,Uc,Bc,!1,jd);if(null===x&&($d(Uc.set(-.5,.5,0),ic,b,ku,c,p),Nf.set(0,1),x=e.ray.intersectTriangle(Gd,Bc,Uc,!1,jd),null===x))return;const A=e.ray.origin.distanceTo(jd);A<e.near||A>e.far||t.push({distance:A,point:jd.clone(),uv:U.getInterpolation(jd,Gd,Uc,Bc,um,Nf,Wd,new ln),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function $d(m,e,t,r,c,p){fc.subVectors(m,t).addScalar(.5).multiply(r),void 0!==c?(Jc.x=p*fc.x-c*fc.y,Jc.y=c*fc.x+p*fc.y):Jc.copy(fc),m.copy(e),m.x+=Jc.x,m.y+=Jc.y,m.applyMatrix4(Hd)}const Vh=new Je,Xg=new Je;class Uu extends Nn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,c=t.length;r<c;r++){const p=t[r];this.addLevel(p.object.clone(),p.distance,p.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const c=this.levels;let p;for(p=0;p<c.length&&!(t<c[p].distance);p++);return c.splice(p,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const c=t.splice(r,1);return this.remove(c[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,c;for(r=1,c=t.length;r<c;r++){let p=t[r].distance;if(t[r].object.visible&&(p-=p*t[r].hysteresis),e<p)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vh.setFromMatrixPosition(this.matrixWorld);const c=e.ray.origin.distanceTo(Vh);this.getObjectForDistance(c).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vh.setFromMatrixPosition(e.matrixWorld),Xg.setFromMatrixPosition(this.matrixWorld);const r=Vh.distanceTo(Xg)/e.zoom;let c,p;for(t[0].object.visible=!0,c=1,p=t.length;c<p;c++){let b=t[c].distance;if(t[c].object.visible&&(b-=b*t[c].hysteresis),!(r>=b))break;t[c-1].object.visible=!1,t[c].object.visible=!0}for(this._currentLevel=c-1;c<p;c++)t[c].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let c=0,p=r.length;c<p;c++){const b=r[c];t.object.levels.push({object:b.object.uuid,distance:b.distance,hysteresis:b.hysteresis})}return t}}const Yg=new Je,Zg=new Ue,al=new Ue,dm=new Je,Xd=new Bi,Lf=new Je,Ml=new lo,ad=new Bi,zh=new da;class kf extends _l{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ci,this.bindMatrix=new Bi,this.bindMatrixInverse=new Bi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Xo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Lf),this.boundingBox.expandByPoint(Lf)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new lo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Lf),this.boundingSphere.expandByPoint(Lf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const c=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ml.copy(this.boundingSphere),Ml.applyMatrix4(c),!1!==e.ray.intersectsSphere(Ml)&&(ad.copy(c).invert(),zh.copy(e.ray).applyMatrix4(ad),(null===this.boundingBox||!1!==zh.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,zh)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ue,t=this.geometry.attributes.skinWeight;for(let r=0,c=t.count;r<c;r++){e.fromBufferAttribute(t,r);const p=1/e.manhattanLength();p!==1/0?e.multiplyScalar(p):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ci?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Vr?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,c=this.geometry;Zg.fromBufferAttribute(c.attributes.skinIndex,e),al.fromBufferAttribute(c.attributes.skinWeight,e),Yg.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let p=0;p<4;p++){const b=al.getComponent(p);if(0!==b){const x=Zg.getComponent(p);Xd.multiplyMatrices(r.bones[x].matrixWorld,r.boneInverses[x]),t.addScaledVector(dm.copy(Yg).applyMatrix4(Xd),b)}}return t.applyMatrix4(this.bindMatrixInverse)}}class yu extends Nn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Qc extends ve{constructor(e=null,t=1,r=1,c,p,b,x,A,I=zr,H=zr,Y,Z){super(null,b,x,A,I,H,c,p,Y,Z),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const n0=new Bi,fm=new Bi;class hm{constructor(e=[],t=[]){this.uuid=_e(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,c=this.bones.length;r<c;r++)this.boneInverses.push(new Bi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Bi;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,c=this.boneTexture;for(let p=0,b=e.length;p<b;p++)n0.multiplyMatrices(e[p]?e[p].matrixWorld:fm,t[p]),n0.toArray(r,16*p);null!==c&&(c.needsUpdate=!0)}clone(){return new hm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Qc(t,e,e,Zi,ct);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const c=this.bones[t];if(c.name===e)return c}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,c=e.bones.length;r<c;r++){const p=e.bones[r];let b=t[p];void 0===b&&(console.warn("THREE.Skeleton: No bone found with UUID:",p),b=new yu),this.bones.push(b),this.boneInverses.push((new Bi).fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let c=0,p=t.length;c<p;c++)e.bones.push(t[c].uuid),e.boneInverses.push(r[c].toArray());return e}}class zl extends eo{constructor(e,t,r,c=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=c}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qc=new Bi,Bu=new Bi,jh=[],Hh=new Xo,i0=new Bi,Uf=new _l,Bf=new lo;class Kg extends _l{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new zl(new Float32Array(16*r),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let c=0;c<r;c++)this.setMatrixAt(c,i0)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Xo),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,qc),Hh.copy(e.boundingBox).applyMatrix4(qc),this.boundingBox.union(Hh)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new lo),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,qc),Bf.copy(e.boundingSphere).applyMatrix4(qc),this.boundingSphere.union(Bf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const r=t.morphTargetInfluences,c=this.morphTexture.source.data.data,b=e*(r.length+1)+1;for(let x=0;x<r.length;x++)r[x]=c[b+x]}raycast(e,t){const r=this.matrixWorld,c=this.count;if(Uf.geometry=this.geometry,Uf.material=this.material,void 0!==Uf.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Bf.copy(this.boundingSphere),Bf.applyMatrix4(r),!1!==e.ray.intersectsSphere(Bf)))for(let p=0;p<c;p++){this.getMatrixAt(p,qc),Bu.multiplyMatrices(r,qc),Uf.matrixWorld=Bu,Uf.raycast(e,jh);for(let b=0,x=jh.length;b<x;b++){const A=jh[b];A.instanceId=p,A.object=this,t.push(A)}jh.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new zl(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const r=t.morphTargetInfluences,c=r.length+1;null===this.morphTexture&&(this.morphTexture=new Qc(new Float32Array(c*this.count),c,this.count,ut,ct));const p=this.morphTexture.source.data.data;let b=0;for(let I=0;I<r.length;I++)b+=r[I];const A=c*e;p[A]=this.geometry.morphTargetsRelative?1:1-b,p.set(r,A+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Gh=new Je,Jg=new Je,pm=new Ji;class Vc{constructor(e=new Je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,c){return this.normal.set(e,t,r),this.constant=c,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const c=Gh.subVectors(r,t).cross(Jg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(c,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Gh),c=this.normal.dot(r);if(0===c)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const p=-(e.start.dot(this.normal)+this.constant)/c;return p<0||p>1?null:t.copy(e.start).addScaledVector(r,p)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||pm.getNormalMatrix(e),c=this.coplanarPoint(Gh).applyMatrix4(e),p=this.normal.applyMatrix3(r).normalize();return this.constant=-c.dot(p),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Vu=new lo,ld=new Je;class cd{constructor(e=new Vc,t=new Vc,r=new Vc,c=new Vc,p=new Vc,b=new Vc){this.planes=[e,t,r,c,p,b]}set(e,t,r,c,p,b){const x=this.planes;return x[0].copy(e),x[1].copy(t),x[2].copy(r),x[3].copy(c),x[4].copy(p),x[5].copy(b),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=bi){const r=this.planes,c=e.elements,p=c[0],b=c[1],x=c[2],A=c[3],I=c[4],H=c[5],Y=c[6],Z=c[7],ie=c[8],ae=c[9],ye=c[10],le=c[11],oe=c[12],Pe=c[13],Te=c[14],we=c[15];if(r[0].setComponents(A-p,Z-I,le-ie,we-oe).normalize(),r[1].setComponents(A+p,Z+I,le+ie,we+oe).normalize(),r[2].setComponents(A+b,Z+H,le+ae,we+Pe).normalize(),r[3].setComponents(A-b,Z-H,le-ae,we-Pe).normalize(),r[4].setComponents(A-x,Z-Y,le-ye,we-Te).normalize(),t===bi)r[5].setComponents(A+x,Z+Y,le+ye,we+Te).normalize();else{if(t!==Jr)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(x,Y,ye,Te).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Vu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Vu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vu)}intersectsSprite(e){return Vu.center.set(0,0,0),Vu.radius=.7071067811865476,Vu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vu)}intersectsSphere(e){const t=this.planes,r=e.center,c=-e.radius;for(let p=0;p<6;p++)if(t[p].distanceToPoint(r)<c)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const c=t[r];if(ld.x=c.normal.x>0?e.max.x:e.min.x,ld.y=c.normal.y>0?e.max.y:e.min.y,ld.z=c.normal.z>0?e.max.z:e.min.z,c.distanceToPoint(ld)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function ud(m,e){return m-e}function Qg(m,e){return m.z-e.z}function qg(m,e){return e.z-m.z}class mm{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,c){const p=this.pool,b=this.list;this.index>=p.length&&p.push({start:-1,count:-1,z:-1,index:-1});const x=p[this.index];b.push(x),this.index++,x.start=e,x.count=t,x.z=r,x.index=c}reset(){this.list.length=0,this.index=0}}const kl=new Bi,ev=new Mt(1,1,1),Vf=new cd,Yd=new Xo,vc=new lo,eu=new Je,tv=new Je,W_=new Je,Wh=new mm,Kl=new _l,gm=[];function r0(m,e,t=0){const r=e.itemSize;if(m.isInterleavedBufferAttribute||m.array.constructor!==e.array.constructor){const c=m.count;for(let p=0;p<c;p++)for(let b=0;b<r;b++)e.setComponent(p+t,b,m.getComponent(p,b))}else e.array.set(m.array,t*r);e.needsUpdate=!0}function dd(m,e){if(m.constructor!==e.constructor){const t=Math.min(m.length,e.length);for(let r=0;r<t;r++)e[r]=m[r]}else{const t=Math.min(m.length,e.length);e.set(new m.constructor(m.buffer,0,t))}}class nv extends _l{constructor(e,t,r=2*t,c){super(new Do,c),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Qc(t,e,e,Zi,ct);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Qc(t,e,e,nt,ze);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Qc(t,e,e,Zi,ct);r.colorSpace=Qr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,c=this._maxIndexCount;if(!1===this._geometryInitialized){for(const p in e.attributes){const b=e.getAttribute(p),{array:x,itemSize:A,normalized:I}=b,H=new x.constructor(r*A),Y=new eo(H,A,I);t.setAttribute(p,Y)}if(null!==e.getIndex()){const p=r>65535?new Uint32Array(c):new Uint16Array(c);t.setIndex(new eo(p,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const c=e.getAttribute(r),p=t.getAttribute(r);if(c.itemSize!==p.itemSize||c.normalized!==p.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Xo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,c=t.length;r<c;r++){if(!1===t[r].active)continue;const p=t[r].geometryIndex;this.getMatrixAt(r,kl),this.getBoundingBoxAt(p,Yd).applyMatrix4(kl),e.union(Yd)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new lo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,c=t.length;r<c;r++){if(!1===t[r].active)continue;const p=t[r].geometryIndex;this.getMatrixAt(r,kl),this.getBoundingSphereAt(p,vc).applyMatrix4(kl),e.union(vc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let c=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ud),c=this._availableInstanceIds.shift(),this._instanceInfo[c]=r):(c=this._instanceInfo.length,this._instanceInfo.push(r));const p=this._matricesTexture;kl.identity().toArray(p.image.data,16*c),p.needsUpdate=!0;const b=this._colorsTexture;return b&&(ev.toArray(b.image.data,4*c),b.needsUpdate=!0),this._visibilityChanged=!0,c}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const c={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},p=this._geometryInfo;c.vertexStart=this._nextVertexStart,c.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const b=e.getIndex();if(null!==b&&(c.indexStart=this._nextIndexStart,c.reservedIndexCount=-1===r?b.count:r),-1!==c.indexStart&&c.indexStart+c.reservedIndexCount>this._maxIndexCount||c.vertexStart+c.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let A;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ud),A=this._availableGeometryIds.shift(),p[A]=c):(A=this._geometryCount,this._geometryCount++,p.push(c)),this.setGeometryAt(A,e),this._nextIndexStart=c.indexStart+c.reservedIndexCount,this._nextVertexStart=c.vertexStart+c.reservedVertexCount,A}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,c=null!==r.getIndex(),p=r.getIndex(),b=t.getIndex(),x=this._geometryInfo[e];if(c&&b.count>x.reservedIndexCount||t.attributes.position.count>x.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const A=x.vertexStart,I=x.reservedVertexCount;x.vertexCount=t.getAttribute("position").count;for(const H in r.attributes){const Y=t.getAttribute(H),Z=r.getAttribute(H);r0(Y,Z,A);const ie=Y.itemSize;for(let ae=Y.count,ye=I;ae<ye;ae++){const le=A+ae;for(let oe=0;oe<ie;oe++)Z.setComponent(le,oe,0)}Z.needsUpdate=!0,Z.addUpdateRange(A*ie,I*ie)}if(c){const H=x.indexStart,Y=x.reservedIndexCount;x.indexCount=t.getIndex().count;for(let Z=0;Z<b.count;Z++)p.setX(H+Z,A+b.getX(Z));for(let Z=b.count,ie=Y;Z<ie;Z++)p.setX(H+Z,A);p.needsUpdate=!0,p.addUpdateRange(H,x.reservedIndexCount)}return x.start=c?x.indexStart:x.vertexStart,x.count=c?x.indexCount:x.vertexCount,x.boundingBox=null,null!==t.boundingBox&&(x.boundingBox=t.boundingBox.clone()),x.boundingSphere=null,null!==t.boundingSphere&&(x.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const r=this._instanceInfo;for(let c=0,p=r.length;c<p;c++)r[c].active&&r[c].geometryIndex===e&&this.deleteInstance(c);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,c=r.map((b,x)=>x).sort((b,x)=>r[b].vertexStart-r[x].vertexStart),p=this.geometry;for(let b=0,x=r.length;b<x;b++){const I=r[c[b]];if(!1!==I.active){if(null!==p.index){if(I.indexStart!==t){const{indexStart:H,vertexStart:Y,reservedIndexCount:Z}=I,ie=p.index,ae=ie.array,ye=e-Y;for(let le=H;le<H+Z;le++)ae[le]=ae[le]+ye;ie.array.copyWithin(t,H,H+Z),ie.addUpdateRange(t,Z),I.indexStart=t}t+=I.reservedIndexCount}if(I.vertexStart!==e){const{vertexStart:H,reservedVertexCount:Y}=I,Z=p.attributes;for(const ie in Z){const ae=Z[ie],{array:ye,itemSize:le}=ae;ye.copyWithin(e*le,H*le,(H+Y)*le),ae.addUpdateRange(e*le,Y*le)}I.vertexStart=e}e+=I.reservedVertexCount,I.start=p.index?I.indexStart:I.vertexStart,this._nextIndexStart=p.index?I.indexStart+I.reservedIndexCount:0,this._nextVertexStart=I.vertexStart+I.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,c=this._geometryInfo[e];if(null===c.boundingBox){const p=new Xo,b=r.index,x=r.attributes.position;for(let A=c.start,I=c.start+c.count;A<I;A++){let H=A;b&&(H=b.getX(H)),p.expandByPoint(eu.fromBufferAttribute(x,H))}c.boundingBox=p}return t.copy(c.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,c=this._geometryInfo[e];if(null===c.boundingSphere){const p=new lo;this.getBoundingBoxAt(e,Yd),Yd.getCenter(p.center);const b=r.index,x=r.attributes.position;let A=0;for(let I=c.start,H=c.start+c.count;I<H;I++){let Y=I;b&&(Y=b.getX(Y)),eu.fromBufferAttribute(x,Y),A=Math.max(A,p.center.distanceToSquared(eu))}p.radius=Math.sqrt(A),c.boundingSphere=p}return t.copy(c.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture;return t.toArray(this._matricesTexture.image.data,16*e),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(ud);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const c=new Int32Array(e),p=new Int32Array(e);dd(this._multiDrawCounts,c),dd(this._multiDrawStarts,p),this._multiDrawCounts=c,this._multiDrawStarts=p,this._maxInstanceCount=e;const b=this._indirectTexture,x=this._matricesTexture,A=this._colorsTexture;b.dispose(),this._initIndirectTexture(),dd(b.image.data,this._indirectTexture.image.data),x.dispose(),this._initMatricesTexture(),dd(x.image.data,this._matricesTexture.image.data),A&&(A.dispose(),this._initColorsTexture(),dd(A.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(x=>x.active);if(Math.max(...r.map(x=>x.vertexStart+x.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(A=>A.indexStart+A.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const p=this.geometry;p.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Do,this._initializeGeometry(p));const b=this.geometry;p.index&&dd(p.index.array,b.index.array);for(const x in p.attributes)dd(p.attributes[x].array,b.attributes[x].array)}raycast(e,t){const r=this._instanceInfo,c=this._geometryInfo,p=this.matrixWorld,b=this.geometry;Kl.material=this.material,Kl.geometry.index=b.index,Kl.geometry.attributes=b.attributes,null===Kl.geometry.boundingBox&&(Kl.geometry.boundingBox=new Xo),null===Kl.geometry.boundingSphere&&(Kl.geometry.boundingSphere=new lo);for(let x=0,A=r.length;x<A;x++){if(!r[x].visible||!r[x].active)continue;const I=r[x].geometryIndex,H=c[I];Kl.geometry.setDrawRange(H.start,H.count),this.getMatrixAt(x,Kl.matrixWorld).premultiply(p),this.getBoundingBoxAt(I,Kl.geometry.boundingBox),this.getBoundingSphereAt(I,Kl.geometry.boundingSphere),Kl.raycast(e,gm);for(let Y=0,Z=gm.length;Y<Z;Y++){const ie=gm[Y];ie.object=this,ie.batchId=x,t.push(ie)}gm.length=0}Kl.material=null,Kl.geometry.index=null,Kl.geometry.attributes={},Kl.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:null!==t.boundingBox?t.boundingBox.clone():null,boundingSphere:null!==t.boundingSphere?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,c,p){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const b=c.getIndex(),x=null===b?1:b.array.BYTES_PER_ELEMENT,A=this._instanceInfo,I=this._multiDrawStarts,H=this._multiDrawCounts,Y=this._geometryInfo,Z=this.perObjectFrustumCulled,ie=this._indirectTexture,ae=ie.image.data;Z&&(kl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Vf.setFromProjectionMatrix(kl,e.coordinateSystem));let ye=0;if(this.sortObjects){kl.copy(this.matrixWorld).invert(),eu.setFromMatrixPosition(r.matrixWorld).applyMatrix4(kl),tv.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(kl);for(let Pe=0,Te=A.length;Pe<Te;Pe++)if(A[Pe].visible&&A[Pe].active){const we=A[Pe].geometryIndex;this.getMatrixAt(Pe,kl),this.getBoundingSphereAt(we,vc).applyMatrix4(kl);let pt=!1;if(Z&&(pt=!Vf.intersectsSphere(vc)),!pt){const st=Y[we],ft=W_.subVectors(vc.center,eu).dot(tv);Wh.push(st.start,st.count,ft,Pe)}}const le=Wh.list,oe=this.customSort;null===oe?le.sort(p.transparent?qg:Qg):oe.call(this,le,r);for(let Pe=0,Te=le.length;Pe<Te;Pe++){const we=le[Pe];I[ye]=we.start*x,H[ye]=we.count,ae[ye]=we.index,ye++}Wh.reset()}else for(let le=0,oe=A.length;le<oe;le++)if(A[le].visible&&A[le].active){const Pe=A[le].geometryIndex;let Te=!1;if(Z&&(this.getMatrixAt(le,kl),this.getBoundingSphereAt(Pe,vc).applyMatrix4(kl),Te=!Vf.intersectsSphere(vc)),!Te){const we=Y[Pe];I[ye]=we.start*x,H[ye]=we.count,ae[ye]=le,ye++}}ie.needsUpdate=!0,this._multiDrawCount=ye,this._visibilityChanged=!1}onBeforeShadow(e,t,r,c,p,b){this.onBeforeRender(e,null,c,p,b)}}class jl extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zf=new Je,jf=new Je,$h=new Bi,Xh=new da,Hf=new lo,vm=new Je,ym=new Je;class zc extends Nn{constructor(e=new Do,t=new jl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let c=1,p=t.count;c<p;c++)zf.fromBufferAttribute(t,c-1),jf.fromBufferAttribute(t,c),r[c]=r[c-1],r[c]+=zf.distanceTo(jf);e.setAttribute("lineDistance",new Sr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,c=this.matrixWorld,p=e.params.Line.threshold,b=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Hf.copy(r.boundingSphere),Hf.applyMatrix4(c),Hf.radius+=p,!1===e.ray.intersectsSphere(Hf))return;$h.copy(c).invert(),Xh.copy(e.ray).applyMatrix4($h);const x=p/((this.scale.x+this.scale.y+this.scale.z)/3),A=x*x,I=this.isLineSegments?2:1,H=r.index,Z=r.attributes.position;if(null!==H){const ie=Math.max(0,b.start),ae=Math.min(H.count,b.start+b.count);for(let ye=ie,le=ae-1;ye<le;ye+=I){const oe=H.getX(ye),Pe=H.getX(ye+1),Te=Zd(this,e,Xh,A,oe,Pe,ye);Te&&t.push(Te)}if(this.isLineLoop){const ye=H.getX(ae-1),le=H.getX(ie),oe=Zd(this,e,Xh,A,ye,le,ae-1);oe&&t.push(oe)}}else{const ie=Math.max(0,b.start),ae=Math.min(Z.count,b.start+b.count);for(let ye=ie,le=ae-1;ye<le;ye+=I){const oe=Zd(this,e,Xh,A,ye,ye+1,ye);oe&&t.push(oe)}if(this.isLineLoop){const ye=Zd(this,e,Xh,A,ae-1,ie,ae-1);ye&&t.push(ye)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const c=t[r[0]];if(void 0!==c){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,b=c.length;p<b;p++){const x=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=p}}}}}function Zd(m,e,t,r,c,p,b){const x=m.geometry.attributes.position;if(zf.fromBufferAttribute(x,c),jf.fromBufferAttribute(x,p),t.distanceSqToSegment(zf,jf,vm,ym)>r)return;vm.applyMatrix4(m.matrixWorld);const I=e.ray.origin.distanceTo(vm);return I<e.near||I>e.far?void 0:{distance:I,point:ym.clone().applyMatrix4(m.matrixWorld),index:b,face:null,faceIndex:null,barycoord:null,object:m}}const _m=new Je,bm=new Je;class Ic extends zc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[];for(let c=0,p=t.count;c<p;c+=2)_m.fromBufferAttribute(t,c),bm.fromBufferAttribute(t,c+1),r[c]=0===c?0:r[c-1],r[c+1]=r[c]+_m.distanceTo(bm);e.setAttribute("lineDistance",new Sr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Mm extends zc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Sm extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const iv=new Bi,rv=new da,Yh=new lo,Zh=new Je;class Gf extends Nn{constructor(e=new Do,t=new Sm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,c=this.matrixWorld,p=e.params.Points.threshold,b=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Yh.copy(r.boundingSphere),Yh.applyMatrix4(c),Yh.radius+=p,!1===e.ray.intersectsSphere(Yh))return;iv.copy(c).invert(),rv.copy(e.ray).applyMatrix4(iv);const x=p/((this.scale.x+this.scale.y+this.scale.z)/3),A=x*x,I=r.index,Y=r.attributes.position;if(null!==I)for(let ae=Math.max(0,b.start),ye=Math.min(I.count,b.start+b.count);ae<ye;ae++){const le=I.getX(ae);Zh.fromBufferAttribute(Y,le),Wf(Zh,le,A,c,e,t,this)}else for(let ae=Math.max(0,b.start),ye=Math.min(Y.count,b.start+b.count);ae<ye;ae++)Zh.fromBufferAttribute(Y,ae),Wf(Zh,ae,A,c,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const c=t[r[0]];if(void 0!==c){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,b=c.length;p<b;p++){const x=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=p}}}}}function Wf(m,e,t,r,c,p,b){const x=rv.distanceSqToPoint(m);if(x<t){const A=new Je;rv.closestPointToPoint(m,A),A.applyMatrix4(r);const I=c.ray.origin.distanceTo(A);if(I<c.near||I>c.far)return;p.push({distance:I,distanceToRay:Math.sqrt(x),point:A,index:e,face:null,faceIndex:null,barycoord:null,object:b})}}class Kh extends ve{constructor(e,t,r,c,p=_i,b=_i,x,A,I){super(e,t,r,c,p,b,x,A,I),this.isVideoTexture=!0,this.generateMipmaps=!1;const H=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function Y(){H.needsUpdate=!0,e.requestVideoFrameCallback(Y)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e==0&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jc extends ve{constructor(e,t,r,c,p,b,x,A,I,H,Y,Z){super(null,b,x,A,I,H,c,p,Y,Z),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Kd extends ve{constructor(e,t,r=ze,c,p,b,x=zr,A=zr,I,H=Gr){if(H!==Gr&&H!==ht)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,c,p,b,x,A,H,r,I),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new $(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Hl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,c=this.getPoint(0),p=0;t.push(0);for(let b=1;b<=e;b++)r=this.getPoint(b/e),p+=r.distanceTo(c),t.push(p),c=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let c=0;const p=r.length;let b;b=t||e*r[p-1];let I,x=0,A=p-1;for(;x<=A;)if(c=Math.floor(x+(A-x)/2),I=r[c]-b,I<0)x=c+1;else{if(!(I>0)){A=c;break}A=c-1}if(c=A,r[c]===b)return c/(p-1);const H=r[c];return(c+(b-H)/(r[c+1]-H))/(p-1)}getTangent(e,t){let c=e-1e-4,p=e+1e-4;c<0&&(c=0),p>1&&(p=1);const b=this.getPoint(c),x=this.getPoint(p),A=t||(b.isVector2?new ln:new Je);return A.copy(x).sub(b).normalize(),A}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new Je,c=[],p=[],b=[],x=new Je,A=new Bi;for(let ie=0;ie<=e;ie++)c[ie]=this.getTangentAt(ie/e,new Je);p[0]=new Je,b[0]=new Je;let I=Number.MAX_VALUE;const H=Math.abs(c[0].x),Y=Math.abs(c[0].y),Z=Math.abs(c[0].z);H<=I&&(I=H,r.set(1,0,0)),Y<=I&&(I=Y,r.set(0,1,0)),Z<=I&&r.set(0,0,1),x.crossVectors(c[0],r).normalize(),p[0].crossVectors(c[0],x),b[0].crossVectors(c[0],p[0]);for(let ie=1;ie<=e;ie++){if(p[ie]=p[ie-1].clone(),b[ie]=b[ie-1].clone(),x.crossVectors(c[ie-1],c[ie]),x.length()>Number.EPSILON){x.normalize();const ae=Math.acos(re(c[ie-1].dot(c[ie]),-1,1));p[ie].applyMatrix4(A.makeRotationAxis(x,ae))}b[ie].crossVectors(c[ie],p[ie])}if(!0===t){let ie=Math.acos(re(p[0].dot(p[e]),-1,1));ie/=e,c[0].dot(x.crossVectors(p[0],p[e]))>0&&(ie=-ie);for(let ae=1;ae<=e;ae++)p[ae].applyMatrix4(A.makeRotationAxis(c[ae],ie*ae)),b[ae].crossVectors(c[ae],p[ae])}return{tangents:c,normals:p,binormals:b}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class yc extends Hl{constructor(e=0,t=0,r=1,c=1,p=0,b=2*Math.PI,x=!1,A=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=c,this.aStartAngle=p,this.aEndAngle=b,this.aClockwise=x,this.aRotation=A}getPoint(e,t=new ln){const r=t,c=2*Math.PI;let p=this.aEndAngle-this.aStartAngle;const b=Math.abs(p)<Number.EPSILON;for(;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(p=b?0:c),!0===this.aClockwise&&!b&&(p===c?p=-c:p-=c);const x=this.aStartAngle+e*p;let A=this.aX+this.xRadius*Math.cos(x),I=this.aY+this.yRadius*Math.sin(x);if(0!==this.aRotation){const H=Math.cos(this.aRotation),Y=Math.sin(this.aRotation),Z=A-this.aX,ie=I-this.aY;A=Z*H-ie*Y+this.aX,I=Z*Y+ie*H+this.aY}return r.set(A,I)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class tu extends yc{constructor(e,t,r,c,p,b){super(e,t,r,r,c,p,b),this.isArcCurve=!0,this.type="ArcCurve"}}function xm(){let m=0,e=0,t=0,r=0;function c(p,b,x,A){m=p,e=x,t=-3*p+3*b-2*x-A,r=2*p-2*b+x+A}return{initCatmullRom:function(p,b,x,A,I){c(b,x,I*(x-p),I*(A-b))},initNonuniformCatmullRom:function(p,b,x,A,I,H,Y){let Z=(b-p)/I-(x-p)/(I+H)+(x-b)/H,ie=(x-b)/H-(A-b)/(H+Y)+(A-x)/Y;Z*=H,ie*=H,c(b,x,Z,ie)},calc:function(p){const b=p*p;return m+e*p+t*b+r*(b*p)}}}const Jd=new Je,$f=new xm,Cm=new xm,Em=new xm;class wm extends Hl{constructor(e=[],t=!1,r="centripetal",c=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=c}getPoint(e,t=new Je){const r=t,c=this.points,p=c.length,b=(p-(this.closed?0:1))*e;let I,H,x=Math.floor(b),A=b-x;this.closed?x+=x>0?0:(Math.floor(Math.abs(x)/p)+1)*p:0===A&&x===p-1&&(x=p-2,A=1),this.closed||x>0?I=c[(x-1)%p]:(Jd.subVectors(c[0],c[1]).add(c[0]),I=Jd);const Y=c[x%p],Z=c[(x+1)%p];if(this.closed||x+2<p?H=c[(x+2)%p]:(Jd.subVectors(c[p-1],c[p-2]).add(c[p-1]),H=Jd),"centripetal"===this.curveType||"chordal"===this.curveType){const ie="chordal"===this.curveType?.5:.25;let ae=Math.pow(I.distanceToSquared(Y),ie),ye=Math.pow(Y.distanceToSquared(Z),ie),le=Math.pow(Z.distanceToSquared(H),ie);ye<1e-4&&(ye=1),ae<1e-4&&(ae=ye),le<1e-4&&(le=ye),$f.initNonuniformCatmullRom(I.x,Y.x,Z.x,H.x,ae,ye,le),Cm.initNonuniformCatmullRom(I.y,Y.y,Z.y,H.y,ae,ye,le),Em.initNonuniformCatmullRom(I.z,Y.z,Z.z,H.z,ae,ye,le)}else"catmullrom"===this.curveType&&($f.initCatmullRom(I.x,Y.x,Z.x,H.x,this.tension),Cm.initCatmullRom(I.y,Y.y,Z.y,H.y,this.tension),Em.initCatmullRom(I.z,Y.z,Z.z,H.z,this.tension));return r.set($f.calc(A),Cm.calc(A),Em.calc(A)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const c=e.points[t];this.points.push((new Je).fromArray(c))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Tm(m,e,t,r,c){const p=.5*(r-e),b=.5*(c-t),x=m*m;return(2*t-2*r+p+b)*(m*x)+(-3*t+3*r-2*p-b)*x+p*m+t}function zu(m,e,t,r){return function o0(m,e){const t=1-m;return t*t*e}(m,e)+function Am(m,e){return 2*(1-m)*m*e}(m,t)+function Gl(m,e){return m*m*e}(m,r)}function hd(m,e,t,r,c){return function cv(m,e){const t=1-m;return t*t*t*e}(m,e)+function Jh(m,e){const t=1-m;return 3*t*t*m*e}(m,t)+function Jl(m,e){return 3*(1-m)*m*m*e}(m,r)+function Wl(m,e){return m*m*m*e}(m,c)}class Qh extends Hl{constructor(e=new ln,t=new ln,r=new ln,c=new ln){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=c}getPoint(e,t=new ln){const r=t,c=this.v0,p=this.v1,b=this.v2,x=this.v3;return r.set(hd(e,c.x,p.x,b.x,x.x),hd(e,c.y,p.y,b.y,x.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uv extends Hl{constructor(e=new Je,t=new Je,r=new Je,c=new Je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=c}getPoint(e,t=new Je){const r=t,c=this.v0,p=this.v1,b=this.v2,x=this.v3;return r.set(hd(e,c.x,p.x,b.x,x.x),hd(e,c.y,p.y,b.y,x.y),hd(e,c.z,p.z,b.z,x.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class qh extends Hl{constructor(e=new ln,t=new ln){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ln){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ln){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dv extends Hl{constructor(e=new Je,t=new Je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Je){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ep extends Hl{constructor(e=new ln,t=new ln,r=new ln){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ln){const r=t,c=this.v0,p=this.v1,b=this.v2;return r.set(zu(e,c.x,p.x,b.x),zu(e,c.y,p.y,b.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tp extends Hl{constructor(e=new Je,t=new Je,r=new Je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Je){const r=t,c=this.v0,p=this.v1,b=this.v2;return r.set(zu(e,c.x,p.x,b.x),zu(e,c.y,p.y,b.y),zu(e,c.z,p.z,b.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class np extends Hl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ln){const r=t,c=this.points,p=(c.length-1)*e,b=Math.floor(p),x=p-b,A=c[0===b?b:b-1],I=c[b],H=c[b>c.length-2?c.length-1:b+1],Y=c[b>c.length-3?c.length-1:b+2];return r.set(Tm(x,A.x,I.x,H.x,Y.x),Tm(x,A.y,I.y,H.y,Y.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const c=e.points[t];this.points.push((new ln).fromArray(c))}return this}}var ip=Object.freeze({__proto__:null,ArcCurve:tu,CatmullRomCurve3:wm,CubicBezierCurve:Qh,CubicBezierCurve3:uv,EllipseCurve:yc,LineCurve:qh,LineCurve3:dv,QuadraticBezierCurve:ep,QuadraticBezierCurve3:tp,SplineCurve:np});class Dm extends Hl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new ip[!0===e.isVector2?"LineCurve":"LineCurve3"](t,e)),this}getPoint(e,t){const r=e*this.getLength(),c=this.getCurveLengths();let p=0;for(;p<c.length;){if(c[p]>=r){const b=c[p]-r,x=this.curves[p],A=x.getLength();return x.getPointAt(0===A?0:1-b/A,t)}p++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,c=this.curves.length;r<c;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let c=0,p=this.curves;c<p.length;c++){const b=p[c],A=b.getPoints(b.isEllipseCurve?2*e:b.isLineCurve||b.isLineCurve3?1:b.isSplineCurve?e*b.points.length:e);for(let I=0;I<A.length;I++){const H=A[I];r&&r.equals(H)||(t.push(H),r=H)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const c=e.curves[t];this.curves.push((new ip[c.type]).fromJSON(c))}return this}}class nu extends Dm{constructor(e){super(),this.type="Path",this.currentPoint=new ln,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new qh(this.currentPoint.clone(),new ln(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,c){const p=new ep(this.currentPoint.clone(),new ln(e,t),new ln(r,c));return this.curves.push(p),this.currentPoint.set(r,c),this}bezierCurveTo(e,t,r,c,p,b){const x=new Qh(this.currentPoint.clone(),new ln(e,t),new ln(r,c),new ln(p,b));return this.curves.push(x),this.currentPoint.set(p,b),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new np(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,c,p,b){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,r,c,p,b),this}absarc(e,t,r,c,p,b){return this.absellipse(e,t,r,r,c,p,b),this}ellipse(e,t,r,c,p,b,x,A){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,r,c,p,b,x,A),this}absellipse(e,t,r,c,p,b,x,A){const I=new yc(e,t,r,c,p,b,x,A);if(this.curves.length>0){const Y=I.getPoint(0);Y.equals(this.currentPoint)||this.lineTo(Y.x,Y.y)}this.curves.push(I);const H=I.getPoint(1);return this.currentPoint.copy(H),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class pd extends Do{constructor(e=[new ln(0,-.5),new ln(.5,0),new ln(0,.5)],t=12,r=0,c=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:c},t=Math.floor(t),c=re(c,0,2*Math.PI);const p=[],b=[],x=[],A=[],I=[],H=1/t,Y=new Je,Z=new ln,ie=new Je,ae=new Je,ye=new Je;let le=0,oe=0;for(let Pe=0;Pe<=e.length-1;Pe++)switch(Pe){case 0:le=e[Pe+1].x-e[Pe].x,oe=e[Pe+1].y-e[Pe].y,ie.x=1*oe,ie.y=-le,ie.z=0*oe,ye.copy(ie),ie.normalize(),A.push(ie.x,ie.y,ie.z);break;case e.length-1:A.push(ye.x,ye.y,ye.z);break;default:le=e[Pe+1].x-e[Pe].x,oe=e[Pe+1].y-e[Pe].y,ie.x=1*oe,ie.y=-le,ie.z=0*oe,ae.copy(ie),ie.x+=ye.x,ie.y+=ye.y,ie.z+=ye.z,ie.normalize(),A.push(ie.x,ie.y,ie.z),ye.copy(ae)}for(let Pe=0;Pe<=t;Pe++){const Te=r+Pe*H*c,we=Math.sin(Te),pt=Math.cos(Te);for(let st=0;st<=e.length-1;st++)Y.x=e[st].x*we,Y.y=e[st].y,Y.z=e[st].x*pt,b.push(Y.x,Y.y,Y.z),Z.x=Pe/t,Z.y=st/(e.length-1),x.push(Z.x,Z.y),I.push(A[3*st+0]*we,A[3*st+1],A[3*st+0]*pt)}for(let Pe=0;Pe<t;Pe++)for(let Te=0;Te<e.length-1;Te++){const we=Te+Pe*e.length,st=we+e.length,ft=we+e.length+1,yt=we+1;p.push(we,st,yt),p.push(ft,yt,st)}this.setIndex(p),this.setAttribute("position",new Sr(b,3)),this.setAttribute("uv",new Sr(x,2)),this.setAttribute("normal",new Sr(I,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pd(e.points,e.segments,e.phiStart,e.phiLength)}}class ju extends pd{constructor(e=1,t=1,r=4,c=8){const p=new nu;p.absarc(0,-t/2,e,1.5*Math.PI,0),p.absarc(0,t/2,e,0,.5*Math.PI),super(p.getPoints(r),c),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:c}}static fromJSON(e){return new ju(e.radius,e.length,e.capSegments,e.radialSegments)}}class hc extends Do{constructor(e=1,t=32,r=0,c=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:c},t=Math.max(3,t);const p=[],b=[],x=[],A=[],I=new Je,H=new ln;b.push(0,0,0),x.push(0,0,1),A.push(.5,.5);for(let Y=0,Z=3;Y<=t;Y++,Z+=3){const ie=r+Y/t*c;I.x=e*Math.cos(ie),I.y=e*Math.sin(ie),b.push(I.x,I.y,I.z),x.push(0,0,1),H.x=(b[Z]/e+1)/2,H.y=(b[Z+1]/e+1)/2,A.push(H.x,H.y)}for(let Y=1;Y<=t;Y++)p.push(Y,Y+1,0);this.setIndex(p),this.setAttribute("position",new Sr(b,3)),this.setAttribute("normal",new Sr(x,3)),this.setAttribute("uv",new Sr(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class md extends Do{constructor(e=1,t=1,r=1,c=32,p=1,b=!1,x=0,A=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:c,heightSegments:p,openEnded:b,thetaStart:x,thetaLength:A};const I=this;c=Math.floor(c),p=Math.floor(p);const H=[],Y=[],Z=[],ie=[];let ae=0;const ye=[],le=r/2;let oe=0;function Te(we){const pt=ae,st=new ln,ft=new Je;let yt=0;const He=!0===we?e:t,ke=!0===we?1:-1;for(let yn=1;yn<=c;yn++)Y.push(0,le*ke,0),Z.push(0,ke,0),ie.push(.5,.5),ae++;const Ct=ae;for(let yn=0;yn<=c;yn++){const wn=yn/c*A+x,jn=Math.cos(wn),xn=Math.sin(wn);ft.x=He*xn,ft.y=le*ke,ft.z=He*jn,Y.push(ft.x,ft.y,ft.z),Z.push(0,ke,0),st.x=.5*jn+.5,st.y=.5*xn*ke+.5,ie.push(st.x,st.y),ae++}for(let yn=0;yn<c;yn++){const un=pt+yn,wn=Ct+yn;!0===we?H.push(wn,wn+1,un):H.push(wn+1,wn,un),yt+=3}I.addGroup(oe,yt,!0===we?1:2),oe+=yt}(function Pe(){const we=new Je,pt=new Je;let st=0;const ft=(t-e)/r;for(let yt=0;yt<=p;yt++){const He=[],ke=yt/p,Ct=ke*(t-e)+e;for(let yn=0;yn<=c;yn++){const un=yn/c,wn=un*A+x,jn=Math.sin(wn),xn=Math.cos(wn);pt.x=Ct*jn,pt.y=-ke*r+le,pt.z=Ct*xn,Y.push(pt.x,pt.y,pt.z),we.set(jn,ft,xn).normalize(),Z.push(we.x,we.y,we.z),ie.push(un,1-ke),He.push(ae++)}ye.push(He)}for(let yt=0;yt<c;yt++)for(let He=0;He<p;He++){const Ct=ye[He+1][yt],yn=ye[He+1][yt+1],un=ye[He][yt+1];(e>0||0!==He)&&(H.push(ye[He][yt],Ct,un),st+=3),(t>0||He!==p-1)&&(H.push(Ct,yn,un),st+=3)}I.addGroup(oe,st,0),oe+=st})(),!1===b&&(e>0&&Te(!0),t>0&&Te(!1)),this.setIndex(H),this.setAttribute("position",new Sr(Y,3)),this.setAttribute("normal",new Sr(Z,3)),this.setAttribute("uv",new Sr(ie,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new md(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xf extends md{constructor(e=1,t=1,r=32,c=1,p=!1,b=0,x=2*Math.PI){super(0,e,t,r,c,p,b,x),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:c,openEnded:p,thetaStart:b,thetaLength:x}}static fromJSON(e){return new Xf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _u extends Do{constructor(e=[],t=[],r=1,c=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:c};const p=[],b=[];function A(Pe,Te,we,pt){const st=pt+1,ft=[];for(let yt=0;yt<=st;yt++){ft[yt]=[];const He=Pe.clone().lerp(we,yt/st),ke=Te.clone().lerp(we,yt/st),Ct=st-yt;for(let yn=0;yn<=Ct;yn++)ft[yt][yn]=0===yn&&yt===st?He:He.clone().lerp(ke,yn/Ct)}for(let yt=0;yt<st;yt++)for(let He=0;He<2*(st-yt)-1;He++){const ke=Math.floor(He/2);He%2==0?(Z(ft[yt][ke+1]),Z(ft[yt+1][ke]),Z(ft[yt][ke])):(Z(ft[yt][ke+1]),Z(ft[yt+1][ke+1]),Z(ft[yt+1][ke]))}}function Z(Pe){p.push(Pe.x,Pe.y,Pe.z)}function ie(Pe,Te){const we=3*Pe;Te.x=e[we+0],Te.y=e[we+1],Te.z=e[we+2]}function ye(Pe,Te,we,pt){pt<0&&1===Pe.x&&(b[Te]=Pe.x-1),0===we.x&&0===we.z&&(b[Te]=pt/2/Math.PI+.5)}function le(Pe){return Math.atan2(Pe.z,-Pe.x)}function oe(Pe){return Math.atan2(-Pe.y,Math.sqrt(Pe.x*Pe.x+Pe.z*Pe.z))}(function x(Pe){const Te=new Je,we=new Je,pt=new Je;for(let st=0;st<t.length;st+=3)ie(t[st+0],Te),ie(t[st+1],we),ie(t[st+2],pt),A(Te,we,pt,Pe)})(c),function I(Pe){const Te=new Je;for(let we=0;we<p.length;we+=3)Te.x=p[we+0],Te.y=p[we+1],Te.z=p[we+2],Te.normalize().multiplyScalar(Pe),p[we+0]=Te.x,p[we+1]=Te.y,p[we+2]=Te.z}(r),function H(){const Pe=new Je;for(let Te=0;Te<p.length;Te+=3){Pe.x=p[Te+0],Pe.y=p[Te+1],Pe.z=p[Te+2];const we=le(Pe)/2/Math.PI+.5,pt=oe(Pe)/Math.PI+.5;b.push(we,1-pt)}(function ae(){const Pe=new Je,Te=new Je,we=new Je,pt=new Je,st=new ln,ft=new ln,yt=new ln;for(let He=0,ke=0;He<p.length;He+=9,ke+=6){Pe.set(p[He+0],p[He+1],p[He+2]),Te.set(p[He+3],p[He+4],p[He+5]),we.set(p[He+6],p[He+7],p[He+8]),st.set(b[ke+0],b[ke+1]),ft.set(b[ke+2],b[ke+3]),yt.set(b[ke+4],b[ke+5]),pt.copy(Pe).add(Te).add(we).divideScalar(3);const Ct=le(pt);ye(st,ke+0,Pe,Ct),ye(ft,ke+2,Te,Ct),ye(yt,ke+4,we,Ct)}})(),function Y(){for(let Pe=0;Pe<b.length;Pe+=6){const Te=b[Pe+0],we=b[Pe+2],pt=b[Pe+4],st=Math.max(Te,we,pt),ft=Math.min(Te,we,pt);st>.9&&ft<.1&&(Te<.2&&(b[Pe+0]+=1),we<.2&&(b[Pe+2]+=1),pt<.2&&(b[Pe+4]+=1))}}()}(),this.setAttribute("position",new Sr(p,3)),this.setAttribute("normal",new Sr(p.slice(),3)),this.setAttribute("uv",new Sr(b,2)),0===c?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _u(e.vertices,e.indices,e.radius,e.details)}}class Yf extends _u{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,c=1/r;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-c,-r,0,-c,r,0,c,-r,0,c,r,-c,-r,0,-c,r,0,c,-r,0,c,r,0,-r,0,-c,r,0,-c,-r,0,c,r,0,c],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yf(e.radius,e.detail)}}const Zf=new Je,Hc=new Je,Qd=new Je,qd=new U;class rp extends Do{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const c=Math.pow(10,4),p=Math.cos(Qo*t),b=e.getIndex(),x=e.getAttribute("position"),A=b?b.count:x.count,I=[0,0,0],H=["a","b","c"],Y=new Array(3),Z={},ie=[];for(let ae=0;ae<A;ae+=3){b?(I[0]=b.getX(ae),I[1]=b.getX(ae+1),I[2]=b.getX(ae+2)):(I[0]=ae,I[1]=ae+1,I[2]=ae+2);const{a:ye,b:le,c:oe}=qd;if(ye.fromBufferAttribute(x,I[0]),le.fromBufferAttribute(x,I[1]),oe.fromBufferAttribute(x,I[2]),qd.getNormal(Qd),Y[0]=`${Math.round(ye.x*c)},${Math.round(ye.y*c)},${Math.round(ye.z*c)}`,Y[1]=`${Math.round(le.x*c)},${Math.round(le.y*c)},${Math.round(le.z*c)}`,Y[2]=`${Math.round(oe.x*c)},${Math.round(oe.y*c)},${Math.round(oe.z*c)}`,Y[0]!==Y[1]&&Y[1]!==Y[2]&&Y[2]!==Y[0])for(let Pe=0;Pe<3;Pe++){const Te=(Pe+1)%3,we=Y[Pe],pt=Y[Te],st=qd[H[Pe]],ft=qd[H[Te]],yt=`${we}_${pt}`,He=`${pt}_${we}`;He in Z&&Z[He]?(Qd.dot(Z[He].normal)<=p&&(ie.push(st.x,st.y,st.z),ie.push(ft.x,ft.y,ft.z)),Z[He]=null):yt in Z||(Z[yt]={index0:I[Pe],index1:I[Te],normal:Qd.clone()})}}for(const ae in Z)if(Z[ae]){const{index0:ye,index1:le}=Z[ae];Zf.fromBufferAttribute(x,ye),Hc.fromBufferAttribute(x,le),ie.push(Zf.x,Zf.y,Zf.z),ie.push(Hc.x,Hc.y,Hc.z)}this.setAttribute("position",new Sr(ie,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class iu extends nu{constructor(e){super(e),this.uuid=_e(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,c=this.holes.length;r<c;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const c=e.holes[t];this.holes.push((new nu).fromJSON(c))}return this}}function fv(m,e,t,r,c){let p;if(c===function nf(m,e,t,r){let c=0;for(let p=e,b=t-r;p<t;p+=r)c+=(m[b]-m[p])*(m[p+1]+m[b+1]),b=p;return c}(m,e,t,r)>0)for(let b=e;b<t;b+=r)p=lp(b/r|0,m[b],m[b+1],p);else for(let b=t-r;b>=e;b-=r)p=lp(b/r|0,m[b],m[b+1],p);return p&&Gu(p,p.next)&&(Xu(p),p=p.next),p}function gd(m,e){if(!m)return m;e||(e=m);let r,t=m;do{if(r=!1,t.steiner||!Gu(t,t.next)&&0!==ll(t.prev,t,t.next))t=t.next;else{if(Xu(t),t=e=t.prev,t===t.next)break;r=!0}}while(r||t!==e);return e}function Kf(m,e,t,r,c,p,b){if(!m)return;!b&&p&&function cc(m,e,t,r){let c=m;do{0===c.z&&(c.z=Jf(c.x,c.y,e,t,r)),c.prevZ=c.prev,c.nextZ=c.next,c=c.next}while(c!==m);c.prevZ.nextZ=null,c.prevZ=null,function Hu(m){let e,t=1;do{let c,r=m;m=null;let p=null;for(e=0;r;){e++;let b=r,x=0;for(let I=0;I<t&&(x++,b=b.nextZ,b);I++);let A=t;for(;x>0||A>0&&b;)0!==x&&(0===A||!b||r.z<=b.z)?(c=r,r=r.nextZ,x--):(c=b,b=b.nextZ,A--),p?p.nextZ=c:m=c,c.prevZ=p,p=c;r=b}p.nextZ=null,t*=2}while(e>1)}(c)}(m,r,c,p);let x=m;for(;m.prev!==m.next;){const A=m.prev,I=m.next;if(p?l0(m,r,c,p):a0(m))e.push(A.i,m.i,I.i),Xu(m),m=I.next,x=I.next;else if((m=I)===x){b?1===b?Kf(m=hv(gd(m),e),e,t,r,c,p,2):2===b&&op(m,e,t,r,c,p):Kf(gd(m),e,t,r,c,p,1);break}}}function a0(m){const e=m.prev,t=m,r=m.next;if(ll(e,t,r)>=0)return!1;const c=e.x,p=t.x,b=r.x,x=e.y,A=t.y,I=r.y,H=Math.min(c,p,b),Y=Math.min(x,A,I),Z=Math.max(c,p,b),ie=Math.max(x,A,I);let ae=r.next;for(;ae!==e;){if(ae.x>=H&&ae.x<=Z&&ae.y>=Y&&ae.y<=ie&&ap(c,x,p,A,b,I,ae.x,ae.y)&&ll(ae.prev,ae,ae.next)>=0)return!1;ae=ae.next}return!0}function l0(m,e,t,r){const c=m.prev,p=m,b=m.next;if(ll(c,p,b)>=0)return!1;const x=c.x,A=p.x,I=b.x,H=c.y,Y=p.y,Z=b.y,ie=Math.min(x,A,I),ae=Math.min(H,Y,Z),ye=Math.max(x,A,I),le=Math.max(H,Y,Z),oe=Jf(ie,ae,e,t,r),Pe=Jf(ye,le,e,t,r);let Te=m.prevZ,we=m.nextZ;for(;Te&&Te.z>=oe&&we&&we.z<=Pe;){if(Te.x>=ie&&Te.x<=ye&&Te.y>=ae&&Te.y<=le&&Te!==c&&Te!==b&&ap(x,H,A,Y,I,Z,Te.x,Te.y)&&ll(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,we.x>=ie&&we.x<=ye&&we.y>=ae&&we.y<=le&&we!==c&&we!==b&&ap(x,H,A,Y,I,Z,we.x,we.y)&&ll(we.prev,we,we.next)>=0))return!1;we=we.nextZ}for(;Te&&Te.z>=oe;){if(Te.x>=ie&&Te.x<=ye&&Te.y>=ae&&Te.y<=le&&Te!==c&&Te!==b&&ap(x,H,A,Y,I,Z,Te.x,Te.y)&&ll(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;we&&we.z<=Pe;){if(we.x>=ie&&we.x<=ye&&we.y>=ae&&we.y<=le&&we!==c&&we!==b&&ap(x,H,A,Y,I,Z,we.x,we.y)&&ll(we.prev,we,we.next)>=0)return!1;we=we.nextZ}return!0}function hv(m,e){let t=m;do{const r=t.prev,c=t.next.next;!Gu(r,c)&&qf(r,t,t.next,c)&&$u(r,c)&&$u(c,r)&&(e.push(r.i,t.i,c.i),Xu(t),Xu(t.next),t=m=c),t=t.next}while(t!==m);return gd(t)}function op(m,e,t,r,c,p){let b=m;do{let x=b.next.next;for(;x!==b.prev;){if(b.i!==x.i&&Qf(b,x)){let A=Om(b,x);return b=gd(b,b.next),A=gd(A,A.next),Kf(b,e,t,r,c,p,0),void Kf(A,e,t,r,c,p,0)}x=x.next}b=b.next}while(b!==m)}function Pm(m,e){let t=m.x-e.x;return 0===t&&(t=m.y-e.y,0===t)&&(t=(m.next.y-m.y)/(m.next.x-m.x)-(e.next.y-e.y)/(e.next.x-e.x)),t}function c0(m,e){const t=function u0(m,e){let t=e;const r=m.x,c=m.y;let b,p=-1/0;if(Gu(m,t))return t;do{if(Gu(m,t.next))return t.next;if(c<=t.y&&c>=t.next.y&&t.next.y!==t.y){const Y=t.x+(c-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(Y<=r&&Y>p&&(p=Y,b=t.x<t.next.x?t:t.next,Y===r))return b}t=t.next}while(t!==e);if(!b)return null;const x=b,A=b.x,I=b.y;let H=1/0;t=b;do{if(r>=t.x&&t.x>=A&&r!==t.x&&pv(c<I?r:p,c,A,I,c<I?p:r,c,t.x,t.y)){const Y=Math.abs(c-t.y)/(r-t.x);$u(t,m)&&(Y<H||Y===H&&(t.x>b.x||t.x===b.x&&ef(b,t)))&&(b=t,H=Y)}t=t.next}while(t!==x);return b}(m,e);if(!t)return e;const r=Om(t,m);return gd(r,r.next),gd(t,t.next)}function ef(m,e){return ll(m.prev,m,e.prev)<0&&ll(e.next,m,m.next)<0}function Jf(m,e,t,r,c){return(m=1431655765&((m=858993459&((m=252645135&((m=16711935&((m=(m-t)*c|0)|m<<8))|m<<4))|m<<2))|m<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*c|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Im(m){let e=m,t=m;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==m);return t}function pv(m,e,t,r,c,p,b,x){return(c-b)*(e-x)>=(m-b)*(p-x)&&(m-b)*(r-x)>=(t-b)*(e-x)&&(t-b)*(p-x)>=(c-b)*(r-x)}function ap(m,e,t,r,c,p,b,x){return!(m===b&&e===x)&&pv(m,e,t,r,c,p,b,x)}function Qf(m,e){return m.next.i!==e.i&&m.prev.i!==e.i&&!function mv(m,e){let t=m;do{if(t.i!==m.i&&t.next.i!==m.i&&t.i!==e.i&&t.next.i!==e.i&&qf(t,t.next,m,e))return!0;t=t.next}while(t!==m);return!1}(m,e)&&($u(m,e)&&$u(e,m)&&function eh(m,e){let t=m,r=!1;const c=(m.x+e.x)/2,p=(m.y+e.y)/2;do{t.y>p!=t.next.y>p&&t.next.y!==t.y&&c<(t.next.x-t.x)*(p-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==m);return r}(m,e)&&(ll(m.prev,m,e.prev)||ll(m,e.prev,e))||Gu(m,e)&&ll(m.prev,m,m.next)>0&&ll(e.prev,e,e.next)>0)}function ll(m,e,t){return(e.y-m.y)*(t.x-e.x)-(e.x-m.x)*(t.y-e.y)}function Gu(m,e){return m.x===e.x&&m.y===e.y}function qf(m,e,t,r){const c=tf(ll(m,e,t)),p=tf(ll(m,e,r)),b=tf(ll(t,r,m)),x=tf(ll(t,r,e));return!!(c!==p&&b!==x||0===c&&Wu(m,t,e)||0===p&&Wu(m,r,e)||0===b&&Wu(t,m,r)||0===x&&Wu(t,e,r))}function Wu(m,e,t){return e.x<=Math.max(m.x,t.x)&&e.x>=Math.min(m.x,t.x)&&e.y<=Math.max(m.y,t.y)&&e.y>=Math.min(m.y,t.y)}function tf(m){return m>0?1:m<0?-1:0}function $u(m,e){return ll(m.prev,m,m.next)<0?ll(m,e,m.next)>=0&&ll(m,m.prev,e)>=0:ll(m,e,m.prev)<0||ll(m,m.next,e)<0}function Om(m,e){const t=cp(m.i,m.x,m.y),r=cp(e.i,e.x,e.y),c=m.next,p=e.prev;return m.next=e,e.prev=m,t.next=c,c.prev=t,r.next=t,t.prev=r,p.next=r,r.prev=p,r}function lp(m,e,t,r){const c=cp(m,e,t);return r?(c.next=r.next,c.prev=r,r.next.prev=c,r.next=c):(c.prev=c,c.next=c),c}function Xu(m){m.next.prev=m.prev,m.prev.next=m.next,m.prevZ&&(m.prevZ.nextZ=m.nextZ),m.nextZ&&(m.nextZ.prevZ=m.prevZ)}function cp(m,e,t){return{i:m,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class th{static triangulate(e,t,r=2){return function s0(m,e,t=2){const r=e&&e.length,c=r?e[0]*t:m.length;let p=fv(m,0,c,t,!0);const b=[];if(!p||p.next===p.prev)return b;let x,A,I;if(r&&(p=function sp(m,e,t,r){const c=[];for(let p=0,b=e.length;p<b;p++){const I=fv(m,e[p]*r,p<b-1?e[p+1]*r:m.length,r,!1);I===I.next&&(I.steiner=!0),c.push(Im(I))}c.sort(Pm);for(let p=0;p<c.length;p++)t=c0(c[p],t);return t}(m,e,p,t)),m.length>80*t){x=1/0,A=1/0;let H=-1/0,Y=-1/0;for(let Z=t;Z<c;Z+=t){const ie=m[Z],ae=m[Z+1];ie<x&&(x=ie),ae<A&&(A=ae),ie>H&&(H=ie),ae>Y&&(Y=ae)}I=Math.max(H-x,Y-A),I=0!==I?32767/I:0}return Kf(p,b,t,x,A,I,0),b}(e,t,r)}}class _c{static area(e){const t=e.length;let r=0;for(let c=t-1,p=0;p<t;c=p++)r+=e[c].x*e[p].y-e[p].x*e[c].y;return.5*r}static isClockWise(e){return _c.area(e)<0}static triangulateShape(e,t){const r=[],c=[],p=[];Rm(e),gv(r,e);let b=e.length;t.forEach(Rm);for(let A=0;A<t.length;A++)c.push(b),b+=t[A].length,gv(r,t[A]);const x=th.triangulate(r,c);for(let A=0;A<x.length;A+=3)p.push(x.slice(A,A+3));return p}}function Rm(m){const e=m.length;e>2&&m[e-1].equals(m[0])&&m.pop()}function gv(m,e){for(let t=0;t<e.length;t++)m.push(e[t].x),m.push(e[t].y)}class up extends Do{constructor(e=new iu([new ln(.5,.5),new ln(-.5,.5),new ln(-.5,-.5),new ln(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,c=[],p=[];for(let x=0,A=e.length;x<A;x++)b(e[x]);function b(x){const A=[],I=void 0!==t.curveSegments?t.curveSegments:12,H=void 0!==t.steps?t.steps:1,Y=void 0!==t.depth?t.depth:1;let Z=void 0===t.bevelEnabled||t.bevelEnabled,ie=void 0!==t.bevelThickness?t.bevelThickness:.2,ae=void 0!==t.bevelSize?t.bevelSize:ie-.1,ye=void 0!==t.bevelOffset?t.bevelOffset:0,le=void 0!==t.bevelSegments?t.bevelSegments:3;const oe=t.extrudePath,Pe=void 0!==t.UVGenerator?t.UVGenerator:d0;let Te,pt,st,ft,yt,we=!1;oe&&(Te=oe.getSpacedPoints(H),we=!0,Z=!1,pt=oe.computeFrenetFrames(H,!1),st=new Je,ft=new Je,yt=new Je),Z||(le=0,ie=0,ae=0,ye=0);const He=x.extractPoints(I);let ke=He.shape;const Ct=He.holes;if(!_c.isClockWise(ke)){ke=ke.reverse();for(let Wn=0,Yn=Ct.length;Wn<Yn;Wn++){const Ln=Ct[Wn];_c.isClockWise(Ln)&&(Ct[Wn]=Ln.reverse())}}function un(Wn){let Ii=Wn[0];for(let kn=1;kn<=Wn.length;kn++){const tt=kn%Wn.length,Fe=Wn[tt],Zt=Fe.x-Ii.x,Mn=Fe.y-Ii.y,Un=Zt*Zt+Mn*Mn,An=Math.max(Math.abs(Fe.x),Math.abs(Fe.y),Math.abs(Ii.x),Math.abs(Ii.y));Un<=1.0000000000000001e-20*An*An?(Wn.splice(tt,1),kn--):Ii=Fe}}un(ke),Ct.forEach(un);const wn=Ct.length,jn=ke;for(let Wn=0;Wn<wn;Wn++)ke=ke.concat(Ct[Wn]);function xn(Wn,Yn,Ln){return Yn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Wn.clone().addScaledVector(Yn,Ln)}const si=ke.length;function Cn(Wn,Yn,Ln){let Ii,kn,tt;const Fe=Wn.x-Yn.x,Zt=Wn.y-Yn.y,Mn=Ln.x-Wn.x,Un=Ln.y-Wn.y,An=Fe*Fe+Zt*Zt;if(Math.abs(Fe*Un-Zt*Mn)>Number.EPSILON){const yi=Math.sqrt(An),cr=Math.sqrt(Mn*Mn+Un*Un),Fs=Yn.x-Zt/yi,ai=Yn.y+Fe/yi,Po=((Ln.x-Un/cr-Fs)*Un-(Ln.y+Mn/cr-ai)*Mn)/(Fe*Un-Zt*Mn);Ii=Fs+Fe*Po-Wn.x,kn=ai+Zt*Po-Wn.y;const ur=Ii*Ii+kn*kn;if(ur<=2)return new ln(Ii,kn);tt=Math.sqrt(ur/2)}else{let yi=!1;Fe>Number.EPSILON?Mn>Number.EPSILON&&(yi=!0):Fe<-Number.EPSILON?Mn<-Number.EPSILON&&(yi=!0):Math.sign(Zt)===Math.sign(Un)&&(yi=!0),yi?(Ii=-Zt,kn=Fe,tt=Math.sqrt(An)):(Ii=Fe,kn=Zt,tt=Math.sqrt(An/2))}return new ln(Ii/tt,kn/tt)}const Ni=[];for(let Wn=0,Yn=jn.length,Ln=Yn-1,Ii=Wn+1;Wn<Yn;Wn++,Ln++,Ii++)Ln===Yn&&(Ln=0),Ii===Yn&&(Ii=0),Ni[Wn]=Cn(jn[Wn],jn[Ln],jn[Ii]);const rr=[];let Tr,qo=Ni.concat();for(let Wn=0,Yn=wn;Wn<Yn;Wn++){const Ln=Ct[Wn];Tr=[];for(let Ii=0,kn=Ln.length,tt=kn-1,Fe=Ii+1;Ii<kn;Ii++,tt++,Fe++)tt===kn&&(tt=0),Fe===kn&&(Fe=0),Tr[Ii]=Cn(Ln[Ii],Ln[tt],Ln[Fe]);rr.push(Tr),qo=qo.concat(Tr)}const _a=[],Vn=[];for(let Wn=0;Wn<le;Wn++){const Yn=Wn/le,Ln=ie*Math.cos(Yn*Math.PI/2),Ii=ae*Math.sin(Yn*Math.PI/2)+ye;for(let kn=0,tt=jn.length;kn<tt;kn++){const Fe=xn(jn[kn],Ni[kn],Ii);fa(Fe.x,Fe.y,-Ln),0==Yn&&_a.push(Fe)}for(let kn=0,tt=wn;kn<tt;kn++){const Fe=Ct[kn];Tr=rr[kn];const Zt=[];for(let Mn=0,Un=Fe.length;Mn<Un;Mn++){const An=xn(Fe[Mn],Tr[Mn],Ii);fa(An.x,An.y,-Ln),0==Yn&&Zt.push(An)}0==Yn&&Vn.push(Zt)}}const gi=_c.triangulateShape(_a,Vn),Pr=gi.length,Li=ae+ye;for(let Wn=0;Wn<si;Wn++){const Yn=Z?xn(ke[Wn],qo[Wn],Li):ke[Wn];we?(ft.copy(pt.normals[0]).multiplyScalar(Yn.x),st.copy(pt.binormals[0]).multiplyScalar(Yn.y),yt.copy(Te[0]).add(ft).add(st),fa(yt.x,yt.y,yt.z)):fa(Yn.x,Yn.y,0)}for(let Wn=1;Wn<=H;Wn++)for(let Yn=0;Yn<si;Yn++){const Ln=Z?xn(ke[Yn],qo[Yn],Li):ke[Yn];we?(ft.copy(pt.normals[Wn]).multiplyScalar(Ln.x),st.copy(pt.binormals[Wn]).multiplyScalar(Ln.y),yt.copy(Te[Wn]).add(ft).add(st),fa(yt.x,yt.y,yt.z)):fa(Ln.x,Ln.y,Y/H*Wn)}for(let Wn=le-1;Wn>=0;Wn--){const Yn=Wn/le,Ln=ie*Math.cos(Yn*Math.PI/2),Ii=ae*Math.sin(Yn*Math.PI/2)+ye;for(let kn=0,tt=jn.length;kn<tt;kn++){const Fe=xn(jn[kn],Ni[kn],Ii);fa(Fe.x,Fe.y,Y+Ln)}for(let kn=0,tt=Ct.length;kn<tt;kn++){const Fe=Ct[kn];Tr=rr[kn];for(let Zt=0,Mn=Fe.length;Zt<Mn;Zt++){const Un=xn(Fe[Zt],Tr[Zt],Ii);we?fa(Un.x,Un.y+Te[H-1].y,Te[H-1].x+Ln):fa(Un.x,Un.y,Y+Ln)}}}function fo(Wn,Yn){let Ln=Wn.length;for(;--Ln>=0;){const Ii=Ln;let kn=Ln-1;kn<0&&(kn=Wn.length-1);for(let tt=0,Fe=H+2*le;tt<Fe;tt++){const Zt=si*tt,Mn=si*(tt+1);Os(Yn+Ii+Zt,Yn+kn+Zt,Yn+kn+Mn,Yn+Ii+Mn)}}}function fa(Wn,Yn,Ln){A.push(Wn),A.push(Yn),A.push(Ln)}function Ua(Wn,Yn,Ln){wt(Wn),wt(Yn),wt(Ln);const Ii=c.length/3,kn=Pe.generateTopUV(r,c,Ii-3,Ii-2,Ii-1);xl(kn[0]),xl(kn[1]),xl(kn[2])}function Os(Wn,Yn,Ln,Ii){wt(Wn),wt(Yn),wt(Ii),wt(Yn),wt(Ln),wt(Ii);const kn=c.length/3,tt=Pe.generateSideWallUV(r,c,kn-6,kn-3,kn-2,kn-1);xl(tt[0]),xl(tt[1]),xl(tt[3]),xl(tt[1]),xl(tt[2]),xl(tt[3])}function wt(Wn){c.push(A[3*Wn+0]),c.push(A[3*Wn+1]),c.push(A[3*Wn+2])}function xl(Wn){p.push(Wn.x),p.push(Wn.y)}(function go(){const Wn=c.length/3;if(Z){let Yn=0,Ln=si*Yn;for(let Ii=0;Ii<Pr;Ii++){const kn=gi[Ii];Ua(kn[2]+Ln,kn[1]+Ln,kn[0]+Ln)}Yn=H+2*le,Ln=si*Yn;for(let Ii=0;Ii<Pr;Ii++){const kn=gi[Ii];Ua(kn[0]+Ln,kn[1]+Ln,kn[2]+Ln)}}else{for(let Yn=0;Yn<Pr;Yn++){const Ln=gi[Yn];Ua(Ln[2],Ln[1],Ln[0])}for(let Yn=0;Yn<Pr;Yn++){const Ln=gi[Yn];Ua(Ln[0]+si*H,Ln[1]+si*H,Ln[2]+si*H)}}r.addGroup(Wn,c.length/3-Wn,0)})(),function zs(){const Wn=c.length/3;let Yn=0;fo(jn,Yn),Yn+=jn.length;for(let Ln=0,Ii=Ct.length;Ln<Ii;Ln++){const kn=Ct[Ln];fo(kn,Yn),Yn+=kn.length}r.addGroup(Wn,c.length/3-Wn,1)}()}this.setAttribute("position",new Sr(c,3)),this.setAttribute("uv",new Sr(p,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function vv(m,e,t){if(t.shapes=[],Array.isArray(m))for(let r=0,c=m.length;r<c;r++)t.shapes.push(m[r].uuid);else t.shapes.push(m.uuid);return t.options=Object.assign({},e),void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const r=[];for(let p=0,b=e.shapes.length;p<b;p++)r.push(t[e.shapes[p]]);const c=e.options.extrudePath;return void 0!==c&&(e.options.extrudePath=(new ip[c.type]).fromJSON(c)),new up(r,e.options)}}const d0={generateTopUV:function(m,e,t,r,c){const x=e[3*r],A=e[3*r+1],I=e[3*c],H=e[3*c+1];return[new ln(e[3*t],e[3*t+1]),new ln(x,A),new ln(I,H)]},generateSideWallUV:function(m,e,t,r,c,p){const b=e[3*t],x=e[3*t+1],A=e[3*t+2],I=e[3*r],H=e[3*r+1],Y=e[3*r+2],Z=e[3*c],ie=e[3*c+1],ae=e[3*c+2],ye=e[3*p],le=e[3*p+1],oe=e[3*p+2];return Math.abs(x-H)<Math.abs(b-I)?[new ln(b,1-A),new ln(I,1-Y),new ln(Z,1-ae),new ln(ye,1-oe)]:[new ln(x,1-A),new ln(H,1-Y),new ln(ie,1-ae),new ln(le,1-oe)]}};class nh extends _u{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nh(e.radius,e.detail)}}class Yu extends _u{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yu(e.radius,e.detail)}}class Zu extends Do{constructor(e=1,t=1,r=1,c=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:c};const p=e/2,b=t/2,x=Math.floor(r),A=Math.floor(c),I=x+1,H=A+1,Y=e/x,Z=t/A,ie=[],ae=[],ye=[],le=[];for(let oe=0;oe<H;oe++){const Pe=oe*Z-b;for(let Te=0;Te<I;Te++)ae.push(Te*Y-p,-Pe,0),ye.push(0,0,1),le.push(Te/x),le.push(1-oe/A)}for(let oe=0;oe<A;oe++)for(let Pe=0;Pe<x;Pe++){const we=Pe+I*(oe+1),pt=Pe+1+I*(oe+1),st=Pe+1+I*oe;ie.push(Pe+I*oe,we,st),ie.push(we,pt,st)}this.setIndex(ie),this.setAttribute("position",new Sr(ae,3)),this.setAttribute("normal",new Sr(ye,3)),this.setAttribute("uv",new Sr(le,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zu(e.width,e.height,e.widthSegments,e.heightSegments)}}class bu extends Do{constructor(e=.5,t=1,r=32,c=1,p=0,b=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:c,thetaStart:p,thetaLength:b},r=Math.max(3,r);const x=[],A=[],I=[],H=[];let Y=e;const Z=(t-e)/(c=Math.max(1,c)),ie=new Je,ae=new ln;for(let ye=0;ye<=c;ye++){for(let le=0;le<=r;le++){const oe=p+le/r*b;ie.x=Y*Math.cos(oe),ie.y=Y*Math.sin(oe),A.push(ie.x,ie.y,ie.z),I.push(0,0,1),ae.x=(ie.x/t+1)/2,ae.y=(ie.y/t+1)/2,H.push(ae.x,ae.y)}Y+=Z}for(let ye=0;ye<c;ye++){const le=ye*(r+1);for(let oe=0;oe<r;oe++){const Pe=oe+le,we=Pe+r+1,pt=Pe+r+2,st=Pe+1;x.push(Pe,we,st),x.push(we,pt,st)}}this.setIndex(x),this.setAttribute("position",new Sr(A,3)),this.setAttribute("normal",new Sr(I,3)),this.setAttribute("uv",new Sr(H,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dp extends Do{constructor(e=new iu([new ln(0,.5),new ln(-.5,-.5),new ln(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],c=[],p=[],b=[];let x=0,A=0;if(!1===Array.isArray(e))I(e);else for(let H=0;H<e.length;H++)I(e[H]),this.addGroup(x,A,H),x+=A,A=0;function I(H){const Y=c.length/3,Z=H.extractPoints(t);let ie=Z.shape;const ae=Z.holes;!1===_c.isClockWise(ie)&&(ie=ie.reverse());for(let le=0,oe=ae.length;le<oe;le++){const Pe=ae[le];!0===_c.isClockWise(Pe)&&(ae[le]=Pe.reverse())}const ye=_c.triangulateShape(ie,ae);for(let le=0,oe=ae.length;le<oe;le++)ie=ie.concat(ae[le]);for(let le=0,oe=ie.length;le<oe;le++){const Pe=ie[le];c.push(Pe.x,Pe.y,0),p.push(0,0,1),b.push(Pe.x,Pe.y)}for(let le=0,oe=ye.length;le<oe;le++){const Pe=ye[le];r.push(Pe[0]+Y,Pe[1]+Y,Pe[2]+Y),A+=3}}this.setIndex(r),this.setAttribute("position",new Sr(c,3)),this.setAttribute("normal",new Sr(p,3)),this.setAttribute("uv",new Sr(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function rf(m,e){if(e.shapes=[],Array.isArray(m))for(let t=0,r=m.length;t<r;t++)e.shapes.push(m[t].uuid);else e.shapes.push(m.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const r=[];for(let c=0,p=e.shapes.length;c<p;c++)r.push(t[e.shapes[c]]);return new dp(r,e.curveSegments)}}class vd extends Do{constructor(e=1,t=32,r=16,c=0,p=2*Math.PI,b=0,x=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:c,phiLength:p,thetaStart:b,thetaLength:x},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const A=Math.min(b+x,Math.PI);let I=0;const H=[],Y=new Je,Z=new Je,ie=[],ae=[],ye=[],le=[];for(let oe=0;oe<=r;oe++){const Pe=[],Te=oe/r;let we=0;0===oe&&0===b?we=.5/t:oe===r&&A===Math.PI&&(we=-.5/t);for(let pt=0;pt<=t;pt++){const st=pt/t;Y.x=-e*Math.cos(c+st*p)*Math.sin(b+Te*x),Y.y=e*Math.cos(b+Te*x),Y.z=e*Math.sin(c+st*p)*Math.sin(b+Te*x),ae.push(Y.x,Y.y,Y.z),Z.copy(Y).normalize(),ye.push(Z.x,Z.y,Z.z),le.push(st+we,1-Te),Pe.push(I++)}H.push(Pe)}for(let oe=0;oe<r;oe++)for(let Pe=0;Pe<t;Pe++){const we=H[oe][Pe],pt=H[oe+1][Pe],st=H[oe+1][Pe+1];(0!==oe||b>0)&&ie.push(H[oe][Pe+1],we,st),(oe!==r-1||A<Math.PI)&&ie.push(we,pt,st)}this.setIndex(ie),this.setAttribute("position",new Sr(ae,3)),this.setAttribute("normal",new Sr(ye,3)),this.setAttribute("uv",new Sr(le,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ih extends _u{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ih(e.radius,e.detail)}}class of extends Do{constructor(e=1,t=.4,r=12,c=48,p=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:c,arc:p},r=Math.floor(r),c=Math.floor(c);const b=[],x=[],A=[],I=[],H=new Je,Y=new Je,Z=new Je;for(let ie=0;ie<=r;ie++)for(let ae=0;ae<=c;ae++){const ye=ae/c*p,le=ie/r*Math.PI*2;Y.x=(e+t*Math.cos(le))*Math.cos(ye),Y.y=(e+t*Math.cos(le))*Math.sin(ye),Y.z=t*Math.sin(le),x.push(Y.x,Y.y,Y.z),H.x=e*Math.cos(ye),H.y=e*Math.sin(ye),Z.subVectors(Y,H).normalize(),A.push(Z.x,Z.y,Z.z),I.push(ae/c),I.push(ie/r)}for(let ie=1;ie<=r;ie++)for(let ae=1;ae<=c;ae++){const le=(c+1)*(ie-1)+ae-1,oe=(c+1)*(ie-1)+ae,Pe=(c+1)*ie+ae;b.push((c+1)*ie+ae-1,le,Pe),b.push(le,oe,Pe)}this.setIndex(b),this.setAttribute("position",new Sr(x,3)),this.setAttribute("normal",new Sr(A,3)),this.setAttribute("uv",new Sr(I,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new of(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fp extends Do{constructor(e=1,t=.4,r=64,c=8,p=2,b=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:c,p,q:b},r=Math.floor(r),c=Math.floor(c);const x=[],A=[],I=[],H=[],Y=new Je,Z=new Je,ie=new Je,ae=new Je,ye=new Je,le=new Je,oe=new Je;for(let Te=0;Te<=r;++Te){const we=Te/r*p*Math.PI*2;Pe(we,p,b,e,ie),Pe(we+.01,p,b,e,ae),le.subVectors(ae,ie),oe.addVectors(ae,ie),ye.crossVectors(le,oe),oe.crossVectors(ye,le),ye.normalize(),oe.normalize();for(let pt=0;pt<=c;++pt){const st=pt/c*Math.PI*2,ft=-t*Math.cos(st),yt=t*Math.sin(st);Y.x=ie.x+(ft*oe.x+yt*ye.x),Y.y=ie.y+(ft*oe.y+yt*ye.y),Y.z=ie.z+(ft*oe.z+yt*ye.z),A.push(Y.x,Y.y,Y.z),Z.subVectors(Y,ie).normalize(),I.push(Z.x,Z.y,Z.z),H.push(Te/r),H.push(pt/c)}}for(let Te=1;Te<=r;Te++)for(let we=1;we<=c;we++){const st=(c+1)*Te+(we-1),ft=(c+1)*Te+we,yt=(c+1)*(Te-1)+we;x.push((c+1)*(Te-1)+(we-1),st,yt),x.push(st,ft,yt)}function Pe(Te,we,pt,st,ft){const yt=Math.cos(Te),He=Math.sin(Te),ke=pt/we*Te,Ct=Math.cos(ke);ft.x=st*(2+Ct)*.5*yt,ft.y=st*(2+Ct)*He*.5,ft.z=st*Math.sin(ke)*.5}this.setIndex(x),this.setAttribute("position",new Sr(A,3)),this.setAttribute("normal",new Sr(I,3)),this.setAttribute("uv",new Sr(H,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Mu extends Do{constructor(e=new tp(new Je(-1,-1,0),new Je(-1,1,0),new Je(1,1,0)),t=64,r=1,c=8,p=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:c,closed:p};const b=e.computeFrenetFrames(t,p);this.tangents=b.tangents,this.normals=b.normals,this.binormals=b.binormals;const x=new Je,A=new Je,I=new ln;let H=new Je;const Y=[],Z=[],ie=[],ae=[];function le(Te){H=e.getPointAt(Te/t,H);const we=b.normals[Te],pt=b.binormals[Te];for(let st=0;st<=c;st++){const ft=st/c*Math.PI*2,yt=Math.sin(ft),He=-Math.cos(ft);A.x=He*we.x+yt*pt.x,A.y=He*we.y+yt*pt.y,A.z=He*we.z+yt*pt.z,A.normalize(),Z.push(A.x,A.y,A.z),x.x=H.x+r*A.x,x.y=H.y+r*A.y,x.z=H.z+r*A.z,Y.push(x.x,x.y,x.z)}}(function ye(){for(let Te=0;Te<t;Te++)le(Te);le(!1===p?t:0),function Pe(){for(let Te=0;Te<=t;Te++)for(let we=0;we<=c;we++)I.x=Te/t,I.y=we/c,ie.push(I.x,I.y)}(),function oe(){for(let Te=1;Te<=t;Te++)for(let we=1;we<=c;we++){const st=(c+1)*Te+(we-1),ft=(c+1)*Te+we,yt=(c+1)*(Te-1)+we;ae.push((c+1)*(Te-1)+(we-1),st,yt),ae.push(st,ft,yt)}}()})(),this.setIndex(ae),this.setAttribute("position",new Sr(Y,3)),this.setAttribute("normal",new Sr(Z,3)),this.setAttribute("uv",new Sr(ie,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Mu((new ip[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rh extends Do{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],r=new Set,c=new Je,p=new Je;if(null!==e.index){const b=e.attributes.position,x=e.index;let A=e.groups;0===A.length&&(A=[{start:0,count:x.count,materialIndex:0}]);for(let I=0,H=A.length;I<H;++I){const Y=A[I],Z=Y.start;for(let ae=Z,ye=Z+Y.count;ae<ye;ae+=3)for(let le=0;le<3;le++){const oe=x.getX(ae+le),Pe=x.getX(ae+(le+1)%3);c.fromBufferAttribute(b,oe),p.fromBufferAttribute(b,Pe),!0===hp(c,p,r)&&(t.push(c.x,c.y,c.z),t.push(p.x,p.y,p.z))}}}else{const b=e.attributes.position;for(let x=0,A=b.count/3;x<A;x++)for(let I=0;I<3;I++){const Y=3*x+(I+1)%3;c.fromBufferAttribute(b,3*x+I),p.fromBufferAttribute(b,Y),!0===hp(c,p,r)&&(t.push(c.x,c.y,c.z),t.push(p.x,p.y,p.z))}}this.setAttribute("position",new Sr(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hp(m,e,t){const r=`${m.x},${m.y},${m.z}-${e.x},${e.y},${e.z}`,c=`${e.x},${e.y},${e.z}-${m.x},${m.y},${m.z}`;return!0!==t.has(r)&&!0!==t.has(c)&&(t.add(r),t.add(c),!0)}var Fm=Object.freeze({__proto__:null,BoxGeometry:Fc,CapsuleGeometry:ju,CircleGeometry:hc,ConeGeometry:Xf,CylinderGeometry:md,DodecahedronGeometry:Yf,EdgesGeometry:rp,ExtrudeGeometry:up,IcosahedronGeometry:nh,LatheGeometry:pd,OctahedronGeometry:Yu,PlaneGeometry:Zu,PolyhedronGeometry:_u,RingGeometry:bu,ShapeGeometry:dp,SphereGeometry:vd,TetrahedronGeometry:ih,TorusGeometry:of,TorusKnotGeometry:fp,TubeGeometry:Mu,WireframeGeometry:rh});class Nm extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Lm extends nc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ru extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Be,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yv extends ru{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ln(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return re(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _v extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Be,this.combine=Lo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yd extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class bv extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class oh extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Be,this.combine=Lo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oc extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ku extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class km extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sf extends jl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function _d(m,e){return m&&m.constructor!==e?"number"==typeof e.BYTES_PER_ELEMENT?new e(m):Array.prototype.slice.call(m):m}function Mv(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function Sv(m){const t=m.length,r=new Array(t);for(let c=0;c!==t;++c)r[c]=c;return r.sort(function e(c,p){return m[c]-m[p]}),r}function Um(m,e,t){const r=m.length,c=new m.constructor(r);for(let p=0,b=0;b!==r;++p){const x=t[p]*e;for(let A=0;A!==e;++A)c[b++]=m[x+A]}return c}function pp(m,e,t,r){let c=1,p=m[0];for(;void 0!==p&&void 0===p[r];)p=m[c++];if(void 0===p)return;let b=p[r];if(void 0!==b)if(Array.isArray(b))do{b=p[r],void 0!==b&&(e.push(p.time),t.push(...b)),p=m[c++]}while(void 0!==p);else if(void 0!==b.toArray)do{b=p[r],void 0!==b&&(e.push(p.time),b.toArray(t,t.length)),p=m[c++]}while(void 0!==p);else do{b=p[r],void 0!==b&&(e.push(p.time),t.push(b)),p=m[c++]}while(void 0!==p)}class af{constructor(e,t,r,c){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==c?c:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,c=t[r],p=t[r-1];e:{t:{let b;n:{i:if(!(e<c)){for(let x=r+2;;){if(void 0===c){if(e<p)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===x)break;if(p=c,c=t[++r],e<c)break t}b=t.length;break n}if(e>=p)break e;{const x=t[1];e<x&&(r=2,p=x);for(let A=r-2;;){if(void 0===p)return this._cachedIndex=0,this.copySampleValue_(0);if(r===A)break;if(c=p,p=t[--r-1],e>=p)break t}b=r,r=0}}for(;r<b;){const x=r+b>>>1;e<t[x]?b=x:r=x+1}if(c=t[r],p=t[r-1],void 0===p)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===c)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,p,c)}return this.interpolate_(r,p,e,c)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,c=this.valueSize,p=e*c;for(let b=0;b!==c;++b)t[b]=r[p+b];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sh extends af{constructor(e,t,r,c){super(e,t,r,c),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Oa,endingEnd:Oa}}intervalChanged_(e,t,r){const c=this.parameterPositions;let p=e-2,b=e+1,x=c[p],A=c[b];if(void 0===x)switch(this.getSettings_().endingStart){case so:p=e,x=2*t-r;break;case vl:p=c.length-2,x=t+c[p]-c[p+1];break;default:p=e,x=r}if(void 0===A)switch(this.getSettings_().endingEnd){case so:b=e,A=2*r-t;break;case vl:b=1,A=r+c[1]-c[0];break;default:b=e-1,A=t}const I=.5*(r-t),H=this.valueSize;this._weightPrev=I/(t-x),this._weightNext=I/(A-r),this._offsetPrev=p*H,this._offsetNext=b*H}interpolate_(e,t,r,c){const p=this.resultBuffer,b=this.sampleValues,x=this.valueSize,A=e*x,I=A-x,H=this._offsetPrev,Y=this._offsetNext,Z=this._weightPrev,ie=this._weightNext,ae=(r-t)/(c-t),ye=ae*ae,le=ye*ae,oe=-Z*le+2*Z*ye-Z*ae,Pe=(1+Z)*le+(-1.5-2*Z)*ye+(-.5+Z)*ae+1,Te=(-1-ie)*le+(1.5+ie)*ye+.5*ae,we=ie*le-ie*ye;for(let pt=0;pt!==x;++pt)p[pt]=oe*b[H+pt]+Pe*b[I+pt]+Te*b[A+pt]+we*b[Y+pt];return p}}class pc extends af{constructor(e,t,r,c){super(e,t,r,c)}interpolate_(e,t,r,c){const p=this.resultBuffer,b=this.sampleValues,x=this.valueSize,A=e*x,I=A-x,H=(r-t)/(c-t),Y=1-H;for(let Z=0;Z!==x;++Z)p[Z]=b[I+Z]*Y+b[A+Z]*H;return p}}class lf extends af{constructor(e,t,r,c){super(e,t,r,c)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ul{constructor(e,t,r,c){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_d(t,this.TimeBufferType),this.values=_d(r,this.ValueBufferType),this.setInterpolation(c||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:_d(e.times,Array),values:_d(e.values,Array)};const c=e.getInterpolation();c!==e.DefaultInterpolation&&(r.interpolation=c)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new lf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new pc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sh(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Nr:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Nr;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,c=t.length;r!==c;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,c=t.length;r!==c;++r)t[r]*=e}return this}trim(e,t){const r=this.times,c=r.length;let p=0,b=c-1;for(;p!==c&&r[p]<e;)++p;for(;-1!==b&&r[b]>t;)--b;if(++b,0!==p||b!==c){p>=b&&(b=Math.max(b,1),p=b-1);const x=this.getValueSize();this.times=r.slice(p,b),this.values=this.values.slice(p*x,b*x)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,c=this.values,p=r.length;0===p&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let b=null;for(let x=0;x!==p;x++){const A=r[x];if("number"==typeof A&&isNaN(A)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,x,A),e=!1;break}if(null!==b&&b>A){console.error("THREE.KeyframeTrack: Out of order keys.",this,x,A,b),e=!1;break}b=A}if(void 0!==c&&Mv(c))for(let x=0,A=c.length;x!==A;++x){const I=c[x];if(isNaN(I)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,x,I),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),c=2302===this.getInterpolation(),p=e.length-1;let b=1;for(let x=1;x<p;++x){let A=!1;const I=e[x];if(I!==e[x+1]&&(1!==x||I!==e[0]))if(c)A=!0;else{const Y=x*r,Z=Y-r,ie=Y+r;for(let ae=0;ae!==r;++ae){const ye=t[Y+ae];if(ye!==t[Z+ae]||ye!==t[ie+ae]){A=!0;break}}}if(A){if(x!==b){e[b]=e[x];const Y=x*r,Z=b*r;for(let ie=0;ie!==r;++ie)t[Z+ie]=t[Y+ie]}++b}}if(p>0){e[b]=e[p];for(let x=p*r,A=b*r,I=0;I!==r;++I)t[A+I]=t[x+I];++b}return b!==e.length?(this.times=e.slice(0,b),this.values=t.slice(0,b*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),c=new(0,this.constructor)(this.name,e,t);return c.createInterpolant=this.createInterpolant,c}}Ul.prototype.ValueTypeName="",Ul.prototype.TimeBufferType=Float32Array,Ul.prototype.ValueBufferType=Float32Array,Ul.prototype.DefaultInterpolation=2301;class Ju extends Ul{constructor(e,t,r){super(e,t,r)}}Ju.prototype.ValueTypeName="bool",Ju.prototype.ValueBufferType=Array,Ju.prototype.DefaultInterpolation=Nr,Ju.prototype.InterpolantFactoryMethodLinear=void 0,Ju.prototype.InterpolantFactoryMethodSmooth=void 0;class mp extends Ul{constructor(e,t,r,c){super(e,t,r,c)}}mp.prototype.ValueTypeName="color";class gp extends Ul{constructor(e,t,r,c){super(e,t,r,c)}}gp.prototype.ValueTypeName="number";class m0 extends af{constructor(e,t,r,c){super(e,t,r,c)}interpolate_(e,t,r,c){const p=this.resultBuffer,b=this.sampleValues,x=this.valueSize,A=(r-t)/(c-t);let I=e*x;for(let H=I+x;I!==H;I+=4)Ui.slerpFlat(p,0,b,I-x,b,I,A);return p}}class vp extends Ul{constructor(e,t,r,c){super(e,t,r,c)}InterpolantFactoryMethodLinear(e){return new m0(this.times,this.values,this.getValueSize(),e)}}vp.prototype.ValueTypeName="quaternion",vp.prototype.InterpolantFactoryMethodSmooth=void 0;class Gc extends Ul{constructor(e,t,r){super(e,t,r)}}Gc.prototype.ValueTypeName="string",Gc.prototype.ValueBufferType=Array,Gc.prototype.DefaultInterpolation=Nr,Gc.prototype.InterpolantFactoryMethodLinear=void 0,Gc.prototype.InterpolantFactoryMethodSmooth=void 0;class bd extends Ul{constructor(e,t,r,c){super(e,t,r,c)}}bd.prototype.ValueTypeName="vector";class cf{constructor(e="",t=-1,r=[],c=2500){this.name=e,this.tracks=r,this.duration=t,this.blendMode=c,this.uuid=_e(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,c=1/(e.fps||1);for(let b=0,x=r.length;b!==x;++b)t.push(xv(r[b]).scale(c));const p=new this(e.name,e.duration,t,e.blendMode);return p.uuid=e.uuid,p}static toJSON(e){const t=[],r=e.tracks,c={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let p=0,b=r.length;p!==b;++p)t.push(Ul.toJSON(r[p]));return c}static CreateFromMorphTargetSequence(e,t,r,c){const p=t.length,b=[];for(let x=0;x<p;x++){let A=[],I=[];A.push((x+p-1)%p,x,(x+1)%p),I.push(0,1,0);const H=Sv(A);A=Um(A,1,H),I=Um(I,1,H),!c&&0===A[0]&&(A.push(p),I.push(I[0])),b.push(new gp(".morphTargetInfluences["+t[x].name+"]",A,I).scale(1/r))}return new this(e,-1,b)}static findByName(e,t){let r=e;Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations);for(let c=0;c<r.length;c++)if(r[c].name===t)return r[c];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const c={},p=/^([\w-]*?)([\d]+)$/;for(let x=0,A=e.length;x<A;x++){const I=e[x],H=I.name.match(p);if(H&&H.length>1){const Y=H[1];let Z=c[Y];Z||(c[Y]=Z=[]),Z.push(I)}}const b=[];for(const x in c)b.push(this.CreateFromMorphTargetSequence(x,c[x],t,r));return b}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(Y,Z,ie,ae,ye){if(0!==ie.length){const le=[],oe=[];pp(ie,le,oe,ae),0!==le.length&&ye.push(new Y(Z,le,oe))}},c=[],p=e.name||"default",b=e.fps||30,x=e.blendMode;let A=e.length||-1;const I=e.hierarchy||[];for(let Y=0;Y<I.length;Y++){const Z=I[Y].keys;if(Z&&0!==Z.length)if(Z[0].morphTargets){const ie={};let ae;for(ae=0;ae<Z.length;ae++)if(Z[ae].morphTargets)for(let ye=0;ye<Z[ae].morphTargets.length;ye++)ie[Z[ae].morphTargets[ye]]=-1;for(const ye in ie){const le=[],oe=[];for(let Pe=0;Pe!==Z[ae].morphTargets.length;++Pe){const Te=Z[ae];le.push(Te.time),oe.push(Te.morphTarget===ye?1:0)}c.push(new gp(".morphTargetInfluence["+ye+"]",le,oe))}A=ie.length*b}else{const ie=".bones["+t[Y].name+"]";r(bd,ie+".position",Z,"pos",c),r(vp,ie+".quaternion",Z,"rot",c),r(bd,ie+".scale",Z,"scl",c)}}return 0===c.length?null:new this(p,A,c,x)}resetDuration(){let t=0;for(let r=0,c=this.tracks.length;r!==c;++r){const p=this.tracks[r];t=Math.max(t,p.times[p.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xv(m){if(void 0===m.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function g0(m){switch(m.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gp;case"vector":case"vector2":case"vector3":case"vector4":return bd;case"color":return mp;case"quaternion":return vp;case"bool":case"boolean":return Ju;case"string":return Gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+m)}(m.type);if(void 0===m.times){const t=[],r=[];pp(m.keys,t,r,"value"),m.times=t,m.values=r}return void 0!==e.parse?e.parse(m):new e(m.name,m.times,m.values,m.interpolation)}const Su={enabled:!1,files:{},add:function(m,e){!1!==this.enabled&&(this.files[m]=e)},get:function(m){if(!1!==this.enabled)return this.files[m]},remove:function(m){delete this.files[m]},clear:function(){this.files={}}};class Bm{constructor(e,t,r){const c=this;let A,p=!1,b=0,x=0;const I=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(H){x++,!1===p&&void 0!==c.onStart&&c.onStart(H,b,x),p=!0},this.itemEnd=function(H){b++,void 0!==c.onProgress&&c.onProgress(H,b,x),b===x&&(p=!1,void 0!==c.onLoad&&c.onLoad())},this.itemError=function(H){void 0!==c.onError&&c.onError(H)},this.resolveURL=function(H){return A?A(H):H},this.setURLModifier=function(H){return A=H,this},this.addHandler=function(H,Y){return I.push(H,Y),this},this.removeHandler=function(H){const Y=I.indexOf(H);return-1!==Y&&I.splice(Y,2),this},this.getHandler=function(H){for(let Y=0,Z=I.length;Y<Z;Y+=2){const ie=I[Y],ae=I[Y+1];if(ie.global&&(ie.lastIndex=0),ie.test(H))return ae}return null}}}const Cv=new Bm;let bc=(()=>{class m{constructor(t){this.manager=void 0!==t?t:Cv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,r){const c=this;return new Promise(function(p,b){c.load(t,p,r,b)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return m.DEFAULT_MATERIAL_NAME="__DEFAULT",m})();const ou={};class yp extends Error{constructor(e,t){super(e),this.response=t}}class su extends bc{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,r,c){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const p=Su.get(e);if(void 0!==p)return this.manager.itemStart(e),setTimeout(()=>{t&&t(p),this.manager.itemEnd(e)},0),p;if(void 0!==ou[e])return void ou[e].push({onLoad:t,onProgress:r,onError:c});ou[e]=[],ou[e].push({onLoad:t,onProgress:r,onError:c});const b=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),x=this.mimeType,A=this.responseType;fetch(b).then(I=>{if(200===I.status||0===I.status){if(0===I.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===I.body||void 0===I.body.getReader)return I;const H=ou[e],Y=I.body.getReader(),Z=I.headers.get("X-File-Size")||I.headers.get("Content-Length"),ie=Z?parseInt(Z):0,ae=0!==ie;let ye=0;const le=new ReadableStream({start(oe){!function Pe(){Y.read().then(({done:Te,value:we})=>{if(Te)oe.close();else{ye+=we.byteLength;const pt=new ProgressEvent("progress",{lengthComputable:ae,loaded:ye,total:ie});for(let st=0,ft=H.length;st<ft;st++){const yt=H[st];yt.onProgress&&yt.onProgress(pt)}oe.enqueue(we),Pe()}},Te=>{oe.error(Te)})}()}});return new Response(le)}throw new yp(`fetch for "${I.url}" responded with ${I.status}: ${I.statusText}`,I)}).then(I=>{switch(A){case"arraybuffer":return I.arrayBuffer();case"blob":return I.blob();case"document":return I.text().then(H=>(new DOMParser).parseFromString(H,x));case"json":return I.json();default:if(""===x)return I.text();{const Y=/charset="?([^;"\s]*)"?/i.exec(x),Z=Y&&Y[1]?Y[1].toLowerCase():void 0,ie=new TextDecoder(Z);return I.arrayBuffer().then(ae=>ie.decode(ae))}}}).then(I=>{Su.add(e,I);const H=ou[e];delete ou[e];for(let Y=0,Z=H.length;Y<Z;Y++){const ie=H[Y];ie.onLoad&&ie.onLoad(I)}}).catch(I=>{const H=ou[e];if(void 0===H)throw this.manager.itemError(e),I;delete ou[e];for(let Y=0,Z=H.length;Y<Z;Y++){const ie=H[Y];ie.onError&&ie.onError(I)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wc extends bc{constructor(e){super(e)}load(e,t,r,c){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const p=this,b=Su.get(e);if(void 0!==b)return p.manager.itemStart(e),setTimeout(function(){t&&t(b),p.manager.itemEnd(e)},0),b;const x=Wa("img");function A(){H(),Su.add(e,this),t&&t(this),p.manager.itemEnd(e)}function I(Y){H(),c&&c(Y),p.manager.itemError(e),p.manager.itemEnd(e)}function H(){x.removeEventListener("load",A,!1),x.removeEventListener("error",I,!1)}return x.addEventListener("load",A,!1),x.addEventListener("error",I,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(x.crossOrigin=this.crossOrigin),p.manager.itemStart(e),x.src=e,x}}class au extends Nn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class jm extends au{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const _p=new Bi,Hm=new Je,bp=new Je;class Mp{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ln(512,512),this.map=null,this.mapPass=null,this.matrix=new Bi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cd,this._frameExtents=new ln(1,1),this._viewportCount=1,this._viewports=[new Ue(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Hm.setFromMatrixPosition(e.matrixWorld),t.position.copy(Hm),bp.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bp),t.updateMatrixWorld(),_p.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_p),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(_p)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class y0 extends Mp{constructor(){super(new Vl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=2*he*e.angle*this.focus,c=this.mapSize.width/this.mapSize.height,p=e.distance||t.far;(r!==t.fov||c!==t.aspect||p!==t.far)&&(t.fov=r,t.aspect=c,t.far=p,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _0 extends au{constructor(e,t,r=0,c=Math.PI/3,p=0,b=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.distance=r,this.angle=c,this.penumbra=p,this.decay=b,this.map=null,this.shadow=new y0}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const lu=new Bi,xu=new Je,ah=new Je;class Tv extends Mp{constructor(){super(new Vl(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ln(4,2),this._viewportCount=6,this._viewports=[new Ue(2,1,1,1),new Ue(0,1,1,1),new Ue(3,1,1,1),new Ue(1,1,1,1),new Ue(3,0,1,1),new Ue(1,0,1,1)],this._cubeDirections=[new Je(1,0,0),new Je(-1,0,0),new Je(0,0,1),new Je(0,0,-1),new Je(0,1,0),new Je(0,-1,0)],this._cubeUps=[new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,0,1),new Je(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,c=this.matrix,p=e.distance||r.far;p!==r.far&&(r.far=p,r.updateProjectionMatrix()),xu.setFromMatrixPosition(e.matrixWorld),r.position.copy(xu),ah.copy(r.position),ah.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ah),r.updateMatrixWorld(),c.makeTranslation(-xu.x,-xu.y,-xu.z),lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lu)}}class Sp extends au{constructor(e,t,r=0,c=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=c,this.shadow=new Tv}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uf extends vu{constructor(e=-1,t=1,r=1,c=-1,p=.1,b=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=c,this.near=p,this.far=b,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,c,p,b){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=c,this.view.width=p,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,c=(this.top+this.bottom)/2;let p=r-e,b=r+e,x=c+t,A=c-t;if(null!==this.view&&this.view.enabled){const I=(this.right-this.left)/this.view.fullWidth/this.zoom,H=(this.top-this.bottom)/this.view.fullHeight/this.zoom;p+=I*this.view.offsetX,b=p+I*this.view.width,x-=H*this.view.offsetY,A=x-H*this.view.height}this.projectionMatrix.makeOrthographic(p,b,x,A,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class Av extends Mp{constructor(){super(new uf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Gm extends au{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.shadow=new Av}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Wm extends au{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class lh extends au{constructor(e,t,r=10,c=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=c}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class b0{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Je)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,c=e.y,p=e.z,b=this.coefficients;return t.copy(b[0]).multiplyScalar(.282095),t.addScaledVector(b[1],.488603*c),t.addScaledVector(b[2],.488603*p),t.addScaledVector(b[3],.488603*r),t.addScaledVector(b[4],r*c*1.092548),t.addScaledVector(b[5],c*p*1.092548),t.addScaledVector(b[6],.315392*(3*p*p-1)),t.addScaledVector(b[7],r*p*1.092548),t.addScaledVector(b[8],.546274*(r*r-c*c)),t}getIrradianceAt(e,t){const r=e.x,c=e.y,p=e.z,b=this.coefficients;return t.copy(b[0]).multiplyScalar(.886227),t.addScaledVector(b[1],1.023328*c),t.addScaledVector(b[2],1.023328*p),t.addScaledVector(b[3],1.023328*r),t.addScaledVector(b[4],.858086*r*c),t.addScaledVector(b[5],.858086*c*p),t.addScaledVector(b[6],.743125*p*p-.247708),t.addScaledVector(b[7],.858086*r*p),t.addScaledVector(b[8],.429043*(r*r-c*c)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let c=0;c<9;c++)r[c].fromArray(e,t+3*c);return this}toArray(e=[],t=0){const r=this.coefficients;for(let c=0;c<9;c++)r[c].toArray(e,t+3*c);return e}static getBasisAt(e,t){const r=e.x,c=e.y,p=e.z;t[0]=.282095,t[1]=.488603*c,t[2]=.488603*p,t[3]=.488603*r,t[4]=1.092548*r*c,t[5]=1.092548*c*p,t[6]=.315392*(3*p*p-1),t[7]=1.092548*r*p,t[8]=.546274*(r*r-c*c)}}class xp extends au{constructor(e=new b0,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Cp extends bc{constructor(e){super(e),this.textures={}}load(e,t,r,c){const p=this,b=new su(p.manager);b.setPath(p.path),b.setRequestHeader(p.requestHeader),b.setWithCredentials(p.withCredentials),b.load(e,function(x){try{t(p.parse(JSON.parse(x)))}catch(A){c?c(A):console.error(A),p.manager.itemError(e)}},r,c)}parse(e){const t=this.textures;function r(p){return void 0===t[p]&&console.warn("THREE.MaterialLoader: Undefined texture",p),t[p]}const c=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(c.uuid=e.uuid),void 0!==e.name&&(c.name=e.name),void 0!==e.color&&void 0!==c.color&&c.color.setHex(e.color),void 0!==e.roughness&&(c.roughness=e.roughness),void 0!==e.metalness&&(c.metalness=e.metalness),void 0!==e.sheen&&(c.sheen=e.sheen),void 0!==e.sheenColor&&(c.sheenColor=(new Mt).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(c.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==c.emissive&&c.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==c.specular&&c.specular.setHex(e.specular),void 0!==e.specularIntensity&&(c.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==c.specularColor&&c.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(c.shininess=e.shininess),void 0!==e.clearcoat&&(c.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(c.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(c.dispersion=e.dispersion),void 0!==e.iridescence&&(c.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(c.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(c.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(c.transmission=e.transmission),void 0!==e.thickness&&(c.thickness=e.thickness),void 0!==e.attenuationDistance&&(c.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==c.attenuationColor&&c.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(c.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(c.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(c.fog=e.fog),void 0!==e.flatShading&&(c.flatShading=e.flatShading),void 0!==e.blending&&(c.blending=e.blending),void 0!==e.combine&&(c.combine=e.combine),void 0!==e.side&&(c.side=e.side),void 0!==e.shadowSide&&(c.shadowSide=e.shadowSide),void 0!==e.opacity&&(c.opacity=e.opacity),void 0!==e.transparent&&(c.transparent=e.transparent),void 0!==e.alphaTest&&(c.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(c.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(c.depthFunc=e.depthFunc),void 0!==e.depthTest&&(c.depthTest=e.depthTest),void 0!==e.depthWrite&&(c.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(c.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(c.blendSrc=e.blendSrc),void 0!==e.blendDst&&(c.blendDst=e.blendDst),void 0!==e.blendEquation&&(c.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(c.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(c.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(c.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==c.blendColor&&c.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(c.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(c.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(c.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(c.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(c.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(c.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(c.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(c.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(c.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(c.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(c.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(c.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(c.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(c.rotation=e.rotation),void 0!==e.linewidth&&(c.linewidth=e.linewidth),void 0!==e.dashSize&&(c.dashSize=e.dashSize),void 0!==e.gapSize&&(c.gapSize=e.gapSize),void 0!==e.scale&&(c.scale=e.scale),void 0!==e.polygonOffset&&(c.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(c.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(c.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(c.dithering=e.dithering),void 0!==e.alphaToCoverage&&(c.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(c.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(c.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(c.visible=e.visible),void 0!==e.toneMapped&&(c.toneMapped=e.toneMapped),void 0!==e.userData&&(c.userData=e.userData),void 0!==e.vertexColors&&(c.vertexColors="number"==typeof e.vertexColors?e.vertexColors>0:e.vertexColors),void 0!==e.uniforms)for(const p in e.uniforms){const b=e.uniforms[p];switch(c.uniforms[p]={},b.type){case"t":c.uniforms[p].value=r(b.value);break;case"c":c.uniforms[p].value=(new Mt).setHex(b.value);break;case"v2":c.uniforms[p].value=(new ln).fromArray(b.value);break;case"v3":c.uniforms[p].value=(new Je).fromArray(b.value);break;case"v4":c.uniforms[p].value=(new Ue).fromArray(b.value);break;case"m3":c.uniforms[p].value=(new Ji).fromArray(b.value);break;case"m4":c.uniforms[p].value=(new Bi).fromArray(b.value);break;default:c.uniforms[p].value=b.value}}if(void 0!==e.defines&&(c.defines=e.defines),void 0!==e.vertexShader&&(c.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(c.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(c.glslVersion=e.glslVersion),void 0!==e.extensions)for(const p in e.extensions)c.extensions[p]=e.extensions[p];if(void 0!==e.lights&&(c.lights=e.lights),void 0!==e.clipping&&(c.clipping=e.clipping),void 0!==e.size&&(c.size=e.size),void 0!==e.sizeAttenuation&&(c.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(c.map=r(e.map)),void 0!==e.matcap&&(c.matcap=r(e.matcap)),void 0!==e.alphaMap&&(c.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(c.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(c.bumpScale=e.bumpScale),void 0!==e.normalMap&&(c.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(c.normalMapType=e.normalMapType),void 0!==e.normalScale){let p=e.normalScale;!1===Array.isArray(p)&&(p=[p,p]),c.normalScale=(new ln).fromArray(p)}return void 0!==e.displacementMap&&(c.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(c.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(c.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(c.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(c.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(c.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(c.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(c.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(c.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(c.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(c.envMap=r(e.envMap)),void 0!==e.envMapRotation&&c.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(c.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(c.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(c.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(c.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(c.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(c.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(c.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(c.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(c.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(c.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(c.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(c.clearcoatNormalScale=(new ln).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(c.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(c.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(c.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(c.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(c.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(c.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(c.sheenRoughnessMap=r(e.sheenRoughnessMap)),c}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Cp.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:Nm,SpriteMaterial:Vd,RawShaderMaterial:Lm,ShaderMaterial:nc,PointsMaterial:Sm,MeshPhysicalMaterial:yv,MeshStandardMaterial:ru,MeshPhongMaterial:_v,MeshToonMaterial:yd,MeshNormalMaterial:bv,MeshLambertMaterial:oh,MeshDepthMaterial:Oc,MeshDistanceMaterial:Ku,MeshBasicMaterial:ps,MeshMatcapMaterial:km,LineDashedMaterial:sf,LineBasicMaterial:jl,Material:ir}[e]}}class ch{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $m extends Do{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Xm extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=new su(p.manager);b.setPath(p.path),b.setRequestHeader(p.requestHeader),b.setWithCredentials(p.withCredentials),b.load(e,function(x){try{t(p.parse(JSON.parse(x)))}catch(A){c?c(A):console.error(A),p.manager.itemError(e)}},r,c)}parse(e){const t={},r={};function c(ie,ae){if(void 0!==t[ae])return t[ae];const le=ie.interleavedBuffers[ae],oe=function p(ie,ae){if(void 0!==r[ae])return r[ae];const oe=new Uint32Array(ie.arrayBuffers[ae]).buffer;return r[ae]=oe,oe}(ie,le.buffer),Pe=fs(le.type,oe),Te=new bl(Pe,le.stride);return Te.uuid=le.uuid,t[ae]=Te,Te}const b=e.isInstancedBufferGeometry?new $m:new Do,x=e.data.index;if(void 0!==x){const ie=fs(x.type,x.array);b.setIndex(new eo(ie,1))}const A=e.data.attributes;for(const ie in A){const ae=A[ie];let ye;if(ae.isInterleavedBufferAttribute){const le=c(e.data,ae.data);ye=new kc(le,ae.itemSize,ae.offset,ae.normalized)}else{const le=fs(ae.type,ae.array);ye=new(ae.isInstancedBufferAttribute?zl:eo)(le,ae.itemSize,ae.normalized)}void 0!==ae.name&&(ye.name=ae.name),void 0!==ae.usage&&ye.setUsage(ae.usage),b.setAttribute(ie,ye)}const I=e.data.morphAttributes;if(I)for(const ie in I){const ae=I[ie],ye=[];for(let le=0,oe=ae.length;le<oe;le++){const Pe=ae[le];let Te;if(Pe.isInterleavedBufferAttribute){const we=c(e.data,Pe.data);Te=new kc(we,Pe.itemSize,Pe.offset,Pe.normalized)}else{const we=fs(Pe.type,Pe.array);Te=new eo(we,Pe.itemSize,Pe.normalized)}void 0!==Pe.name&&(Te.name=Pe.name),ye.push(Te)}b.morphAttributes[ie]=ye}e.data.morphTargetsRelative&&(b.morphTargetsRelative=!0);const Y=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==Y)for(let ie=0,ae=Y.length;ie!==ae;++ie){const ye=Y[ie];b.addGroup(ye.start,ye.count,ye.materialIndex)}const Z=e.data.boundingSphere;if(void 0!==Z){const ie=new Je;void 0!==Z.center&&ie.fromArray(Z.center),b.boundingSphere=new lo(ie,Z.radius)}return e.name&&(b.name=e.name),e.userData&&(b.userData=e.userData),b}}const df={UVMapping:300,CubeReflectionMapping:wo,CubeRefractionMapping:Xi,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:vi},uh={RepeatWrapping:oo,ClampToEdgeWrapping:ar,MirroredRepeatWrapping:xo},dh={NearestFilter:zr,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:Zo,LinearFilter:_i,LinearMipmapNearestFilter:ki,LinearMipmapLinearFilter:io};let ff;class hf{static getContext(){return void 0===ff&&(ff=new(window.AudioContext||window.webkitAudioContext)),ff}static setContext(e){ff=e}}const uu=new Bi,Ep=new Bi,Sd=new Bi;class Ym extends Vl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class xd{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Dv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Dv();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Dv(){return performance.now()}const Cd=new Je,Pv=new Ui,Qu=new Je,qu=new Je;class Zm extends Nn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Cu=new Je,Ed=new Ui,C0=new Je,wd=new Je;class wp{constructor(e,t,r){let c,p,b;switch(this.binding=e,this.valueSize=r,t){case"quaternion":c=this._slerp,p=this._slerpAdditive,b=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":c=this._select,p=this._select,b=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:c=this._lerp,p=this._lerpAdditive,b=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=c,this._mixBufferRegionAdditive=p,this._setIdentity=b,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,c=this.valueSize,p=e*c+c;let b=this.cumulativeWeight;if(0===b){for(let x=0;x!==c;++x)r[p+x]=r[x];b=t}else b+=t,this._mixBufferRegion(r,p,0,t/b,c);this.cumulativeWeight=b}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,c=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,c,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,c=e*t+t,p=this.cumulativeWeight,b=this.cumulativeWeightAdditive,x=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,p<1&&this._mixBufferRegion(r,c,t*this._origIndex,1-p,t),b>0&&this._mixBufferRegionAdditive(r,c,this._addIndex*t,1,t);for(let A=t,I=t+t;A!==I;++A)if(r[A]!==r[A+t]){x.setValue(r,c);break}}saveOriginalState(){const t=this.buffer,r=this.valueSize,c=r*this._origIndex;this.binding.getValue(t,c);for(let p=r,b=c;p!==b;++p)t[p]=t[c+p%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,c,p){if(c>=.5)for(let b=0;b!==p;++b)e[t+b]=e[r+b]}_slerp(e,t,r,c){Ui.slerpFlat(e,t,e,t,e,r,c)}_slerpAdditive(e,t,r,c,p){const b=this._workIndex*p;Ui.multiplyQuaternionsFlat(e,b,e,t,e,r),Ui.slerpFlat(e,t,e,t,e,b,c)}_lerp(e,t,r,c,p){const b=1-c;for(let x=0;x!==p;++x){const A=t+x;e[A]=e[A]*b+e[r+x]*c}}_lerpAdditive(e,t,r,c,p){for(let b=0;b!==p;++b){const x=t+b;e[x]=e[x]+e[r+b]*c}}}const Td="\\[\\]\\.:\\/",Km=new RegExp("["+Td+"]","g"),hh="[^"+Td+"]",Iv="[^"+Td.replace("\\.","")+"]",Ap=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",hh)+/(WCOD+)?/.source.replace("WCOD",Iv)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hh)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hh)+"$"),Ad=["material","materials","bones","map"];class Dp{constructor(e,t,r){const c=r||Pa.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,c)}getValue(e,t){this.bind();const c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let c=this._targetGroup.nCachedObjects_,p=r.length;c!==p;++c)r[c].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Pa=(()=>{class m{constructor(t,r,c){this.path=r,this.parsedPath=c||m.parseTrackName(r),this.node=m.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,c){return t&&t.isAnimationObjectGroup?new m.Composite(t,r,c):new m(t,r,c)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Km,"")}static parseTrackName(t){const r=Ap.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const c={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},p=c.nodeName&&c.nodeName.lastIndexOf(".");if(void 0!==p&&-1!==p){const b=c.nodeName.substring(p+1);-1!==Ad.indexOf(b)&&(c.nodeName=c.nodeName.substring(0,p),c.objectName=b)}if(null===c.propertyName||0===c.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return c}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const c=t.skeleton.getBoneByName(r);if(void 0!==c)return c}if(t.children){const c=function(b){for(let x=0;x<b.length;x++){const A=b[x];if(A.name===r||A.uuid===r)return A;const I=c(A.children);if(I)return I}return null},p=c(t.children);if(p)return p}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const c=this.resolvedProperty;for(let p=0,b=c.length;p!==b;++p)t[r++]=c[p]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const c=this.resolvedProperty;for(let p=0,b=c.length;p!==b;++p)c[p]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const c=this.resolvedProperty;for(let p=0,b=c.length;p!==b;++p)c[p]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const c=this.resolvedProperty;for(let p=0,b=c.length;p!==b;++p)c[p]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,c=r.objectName,p=r.propertyName;let b=r.propertyIndex;if(t||(t=m.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(c){let H=r.objectIndex;switch(c){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let Y=0;Y<t.length;Y++)if(t[Y].name===H){H=Y;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[c])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[c]}if(void 0!==H){if(void 0===t[H])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[H]}}const x=t[p];if(void 0===x)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+p+" but it wasn't found.",t);let A=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?A=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(A=this.Versioning.MatrixWorldNeedsUpdate);let I=this.BindingType.Direct;if(void 0!==b){if("morphTargetInfluences"===p){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[b]&&(b=t.morphTargetDictionary[b])}I=this.BindingType.ArrayElement,this.resolvedProperty=x,this.propertyIndex=b}else void 0!==x.fromArray&&void 0!==x.toArray?(I=this.BindingType.HasFromToArray,this.resolvedProperty=x):Array.isArray(x)?(I=this.BindingType.EntireArray,this.resolvedProperty=x):this.propertyName=p;this.getValue=this.GetterByBindingType[I],this.setValue=this.SetterByBindingTypeAndVersioning[I][A]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return m.Composite=Dp,m})();Pa.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Pa.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Pa.prototype.GetterByBindingType=[Pa.prototype._getValue_direct,Pa.prototype._getValue_array,Pa.prototype._getValue_arrayElement,Pa.prototype._getValue_toArray],Pa.prototype.SetterByBindingTypeAndVersioning=[[Pa.prototype._setValue_direct,Pa.prototype._setValue_direct_setNeedsUpdate,Pa.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pa.prototype._setValue_array,Pa.prototype._setValue_array_setNeedsUpdate,Pa.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pa.prototype._setValue_arrayElement,Pa.prototype._setValue_arrayElement_setNeedsUpdate,Pa.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pa.prototype._setValue_fromArray,Pa.prototype._setValue_fromArray_setNeedsUpdate,Pa.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class w0{constructor(e,t,r=null,c=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=c;const p=t.tracks,b=p.length,x=new Array(b),A={endingStart:Oa,endingEnd:Oa};for(let I=0;I!==b;++I){const H=p[I].createInterpolant(null);x[I]=H,H.settings=A}this._interpolantSettings=A,this._interpolants=x,this._propertyBindings=new Array(b),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),!0===r){const c=this._clip.duration,p=e._clip.duration,x=c/p;e.warp(1,p/c,t),this.warp(x,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const c=this._mixer,p=c.time,b=this.timeScale;let x=this._timeScaleInterpolant;null===x&&(x=c._lendControlInterpolant(),this._timeScaleInterpolant=x);const A=x.parameterPositions,I=x.sampleValues;return A[0]=p,A[1]=p+r,I[0]=e/b,I[1]=t/b,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,c){if(!this.enabled)return void this._updateWeight(e);const p=this._startTime;if(null!==p){const A=(e-p)*r;A<0||0===r?t=0:(this._startTime=null,t=r*A)}t*=this._updateTimeScale(e);const b=this._updateTime(t),x=this._updateWeight(e);if(x>0){const A=this._interpolants,I=this._propertyBindings;if(2501===this.blendMode)for(let H=0,Y=A.length;H!==Y;++H)A[H].evaluate(b),I[H].accumulateAdditive(x);else for(let H=0,Y=A.length;H!==Y;++H)A[H].evaluate(b),I[H].accumulate(c,x)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(null!==r){const c=r.evaluate(e)[0];t*=c,e>r.parameterPositions[1]&&(this.stopFading(),0===c&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;null!==r&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let c=this.time+e,p=this._loopCount;const b=2202===r;if(0===e)return-1===p?c:b&&1==(1&p)?t-c:c;if(2200===r){-1===p&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(c>=t)c=t;else{if(!(c<0)){this.time=c;break e}c=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===p&&(e>=0?(p=0,this._setEndings(!0,0===this.repetitions,b)):this._setEndings(0===this.repetitions,!0,b)),c>=t||c<0){const x=Math.floor(c/t);c-=t*x,p+=Math.abs(x);const A=this.repetitions-p;if(A<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=e>0?t:0,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===A){const I=e<0;this._setEndings(I,!I,b)}else this._setEndings(!1,!1,b);this._loopCount=p,this.time=c,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:x})}}else this.time=c;if(b&&1==(1&p))return t-c}return c}_setEndings(e,t,r){const c=this._interpolantSettings;r?(c.endingStart=so,c.endingEnd=so):(c.endingStart=e?this.zeroSlopeAtStart?so:Oa:vl,c.endingEnd=t?this.zeroSlopeAtEnd?so:Oa:vl)}_scheduleFading(e,t,r){const c=this._mixer,p=c.time;let b=this._weightInterpolant;null===b&&(b=c._lendControlInterpolant(),this._weightInterpolant=b);const x=b.parameterPositions,A=b.sampleValues;return x[0]=p,A[0]=t,x[1]=p+e,A[1]=r,this}}const Ip=new Float32Array(1);class Qm{constructor(e){this.value=e}clone(){return new Qm(void 0===this.value.clone?this.value:this.value.clone())}}let T0=0;const Fv=new Bi;function D0(m,e){return m.distance-e.distance}function gf(m,e,t,r){let c=!0;if(m.layers.test(e.layers)&&!1===m.raycast(e,t)&&(c=!1),!0===c&&!0===r){const p=m.children;for(let b=0,x=p.length;b<x;b++)gf(p[b],e,t,!0)}}class Rp{constructor(e,t,r,c){Rp.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,r,c)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,c){const p=this.elements;return p[0]=e,p[2]=t,p[1]=r,p[3]=c,this}}const mh=new ln,tg=new Je,Dd=new Je,ng=new Je,Eu=new Je,wu=new Bi,ig=new Bi;function yf(m){const e=[];!0===m.isBone&&e.push(m);for(let t=0;t<m.children.length;t++)e.push(...yf(m.children[t]));return e}const Nv=new Je,Np=new Mt,Lv=new Mt,Pd=new Je,Lp=new Je,vh=new Je,kp=new Je,cl=new vu;function Sl(m,e,t,r,c,p,b){kp.set(c,p,b).unproject(r);const x=e[m];if(void 0!==x){const A=t.getAttribute("position");for(let I=0,H=x.length;I<H;I++)A.setXYZ(x[I],kp.x,kp.y,kp.z)}}const _f=new Xo,Up=new Je;let yh,Mc;function cg(m,e,t,r){const c=function ug(m){switch(m){case Ss:case ro:return{byteLength:1,components:1};case Gt:case Ls:case Wt:return{byteLength:2,components:1};case Qn:case di:return{byteLength:2,components:4};case ze:case Bt:case ct:return{byteLength:4,components:1};case jr:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${m}.`)}(r);switch(t){case es:case ha:return m*e;case ko:return m*e*2;case ut:case nt:return m*e/c.components*c.byteLength;case Pt:case vn:return m*e*2/c.components*c.byteLength;case cs:return m*e*3/c.components*c.byteLength;case Zi:case Fn:return m*e*4/c.components*c.byteLength;case Ri:case fi:return Math.floor((m+3)/4)*Math.floor((e+3)/4)*8;case Mr:case ho:return Math.floor((m+3)/4)*Math.floor((e+3)/4)*16;case Wr:case us:return Math.max(m,16)*Math.max(e,8)/4;case Zr:case pr:return Math.max(m,8)*Math.max(e,8)/2;case Ki:case Ir:return Math.floor((m+3)/4)*Math.floor((e+3)/4)*8;case Ts:case Rs:return Math.floor((m+3)/4)*Math.floor((e+3)/4)*16;case Di:return Math.floor((m+4)/5)*Math.floor((e+3)/4)*16;case ts:return Math.floor((m+4)/5)*Math.floor((e+4)/5)*16;case Ba:return Math.floor((m+5)/6)*Math.floor((e+4)/5)*16;case Qs:return Math.floor((m+5)/6)*Math.floor((e+5)/6)*16;case ss:return Math.floor((m+7)/8)*Math.floor((e+4)/5)*16;case aa:return Math.floor((m+7)/8)*Math.floor((e+5)/6)*16;case vs:return Math.floor((m+7)/8)*Math.floor((e+7)/8)*16;case pa:return Math.floor((m+9)/10)*Math.floor((e+4)/5)*16;case Uo:return Math.floor((m+9)/10)*Math.floor((e+5)/6)*16;case tl:return Math.floor((m+9)/10)*Math.floor((e+7)/8)*16;case ks:return Math.floor((m+9)/10)*Math.floor((e+9)/10)*16;case er:return Math.floor((m+11)/12)*Math.floor((e+9)/10)*16;case Ko:return Math.floor((m+11)/12)*Math.floor((e+11)/12)*16;case Io:case Il:case dl:return Math.ceil(m/4)*Math.ceil(e/4)*16;case El:case Us:return Math.ceil(m/4)*Math.ceil(e/4)*8;case fl:case nl:return Math.ceil(m/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function dg(){let m=null,e=!1,t=null,r=null;function c(p,b){t(p,b),r=m.requestAnimationFrame(c)}return{start:function(){!0!==e&&null!==t&&(r=m.requestAnimationFrame(c),e=!0)},stop:function(){m.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(p){t=p},setContext:function(p){m=p}}}function N0(m){const e=new WeakMap;return{get:function c(x){return x.isInterleavedBufferAttribute&&(x=x.data),e.get(x)},remove:function p(x){x.isInterleavedBufferAttribute&&(x=x.data);const A=e.get(x);A&&(m.deleteBuffer(A.buffer),e.delete(x))},update:function b(x,A){if(x.isInterleavedBufferAttribute&&(x=x.data),x.isGLBufferAttribute){const H=e.get(x);return void((!H||H.version<x.version)&&e.set(x,{buffer:x.buffer,type:x.type,bytesPerElement:x.elementSize,version:x.version}))}const I=e.get(x);if(void 0===I)e.set(x,function t(x,A){const I=x.array,H=x.usage,Y=I.byteLength,Z=m.createBuffer();let ie;if(m.bindBuffer(A,Z),m.bufferData(A,I,H),x.onUploadCallback(),I instanceof Float32Array)ie=m.FLOAT;else if(I instanceof Uint16Array)ie=x.isFloat16BufferAttribute?m.HALF_FLOAT:m.UNSIGNED_SHORT;else if(I instanceof Int16Array)ie=m.SHORT;else if(I instanceof Uint32Array)ie=m.UNSIGNED_INT;else if(I instanceof Int32Array)ie=m.INT;else if(I instanceof Int8Array)ie=m.BYTE;else if(I instanceof Uint8Array)ie=m.UNSIGNED_BYTE;else{if(!(I instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+I);ie=m.UNSIGNED_BYTE}return{buffer:Z,type:ie,bytesPerElement:I.BYTES_PER_ELEMENT,version:x.version,size:Y}}(x,A));else if(I.version<x.version){if(I.size!==x.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(x,A,I){const H=A.array,Y=A.updateRanges;if(m.bindBuffer(I,x),0===Y.length)m.bufferSubData(I,0,H);else{Y.sort((ie,ae)=>ie.start-ae.start);let Z=0;for(let ie=1;ie<Y.length;ie++){const ae=Y[Z],ye=Y[ie];ye.start<=ae.start+ae.count+1?ae.count=Math.max(ae.count,ye.start+ye.count-ae.start):(++Z,Y[Z]=ye)}Y.length=Z+1;for(let ie=0,ae=Y.length;ie<ae;ie++){const ye=Y[ie];m.bufferSubData(I,ye.start*H.BYTES_PER_ELEMENT,H,ye.start,ye.count)}A.clearUpdateRanges()}A.onUploadCallback()})(I.buffer,x,A),I.version=x.version}}}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:K}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=K);const bo={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Pi={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ji},alphaMap:{value:null},alphaMapTransform:{value:new Ji},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ji}},envmap:{envMap:{value:null},envMapRotation:{value:new Ji},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ji}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ji}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ji},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ji},normalScale:{value:new ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ji},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ji}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ji}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ji}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ji},alphaTest:{value:0},uvTransform:{value:new Ji}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new ln(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ji},alphaMap:{value:null},alphaMapTransform:{value:new Ji},alphaTest:{value:0}}},Tu={basic:{uniforms:tc([Pi.common,Pi.specularmap,Pi.envmap,Pi.aomap,Pi.lightmap,Pi.fog]),vertexShader:bo.meshbasic_vert,fragmentShader:bo.meshbasic_frag},lambert:{uniforms:tc([Pi.common,Pi.specularmap,Pi.envmap,Pi.aomap,Pi.lightmap,Pi.emissivemap,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,Pi.fog,Pi.lights,{emissive:{value:new Mt(0)}}]),vertexShader:bo.meshlambert_vert,fragmentShader:bo.meshlambert_frag},phong:{uniforms:tc([Pi.common,Pi.specularmap,Pi.envmap,Pi.aomap,Pi.lightmap,Pi.emissivemap,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,Pi.fog,Pi.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:bo.meshphong_vert,fragmentShader:bo.meshphong_frag},standard:{uniforms:tc([Pi.common,Pi.envmap,Pi.aomap,Pi.lightmap,Pi.emissivemap,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,Pi.roughnessmap,Pi.metalnessmap,Pi.fog,Pi.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bo.meshphysical_vert,fragmentShader:bo.meshphysical_frag},toon:{uniforms:tc([Pi.common,Pi.aomap,Pi.lightmap,Pi.emissivemap,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,Pi.gradientmap,Pi.fog,Pi.lights,{emissive:{value:new Mt(0)}}]),vertexShader:bo.meshtoon_vert,fragmentShader:bo.meshtoon_frag},matcap:{uniforms:tc([Pi.common,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,Pi.fog,{matcap:{value:null}}]),vertexShader:bo.meshmatcap_vert,fragmentShader:bo.meshmatcap_frag},points:{uniforms:tc([Pi.points,Pi.fog]),vertexShader:bo.points_vert,fragmentShader:bo.points_frag},dashed:{uniforms:tc([Pi.common,Pi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bo.linedashed_vert,fragmentShader:bo.linedashed_frag},depth:{uniforms:tc([Pi.common,Pi.displacementmap]),vertexShader:bo.depth_vert,fragmentShader:bo.depth_frag},normal:{uniforms:tc([Pi.common,Pi.bumpmap,Pi.normalmap,Pi.displacementmap,{opacity:{value:1}}]),vertexShader:bo.meshnormal_vert,fragmentShader:bo.meshnormal_frag},sprite:{uniforms:tc([Pi.sprite,Pi.fog]),vertexShader:bo.sprite_vert,fragmentShader:bo.sprite_frag},background:{uniforms:{uvTransform:{value:new Ji},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bo.background_vert,fragmentShader:bo.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ji}},vertexShader:bo.backgroundCube_vert,fragmentShader:bo.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bo.cube_vert,fragmentShader:bo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bo.equirect_vert,fragmentShader:bo.equirect_frag},distanceRGBA:{uniforms:tc([Pi.common,Pi.displacementmap,{referencePosition:{value:new Je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bo.distanceRGBA_vert,fragmentShader:bo.distanceRGBA_frag},shadow:{uniforms:tc([Pi.lights,Pi.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:bo.shadow_vert,fragmentShader:bo.shadow_frag}};Tu.physical={uniforms:tc([Tu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ji},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ji},clearcoatNormalScale:{value:new ln(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ji},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ji},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ji},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ji},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ji},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ji},transmissionSamplerSize:{value:new ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ji},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ji},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ji},anisotropyVector:{value:new ln},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ji}}]),vertexShader:bo.meshphysical_vert,fragmentShader:bo.meshphysical_frag};const Eh={r:0,b:0,g:0},wh=new Be,Kb=new Bi;function Jb(m,e,t,r,c,p,b){const x=new Mt(0);let I,H,A=!0===p?0:1,Y=null,Z=0,ie=null;function ae(Te){let we=!0===Te.isScene?Te.background:null;return we&&we.isTexture&&(we=(Te.backgroundBlurriness>0?t:e).get(we)),we}function oe(Te,we){Te.getRGB(Eh,cm(m)),r.buffers.color.setClear(Eh.r,Eh.g,Eh.b,we,b)}return{getClearColor:function(){return x},setClearColor:function(Te,we=1){x.set(Te),A=we,oe(x,A)},getClearAlpha:function(){return A},setClearAlpha:function(Te){A=Te,oe(x,A)},render:function ye(Te){let we=!1;const pt=ae(Te);null===pt?oe(x,A):pt&&pt.isColor&&(oe(pt,1),we=!0);const st=m.xr.getEnvironmentBlendMode();"additive"===st?r.buffers.color.setClear(0,0,0,1,b):"alpha-blend"===st&&r.buffers.color.setClear(0,0,0,0,b),(m.autoClear||we)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),m.clear(m.autoClearColor,m.autoClearDepth,m.autoClearStencil))},addToRenderList:function le(Te,we){const pt=ae(we);pt&&(pt.isCubeTexture||pt.mapping===vi)?(void 0===H&&(H=new _l(new Fc(1,1,1),new nc({name:"BackgroundCubeMaterial",uniforms:Of(Tu.backgroundCube.uniforms),vertexShader:Tu.backgroundCube.vertexShader,fragmentShader:Tu.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),H.geometry.deleteAttribute("normal"),H.geometry.deleteAttribute("uv"),H.onBeforeRender=function(st,ft,yt){this.matrixWorld.copyPosition(yt.matrixWorld)},Object.defineProperty(H.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),c.update(H)),wh.copy(we.backgroundRotation),wh.x*=-1,wh.y*=-1,wh.z*=-1,pt.isCubeTexture&&!1===pt.isRenderTargetTexture&&(wh.y*=-1,wh.z*=-1),H.material.uniforms.envMap.value=pt,H.material.uniforms.flipEnvMap.value=pt.isCubeTexture&&!1===pt.isRenderTargetTexture?-1:1,H.material.uniforms.backgroundBlurriness.value=we.backgroundBlurriness,H.material.uniforms.backgroundIntensity.value=we.backgroundIntensity,H.material.uniforms.backgroundRotation.value.setFromMatrix4(Kb.makeRotationFromEuler(wh)),H.material.toneMapped=Qr.getTransfer(pt.colorSpace)!==Sn,(Y!==pt||Z!==pt.version||ie!==m.toneMapping)&&(H.material.needsUpdate=!0,Y=pt,Z=pt.version,ie=m.toneMapping),H.layers.enableAll(),Te.unshift(H,H.geometry,H.material,0,0,null)):pt&&pt.isTexture&&(void 0===I&&(I=new _l(new Zu(2,2),new nc({name:"BackgroundMaterial",uniforms:Of(Tu.background.uniforms),vertexShader:Tu.background.vertexShader,fragmentShader:Tu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),I.geometry.deleteAttribute("normal"),Object.defineProperty(I.material,"map",{get:function(){return this.uniforms.t2D.value}}),c.update(I)),I.material.uniforms.t2D.value=pt,I.material.uniforms.backgroundIntensity.value=we.backgroundIntensity,I.material.toneMapped=Qr.getTransfer(pt.colorSpace)!==Sn,!0===pt.matrixAutoUpdate&&pt.updateMatrix(),I.material.uniforms.uvTransform.value.copy(pt.matrix),(Y!==pt||Z!==pt.version||ie!==m.toneMapping)&&(I.material.needsUpdate=!0,Y=pt,Z=pt.version,ie=m.toneMapping),I.layers.enableAll(),Te.unshift(I,I.geometry,I.material,0,0,null))},dispose:function Pe(){void 0!==H&&(H.geometry.dispose(),H.material.dispose(),H=void 0),void 0!==I&&(I.geometry.dispose(),I.material.dispose(),I=void 0)}}}function Qb(m,e){const t=m.getParameter(m.MAX_VERTEX_ATTRIBS),r={},c=Z(null);let p=c,b=!1;function I(ke){return m.bindVertexArray(ke)}function H(ke){return m.deleteVertexArray(ke)}function Z(ke){const Ct=[],yn=[],un=[];for(let wn=0;wn<t;wn++)Ct[wn]=0,yn[wn]=0,un[wn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ct,enabledAttributes:yn,attributeDivisors:un,object:ke,attributes:{},index:null}}function ye(){const ke=p.newAttributes;for(let Ct=0,yn=ke.length;Ct<yn;Ct++)ke[Ct]=0}function le(ke){oe(ke,0)}function oe(ke,Ct){const un=p.enabledAttributes,wn=p.attributeDivisors;p.newAttributes[ke]=1,0===un[ke]&&(m.enableVertexAttribArray(ke),un[ke]=1),wn[ke]!==Ct&&(m.vertexAttribDivisor(ke,Ct),wn[ke]=Ct)}function Pe(){const ke=p.newAttributes,Ct=p.enabledAttributes;for(let yn=0,un=Ct.length;yn<un;yn++)Ct[yn]!==ke[yn]&&(m.disableVertexAttribArray(yn),Ct[yn]=0)}function Te(ke,Ct,yn,un,wn,jn,xn){!0===xn?m.vertexAttribIPointer(ke,Ct,yn,wn,jn):m.vertexAttribPointer(ke,Ct,yn,un,wn,jn)}function yt(){He(),b=!0,p!==c&&(p=c,I(p.object))}function He(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function x(ke,Ct,yn,un,wn){let jn=!1;const xn=function Y(ke,Ct,yn){const un=!0===yn.wireframe;let wn=r[ke.id];void 0===wn&&(wn={},r[ke.id]=wn);let jn=wn[Ct.id];void 0===jn&&(jn={},wn[Ct.id]=jn);let xn=jn[un];return void 0===xn&&(xn=Z(function A(){return m.createVertexArray()}()),jn[un]=xn),xn}(un,yn,Ct);p!==xn&&(p=xn,I(p.object)),jn=function ie(ke,Ct,yn,un){const wn=p.attributes,jn=Ct.attributes;let xn=0;const si=yn.getAttributes();for(const Cn in si)if(si[Cn].location>=0){const rr=wn[Cn];let Tr=jn[Cn];if(void 0===Tr&&("instanceMatrix"===Cn&&ke.instanceMatrix&&(Tr=ke.instanceMatrix),"instanceColor"===Cn&&ke.instanceColor&&(Tr=ke.instanceColor)),void 0===rr||rr.attribute!==Tr||Tr&&rr.data!==Tr.data)return!0;xn++}return p.attributesNum!==xn||p.index!==un}(ke,un,yn,wn),jn&&function ae(ke,Ct,yn,un){const wn={},jn=Ct.attributes;let xn=0;const si=yn.getAttributes();for(const Cn in si)if(si[Cn].location>=0){let rr=jn[Cn];void 0===rr&&("instanceMatrix"===Cn&&ke.instanceMatrix&&(rr=ke.instanceMatrix),"instanceColor"===Cn&&ke.instanceColor&&(rr=ke.instanceColor));const Tr={};Tr.attribute=rr,rr&&rr.data&&(Tr.data=rr.data),wn[Cn]=Tr,xn++}p.attributes=wn,p.attributesNum=xn,p.index=un}(ke,un,yn,wn),null!==wn&&e.update(wn,m.ELEMENT_ARRAY_BUFFER),(jn||b)&&(b=!1,function we(ke,Ct,yn,un){ye();const wn=un.attributes,jn=yn.getAttributes(),xn=Ct.defaultAttributeValues;for(const si in jn){const Cn=jn[si];if(Cn.location>=0){let Ni=wn[si];if(void 0===Ni&&("instanceMatrix"===si&&ke.instanceMatrix&&(Ni=ke.instanceMatrix),"instanceColor"===si&&ke.instanceColor&&(Ni=ke.instanceColor)),void 0!==Ni){const rr=Ni.normalized,Tr=Ni.itemSize,qo=e.get(Ni);if(void 0===qo)continue;const _a=qo.buffer,Vn=qo.type,gi=qo.bytesPerElement,Pr=Vn===m.INT||Vn===m.UNSIGNED_INT||Ni.gpuType===Bt;if(Ni.isInterleavedBufferAttribute){const Li=Ni.data,go=Li.stride,zs=Ni.offset;if(Li.isInstancedInterleavedBuffer){for(let fo=0;fo<Cn.locationSize;fo++)oe(Cn.location+fo,Li.meshPerAttribute);!0!==ke.isInstancedMesh&&void 0===un._maxInstanceCount&&(un._maxInstanceCount=Li.meshPerAttribute*Li.count)}else for(let fo=0;fo<Cn.locationSize;fo++)le(Cn.location+fo);m.bindBuffer(m.ARRAY_BUFFER,_a);for(let fo=0;fo<Cn.locationSize;fo++)Te(Cn.location+fo,Tr/Cn.locationSize,Vn,rr,go*gi,(zs+Tr/Cn.locationSize*fo)*gi,Pr)}else{if(Ni.isInstancedBufferAttribute){for(let Li=0;Li<Cn.locationSize;Li++)oe(Cn.location+Li,Ni.meshPerAttribute);!0!==ke.isInstancedMesh&&void 0===un._maxInstanceCount&&(un._maxInstanceCount=Ni.meshPerAttribute*Ni.count)}else for(let Li=0;Li<Cn.locationSize;Li++)le(Cn.location+Li);m.bindBuffer(m.ARRAY_BUFFER,_a);for(let Li=0;Li<Cn.locationSize;Li++)Te(Cn.location+Li,Tr/Cn.locationSize,Vn,rr,Tr*gi,Tr/Cn.locationSize*Li*gi,Pr)}}else if(void 0!==xn){const rr=xn[si];if(void 0!==rr)switch(rr.length){case 2:m.vertexAttrib2fv(Cn.location,rr);break;case 3:m.vertexAttrib3fv(Cn.location,rr);break;case 4:m.vertexAttrib4fv(Cn.location,rr);break;default:m.vertexAttrib1fv(Cn.location,rr)}}}}Pe()}(ke,Ct,yn,un),null!==wn&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.get(wn).buffer))},reset:yt,resetDefaultState:He,dispose:function pt(){yt();for(const ke in r){const Ct=r[ke];for(const yn in Ct){const un=Ct[yn];for(const wn in un)H(un[wn].object),delete un[wn];delete Ct[yn]}delete r[ke]}},releaseStatesOfGeometry:function st(ke){if(void 0===r[ke.id])return;const Ct=r[ke.id];for(const yn in Ct){const un=Ct[yn];for(const wn in un)H(un[wn].object),delete un[wn];delete Ct[yn]}delete r[ke.id]},releaseStatesOfProgram:function ft(ke){for(const Ct in r){const yn=r[Ct];if(void 0===yn[ke.id])continue;const un=yn[ke.id];for(const wn in un)H(un[wn].object),delete un[wn];delete yn[ke.id]}},initAttributes:ye,enableAttribute:le,disableUnusedAttributes:Pe}}function qb(m,e,t){let r;function b(I,H,Y){0!==Y&&(m.drawArraysInstanced(r,I,H,Y),t.update(H,r,Y))}this.setMode=function c(I){r=I},this.render=function p(I,H){m.drawArrays(r,I,H),t.update(H,r,1)},this.renderInstances=b,this.renderMultiDraw=function x(I,H,Y){if(0===Y)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,I,0,H,0,Y);let ie=0;for(let ae=0;ae<Y;ae++)ie+=H[ae];t.update(ie,r,1)},this.renderMultiDrawInstances=function A(I,H,Y,Z){if(0===Y)return;const ie=e.get("WEBGL_multi_draw");if(null===ie)for(let ae=0;ae<I.length;ae++)b(I[ae],H[ae],Z[ae]);else{ie.multiDrawArraysInstancedWEBGL(r,I,0,H,0,Z,0,Y);let ae=0;for(let ye=0;ye<Y;ye++)ae+=H[ye]*Z[ye];t.update(ae,r,1)}}}function tb(m,e,t,r){let c;function A(ft){if("highp"===ft){if(m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.HIGH_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.HIGH_FLOAT).precision>0)return"highp";ft="mediump"}return"mediump"===ft&&m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.MEDIUM_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let I=void 0!==t.precision?t.precision:"highp";const H=A(I);H!==I&&(console.warn("THREE.WebGLRenderer:",I,"not supported, using",H,"instead."),I=H);const Y=!0===t.logarithmicDepthBuffer,Z=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),ie=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),ae=m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function p(){if(void 0!==c)return c;if(!0===e.has("EXT_texture_filter_anisotropic")){const ft=e.get("EXT_texture_filter_anisotropic");c=m.getParameter(ft.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else c=0;return c},getMaxPrecision:A,textureFormatReadable:function b(ft){return!(ft!==Zi&&r.convert(ft)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function x(ft){const yt=ft===Wt&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(ft!==Ss&&r.convert(ft)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_TYPE)&&ft!==ct&&!yt)},precision:I,logarithmicDepthBuffer:Y,reverseDepthBuffer:Z,maxTextures:ie,maxVertexTextures:ae,maxTextureSize:m.getParameter(m.MAX_TEXTURE_SIZE),maxCubemapSize:m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:m.getParameter(m.MAX_VERTEX_ATTRIBS),maxVertexUniforms:m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:m.getParameter(m.MAX_VARYING_VECTORS),maxFragmentUniforms:m.getParameter(m.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:ae>0,maxSamples:m.getParameter(m.MAX_SAMPLES)}}function nb(m){const e=this;let t=null,r=0,c=!1,p=!1;const b=new Vc,x=new Ji,A={value:null,needsUpdate:!1};function H(Y,Z,ie,ae){const ye=null!==Y?Y.length:0;let le=null;if(0!==ye){if(le=A.value,!0!==ae||null===le){const oe=ie+4*ye,Pe=Z.matrixWorldInverse;x.getNormalMatrix(Pe),(null===le||le.length<oe)&&(le=new Float32Array(oe));for(let Te=0,we=ie;Te!==ye;++Te,we+=4)b.copy(Y[Te]).applyMatrix4(Pe,x),b.normal.toArray(le,we),le[we+3]=b.constant}A.value=le,A.needsUpdate=!0}return e.numPlanes=ye,e.numIntersection=0,le}this.uniform=A,this.numPlanes=0,this.numIntersection=0,this.init=function(Y,Z){const ie=0!==Y.length||Z||0!==r||c;return c=Z,r=Y.length,ie},this.beginShadows=function(){p=!0,H(null)},this.endShadows=function(){p=!1},this.setGlobalState=function(Y,Z){t=H(Y,Z,0)},this.setState=function(Y,Z,ie){const ae=Y.clippingPlanes,ye=Y.clipIntersection,le=Y.clipShadows,oe=m.get(Y);if(!c||null===ae||0===ae.length||p&&!le)p?H(null):function I(){A.value!==t&&(A.value=t,A.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const Pe=p?0:r,Te=4*Pe;let we=oe.clippingState||null;A.value=we,we=H(ae,Z,Te,ie);for(let pt=0;pt!==Te;++pt)we[pt]=t[pt];oe.clippingState=we,this.numIntersection=ye?this.numPlanes:0,this.numPlanes+=Pe}}}function ib(m){let e=new WeakMap;function t(b,x){return 303===x?b.mapping=wo:304===x&&(b.mapping=Xi),b}function c(b){const x=b.target;x.removeEventListener("dispose",c);const A=e.get(x);void 0!==A&&(e.delete(x),A.dispose())}return{get:function r(b){if(b&&b.isTexture){const x=b.mapping;if(303===x||304===x){if(e.has(b))return t(e.get(b).texture,b.mapping);{const A=b.image;if(A&&A.height>0){const I=new Ud(A.height);return I.fromEquirectangularTexture(m,b),e.set(b,I),b.addEventListener("dispose",c),t(I.texture,b.mapping)}return null}}}return b},dispose:function p(){e=new WeakMap}}}const rb=[.125,.215,.35,.446,.526,.582],xy=new uf,a_=new Mt;let ob=null,$p=0,l_=0,c_=!1;const Od=(1+Math.sqrt(5))/2,Ah=1/Od,Au=[new Je(-Od,Ah,0),new Je(Od,Ah,0),new Je(-Ah,0,Od),new Je(Ah,0,Od),new Je(0,Od,-Ah),new Je(0,Od,Ah),new Je(-1,1,-1),new Je(1,1,-1),new Je(-1,1,1),new Je(1,1,1)],Eg=new Je;class rc{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,c=100,p={}){const{size:b=256,position:x=Eg}=p;ob=this._renderer.getRenderTarget(),$p=this._renderer.getActiveCubeFace(),l_=this._renderer.getActiveMipmapLevel(),c_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(b);const A=this._allocateTargets();return A.depthBuffer=!0,this._sceneToCubeUV(e,r,c,A,x),t>0&&this._blur(A,0,0,t),this._applyPMREM(A),this._cleanup(A),A}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ih(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Ph(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ob,$p,l_),this._renderer.xr.enabled=c_,e.scissorTest=!1,Cc(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===wo||e.mapping===Xi?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),ob=this._renderer.getRenderTarget(),$p=this._renderer.getActiveCubeFace(),l_=this._renderer.getActiveMipmapLevel(),c_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:_i,minFilter:_i,generateMipmaps:!1,type:Wt,format:Zi,colorSpace:ma,depthBuffer:!1},c=wg(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=wg(e,t,r);const{_lodMax:p}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Dh(m){const e=[],t=[],r=[];let c=m;const p=m-4+1+rb.length;for(let b=0;b<p;b++){const x=Math.pow(2,c);t.push(x);let A=1/x;b>m-4?A=rb[b-m+4-1]:0===b&&(A=0),r.push(A);const I=1/(x-2),H=-I,Y=1+I,Z=[H,H,Y,H,Y,Y,H,H,Y,Y,H,Y],ie=6,ae=6,ye=3,le=2,oe=1,Pe=new Float32Array(ye*ae*ie),Te=new Float32Array(le*ae*ie),we=new Float32Array(oe*ae*ie);for(let st=0;st<ie;st++){const ft=st%3*2/3-1,yt=st>2?0:-1;Pe.set([ft,yt,0,ft+2/3,yt,0,ft+2/3,yt+1,0,ft,yt,0,ft+2/3,yt+1,0,ft,yt+1,0],ye*ae*st),Te.set(Z,le*ae*st),we.set([st,st,st,st,st,st],oe*ae*st)}const pt=new Do;pt.setAttribute("position",new eo(Pe,ye)),pt.setAttribute("uv",new eo(Te,le)),pt.setAttribute("faceIndex",new eo(we,oe)),e.push(pt),c>4&&c--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(p)),this._blurMaterial=function u_(m,e,t){const r=new Float32Array(20),c=new Je(0,1,0);return new nc({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${m}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(p,e,t)}return c}_compileMaterial(e){const t=new _l(this._lodPlanes[0],e);this._renderer.compile(t,xy)}_sceneToCubeUV(e,t,r,c,p){const A=new Vl(90,1,t,r),I=[1,-1,1,1,1,1],H=[1,1,1,-1,-1,-1],Y=this._renderer,Z=Y.autoClear,ie=Y.toneMapping;Y.getClearColor(a_),Y.toneMapping=Dt,Y.autoClear=!1;const ae=new ps({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),ye=new _l(new Fc,ae);let le=!1;const oe=e.background;oe?oe.isColor&&(ae.color.copy(oe),e.background=null,le=!0):(ae.color.copy(a_),le=!0);for(let Pe=0;Pe<6;Pe++){const Te=Pe%3;0===Te?(A.up.set(0,I[Pe],0),A.position.set(p.x,p.y,p.z),A.lookAt(p.x+H[Pe],p.y,p.z)):1===Te?(A.up.set(0,0,I[Pe]),A.position.set(p.x,p.y,p.z),A.lookAt(p.x,p.y+H[Pe],p.z)):(A.up.set(0,I[Pe],0),A.position.set(p.x,p.y,p.z),A.lookAt(p.x,p.y,p.z+H[Pe]));const we=this._cubeSize;Cc(c,Te*we,Pe>2?we:0,we,we),Y.setRenderTarget(c),le&&Y.render(ye,A),Y.render(e,A)}ye.geometry.dispose(),ye.material.dispose(),Y.toneMapping=ie,Y.autoClear=Z,e.background=oe}_textureToCubeUV(e,t){const r=this._renderer,c=e.mapping===wo||e.mapping===Xi;c?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ih()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ph());const p=c?this._cubemapMaterial:this._equirectMaterial,b=new _l(this._lodPlanes[0],p);p.uniforms.envMap.value=e;const A=this._cubeSize;Cc(t,0,0,3*A,2*A),r.setRenderTarget(t),r.render(b,xy)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const c=this._lodPlanes.length;for(let p=1;p<c;p++){const b=Math.sqrt(this._sigmas[p]*this._sigmas[p]-this._sigmas[p-1]*this._sigmas[p-1]);this._blur(e,p-1,p,b,Au[(c-p-1)%Au.length])}t.autoClear=r}_blur(e,t,r,c,p){const b=this._pingPongRenderTarget;this._halfBlur(e,b,t,r,c,"latitudinal",p),this._halfBlur(b,e,r,r,c,"longitudinal",p)}_halfBlur(e,t,r,c,p,b,x){const A=this._renderer,I=this._blurMaterial;"latitudinal"!==b&&"longitudinal"!==b&&console.error("blur direction must be either latitudinal or longitudinal!");const Y=new _l(this._lodPlanes[c],I),Z=I.uniforms,ie=this._sizeLods[r]-1,ae=isFinite(p)?Math.PI/(2*ie):2*Math.PI/39,ye=p/ae,le=isFinite(p)?1+Math.floor(3*ye):20;le>20&&console.warn(`sigmaRadians, ${p}, is too large and will clip, as it requested ${le} samples when the maximum is set to 20`);const oe=[];let Pe=0;for(let ft=0;ft<20;++ft){const yt=ft/ye,He=Math.exp(-yt*yt/2);oe.push(He),0===ft?Pe+=He:ft<le&&(Pe+=2*He)}for(let ft=0;ft<oe.length;ft++)oe[ft]=oe[ft]/Pe;Z.envMap.value=e.texture,Z.samples.value=le,Z.weights.value=oe,Z.latitudinal.value="latitudinal"===b,x&&(Z.poleAxis.value=x);const{_lodMax:Te}=this;Z.dTheta.value=ae,Z.mipInt.value=Te-r;const we=this._sizeLods[c];Cc(t,3*we*(c>Te-4?c-Te+4:0),4*(this._cubeSize-we),3*we,2*we),A.setRenderTarget(t),A.render(Y,xy)}}function wg(m,e,t){const r=new Qt(m,e,t);return r.texture.mapping=vi,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cc(m,e,t,r,c){m.viewport.set(e,t,r,c),m.scissor.set(e,t,r,c)}function Ph(){return new nc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ih(){return new nc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Xp(m){let e=new WeakMap,t=null;function p(x){const A=x.target;A.removeEventListener("dispose",p);const I=e.get(A);void 0!==I&&(e.delete(A),I.dispose())}return{get:function r(x){if(x&&x.isTexture){const A=x.mapping,I=303===A||304===A,H=A===wo||A===Xi;if(I||H){let Y=e.get(x);if(x.isRenderTargetTexture&&x.pmremVersion!==(void 0!==Y?Y.texture.pmremVersion:0))return null===t&&(t=new rc(m)),Y=I?t.fromEquirectangular(x,Y):t.fromCubemap(x,Y),Y.texture.pmremVersion=x.pmremVersion,e.set(x,Y),Y.texture;if(void 0!==Y)return Y.texture;{const ie=x.image;return I&&ie&&ie.height>0||H&&ie&&function c(x){let A=0;for(let H=0;H<6;H++)void 0!==x[H]&&A++;return 6===A}(ie)?(null===t&&(t=new rc(m)),Y=I?t.fromEquirectangular(x):t.fromCubemap(x),Y.texture.pmremVersion=x.pmremVersion,e.set(x,Y),x.addEventListener("dispose",p),Y.texture):null}}}return x},dispose:function b(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Yp(m){const e={};function t(r){if(void 0!==e[r])return e[r];let c;switch(r){case"WEBGL_depth_texture":c=m.getExtension("WEBGL_depth_texture")||m.getExtension("MOZ_WEBGL_depth_texture")||m.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":c=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":c=m.getExtension("WEBGL_compressed_texture_s3tc")||m.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":c=m.getExtension("WEBGL_compressed_texture_pvrtc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:c=m.getExtension(r)}return e[r]=c,c}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const c=t(r);return null===c&&_o("THREE.WebGLRenderer: "+r+" extension not supported."),c}}}function Zp(m,e,t,r){const c={},p=new WeakMap;function b(Y){const Z=Y.target;null!==Z.index&&e.remove(Z.index);for(const ae in Z.attributes)e.remove(Z.attributes[ae]);Z.removeEventListener("dispose",b),delete c[Z.id];const ie=p.get(Z);ie&&(e.remove(ie),p.delete(Z)),r.releaseStatesOfGeometry(Z),!0===Z.isInstancedBufferGeometry&&delete Z._maxInstanceCount,t.memory.geometries--}function I(Y){const Z=[],ie=Y.index,ae=Y.attributes.position;let ye=0;if(null!==ie){const Pe=ie.array;ye=ie.version;for(let Te=0,we=Pe.length;Te<we;Te+=3){const pt=Pe[Te+0],st=Pe[Te+1],ft=Pe[Te+2];Z.push(pt,st,st,ft,ft,pt)}}else{if(void 0===ae)return;ye=ae.version;for(let Te=0,we=ae.array.length/3-1;Te<we;Te+=3){const pt=Te+0,st=Te+1,ft=Te+2;Z.push(pt,st,st,ft,ft,pt)}}const le=new(Ys(Z)?Fd:Df)(Z,1);le.version=ye;const oe=p.get(Y);oe&&e.remove(oe),p.set(Y,le)}return{get:function x(Y,Z){return!0===c[Z.id]||(Z.addEventListener("dispose",b),c[Z.id]=!0,t.memory.geometries++),Z},update:function A(Y){const Z=Y.attributes;for(const ie in Z)e.update(Z[ie],m.ARRAY_BUFFER)},getWireframeAttribute:function H(Y){const Z=p.get(Y);if(Z){const ie=Y.index;null!==ie&&Z.version<ie.version&&I(Y)}else I(Y);return p.get(Y)}}}function Kp(m,e,t){let r,p,b;function I(Z,ie,ae){0!==ae&&(m.drawElementsInstanced(r,ie,p,Z*b,ae),t.update(ie,r,ae))}this.setMode=function c(Z){r=Z},this.setIndex=function x(Z){p=Z.type,b=Z.bytesPerElement},this.render=function A(Z,ie){m.drawElements(r,ie,p,Z*b),t.update(ie,r,1)},this.renderInstances=I,this.renderMultiDraw=function H(Z,ie,ae){if(0===ae)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,ie,0,p,Z,0,ae);let le=0;for(let oe=0;oe<ae;oe++)le+=ie[oe];t.update(le,r,1)},this.renderMultiDrawInstances=function Y(Z,ie,ae,ye){if(0===ae)return;const le=e.get("WEBGL_multi_draw");if(null===le)for(let oe=0;oe<Z.length;oe++)I(Z[oe]/b,ie[oe],ye[oe]);else{le.multiDrawElementsInstancedWEBGL(r,ie,0,p,Z,0,ye,0,ae);let oe=0;for(let Pe=0;Pe<ae;Pe++)oe+=ie[Pe]*ye[Pe];t.update(oe,r,1)}}}function Jp(m){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function c(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(p,b,x){switch(t.calls++,b){case m.TRIANGLES:t.triangles+=x*(p/3);break;case m.LINES:t.lines+=x*(p/2);break;case m.LINE_STRIP:t.lines+=x*(p-1);break;case m.LINE_LOOP:t.lines+=x*p;break;case m.POINTS:t.points+=x*p;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",b)}}}}function Qp(m,e,t){const r=new WeakMap,c=new Ue;return{update:function p(b,x,A){const I=b.morphTargetInfluences,H=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,Y=void 0!==H?H.length:0;let Z=r.get(x);if(void 0===Z||Z.count!==Y){let He=function(){ft.dispose(),r.delete(x),x.removeEventListener("dispose",He)};void 0!==Z&&Z.texture.dispose();const ie=void 0!==x.morphAttributes.position,ae=void 0!==x.morphAttributes.normal,ye=void 0!==x.morphAttributes.color,le=x.morphAttributes.position||[],oe=x.morphAttributes.normal||[],Pe=x.morphAttributes.color||[];let Te=0;!0===ie&&(Te=1),!0===ae&&(Te=2),!0===ye&&(Te=3);let we=x.attributes.position.count*Te,pt=1;we>e.maxTextureSize&&(pt=Math.ceil(we/e.maxTextureSize),we=e.maxTextureSize);const st=new Float32Array(we*pt*4*Y),ft=new Mi(st,we,pt,Y);ft.type=ct,ft.needsUpdate=!0;const yt=4*Te;for(let ke=0;ke<Y;ke++){const Ct=le[ke],yn=oe[ke],un=Pe[ke],wn=we*pt*4*ke;for(let jn=0;jn<Ct.count;jn++){const xn=jn*yt;!0===ie&&(c.fromBufferAttribute(Ct,jn),st[wn+xn+0]=c.x,st[wn+xn+1]=c.y,st[wn+xn+2]=c.z,st[wn+xn+3]=0),!0===ae&&(c.fromBufferAttribute(yn,jn),st[wn+xn+4]=c.x,st[wn+xn+5]=c.y,st[wn+xn+6]=c.z,st[wn+xn+7]=0),!0===ye&&(c.fromBufferAttribute(un,jn),st[wn+xn+8]=c.x,st[wn+xn+9]=c.y,st[wn+xn+10]=c.z,st[wn+xn+11]=4===un.itemSize?c.w:1)}}Z={count:Y,texture:ft,size:new ln(we,pt)},r.set(x,Z),x.addEventListener("dispose",He)}if(!0===b.isInstancedMesh&&null!==b.morphTexture)A.getUniforms().setValue(m,"morphTexture",b.morphTexture,t);else{let ie=0;for(let ye=0;ye<I.length;ye++)ie+=I[ye];const ae=x.morphTargetsRelative?1:1-ie;A.getUniforms().setValue(m,"morphTargetBaseInfluence",ae),A.getUniforms().setValue(m,"morphTargetInfluences",I)}A.getUniforms().setValue(m,"morphTargetsTexture",Z.texture,t),A.getUniforms().setValue(m,"morphTargetsTextureSize",Z.size)}}}function d_(m,e,t,r){let c=new WeakMap;function x(A){const I=A.target;I.removeEventListener("dispose",x),t.remove(I.instanceMatrix),null!==I.instanceColor&&t.remove(I.instanceColor)}return{update:function p(A){const I=r.render.frame,Y=e.get(A,A.geometry);if(c.get(Y)!==I&&(e.update(Y),c.set(Y,I)),A.isInstancedMesh&&(!1===A.hasEventListener("dispose",x)&&A.addEventListener("dispose",x),c.get(A)!==I&&(t.update(A.instanceMatrix,m.ARRAY_BUFFER),null!==A.instanceColor&&t.update(A.instanceColor,m.ARRAY_BUFFER),c.set(A,I))),A.isSkinnedMesh){const Z=A.skeleton;c.get(Z)!==I&&(Z.update(),c.set(Z,I))}return Y},dispose:function b(){c=new WeakMap}}}const Cy=new ve,Ey=new Kd(1,1),wy=new Mi,Ty=new Co,Ay=new kd,Dy=[],Py=[],Iy=new Float32Array(16),Oy=new Float32Array(9),sb=new Float32Array(4);function Tg(m,e,t){const r=m[0];if(r<=0||r>0)return m;const c=e*t;let p=Dy[c];if(void 0===p&&(p=new Float32Array(c),Dy[c]=p),0!==e){r.toArray(p,0);for(let b=1,x=0;b!==e;++b)x+=t,m[b].toArray(p,x)}return p}function oc(m,e){if(m.length!==e.length)return!1;for(let t=0,r=m.length;t<r;t++)if(m[t]!==e[t])return!1;return!0}function ql(m,e){for(let t=0,r=e.length;t<r;t++)m[t]=e[t]}function Ry(m,e){let t=Py[e];void 0===t&&(t=new Int32Array(e),Py[e]=t);for(let r=0;r!==e;++r)t[r]=m.allocateTextureUnit();return t}function bM(m,e){const t=this.cache;t[0]!==e&&(m.uniform1f(this.addr,e),t[0]=e)}function e1(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(m.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oc(t,e))return;m.uniform2fv(this.addr,e),ql(t,e)}}function MM(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(m.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(m.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(oc(t,e))return;m.uniform3fv(this.addr,e),ql(t,e)}}function t1(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(m.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oc(t,e))return;m.uniform4fv(this.addr,e),ql(t,e)}}function n1(m,e){const t=this.cache,r=e.elements;if(void 0===r){if(oc(t,e))return;m.uniformMatrix2fv(this.addr,!1,e),ql(t,e)}else{if(oc(t,r))return;sb.set(r),m.uniformMatrix2fv(this.addr,!1,sb),ql(t,r)}}function i1(m,e){const t=this.cache,r=e.elements;if(void 0===r){if(oc(t,e))return;m.uniformMatrix3fv(this.addr,!1,e),ql(t,e)}else{if(oc(t,r))return;Oy.set(r),m.uniformMatrix3fv(this.addr,!1,Oy),ql(t,r)}}function f_(m,e){const t=this.cache,r=e.elements;if(void 0===r){if(oc(t,e))return;m.uniformMatrix4fv(this.addr,!1,e),ql(t,e)}else{if(oc(t,r))return;Iy.set(r),m.uniformMatrix4fv(this.addr,!1,Iy),ql(t,r)}}function Ag(m,e){const t=this.cache;t[0]!==e&&(m.uniform1i(this.addr,e),t[0]=e)}function h_(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(m.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oc(t,e))return;m.uniform2iv(this.addr,e),ql(t,e)}}function Fy(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(m.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(oc(t,e))return;m.uniform3iv(this.addr,e),ql(t,e)}}function ab(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(m.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oc(t,e))return;m.uniform4iv(this.addr,e),ql(t,e)}}function Dg(m,e){const t=this.cache;t[0]!==e&&(m.uniform1ui(this.addr,e),t[0]=e)}function lb(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(m.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(oc(t,e))return;m.uniform2uiv(this.addr,e),ql(t,e)}}function r1(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(m.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(oc(t,e))return;m.uniform3uiv(this.addr,e),ql(t,e)}}function Pg(m,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(m.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(oc(t,e))return;m.uniform4uiv(this.addr,e),ql(t,e)}}function o1(m,e,t){const r=this.cache,c=t.allocateTextureUnit();let p;r[0]!==c&&(m.uniform1i(this.addr,c),r[0]=c),this.type===m.SAMPLER_2D_SHADOW?(Ey.compareFunction=515,p=Ey):p=Cy,t.setTexture2D(e||p,c)}function s1(m,e,t){const r=this.cache,c=t.allocateTextureUnit();r[0]!==c&&(m.uniform1i(this.addr,c),r[0]=c),t.setTexture3D(e||Ty,c)}function a1(m,e,t){const r=this.cache,c=t.allocateTextureUnit();r[0]!==c&&(m.uniform1i(this.addr,c),r[0]=c),t.setTextureCube(e||Ay,c)}function l1(m,e,t){const r=this.cache,c=t.allocateTextureUnit();r[0]!==c&&(m.uniform1i(this.addr,c),r[0]=c),t.setTexture2DArray(e||wy,c)}function Ny(m,e){m.uniform1fv(this.addr,e)}function Ly(m,e){const t=Tg(e,this.size,2);m.uniform2fv(this.addr,t)}function SM(m,e){const t=Tg(e,this.size,3);m.uniform3fv(this.addr,t)}function c1(m,e){const t=Tg(e,this.size,4);m.uniform4fv(this.addr,t)}function u1(m,e){const t=Tg(e,this.size,4);m.uniformMatrix2fv(this.addr,!1,t)}function m_(m,e){const t=Tg(e,this.size,9);m.uniformMatrix3fv(this.addr,!1,t)}function d1(m,e){const t=Tg(e,this.size,16);m.uniformMatrix4fv(this.addr,!1,t)}function cb(m,e){m.uniform1iv(this.addr,e)}function f1(m,e){m.uniform2iv(this.addr,e)}function h1(m,e){m.uniform3iv(this.addr,e)}function ub(m,e){m.uniform4iv(this.addr,e)}function db(m,e){m.uniform1uiv(this.addr,e)}function fb(m,e){m.uniform2uiv(this.addr,e)}function p1(m,e){m.uniform3uiv(this.addr,e)}function m1(m,e){m.uniform4uiv(this.addr,e)}function hb(m,e,t){const r=this.cache,c=e.length,p=Ry(t,c);oc(r,p)||(m.uniform1iv(this.addr,p),ql(r,p));for(let b=0;b!==c;++b)t.setTexture2D(e[b]||Cy,p[b])}function pb(m,e,t){const r=this.cache,c=e.length,p=Ry(t,c);oc(r,p)||(m.uniform1iv(this.addr,p),ql(r,p));for(let b=0;b!==c;++b)t.setTexture3D(e[b]||Ty,p[b])}function g_(m,e,t){const r=this.cache,c=e.length,p=Ry(t,c);oc(r,p)||(m.uniform1iv(this.addr,p),ql(r,p));for(let b=0;b!==c;++b)t.setTextureCube(e[b]||Ay,p[b])}function v_(m,e,t){const r=this.cache,c=e.length,p=Ry(t,c);oc(r,p)||(m.uniform1iv(this.addr,p),ql(r,p));for(let b=0;b!==c;++b)t.setTexture2DArray(e[b]||wy,p[b])}class ky{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function p_(m){switch(m){case 5126:return bM;case 35664:return e1;case 35665:return MM;case 35666:return t1;case 35674:return n1;case 35675:return i1;case 35676:return f_;case 5124:case 35670:return Ag;case 35667:case 35671:return h_;case 35668:case 35672:return Fy;case 35669:case 35673:return ab;case 5125:return Dg;case 36294:return lb;case 36295:return r1;case 36296:return Pg;case 35678:case 36198:case 36298:case 36306:case 35682:return o1;case 35679:case 36299:case 36307:return s1;case 35680:case 36300:case 36308:case 36293:return a1;case 36289:case 36303:case 36311:case 36292:return l1}}(t.type)}}class Uy{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function g1(m){switch(m){case 5126:return Ny;case 35664:return Ly;case 35665:return SM;case 35666:return c1;case 35674:return u1;case 35675:return m_;case 35676:return d1;case 5124:case 35670:return cb;case 35667:case 35671:return f1;case 35668:case 35672:return h1;case 35669:case 35673:return ub;case 5125:return db;case 36294:return fb;case 36295:return p1;case 36296:return m1;case 35678:case 36198:case 36298:case 36306:case 35682:return hb;case 35679:case 36299:case 36307:return pb;case 35680:case 36300:case 36308:case 36293:return g_;case 36289:case 36303:case 36311:case 36292:return v_}}(t.type)}}class y_{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const c=this.seq;for(let p=0,b=c.length;p!==b;++p){const x=c[p];x.setValue(e,t[x.id],r)}}}const By=/(\w+)(\])?(\[|\.)?/g;function mb(m,e){m.seq.push(e),m.map[e.id]=e}function v1(m,e,t){const r=m.name,c=r.length;for(By.lastIndex=0;;){const p=By.exec(r);let x=p[1];const I=p[3];if("]"===p[2]&&(x|=0),void 0===I||"["===I&&By.lastIndex+2===c){mb(t,void 0===I?new ky(x,m,e):new Uy(x,m,e));break}{let Y=t.map[x];void 0===Y&&(Y=new y_(x),mb(t,Y)),t=Y}}}class Vy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let c=0;c<r;++c){const p=e.getActiveUniform(t,c);v1(p,e.getUniformLocation(t,p.name),this)}}setValue(e,t,r,c){const p=this.map[t];void 0!==p&&p.setValue(e,r,c)}setOptional(e,t,r){const c=t[r];void 0!==c&&this.setValue(e,r,c)}static upload(e,t,r,c){for(let p=0,b=t.length;p!==b;++p){const x=t[p],A=r[x.id];!1!==A.needsUpdate&&x.setValue(e,A.value,c)}}static seqWithValue(e,t){const r=[];for(let c=0,p=e.length;c!==p;++c){const b=e[c];b.id in t&&r.push(b)}return r}}function Ig(m,e,t){const r=m.createShader(e);return m.shaderSource(r,t),m.compileShader(r),r}const zy=37297;let __=0;const vb=new Ji;function b_(m,e,t){const r=m.getShaderParameter(e,m.COMPILE_STATUS),c=m.getShaderInfoLog(e).trim();if(r&&""===c)return"";const p=/ERROR: 0:(\d+)/.exec(c);if(p){const b=parseInt(p[1]);return t.toUpperCase()+"\n\n"+c+"\n\n"+function gb(m,e){const t=m.split("\n"),r=[],c=Math.max(e-6,0),p=Math.min(e+6,t.length);for(let b=c;b<p;b++){const x=b+1;r.push(`${x===e?">":" "} ${x}: ${t[b]}`)}return r.join("\n")}(m.getShaderSource(e),b)}return c}function M_(m,e){const t=function y1(m){Qr._getMatrix(vb,Qr.workingColorSpace,m);const e=`mat3( ${vb.elements.map(t=>t.toFixed(4))} )`;switch(Qr.getTransfer(m)){case Lr:return[e,"LinearTransferOETF"];case Sn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",m),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${m}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function yb(m,e){let t;switch(e){case It:t="Linear";break;case cn:t="Reinhard";break;case tn:t="Cineon";break;case Br:t="ACESFilmic";break;case oi:t="AgX";break;case Rn:t="Neutral";break;case zi:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+m+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const qp=new Je;function em(m){return""!==m}function x_(m,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return m.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Mb(m,e){return m.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Sb=/^[ \t]*#include +<([\w\d./]+)>/gm;function jy(m){return m.replace(Sb,Hy)}const C_=new Map;function Hy(m,e){let t=bo[e];if(void 0===t){const r=C_.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=bo[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return jy(t)}const E_=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gy(m){return m.replace(E_,w_)}function w_(m,e,t,r){let c="";for(let p=parseInt(e);p<parseInt(t);p++)c+=r.replace(/\[\s*i\s*\]/g,"[ "+p+" ]").replace(/UNROLLED_LOOP_INDEX/g,p);return c}function Wy(m){let e=`precision ${m.precision} float;\n\tprecision ${m.precision} int;\n\tprecision ${m.precision} sampler2D;\n\tprecision ${m.precision} samplerCube;\n\tprecision ${m.precision} sampler3D;\n\tprecision ${m.precision} sampler2DArray;\n\tprecision ${m.precision} sampler2DShadow;\n\tprecision ${m.precision} samplerCubeShadow;\n\tprecision ${m.precision} sampler2DArrayShadow;\n\tprecision ${m.precision} isampler2D;\n\tprecision ${m.precision} isampler3D;\n\tprecision ${m.precision} isamplerCube;\n\tprecision ${m.precision} isampler2DArray;\n\tprecision ${m.precision} usampler2D;\n\tprecision ${m.precision} usampler3D;\n\tprecision ${m.precision} usamplerCube;\n\tprecision ${m.precision} usampler2DArray;\n\t`;return"highp"===m.precision?e+="\n#define HIGH_PRECISION":"mediump"===m.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===m.precision&&(e+="\n#define LOW_PRECISION"),e}function wf(m,e,t,r){const c=m.getContext(),p=t.defines;let b=t.vertexShader,x=t.fragmentShader;const A=function T_(m){let e="SHADOWMAP_TYPE_BASIC";return m.shadowMapType===F?e="SHADOWMAP_TYPE_PCF":m.shadowMapType===B?e="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===k&&(e="SHADOWMAP_TYPE_VSM"),e}(t),I=function A_(m){let e="ENVMAP_TYPE_CUBE";if(m.envMap)switch(m.envMapMode){case wo:case Xi:e="ENVMAP_TYPE_CUBE";break;case vi:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),H=function D_(m){let e="ENVMAP_MODE_REFLECTION";return m.envMap&&m.envMapMode===Xi&&(e="ENVMAP_MODE_REFRACTION"),e}(t),Y=function P_(m){let e="ENVMAP_BLENDING_NONE";if(m.envMap)switch(m.combine){case Lo:e="ENVMAP_BLENDING_MULTIPLY";break;case dt:e="ENVMAP_BLENDING_MIX";break;case et:e="ENVMAP_BLENDING_ADD"}return e}(t),Z=function $y(m){const e=m.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),ie=function _1(m){return[m.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",m.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(em).join("\n")}(t),ae=function _b(m){const e=[];for(const t in m){const r=m[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(p),ye=c.createProgram();let le,oe,Pe=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(le=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,ae].filter(em).join("\n"),le.length>0&&(le+="\n"),oe=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,ae].filter(em).join("\n"),oe.length>0&&(oe+="\n")):(le=[Wy(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,ae,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+H:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+A:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(em).join("\n"),oe=[Wy(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,ae,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+I:"",t.envMap?"#define "+H:"",t.envMap?"#define "+Y:"",Z?"#define CUBEUV_TEXEL_WIDTH "+Z.texelWidth:"",Z?"#define CUBEUV_TEXEL_HEIGHT "+Z.texelHeight:"",Z?"#define CUBEUV_MAX_MIP "+Z.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+A:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Dt?"#define TONE_MAPPING":"",t.toneMapping!==Dt?bo.tonemapping_pars_fragment:"",t.toneMapping!==Dt?yb("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",bo.colorspace_pars_fragment,M_("linearToOutputTexel",t.outputColorSpace),(Qr.getLuminanceCoefficients(qp),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${qp.x.toFixed(4)}, ${qp.y.toFixed(4)}, ${qp.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(em).join("\n")),b=jy(b),b=x_(b,t),b=Mb(b,t),x=jy(x),x=x_(x,t),x=Mb(x,t),b=Gy(b),x=Gy(x),!0!==t.isRawShaderMaterial&&(Pe="#version 300 es\n",le=[ie,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+le,oe=["#define varying in",t.glslVersion===Xn?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Xn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+oe);const we=Pe+oe+x,pt=Ig(c,c.VERTEX_SHADER,Pe+le+b),st=Ig(c,c.FRAGMENT_SHADER,we);function ft(Ct){if(m.debug.checkShaderErrors){const yn=c.getProgramInfoLog(ye).trim(),un=c.getShaderInfoLog(pt).trim(),wn=c.getShaderInfoLog(st).trim();let jn=!0,xn=!0;if(!1===c.getProgramParameter(ye,c.LINK_STATUS))if(jn=!1,"function"==typeof m.debug.onShaderError)m.debug.onShaderError(c,ye,pt,st);else{const si=b_(c,pt,"vertex"),Cn=b_(c,st,"fragment");console.error("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(ye,c.VALIDATE_STATUS)+"\n\nMaterial Name: "+Ct.name+"\nMaterial Type: "+Ct.type+"\n\nProgram Info Log: "+yn+"\n"+si+"\n"+Cn)}else""!==yn?console.warn("THREE.WebGLProgram: Program Info Log:",yn):(""===un||""===wn)&&(xn=!1);xn&&(Ct.diagnostics={runnable:jn,programLog:yn,vertexShader:{log:un,prefix:le},fragmentShader:{log:wn,prefix:oe}})}c.deleteShader(pt),c.deleteShader(st),yt=new Vy(c,ye),He=function bb(m,e){const t={},r=m.getProgramParameter(e,m.ACTIVE_ATTRIBUTES);for(let c=0;c<r;c++){const p=m.getActiveAttrib(e,c),b=p.name;let x=1;p.type===m.FLOAT_MAT2&&(x=2),p.type===m.FLOAT_MAT3&&(x=3),p.type===m.FLOAT_MAT4&&(x=4),t[b]={type:p.type,location:m.getAttribLocation(e,b),locationSize:x}}return t}(c,ye)}let yt,He;c.attachShader(ye,pt),c.attachShader(ye,st),void 0!==t.index0AttributeName?c.bindAttribLocation(ye,0,t.index0AttributeName):!0===t.morphTargets&&c.bindAttribLocation(ye,0,"position"),c.linkProgram(ye),this.getUniforms=function(){return void 0===yt&&ft(this),yt},this.getAttributes=function(){return void 0===He&&ft(this),He};let ke=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===ke&&(ke=c.getProgramParameter(ye,zy)),ke},this.destroy=function(){r.releaseStatesOfProgram(this),c.deleteProgram(ye),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=__++,this.cacheKey=e,this.usedTimes=1,this.program=ye,this.vertexShader=pt,this.fragmentShader=st,this}let b1=0;class M1{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,c=this._getShaderStage(e.vertexShader),p=this._getShaderStage(r),b=this._getShaderCacheForMaterial(e);return!1===b.has(c)&&(b.add(c),c.usedTimes++),!1===b.has(p)&&(b.add(p),p.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new I_(e),t.set(e,r)),r}}class I_{constructor(e){this.id=b1++,this.code=e,this.usedTimes=0}}function Oh(m,e,t,r,c,p,b){const x=new Ke,A=new M1,I=new Set,H=[],Y=c.logarithmicDepthBuffer,Z=c.vertexTextures;let ie=c.precision;const ae={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ye(He){return I.add(He),0===He?"uv":`uv${He}`}return{getParameters:function le(He,ke,Ct,yn,un){const wn=yn.fog,jn=un.geometry,si=(He.isMeshStandardMaterial?t:e).get(He.envMap||(He.isMeshStandardMaterial?yn.environment:null)),Cn=si&&si.mapping===vi?si.image.height:null,Ni=ae[He.type];null!==He.precision&&(ie=c.getMaxPrecision(He.precision),ie!==He.precision&&console.warn("THREE.WebGLProgram.getParameters:",He.precision,"not supported, using",ie,"instead."));const rr=jn.morphAttributes.position||jn.morphAttributes.normal||jn.morphAttributes.color,Tr=void 0!==rr?rr.length:0;let _a,Vn,gi,Pr,qo=0;if(void 0!==jn.morphAttributes.position&&(qo=1),void 0!==jn.morphAttributes.normal&&(qo=2),void 0!==jn.morphAttributes.color&&(qo=3),Ni){const Ia=Tu[Ni];_a=Ia.vertexShader,Vn=Ia.fragmentShader}else _a=He.vertexShader,Vn=He.fragmentShader,A.update(He),gi=A.getVertexShaderID(He),Pr=A.getFragmentShaderID(He);const Li=m.getRenderTarget(),go=m.state.buffers.depth.getReversed(),zs=!0===un.isInstancedMesh,fo=!0===un.isBatchedMesh,fa=!!He.map,Os=!!si,wt=!!He.aoMap,xl=!!He.lightMap,Wn=!!He.bumpMap,Yn=!!He.normalMap,Ln=!!He.displacementMap,Ii=!!He.emissiveMap,kn=!!He.metalnessMap,tt=!!He.roughnessMap,Fe=He.anisotropy>0,Zt=He.clearcoat>0,Un=He.iridescence>0,An=He.sheen>0,xr=He.transmission>0,yi=Fe&&!!He.anisotropyMap,cr=Zt&&!!He.clearcoatMap,Fs=Zt&&!!He.clearcoatNormalMap,ai=Zt&&!!He.clearcoatRoughnessMap,yr=Un&&!!He.iridescenceMap,vo=Un&&!!He.iridescenceThicknessMap,Po=An&&!!He.sheenColorMap,ur=An&&!!He.sheenRoughnessMap,js=!!He.specularMap,ms=!!He.specularColorMap,ba=!!He.specularIntensityMap,Vt=xr&&!!He.transmissionMap,Yi=xr&&!!He.thicknessMap,Hn=!!He.alphaMap,Yo=!!He.extensions;let Hs=Dt;He.toneMapped&&(null===Li||!0===Li.isXRRenderTarget)&&(Hs=m.toneMapping);const Ec={shaderID:Ni,shaderType:He.type,shaderName:He.name,vertexShader:_a,fragmentShader:Vn,defines:He.defines,customVertexShaderID:gi,customFragmentShaderID:Pr,isRawShaderMaterial:!0===He.isRawShaderMaterial,glslVersion:He.glslVersion,precision:ie,batching:fo,batchingColor:fo&&null!==un._colorsTexture,instancing:zs,instancingColor:zs&&null!==un.instanceColor,instancingMorph:zs&&null!==un.morphTexture,supportsVertexTextures:Z,outputColorSpace:null===Li?m.outputColorSpace:!0===Li.isXRRenderTarget?Li.texture.colorSpace:ma,alphaToCoverage:!!He.alphaToCoverage,map:fa,matcap:!!He.matcap,envMap:Os,envMapMode:Os&&si.mapping,envMapCubeUVHeight:Cn,aoMap:wt,lightMap:xl,bumpMap:Wn,normalMap:Yn,displacementMap:Z&&Ln,emissiveMap:Ii,normalMapObjectSpace:Yn&&1===He.normalMapType,normalMapTangentSpace:Yn&&0===He.normalMapType,metalnessMap:kn,roughnessMap:tt,anisotropy:Fe,anisotropyMap:yi,clearcoat:Zt,clearcoatMap:cr,clearcoatNormalMap:Fs,clearcoatRoughnessMap:ai,dispersion:He.dispersion>0,iridescence:Un,iridescenceMap:yr,iridescenceThicknessMap:vo,sheen:An,sheenColorMap:Po,sheenRoughnessMap:ur,specularMap:js,specularColorMap:ms,specularIntensityMap:ba,transmission:xr,transmissionMap:Vt,thicknessMap:Yi,gradientMap:!!He.gradientMap,opaque:!1===He.transparent&&1===He.blending&&!1===He.alphaToCoverage,alphaMap:Hn,alphaTest:He.alphaTest>0,alphaHash:!!He.alphaHash,combine:He.combine,mapUv:fa&&ye(He.map.channel),aoMapUv:wt&&ye(He.aoMap.channel),lightMapUv:xl&&ye(He.lightMap.channel),bumpMapUv:Wn&&ye(He.bumpMap.channel),normalMapUv:Yn&&ye(He.normalMap.channel),displacementMapUv:Ln&&ye(He.displacementMap.channel),emissiveMapUv:Ii&&ye(He.emissiveMap.channel),metalnessMapUv:kn&&ye(He.metalnessMap.channel),roughnessMapUv:tt&&ye(He.roughnessMap.channel),anisotropyMapUv:yi&&ye(He.anisotropyMap.channel),clearcoatMapUv:cr&&ye(He.clearcoatMap.channel),clearcoatNormalMapUv:Fs&&ye(He.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ai&&ye(He.clearcoatRoughnessMap.channel),iridescenceMapUv:yr&&ye(He.iridescenceMap.channel),iridescenceThicknessMapUv:vo&&ye(He.iridescenceThicknessMap.channel),sheenColorMapUv:Po&&ye(He.sheenColorMap.channel),sheenRoughnessMapUv:ur&&ye(He.sheenRoughnessMap.channel),specularMapUv:js&&ye(He.specularMap.channel),specularColorMapUv:ms&&ye(He.specularColorMap.channel),specularIntensityMapUv:ba&&ye(He.specularIntensityMap.channel),transmissionMapUv:Vt&&ye(He.transmissionMap.channel),thicknessMapUv:Yi&&ye(He.thicknessMap.channel),alphaMapUv:Hn&&ye(He.alphaMap.channel),vertexTangents:!!jn.attributes.tangent&&(Yn||Fe),vertexColors:He.vertexColors,vertexAlphas:!0===He.vertexColors&&!!jn.attributes.color&&4===jn.attributes.color.itemSize,pointsUvs:!0===un.isPoints&&!!jn.attributes.uv&&(fa||Hn),fog:!!wn,useFog:!0===He.fog,fogExp2:!!wn&&wn.isFogExp2,flatShading:!0===He.flatShading,sizeAttenuation:!0===He.sizeAttenuation,logarithmicDepthBuffer:Y,reverseDepthBuffer:go,skinning:!0===un.isSkinnedMesh,morphTargets:void 0!==jn.morphAttributes.position,morphNormals:void 0!==jn.morphAttributes.normal,morphColors:void 0!==jn.morphAttributes.color,morphTargetsCount:Tr,morphTextureStride:qo,numDirLights:ke.directional.length,numPointLights:ke.point.length,numSpotLights:ke.spot.length,numSpotLightMaps:ke.spotLightMap.length,numRectAreaLights:ke.rectArea.length,numHemiLights:ke.hemi.length,numDirLightShadows:ke.directionalShadowMap.length,numPointLightShadows:ke.pointShadowMap.length,numSpotLightShadows:ke.spotShadowMap.length,numSpotLightShadowsWithMaps:ke.numSpotLightShadowsWithMaps,numLightProbes:ke.numLightProbes,numClippingPlanes:b.numPlanes,numClipIntersection:b.numIntersection,dithering:He.dithering,shadowMapEnabled:m.shadowMap.enabled&&Ct.length>0,shadowMapType:m.shadowMap.type,toneMapping:Hs,decodeVideoTexture:fa&&!0===He.map.isVideoTexture&&Qr.getTransfer(He.map.colorSpace)===Sn,decodeVideoTextureEmissive:Ii&&!0===He.emissiveMap.isVideoTexture&&Qr.getTransfer(He.emissiveMap.colorSpace)===Sn,premultipliedAlpha:He.premultipliedAlpha,doubleSided:2===He.side,flipSided:1===He.side,useDepthPacking:He.depthPacking>=0,depthPacking:He.depthPacking||0,index0AttributeName:He.index0AttributeName,extensionClipCullDistance:Yo&&!0===He.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Yo&&!0===He.extensions.multiDraw||fo)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:He.customProgramCacheKey()};return Ec.vertexUv1s=I.has(1),Ec.vertexUv2s=I.has(2),Ec.vertexUv3s=I.has(3),I.clear(),Ec},getProgramCacheKey:function oe(He){const ke=[];if(He.shaderID?ke.push(He.shaderID):(ke.push(He.customVertexShaderID),ke.push(He.customFragmentShaderID)),void 0!==He.defines)for(const Ct in He.defines)ke.push(Ct),ke.push(He.defines[Ct]);return!1===He.isRawShaderMaterial&&(function Pe(He,ke){He.push(ke.precision),He.push(ke.outputColorSpace),He.push(ke.envMapMode),He.push(ke.envMapCubeUVHeight),He.push(ke.mapUv),He.push(ke.alphaMapUv),He.push(ke.lightMapUv),He.push(ke.aoMapUv),He.push(ke.bumpMapUv),He.push(ke.normalMapUv),He.push(ke.displacementMapUv),He.push(ke.emissiveMapUv),He.push(ke.metalnessMapUv),He.push(ke.roughnessMapUv),He.push(ke.anisotropyMapUv),He.push(ke.clearcoatMapUv),He.push(ke.clearcoatNormalMapUv),He.push(ke.clearcoatRoughnessMapUv),He.push(ke.iridescenceMapUv),He.push(ke.iridescenceThicknessMapUv),He.push(ke.sheenColorMapUv),He.push(ke.sheenRoughnessMapUv),He.push(ke.specularMapUv),He.push(ke.specularColorMapUv),He.push(ke.specularIntensityMapUv),He.push(ke.transmissionMapUv),He.push(ke.thicknessMapUv),He.push(ke.combine),He.push(ke.fogExp2),He.push(ke.sizeAttenuation),He.push(ke.morphTargetsCount),He.push(ke.morphAttributeCount),He.push(ke.numDirLights),He.push(ke.numPointLights),He.push(ke.numSpotLights),He.push(ke.numSpotLightMaps),He.push(ke.numHemiLights),He.push(ke.numRectAreaLights),He.push(ke.numDirLightShadows),He.push(ke.numPointLightShadows),He.push(ke.numSpotLightShadows),He.push(ke.numSpotLightShadowsWithMaps),He.push(ke.numLightProbes),He.push(ke.shadowMapType),He.push(ke.toneMapping),He.push(ke.numClippingPlanes),He.push(ke.numClipIntersection),He.push(ke.depthPacking)}(ke,He),function Te(He,ke){x.disableAll(),ke.supportsVertexTextures&&x.enable(0),ke.instancing&&x.enable(1),ke.instancingColor&&x.enable(2),ke.instancingMorph&&x.enable(3),ke.matcap&&x.enable(4),ke.envMap&&x.enable(5),ke.normalMapObjectSpace&&x.enable(6),ke.normalMapTangentSpace&&x.enable(7),ke.clearcoat&&x.enable(8),ke.iridescence&&x.enable(9),ke.alphaTest&&x.enable(10),ke.vertexColors&&x.enable(11),ke.vertexAlphas&&x.enable(12),ke.vertexUv1s&&x.enable(13),ke.vertexUv2s&&x.enable(14),ke.vertexUv3s&&x.enable(15),ke.vertexTangents&&x.enable(16),ke.anisotropy&&x.enable(17),ke.alphaHash&&x.enable(18),ke.batching&&x.enable(19),ke.dispersion&&x.enable(20),ke.batchingColor&&x.enable(21),He.push(x.mask),x.disableAll(),ke.fog&&x.enable(0),ke.useFog&&x.enable(1),ke.flatShading&&x.enable(2),ke.logarithmicDepthBuffer&&x.enable(3),ke.reverseDepthBuffer&&x.enable(4),ke.skinning&&x.enable(5),ke.morphTargets&&x.enable(6),ke.morphNormals&&x.enable(7),ke.morphColors&&x.enable(8),ke.premultipliedAlpha&&x.enable(9),ke.shadowMapEnabled&&x.enable(10),ke.doubleSided&&x.enable(11),ke.flipSided&&x.enable(12),ke.useDepthPacking&&x.enable(13),ke.dithering&&x.enable(14),ke.transmission&&x.enable(15),ke.sheen&&x.enable(16),ke.opaque&&x.enable(17),ke.pointsUvs&&x.enable(18),ke.decodeVideoTexture&&x.enable(19),ke.decodeVideoTextureEmissive&&x.enable(20),ke.alphaToCoverage&&x.enable(21),He.push(x.mask)}(ke,He),ke.push(m.outputColorSpace)),ke.push(He.customProgramCacheKey),ke.join()},getUniforms:function we(He){const ke=ae[He.type];let Ct;return Ct=ke?Nc.clone(Tu[ke].uniforms):He.uniforms,Ct},acquireProgram:function pt(He,ke){let Ct;for(let yn=0,un=H.length;yn<un;yn++){const wn=H[yn];if(wn.cacheKey===ke){Ct=wn,++Ct.usedTimes;break}}return void 0===Ct&&(Ct=new wf(m,ke,He,p),H.push(Ct)),Ct},releaseProgram:function st(He){if(0==--He.usedTimes){const ke=H.indexOf(He);H[ke]=H[H.length-1],H.pop(),He.destroy()}},releaseShaderCache:function ft(He){A.remove(He)},programs:H,dispose:function yt(){A.dispose()}}}function O_(){let m=new WeakMap;return{has:function e(b){return m.has(b)},get:function t(b){let x=m.get(b);return void 0===x&&(x={},m.set(b,x)),x},remove:function r(b){m.delete(b)},update:function c(b,x,A){m.get(b)[x]=A},dispose:function p(){m=new WeakMap}}}function S1(m,e){return m.groupOrder!==e.groupOrder?m.groupOrder-e.groupOrder:m.renderOrder!==e.renderOrder?m.renderOrder-e.renderOrder:m.material.id!==e.material.id?m.material.id-e.material.id:m.z!==e.z?m.z-e.z:m.id-e.id}function Xy(m,e){return m.groupOrder!==e.groupOrder?m.groupOrder-e.groupOrder:m.renderOrder!==e.renderOrder?m.renderOrder-e.renderOrder:m.z!==e.z?e.z-m.z:m.id-e.id}function x1(){const m=[];let e=0;const t=[],r=[],c=[];function b(Y,Z,ie,ae,ye,le){let oe=m[e];return void 0===oe?(oe={id:Y.id,object:Y,geometry:Z,material:ie,groupOrder:ae,renderOrder:Y.renderOrder,z:ye,group:le},m[e]=oe):(oe.id=Y.id,oe.object=Y,oe.geometry=Z,oe.material=ie,oe.groupOrder=ae,oe.renderOrder=Y.renderOrder,oe.z=ye,oe.group=le),e++,oe}return{opaque:t,transmissive:r,transparent:c,init:function p(){e=0,t.length=0,r.length=0,c.length=0},push:function x(Y,Z,ie,ae,ye,le){const oe=b(Y,Z,ie,ae,ye,le);ie.transmission>0?r.push(oe):!0===ie.transparent?c.push(oe):t.push(oe)},unshift:function A(Y,Z,ie,ae,ye,le){const oe=b(Y,Z,ie,ae,ye,le);ie.transmission>0?r.unshift(oe):!0===ie.transparent?c.unshift(oe):t.unshift(oe)},finish:function H(){for(let Y=e,Z=m.length;Y<Z;Y++){const ie=m[Y];if(null===ie.id)break;ie.id=null,ie.object=null,ie.geometry=null,ie.material=null,ie.group=null}},sort:function I(Y,Z){t.length>1&&t.sort(Y||S1),r.length>1&&r.sort(Z||Xy),c.length>1&&c.sort(Z||Xy)}}}function xM(){let m=new WeakMap;return{get:function e(r,c){const p=m.get(r);let b;return void 0===p?(b=new x1,m.set(r,[b])):c>=p.length?(b=new x1,p.push(b)):b=p[c],b},dispose:function t(){m=new WeakMap}}}function C1(){const m={};return{get:function(e){if(void 0!==m[e.id])return m[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Je,color:new Mt};break;case"SpotLight":t={position:new Je,direction:new Je,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Je,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Je,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":t={color:new Mt,position:new Je,halfWidth:new Je,halfHeight:new Je}}return m[e.id]=t,t}}}let xb=0;function w1(m,e){return(e.castShadow?2:0)-(m.castShadow?2:0)+(e.map?1:0)-(m.map?1:0)}function ec(m){const e=new C1,t=function E1(){const m={};return{get:function(e){if(void 0!==m[e.id])return m[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln,shadowCameraNear:1,shadowCameraFar:1e3}}return m[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let I=0;I<9;I++)r.probe.push(new Je);const c=new Je,p=new Bi,b=new Bi;return{setup:function x(I){let H=0,Y=0,Z=0;for(let He=0;He<9;He++)r.probe[He].set(0,0,0);let ie=0,ae=0,ye=0,le=0,oe=0,Pe=0,Te=0,we=0,pt=0,st=0,ft=0;I.sort(w1);for(let He=0,ke=I.length;He<ke;He++){const Ct=I[He],yn=Ct.color,un=Ct.intensity,wn=Ct.distance,jn=Ct.shadow&&Ct.shadow.map?Ct.shadow.map.texture:null;if(Ct.isAmbientLight)H+=yn.r*un,Y+=yn.g*un,Z+=yn.b*un;else if(Ct.isLightProbe){for(let xn=0;xn<9;xn++)r.probe[xn].addScaledVector(Ct.sh.coefficients[xn],un);ft++}else if(Ct.isDirectionalLight){const xn=e.get(Ct);if(xn.color.copy(Ct.color).multiplyScalar(Ct.intensity),Ct.castShadow){const si=Ct.shadow,Cn=t.get(Ct);Cn.shadowIntensity=si.intensity,Cn.shadowBias=si.bias,Cn.shadowNormalBias=si.normalBias,Cn.shadowRadius=si.radius,Cn.shadowMapSize=si.mapSize,r.directionalShadow[ie]=Cn,r.directionalShadowMap[ie]=jn,r.directionalShadowMatrix[ie]=Ct.shadow.matrix,Pe++}r.directional[ie]=xn,ie++}else if(Ct.isSpotLight){const xn=e.get(Ct);xn.position.setFromMatrixPosition(Ct.matrixWorld),xn.color.copy(yn).multiplyScalar(un),xn.distance=wn,xn.coneCos=Math.cos(Ct.angle),xn.penumbraCos=Math.cos(Ct.angle*(1-Ct.penumbra)),xn.decay=Ct.decay,r.spot[ye]=xn;const si=Ct.shadow;if(Ct.map&&(r.spotLightMap[pt]=Ct.map,pt++,si.updateMatrices(Ct),Ct.castShadow&&st++),r.spotLightMatrix[ye]=si.matrix,Ct.castShadow){const Cn=t.get(Ct);Cn.shadowIntensity=si.intensity,Cn.shadowBias=si.bias,Cn.shadowNormalBias=si.normalBias,Cn.shadowRadius=si.radius,Cn.shadowMapSize=si.mapSize,r.spotShadow[ye]=Cn,r.spotShadowMap[ye]=jn,we++}ye++}else if(Ct.isRectAreaLight){const xn=e.get(Ct);xn.color.copy(yn).multiplyScalar(un),xn.halfWidth.set(.5*Ct.width,0,0),xn.halfHeight.set(0,.5*Ct.height,0),r.rectArea[le]=xn,le++}else if(Ct.isPointLight){const xn=e.get(Ct);if(xn.color.copy(Ct.color).multiplyScalar(Ct.intensity),xn.distance=Ct.distance,xn.decay=Ct.decay,Ct.castShadow){const si=Ct.shadow,Cn=t.get(Ct);Cn.shadowIntensity=si.intensity,Cn.shadowBias=si.bias,Cn.shadowNormalBias=si.normalBias,Cn.shadowRadius=si.radius,Cn.shadowMapSize=si.mapSize,Cn.shadowCameraNear=si.camera.near,Cn.shadowCameraFar=si.camera.far,r.pointShadow[ae]=Cn,r.pointShadowMap[ae]=jn,r.pointShadowMatrix[ae]=Ct.shadow.matrix,Te++}r.point[ae]=xn,ae++}else if(Ct.isHemisphereLight){const xn=e.get(Ct);xn.skyColor.copy(Ct.color).multiplyScalar(un),xn.groundColor.copy(Ct.groundColor).multiplyScalar(un),r.hemi[oe]=xn,oe++}}le>0&&(!0===m.has("OES_texture_float_linear")?(r.rectAreaLTC1=Pi.LTC_FLOAT_1,r.rectAreaLTC2=Pi.LTC_FLOAT_2):(r.rectAreaLTC1=Pi.LTC_HALF_1,r.rectAreaLTC2=Pi.LTC_HALF_2)),r.ambient[0]=H,r.ambient[1]=Y,r.ambient[2]=Z;const yt=r.hash;(yt.directionalLength!==ie||yt.pointLength!==ae||yt.spotLength!==ye||yt.rectAreaLength!==le||yt.hemiLength!==oe||yt.numDirectionalShadows!==Pe||yt.numPointShadows!==Te||yt.numSpotShadows!==we||yt.numSpotMaps!==pt||yt.numLightProbes!==ft)&&(r.directional.length=ie,r.spot.length=ye,r.rectArea.length=le,r.point.length=ae,r.hemi.length=oe,r.directionalShadow.length=Pe,r.directionalShadowMap.length=Pe,r.pointShadow.length=Te,r.pointShadowMap.length=Te,r.spotShadow.length=we,r.spotShadowMap.length=we,r.directionalShadowMatrix.length=Pe,r.pointShadowMatrix.length=Te,r.spotLightMatrix.length=we+pt-st,r.spotLightMap.length=pt,r.numSpotLightShadowsWithMaps=st,r.numLightProbes=ft,yt.directionalLength=ie,yt.pointLength=ae,yt.spotLength=ye,yt.rectAreaLength=le,yt.hemiLength=oe,yt.numDirectionalShadows=Pe,yt.numPointShadows=Te,yt.numSpotShadows=we,yt.numSpotMaps=pt,yt.numLightProbes=ft,r.version=xb++)},setupView:function A(I,H){let Y=0,Z=0,ie=0,ae=0,ye=0;const le=H.matrixWorldInverse;for(let oe=0,Pe=I.length;oe<Pe;oe++){const Te=I[oe];if(Te.isDirectionalLight){const we=r.directional[Y];we.direction.setFromMatrixPosition(Te.matrixWorld),c.setFromMatrixPosition(Te.target.matrixWorld),we.direction.sub(c),we.direction.transformDirection(le),Y++}else if(Te.isSpotLight){const we=r.spot[ie];we.position.setFromMatrixPosition(Te.matrixWorld),we.position.applyMatrix4(le),we.direction.setFromMatrixPosition(Te.matrixWorld),c.setFromMatrixPosition(Te.target.matrixWorld),we.direction.sub(c),we.direction.transformDirection(le),ie++}else if(Te.isRectAreaLight){const we=r.rectArea[ae];we.position.setFromMatrixPosition(Te.matrixWorld),we.position.applyMatrix4(le),b.identity(),p.copy(Te.matrixWorld),p.premultiply(le),b.extractRotation(p),we.halfWidth.set(.5*Te.width,0,0),we.halfHeight.set(0,.5*Te.height,0),we.halfWidth.applyMatrix4(b),we.halfHeight.applyMatrix4(b),ae++}else if(Te.isPointLight){const we=r.point[Z];we.position.setFromMatrixPosition(Te.matrixWorld),we.position.applyMatrix4(le),Z++}else if(Te.isHemisphereLight){const we=r.hemi[ye];we.direction.setFromMatrixPosition(Te.matrixWorld),we.direction.transformDirection(le),ye++}}},state:r}}function R_(m){const e=new ec(m),t=[],r=[],I={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function c(H){I.camera=H,t.length=0,r.length=0},state:I,setupLights:function x(){e.setup(t)},setupLightsView:function A(H){e.setupView(t,H)},pushLight:function p(H){t.push(H)},pushShadow:function b(H){r.push(H)}}}function T1(m){let e=new WeakMap;return{get:function t(c,p=0){const b=e.get(c);let x;return void 0===b?(x=new R_(m),e.set(c,[x])):p>=b.length?(x=new R_(m),b.push(x)):x=b[p],x},dispose:function r(){e=new WeakMap}}}function D1(m,e,t){let r=new cd;const c=new ln,p=new ln,b=new Ue,x=new Oc({depthPacking:3201}),A=new Ku,I={},H=t.maxTextureSize,Y={0:1,1:0,2:2},Z=new nc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ln},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),ie=Z.clone();ie.defines.HORIZONTAL_PASS=1;const ae=new Do;ae.setAttribute("position",new eo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ye=new _l(ae,Z),le=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=F;let oe=this.type;function Pe(st,ft){const yt=e.update(ye);Z.defines.VSM_SAMPLES!==st.blurSamples&&(Z.defines.VSM_SAMPLES=st.blurSamples,ie.defines.VSM_SAMPLES=st.blurSamples,Z.needsUpdate=!0,ie.needsUpdate=!0),null===st.mapPass&&(st.mapPass=new Qt(c.x,c.y)),Z.uniforms.shadow_pass.value=st.map.texture,Z.uniforms.resolution.value=st.mapSize,Z.uniforms.radius.value=st.radius,m.setRenderTarget(st.mapPass),m.clear(),m.renderBufferDirect(ft,null,yt,Z,ye,null),ie.uniforms.shadow_pass.value=st.mapPass.texture,ie.uniforms.resolution.value=st.mapSize,ie.uniforms.radius.value=st.radius,m.setRenderTarget(st.map),m.clear(),m.renderBufferDirect(ft,null,yt,ie,ye,null)}function Te(st,ft,yt,He){let ke=null;const Ct=!0===yt.isPointLight?st.customDistanceMaterial:st.customDepthMaterial;if(void 0!==Ct)ke=Ct;else if(ke=!0===yt.isPointLight?A:x,m.localClippingEnabled&&!0===ft.clipShadows&&Array.isArray(ft.clippingPlanes)&&0!==ft.clippingPlanes.length||ft.displacementMap&&0!==ft.displacementScale||ft.alphaMap&&ft.alphaTest>0||ft.map&&ft.alphaTest>0){const yn=ke.uuid,un=ft.uuid;let wn=I[yn];void 0===wn&&(wn={},I[yn]=wn);let jn=wn[un];void 0===jn&&(jn=ke.clone(),wn[un]=jn,ft.addEventListener("dispose",pt)),ke=jn}return ke.visible=ft.visible,ke.wireframe=ft.wireframe,ke.side=He===k?null!==ft.shadowSide?ft.shadowSide:ft.side:null!==ft.shadowSide?ft.shadowSide:Y[ft.side],ke.alphaMap=ft.alphaMap,ke.alphaTest=ft.alphaTest,ke.map=ft.map,ke.clipShadows=ft.clipShadows,ke.clippingPlanes=ft.clippingPlanes,ke.clipIntersection=ft.clipIntersection,ke.displacementMap=ft.displacementMap,ke.displacementScale=ft.displacementScale,ke.displacementBias=ft.displacementBias,ke.wireframeLinewidth=ft.wireframeLinewidth,ke.linewidth=ft.linewidth,!0===yt.isPointLight&&!0===ke.isMeshDistanceMaterial&&(m.properties.get(ke).light=yt),ke}function we(st,ft,yt,He,ke){if(!1===st.visible)return;if(st.layers.test(ft.layers)&&(st.isMesh||st.isLine||st.isPoints)&&(st.castShadow||st.receiveShadow&&ke===k)&&(!st.frustumCulled||r.intersectsObject(st))){st.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,st.matrixWorld);const un=e.update(st),wn=st.material;if(Array.isArray(wn)){const jn=un.groups;for(let xn=0,si=jn.length;xn<si;xn++){const Cn=jn[xn],Ni=wn[Cn.materialIndex];if(Ni&&Ni.visible){const rr=Te(st,Ni,He,ke);st.onBeforeShadow(m,st,ft,yt,un,rr,Cn),m.renderBufferDirect(yt,null,un,rr,st,Cn),st.onAfterShadow(m,st,ft,yt,un,rr,Cn)}}}else if(wn.visible){const jn=Te(st,wn,He,ke);st.onBeforeShadow(m,st,ft,yt,un,jn,null),m.renderBufferDirect(yt,null,un,jn,st,null),st.onAfterShadow(m,st,ft,yt,un,jn,null)}}const yn=st.children;for(let un=0,wn=yn.length;un<wn;un++)we(yn[un],ft,yt,He,ke)}function pt(st){st.target.removeEventListener("dispose",pt);for(const yt in I){const He=I[yt],ke=st.target.uuid;ke in He&&(He[ke].dispose(),delete He[ke])}}this.render=function(st,ft,yt){if(!1===le.enabled||!1===le.autoUpdate&&!1===le.needsUpdate||0===st.length)return;const He=m.getRenderTarget(),ke=m.getActiveCubeFace(),Ct=m.getActiveMipmapLevel(),yn=m.state;yn.setBlending(0),yn.buffers.color.setClear(1,1,1,1),yn.buffers.depth.setTest(!0),yn.setScissorTest(!1);const un=oe!==k&&this.type===k,wn=oe===k&&this.type!==k;for(let jn=0,xn=st.length;jn<xn;jn++){const si=st[jn],Cn=si.shadow;if(void 0===Cn){console.warn("THREE.WebGLShadowMap:",si,"has no shadow.");continue}if(!1===Cn.autoUpdate&&!1===Cn.needsUpdate)continue;c.copy(Cn.mapSize);const Ni=Cn.getFrameExtents();if(c.multiply(Ni),p.copy(Cn.mapSize),(c.x>H||c.y>H)&&(c.x>H&&(p.x=Math.floor(H/Ni.x),c.x=p.x*Ni.x,Cn.mapSize.x=p.x),c.y>H&&(p.y=Math.floor(H/Ni.y),c.y=p.y*Ni.y,Cn.mapSize.y=p.y)),null===Cn.map||!0===un||!0===wn){const Tr=this.type!==k?{minFilter:zr,magFilter:zr}:{};null!==Cn.map&&Cn.map.dispose(),Cn.map=new Qt(c.x,c.y,Tr),Cn.map.texture.name=si.name+".shadowMap",Cn.camera.updateProjectionMatrix()}m.setRenderTarget(Cn.map),m.clear();const rr=Cn.getViewportCount();for(let Tr=0;Tr<rr;Tr++){const qo=Cn.getViewport(Tr);b.set(p.x*qo.x,p.y*qo.y,p.x*qo.z,p.y*qo.w),yn.viewport(b),Cn.updateMatrices(si,Tr),r=Cn.getFrustum(),we(ft,yt,Cn.camera,si,this.type)}!0!==Cn.isPointLightShadow&&this.type===k&&Pe(Cn,yt),Cn.needsUpdate=!1}oe=this.type,le.needsUpdate=!1,m.setRenderTarget(He,ke,Ct)}}const Eb={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function wb(m,e){const p=new function t(){let Vt=!1;const Yi=new Ue;let Dn=null;const Hn=new Ue(0,0,0,0);return{setMask:function(or){Dn!==or&&!Vt&&(m.colorMask(or,or,or,or),Dn=or)},setLocked:function(or){Vt=or},setClear:function(or,Gi,Yo,Hs,Ec){!0===Ec&&(or*=Hs,Gi*=Hs,Yo*=Hs),Yi.set(or,Gi,Yo,Hs),!1===Hn.equals(Yi)&&(m.clearColor(or,Gi,Yo,Hs),Hn.copy(Yi))},reset:function(){Vt=!1,Dn=null,Hn.set(-1,0,0,0)}}},b=new function r(){let Vt=!1,Yi=!1,Dn=null,Hn=null,or=null;return{setReversed:function(Gi){if(Yi!==Gi){const Yo=e.get("EXT_clip_control");Yo.clipControlEXT(Yo.LOWER_LEFT_EXT,Gi?Yo.ZERO_TO_ONE_EXT:Yo.NEGATIVE_ONE_TO_ONE_EXT),Yi=Gi;const Hs=or;or=null,this.setClear(Hs)}},getReversed:function(){return Yi},setTest:function(Gi){Gi?Li(m.DEPTH_TEST):go(m.DEPTH_TEST)},setMask:function(Gi){Dn!==Gi&&!Vt&&(m.depthMask(Gi),Dn=Gi)},setFunc:function(Gi){if(Yi&&(Gi=Eb[Gi]),Hn!==Gi){switch(Gi){case 0:m.depthFunc(m.NEVER);break;case 1:m.depthFunc(m.ALWAYS);break;case 2:m.depthFunc(m.LESS);break;case 3:default:m.depthFunc(m.LEQUAL);break;case 4:m.depthFunc(m.EQUAL);break;case 5:m.depthFunc(m.GEQUAL);break;case 6:m.depthFunc(m.GREATER);break;case 7:m.depthFunc(m.NOTEQUAL)}Hn=Gi}},setLocked:function(Gi){Vt=Gi},setClear:function(Gi){or!==Gi&&(Yi&&(Gi=1-Gi),m.clearDepth(Gi),or=Gi)},reset:function(){Vt=!1,Dn=null,Hn=null,or=null,Yi=!1}}},x=new function c(){let Vt=!1,Yi=null,Dn=null,Hn=null,or=null,Gi=null,Yo=null,Hs=null,Ec=null;return{setTest:function(Ia){Vt||(Ia?Li(m.STENCIL_TEST):go(m.STENCIL_TEST))},setMask:function(Ia){Yi!==Ia&&!Vt&&(m.stencilMask(Ia),Yi=Ia)},setFunc:function(Ia,Xc,Rd){(Dn!==Ia||Hn!==Xc||or!==Rd)&&(m.stencilFunc(Ia,Xc,Rd),Dn=Ia,Hn=Xc,or=Rd)},setOp:function(Ia,Xc,Rd){(Gi!==Ia||Yo!==Xc||Hs!==Rd)&&(m.stencilOp(Ia,Xc,Rd),Gi=Ia,Yo=Xc,Hs=Rd)},setLocked:function(Ia){Vt=Ia},setClear:function(Ia){Ec!==Ia&&(m.clearStencil(Ia),Ec=Ia)},reset:function(){Vt=!1,Yi=null,Dn=null,Hn=null,or=null,Gi=null,Yo=null,Hs=null,Ec=null}}},A=new WeakMap,I=new WeakMap;let H={},Y={},Z=new WeakMap,ie=[],ae=null,ye=!1,le=null,oe=null,Pe=null,Te=null,we=null,pt=null,st=null,ft=new Mt(0,0,0),yt=0,He=!1,ke=null,Ct=null,yn=null,un=null,wn=null;const jn=m.getParameter(m.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let xn=!1,si=0;const Cn=m.getParameter(m.VERSION);-1!==Cn.indexOf("WebGL")?(si=parseFloat(/^WebGL (\d)/.exec(Cn)[1]),xn=si>=1):-1!==Cn.indexOf("OpenGL ES")&&(si=parseFloat(/^OpenGL ES (\d)/.exec(Cn)[1]),xn=si>=2);let Ni=null,rr={};const Tr=m.getParameter(m.SCISSOR_BOX),qo=m.getParameter(m.VIEWPORT),_a=(new Ue).fromArray(Tr),Vn=(new Ue).fromArray(qo);function gi(Vt,Yi,Dn,Hn){const or=new Uint8Array(4),Gi=m.createTexture();m.bindTexture(Vt,Gi),m.texParameteri(Vt,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(Vt,m.TEXTURE_MAG_FILTER,m.NEAREST);for(let Yo=0;Yo<Dn;Yo++)Vt===m.TEXTURE_3D||Vt===m.TEXTURE_2D_ARRAY?m.texImage3D(Yi,0,m.RGBA,1,1,Hn,0,m.RGBA,m.UNSIGNED_BYTE,or):m.texImage2D(Yi+Yo,0,m.RGBA,1,1,0,m.RGBA,m.UNSIGNED_BYTE,or);return Gi}const Pr={};function Li(Vt){!0!==H[Vt]&&(m.enable(Vt),H[Vt]=!0)}function go(Vt){!1!==H[Vt]&&(m.disable(Vt),H[Vt]=!1)}Pr[m.TEXTURE_2D]=gi(m.TEXTURE_2D,m.TEXTURE_2D,1),Pr[m.TEXTURE_CUBE_MAP]=gi(m.TEXTURE_CUBE_MAP,m.TEXTURE_CUBE_MAP_POSITIVE_X,6),Pr[m.TEXTURE_2D_ARRAY]=gi(m.TEXTURE_2D_ARRAY,m.TEXTURE_2D_ARRAY,1,1),Pr[m.TEXTURE_3D]=gi(m.TEXTURE_3D,m.TEXTURE_3D,1,1),p.setClear(0,0,0,1),b.setClear(1),x.setClear(0),Li(m.DEPTH_TEST),b.setFunc(3),Wn(!1),Yn(1),Li(m.CULL_FACE),wt(0);const Ua={[Ne]:m.FUNC_ADD,101:m.FUNC_SUBTRACT,102:m.FUNC_REVERSE_SUBTRACT};Ua[103]=m.MIN,Ua[104]=m.MAX;const Os={200:m.ZERO,201:m.ONE,202:m.SRC_COLOR,204:m.SRC_ALPHA,210:m.SRC_ALPHA_SATURATE,208:m.DST_COLOR,206:m.DST_ALPHA,203:m.ONE_MINUS_SRC_COLOR,205:m.ONE_MINUS_SRC_ALPHA,209:m.ONE_MINUS_DST_COLOR,207:m.ONE_MINUS_DST_ALPHA,211:m.CONSTANT_COLOR,212:m.ONE_MINUS_CONSTANT_COLOR,213:m.CONSTANT_ALPHA,214:m.ONE_MINUS_CONSTANT_ALPHA};function wt(Vt,Yi,Dn,Hn,or,Gi,Yo,Hs,Ec,Ia){if(0!==Vt){if(!1===ye&&(Li(m.BLEND),ye=!0),5===Vt)or=or||Yi,Gi=Gi||Dn,Yo=Yo||Hn,(Yi!==oe||or!==we)&&(m.blendEquationSeparate(Ua[Yi],Ua[or]),oe=Yi,we=or),(Dn!==Pe||Hn!==Te||Gi!==pt||Yo!==st)&&(m.blendFuncSeparate(Os[Dn],Os[Hn],Os[Gi],Os[Yo]),Pe=Dn,Te=Hn,pt=Gi,st=Yo),(!1===Hs.equals(ft)||Ec!==yt)&&(m.blendColor(Hs.r,Hs.g,Hs.b,Ec),ft.copy(Hs),yt=Ec),le=Vt,He=!1;else if(Vt!==le||Ia!==He){if((oe!==Ne||we!==Ne)&&(m.blendEquation(m.FUNC_ADD),oe=Ne,we=Ne),Ia)switch(Vt){case 1:m.blendFuncSeparate(m.ONE,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case 2:m.blendFunc(m.ONE,m.ONE);break;case 3:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case 4:m.blendFuncSeparate(m.ZERO,m.SRC_COLOR,m.ZERO,m.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt)}else switch(Vt){case 1:m.blendFuncSeparate(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case 2:m.blendFunc(m.SRC_ALPHA,m.ONE);break;case 3:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case 4:m.blendFunc(m.ZERO,m.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt)}Pe=null,Te=null,pt=null,st=null,ft.set(0,0,0),yt=0,le=Vt,He=Ia}}else!0===ye&&(go(m.BLEND),ye=!1)}function Wn(Vt){ke!==Vt&&(m.frontFace(Vt?m.CW:m.CCW),ke=Vt)}function Yn(Vt){0!==Vt?(Li(m.CULL_FACE),Vt!==Ct&&m.cullFace(1===Vt?m.BACK:2===Vt?m.FRONT:m.FRONT_AND_BACK)):go(m.CULL_FACE),Ct=Vt}function Ii(Vt,Yi,Dn){Vt?(Li(m.POLYGON_OFFSET_FILL),(un!==Yi||wn!==Dn)&&(m.polygonOffset(Yi,Dn),un=Yi,wn=Dn)):go(m.POLYGON_OFFSET_FILL)}return{buffers:{color:p,depth:b,stencil:x},enable:Li,disable:go,bindFramebuffer:function zs(Vt,Yi){return Y[Vt]!==Yi&&(m.bindFramebuffer(Vt,Yi),Y[Vt]=Yi,Vt===m.DRAW_FRAMEBUFFER&&(Y[m.FRAMEBUFFER]=Yi),Vt===m.FRAMEBUFFER&&(Y[m.DRAW_FRAMEBUFFER]=Yi),!0)},drawBuffers:function fo(Vt,Yi){let Dn=ie,Hn=!1;if(Vt){Dn=Z.get(Yi),void 0===Dn&&(Dn=[],Z.set(Yi,Dn));const or=Vt.textures;if(Dn.length!==or.length||Dn[0]!==m.COLOR_ATTACHMENT0){for(let Gi=0,Yo=or.length;Gi<Yo;Gi++)Dn[Gi]=m.COLOR_ATTACHMENT0+Gi;Dn.length=or.length,Hn=!0}}else Dn[0]!==m.BACK&&(Dn[0]=m.BACK,Hn=!0);Hn&&m.drawBuffers(Dn)},useProgram:function fa(Vt){return ae!==Vt&&(m.useProgram(Vt),ae=Vt,!0)},setBlending:wt,setMaterial:function xl(Vt,Yi){2===Vt.side?go(m.CULL_FACE):Li(m.CULL_FACE);let Dn=1===Vt.side;Yi&&(Dn=!Dn),Wn(Dn),1===Vt.blending&&!1===Vt.transparent?wt(0):wt(Vt.blending,Vt.blendEquation,Vt.blendSrc,Vt.blendDst,Vt.blendEquationAlpha,Vt.blendSrcAlpha,Vt.blendDstAlpha,Vt.blendColor,Vt.blendAlpha,Vt.premultipliedAlpha),b.setFunc(Vt.depthFunc),b.setTest(Vt.depthTest),b.setMask(Vt.depthWrite),p.setMask(Vt.colorWrite);const Hn=Vt.stencilWrite;x.setTest(Hn),Hn&&(x.setMask(Vt.stencilWriteMask),x.setFunc(Vt.stencilFunc,Vt.stencilRef,Vt.stencilFuncMask),x.setOp(Vt.stencilFail,Vt.stencilZFail,Vt.stencilZPass)),Ii(Vt.polygonOffset,Vt.polygonOffsetFactor,Vt.polygonOffsetUnits),!0===Vt.alphaToCoverage?Li(m.SAMPLE_ALPHA_TO_COVERAGE):go(m.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Wn,setCullFace:Yn,setLineWidth:function Ln(Vt){Vt!==yn&&(xn&&m.lineWidth(Vt),yn=Vt)},setPolygonOffset:Ii,setScissorTest:function kn(Vt){Vt?Li(m.SCISSOR_TEST):go(m.SCISSOR_TEST)},activeTexture:function tt(Vt){void 0===Vt&&(Vt=m.TEXTURE0+jn-1),Ni!==Vt&&(m.activeTexture(Vt),Ni=Vt)},bindTexture:function Fe(Vt,Yi,Dn){void 0===Dn&&(Dn=null===Ni?m.TEXTURE0+jn-1:Ni);let Hn=rr[Dn];void 0===Hn&&(Hn={type:void 0,texture:void 0},rr[Dn]=Hn),(Hn.type!==Vt||Hn.texture!==Yi)&&(Ni!==Dn&&(m.activeTexture(Dn),Ni=Dn),m.bindTexture(Vt,Yi||Pr[Vt]),Hn.type=Vt,Hn.texture=Yi)},unbindTexture:function Zt(){const Vt=rr[Ni];void 0!==Vt&&void 0!==Vt.type&&(m.bindTexture(Vt.type,null),Vt.type=void 0,Vt.texture=void 0)},compressedTexImage2D:function Mn(){try{m.compressedTexImage2D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},compressedTexImage3D:function Un(){try{m.compressedTexImage3D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},texImage2D:function yr(){try{m.texImage2D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},texImage3D:function vo(){try{m.texImage3D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},updateUBOMapping:function js(Vt,Yi){let Dn=I.get(Yi);void 0===Dn&&(Dn=new WeakMap,I.set(Yi,Dn));let Hn=Dn.get(Vt);void 0===Hn&&(Hn=m.getUniformBlockIndex(Yi,Vt.name),Dn.set(Vt,Hn))},uniformBlockBinding:function ms(Vt,Yi){const Hn=I.get(Yi).get(Vt);A.get(Yi)!==Hn&&(m.uniformBlockBinding(Yi,Hn,Vt.__bindingPointIndex),A.set(Yi,Hn))},texStorage2D:function Fs(){try{m.texStorage2D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},texStorage3D:function ai(){try{m.texStorage3D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},texSubImage2D:function An(){try{m.texSubImage2D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},texSubImage3D:function xr(){try{m.texSubImage3D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},compressedTexSubImage2D:function yi(){try{m.compressedTexSubImage2D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},compressedTexSubImage3D:function cr(){try{m.compressedTexSubImage3D(...arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}},scissor:function Po(Vt){!1===_a.equals(Vt)&&(m.scissor(Vt.x,Vt.y,Vt.z,Vt.w),_a.copy(Vt))},viewport:function ur(Vt){!1===Vn.equals(Vt)&&(m.viewport(Vt.x,Vt.y,Vt.z,Vt.w),Vn.copy(Vt))},reset:function ba(){m.disable(m.BLEND),m.disable(m.CULL_FACE),m.disable(m.DEPTH_TEST),m.disable(m.POLYGON_OFFSET_FILL),m.disable(m.SCISSOR_TEST),m.disable(m.STENCIL_TEST),m.disable(m.SAMPLE_ALPHA_TO_COVERAGE),m.blendEquation(m.FUNC_ADD),m.blendFunc(m.ONE,m.ZERO),m.blendFuncSeparate(m.ONE,m.ZERO,m.ONE,m.ZERO),m.blendColor(0,0,0,0),m.colorMask(!0,!0,!0,!0),m.clearColor(0,0,0,0),m.depthMask(!0),m.depthFunc(m.LESS),b.setReversed(!1),m.clearDepth(1),m.stencilMask(4294967295),m.stencilFunc(m.ALWAYS,0,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.KEEP),m.clearStencil(0),m.cullFace(m.BACK),m.frontFace(m.CCW),m.polygonOffset(0,0),m.activeTexture(m.TEXTURE0),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),m.bindFramebuffer(m.READ_FRAMEBUFFER,null),m.useProgram(null),m.lineWidth(1),m.scissor(0,0,m.canvas.width,m.canvas.height),m.viewport(0,0,m.canvas.width,m.canvas.height),H={},Ni=null,rr={},Y={},Z=new WeakMap,ie=[],ae=null,ye=!1,le=null,oe=null,Pe=null,Te=null,we=null,pt=null,st=null,ft=new Mt(0,0,0),yt=0,He=!1,ke=null,Ct=null,yn=null,un=null,wn=null,_a.set(0,0,m.canvas.width,m.canvas.height),Vn.set(0,0,m.canvas.width,m.canvas.height),p.reset(),b.reset(),x.reset()}}}function tm(m,e,t,r,c,p,b){const x=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,A=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),I=new ln,H=new WeakMap;let Y;const Z=new WeakMap;let ie=!1;try{ie=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function ae(tt,Fe){return ie?new OffscreenCanvas(tt,Fe):Wa("canvas")}function ye(tt,Fe,Zt){let Mn=1;const Un=kn(tt);if((Un.width>Zt||Un.height>Zt)&&(Mn=Zt/Math.max(Un.width,Un.height)),Mn<1){if(typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&tt instanceof ImageBitmap||typeof VideoFrame<"u"&&tt instanceof VideoFrame){const An=Math.floor(Mn*Un.width),xr=Math.floor(Mn*Un.height);void 0===Y&&(Y=ae(An,xr));const yi=Fe?ae(An,xr):Y;return yi.width=An,yi.height=xr,yi.getContext("2d").drawImage(tt,0,0,An,xr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Un.width+"x"+Un.height+") to ("+An+"x"+xr+")."),yi}return"data"in tt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Un.width+"x"+Un.height+")."),tt}return tt}function le(tt){return tt.generateMipmaps}function oe(tt){m.generateMipmap(tt)}function Pe(tt){return tt.isWebGLCubeRenderTarget?m.TEXTURE_CUBE_MAP:tt.isWebGL3DRenderTarget?m.TEXTURE_3D:tt.isWebGLArrayRenderTarget||tt.isCompressedArrayTexture?m.TEXTURE_2D_ARRAY:m.TEXTURE_2D}function Te(tt,Fe,Zt,Mn,Un=!1){if(null!==tt){if(void 0!==m[tt])return m[tt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+tt+"'")}let An=Fe;if(Fe===m.RED&&(Zt===m.FLOAT&&(An=m.R32F),Zt===m.HALF_FLOAT&&(An=m.R16F),Zt===m.UNSIGNED_BYTE&&(An=m.R8)),Fe===m.RED_INTEGER&&(Zt===m.UNSIGNED_BYTE&&(An=m.R8UI),Zt===m.UNSIGNED_SHORT&&(An=m.R16UI),Zt===m.UNSIGNED_INT&&(An=m.R32UI),Zt===m.BYTE&&(An=m.R8I),Zt===m.SHORT&&(An=m.R16I),Zt===m.INT&&(An=m.R32I)),Fe===m.RG&&(Zt===m.FLOAT&&(An=m.RG32F),Zt===m.HALF_FLOAT&&(An=m.RG16F),Zt===m.UNSIGNED_BYTE&&(An=m.RG8)),Fe===m.RG_INTEGER&&(Zt===m.UNSIGNED_BYTE&&(An=m.RG8UI),Zt===m.UNSIGNED_SHORT&&(An=m.RG16UI),Zt===m.UNSIGNED_INT&&(An=m.RG32UI),Zt===m.BYTE&&(An=m.RG8I),Zt===m.SHORT&&(An=m.RG16I),Zt===m.INT&&(An=m.RG32I)),Fe===m.RGB_INTEGER&&(Zt===m.UNSIGNED_BYTE&&(An=m.RGB8UI),Zt===m.UNSIGNED_SHORT&&(An=m.RGB16UI),Zt===m.UNSIGNED_INT&&(An=m.RGB32UI),Zt===m.BYTE&&(An=m.RGB8I),Zt===m.SHORT&&(An=m.RGB16I),Zt===m.INT&&(An=m.RGB32I)),Fe===m.RGBA_INTEGER&&(Zt===m.UNSIGNED_BYTE&&(An=m.RGBA8UI),Zt===m.UNSIGNED_SHORT&&(An=m.RGBA16UI),Zt===m.UNSIGNED_INT&&(An=m.RGBA32UI),Zt===m.BYTE&&(An=m.RGBA8I),Zt===m.SHORT&&(An=m.RGBA16I),Zt===m.INT&&(An=m.RGBA32I)),Fe===m.RGB&&Zt===m.UNSIGNED_INT_5_9_9_9_REV&&(An=m.RGB9_E5),Fe===m.RGBA){const xr=Un?Lr:Qr.getTransfer(Mn);Zt===m.FLOAT&&(An=m.RGBA32F),Zt===m.HALF_FLOAT&&(An=m.RGBA16F),Zt===m.UNSIGNED_BYTE&&(An=xr===Sn?m.SRGB8_ALPHA8:m.RGBA8),Zt===m.UNSIGNED_SHORT_4_4_4_4&&(An=m.RGBA4),Zt===m.UNSIGNED_SHORT_5_5_5_1&&(An=m.RGB5_A1)}return(An===m.R16F||An===m.R32F||An===m.RG16F||An===m.RG32F||An===m.RGBA16F||An===m.RGBA32F)&&e.get("EXT_color_buffer_float"),An}function we(tt,Fe){let Zt;return tt?null===Fe||Fe===ze||Fe===br?Zt=m.DEPTH24_STENCIL8:Fe===ct?Zt=m.DEPTH32F_STENCIL8:Fe===Gt&&(Zt=m.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===Fe||Fe===ze||Fe===br?Zt=m.DEPTH_COMPONENT24:Fe===ct?Zt=m.DEPTH_COMPONENT32F:Fe===Gt&&(Zt=m.DEPTH_COMPONENT16),Zt}function pt(tt,Fe){return!0===le(tt)||tt.isFramebufferTexture&&tt.minFilter!==zr&&tt.minFilter!==_i?Math.log2(Math.max(Fe.width,Fe.height))+1:void 0!==tt.mipmaps&&tt.mipmaps.length>0?tt.mipmaps.length:tt.isCompressedTexture&&Array.isArray(tt.image)?Fe.mipmaps.length:1}function st(tt){const Fe=tt.target;Fe.removeEventListener("dispose",st),function yt(tt){const Fe=r.get(tt);if(void 0===Fe.__webglInit)return;const Zt=tt.source,Mn=Z.get(Zt);if(Mn){const Un=Mn[Fe.__cacheKey];Un.usedTimes--,0===Un.usedTimes&&He(tt),0===Object.keys(Mn).length&&Z.delete(Zt)}r.remove(tt)}(Fe),Fe.isVideoTexture&&H.delete(Fe)}function ft(tt){const Fe=tt.target;Fe.removeEventListener("dispose",ft),function ke(tt){const Fe=r.get(tt);if(tt.depthTexture&&(tt.depthTexture.dispose(),r.remove(tt.depthTexture)),tt.isWebGLCubeRenderTarget)for(let Mn=0;Mn<6;Mn++){if(Array.isArray(Fe.__webglFramebuffer[Mn]))for(let Un=0;Un<Fe.__webglFramebuffer[Mn].length;Un++)m.deleteFramebuffer(Fe.__webglFramebuffer[Mn][Un]);else m.deleteFramebuffer(Fe.__webglFramebuffer[Mn]);Fe.__webglDepthbuffer&&m.deleteRenderbuffer(Fe.__webglDepthbuffer[Mn])}else{if(Array.isArray(Fe.__webglFramebuffer))for(let Mn=0;Mn<Fe.__webglFramebuffer.length;Mn++)m.deleteFramebuffer(Fe.__webglFramebuffer[Mn]);else m.deleteFramebuffer(Fe.__webglFramebuffer);if(Fe.__webglDepthbuffer&&m.deleteRenderbuffer(Fe.__webglDepthbuffer),Fe.__webglMultisampledFramebuffer&&m.deleteFramebuffer(Fe.__webglMultisampledFramebuffer),Fe.__webglColorRenderbuffer)for(let Mn=0;Mn<Fe.__webglColorRenderbuffer.length;Mn++)Fe.__webglColorRenderbuffer[Mn]&&m.deleteRenderbuffer(Fe.__webglColorRenderbuffer[Mn]);Fe.__webglDepthRenderbuffer&&m.deleteRenderbuffer(Fe.__webglDepthRenderbuffer)}const Zt=tt.textures;for(let Mn=0,Un=Zt.length;Mn<Un;Mn++){const An=r.get(Zt[Mn]);An.__webglTexture&&(m.deleteTexture(An.__webglTexture),b.memory.textures--),r.remove(Zt[Mn])}r.remove(tt)}(Fe)}function He(tt){const Fe=r.get(tt);m.deleteTexture(Fe.__webglTexture),delete Z.get(tt.source)[Fe.__cacheKey],b.memory.textures--}let Ct=0;function jn(tt,Fe){const Zt=r.get(tt);if(tt.isVideoTexture&&function Ln(tt){const Fe=b.render.frame;H.get(tt)!==Fe&&(H.set(tt,Fe),tt.update())}(tt),!1===tt.isRenderTargetTexture&&tt.version>0&&Zt.__version!==tt.version){const Mn=tt.image;if(null===Mn)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Mn.complete)return void Vn(Zt,tt,Fe);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(m.TEXTURE_2D,Zt.__webglTexture,m.TEXTURE0+Fe)}const Ni={[oo]:m.REPEAT,[ar]:m.CLAMP_TO_EDGE,[xo]:m.MIRRORED_REPEAT},rr={[zr]:m.NEAREST,1004:m.NEAREST_MIPMAP_NEAREST,[Zo]:m.NEAREST_MIPMAP_LINEAR,[_i]:m.LINEAR,[ki]:m.LINEAR_MIPMAP_NEAREST,[io]:m.LINEAR_MIPMAP_LINEAR},Tr={512:m.NEVER,519:m.ALWAYS,513:m.LESS,515:m.LEQUAL,514:m.EQUAL,518:m.GEQUAL,516:m.GREATER,517:m.NOTEQUAL};function qo(tt,Fe){if(Fe.type===ct&&!1===e.has("OES_texture_float_linear")&&(Fe.magFilter===_i||Fe.magFilter===ki||Fe.magFilter===Zo||Fe.magFilter===io||Fe.minFilter===_i||Fe.minFilter===ki||Fe.minFilter===Zo||Fe.minFilter===io)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),m.texParameteri(tt,m.TEXTURE_WRAP_S,Ni[Fe.wrapS]),m.texParameteri(tt,m.TEXTURE_WRAP_T,Ni[Fe.wrapT]),(tt===m.TEXTURE_3D||tt===m.TEXTURE_2D_ARRAY)&&m.texParameteri(tt,m.TEXTURE_WRAP_R,Ni[Fe.wrapR]),m.texParameteri(tt,m.TEXTURE_MAG_FILTER,rr[Fe.magFilter]),m.texParameteri(tt,m.TEXTURE_MIN_FILTER,rr[Fe.minFilter]),Fe.compareFunction&&(m.texParameteri(tt,m.TEXTURE_COMPARE_MODE,m.COMPARE_REF_TO_TEXTURE),m.texParameteri(tt,m.TEXTURE_COMPARE_FUNC,Tr[Fe.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(Fe.magFilter===zr||Fe.minFilter!==Zo&&Fe.minFilter!==io||Fe.type===ct&&!1===e.has("OES_texture_float_linear"))return;if(Fe.anisotropy>1||r.get(Fe).__currentAnisotropy){const Zt=e.get("EXT_texture_filter_anisotropic");m.texParameterf(tt,Zt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Fe.anisotropy,c.getMaxAnisotropy())),r.get(Fe).__currentAnisotropy=Fe.anisotropy}}}function _a(tt,Fe){let Zt=!1;void 0===tt.__webglInit&&(tt.__webglInit=!0,Fe.addEventListener("dispose",st));const Mn=Fe.source;let Un=Z.get(Mn);void 0===Un&&(Un={},Z.set(Mn,Un));const An=function wn(tt){const Fe=[];return Fe.push(tt.wrapS),Fe.push(tt.wrapT),Fe.push(tt.wrapR||0),Fe.push(tt.magFilter),Fe.push(tt.minFilter),Fe.push(tt.anisotropy),Fe.push(tt.internalFormat),Fe.push(tt.format),Fe.push(tt.type),Fe.push(tt.generateMipmaps),Fe.push(tt.premultiplyAlpha),Fe.push(tt.flipY),Fe.push(tt.unpackAlignment),Fe.push(tt.colorSpace),Fe.join()}(Fe);if(An!==tt.__cacheKey){void 0===Un[An]&&(Un[An]={texture:m.createTexture(),usedTimes:0},b.memory.textures++,Zt=!0),Un[An].usedTimes++;const xr=Un[tt.__cacheKey];void 0!==xr&&(Un[tt.__cacheKey].usedTimes--,0===xr.usedTimes&&He(Fe)),tt.__cacheKey=An,tt.__webglTexture=Un[An].texture}return Zt}function Vn(tt,Fe,Zt){let Mn=m.TEXTURE_2D;(Fe.isDataArrayTexture||Fe.isCompressedArrayTexture)&&(Mn=m.TEXTURE_2D_ARRAY),Fe.isData3DTexture&&(Mn=m.TEXTURE_3D);const Un=_a(tt,Fe),An=Fe.source;t.bindTexture(Mn,tt.__webglTexture,m.TEXTURE0+Zt);const xr=r.get(An);if(An.version!==xr.__version||!0===Un){t.activeTexture(m.TEXTURE0+Zt);const yi=Qr.getPrimaries(Qr.workingColorSpace),cr=""===Fe.colorSpace?null:Qr.getPrimaries(Fe.colorSpace),Fs=""===Fe.colorSpace||yi===cr?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,Fe.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,Fe.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fs);let ai=ye(Fe.image,!1,c.maxTextureSize);ai=Ii(Fe,ai);const yr=p.convert(Fe.format,Fe.colorSpace),vo=p.convert(Fe.type);let ur,Po=Te(Fe.internalFormat,yr,vo,Fe.colorSpace,Fe.isVideoTexture);qo(Mn,Fe);const js=Fe.mipmaps,ms=!0!==Fe.isVideoTexture,ba=void 0===xr.__version||!0===Un,Vt=An.dataReady,Yi=pt(Fe,ai);if(Fe.isDepthTexture)Po=we(Fe.format===ht,Fe.type),ba&&(ms?t.texStorage2D(m.TEXTURE_2D,1,Po,ai.width,ai.height):t.texImage2D(m.TEXTURE_2D,0,Po,ai.width,ai.height,0,yr,vo,null));else if(Fe.isDataTexture)if(js.length>0){ms&&ba&&t.texStorage2D(m.TEXTURE_2D,Yi,Po,js[0].width,js[0].height);for(let Dn=0,Hn=js.length;Dn<Hn;Dn++)ur=js[Dn],ms?Vt&&t.texSubImage2D(m.TEXTURE_2D,Dn,0,0,ur.width,ur.height,yr,vo,ur.data):t.texImage2D(m.TEXTURE_2D,Dn,Po,ur.width,ur.height,0,yr,vo,ur.data);Fe.generateMipmaps=!1}else ms?(ba&&t.texStorage2D(m.TEXTURE_2D,Yi,Po,ai.width,ai.height),Vt&&t.texSubImage2D(m.TEXTURE_2D,0,0,0,ai.width,ai.height,yr,vo,ai.data)):t.texImage2D(m.TEXTURE_2D,0,Po,ai.width,ai.height,0,yr,vo,ai.data);else if(Fe.isCompressedTexture)if(Fe.isCompressedArrayTexture){ms&&ba&&t.texStorage3D(m.TEXTURE_2D_ARRAY,Yi,Po,js[0].width,js[0].height,ai.depth);for(let Dn=0,Hn=js.length;Dn<Hn;Dn++)if(ur=js[Dn],Fe.format!==Zi)if(null!==yr)if(ms){if(Vt)if(Fe.layerUpdates.size>0){const or=cg(ur.width,ur.height,Fe.format,Fe.type);for(const Gi of Fe.layerUpdates){const Yo=ur.data.subarray(Gi*or/ur.data.BYTES_PER_ELEMENT,(Gi+1)*or/ur.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY,Dn,0,0,Gi,ur.width,ur.height,1,yr,Yo)}Fe.clearLayerUpdates()}else t.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY,Dn,0,0,0,ur.width,ur.height,ai.depth,yr,ur.data)}else t.compressedTexImage3D(m.TEXTURE_2D_ARRAY,Dn,Po,ur.width,ur.height,ai.depth,0,ur.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ms?Vt&&t.texSubImage3D(m.TEXTURE_2D_ARRAY,Dn,0,0,0,ur.width,ur.height,ai.depth,yr,vo,ur.data):t.texImage3D(m.TEXTURE_2D_ARRAY,Dn,Po,ur.width,ur.height,ai.depth,0,yr,vo,ur.data)}else{ms&&ba&&t.texStorage2D(m.TEXTURE_2D,Yi,Po,js[0].width,js[0].height);for(let Dn=0,Hn=js.length;Dn<Hn;Dn++)ur=js[Dn],Fe.format!==Zi?null!==yr?ms?Vt&&t.compressedTexSubImage2D(m.TEXTURE_2D,Dn,0,0,ur.width,ur.height,yr,ur.data):t.compressedTexImage2D(m.TEXTURE_2D,Dn,Po,ur.width,ur.height,0,ur.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ms?Vt&&t.texSubImage2D(m.TEXTURE_2D,Dn,0,0,ur.width,ur.height,yr,vo,ur.data):t.texImage2D(m.TEXTURE_2D,Dn,Po,ur.width,ur.height,0,yr,vo,ur.data)}else if(Fe.isDataArrayTexture)if(ms){if(ba&&t.texStorage3D(m.TEXTURE_2D_ARRAY,Yi,Po,ai.width,ai.height,ai.depth),Vt)if(Fe.layerUpdates.size>0){const Dn=cg(ai.width,ai.height,Fe.format,Fe.type);for(const Hn of Fe.layerUpdates){const or=ai.data.subarray(Hn*Dn/ai.data.BYTES_PER_ELEMENT,(Hn+1)*Dn/ai.data.BYTES_PER_ELEMENT);t.texSubImage3D(m.TEXTURE_2D_ARRAY,0,0,0,Hn,ai.width,ai.height,1,yr,vo,or)}Fe.clearLayerUpdates()}else t.texSubImage3D(m.TEXTURE_2D_ARRAY,0,0,0,0,ai.width,ai.height,ai.depth,yr,vo,ai.data)}else t.texImage3D(m.TEXTURE_2D_ARRAY,0,Po,ai.width,ai.height,ai.depth,0,yr,vo,ai.data);else if(Fe.isData3DTexture)ms?(ba&&t.texStorage3D(m.TEXTURE_3D,Yi,Po,ai.width,ai.height,ai.depth),Vt&&t.texSubImage3D(m.TEXTURE_3D,0,0,0,0,ai.width,ai.height,ai.depth,yr,vo,ai.data)):t.texImage3D(m.TEXTURE_3D,0,Po,ai.width,ai.height,ai.depth,0,yr,vo,ai.data);else if(Fe.isFramebufferTexture){if(ba)if(ms)t.texStorage2D(m.TEXTURE_2D,Yi,Po,ai.width,ai.height);else{let Dn=ai.width,Hn=ai.height;for(let or=0;or<Yi;or++)t.texImage2D(m.TEXTURE_2D,or,Po,Dn,Hn,0,yr,vo,null),Dn>>=1,Hn>>=1}}else if(js.length>0){if(ms&&ba){const Dn=kn(js[0]);t.texStorage2D(m.TEXTURE_2D,Yi,Po,Dn.width,Dn.height)}for(let Dn=0,Hn=js.length;Dn<Hn;Dn++)ur=js[Dn],ms?Vt&&t.texSubImage2D(m.TEXTURE_2D,Dn,0,0,yr,vo,ur):t.texImage2D(m.TEXTURE_2D,Dn,Po,yr,vo,ur);Fe.generateMipmaps=!1}else if(ms){if(ba){const Dn=kn(ai);t.texStorage2D(m.TEXTURE_2D,Yi,Po,Dn.width,Dn.height)}Vt&&t.texSubImage2D(m.TEXTURE_2D,0,0,0,yr,vo,ai)}else t.texImage2D(m.TEXTURE_2D,0,Po,yr,vo,ai);le(Fe)&&oe(Mn),xr.__version=An.version,Fe.onUpdate&&Fe.onUpdate(Fe)}tt.__version=Fe.version}function Pr(tt,Fe,Zt,Mn,Un,An){const xr=p.convert(Zt.format,Zt.colorSpace),yi=p.convert(Zt.type),cr=Te(Zt.internalFormat,xr,yi,Zt.colorSpace),Fs=r.get(Fe),ai=r.get(Zt);if(ai.__renderTarget=Fe,!Fs.__hasExternalTextures){const yr=Math.max(1,Fe.width>>An),vo=Math.max(1,Fe.height>>An);Un===m.TEXTURE_3D||Un===m.TEXTURE_2D_ARRAY?t.texImage3D(Un,An,cr,yr,vo,Fe.depth,0,xr,yi,null):t.texImage2D(Un,An,cr,yr,vo,0,xr,yi,null)}t.bindFramebuffer(m.FRAMEBUFFER,tt),Yn(Fe)?x.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,Mn,Un,ai.__webglTexture,0,Wn(Fe)):(Un===m.TEXTURE_2D||Un>=m.TEXTURE_CUBE_MAP_POSITIVE_X&&Un<=m.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&m.framebufferTexture2D(m.FRAMEBUFFER,Mn,Un,ai.__webglTexture,An),t.bindFramebuffer(m.FRAMEBUFFER,null)}function Li(tt,Fe,Zt){if(m.bindRenderbuffer(m.RENDERBUFFER,tt),Fe.depthBuffer){const Mn=Fe.depthTexture,An=we(Fe.stencilBuffer,Mn&&Mn.isDepthTexture?Mn.type:null),xr=Fe.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,yi=Wn(Fe);Yn(Fe)?x.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,yi,An,Fe.width,Fe.height):Zt?m.renderbufferStorageMultisample(m.RENDERBUFFER,yi,An,Fe.width,Fe.height):m.renderbufferStorage(m.RENDERBUFFER,An,Fe.width,Fe.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,xr,m.RENDERBUFFER,tt)}else{const Mn=Fe.textures;for(let Un=0;Un<Mn.length;Un++){const An=Mn[Un],xr=p.convert(An.format,An.colorSpace),yi=p.convert(An.type),cr=Te(An.internalFormat,xr,yi,An.colorSpace),Fs=Wn(Fe);Zt&&!1===Yn(Fe)?m.renderbufferStorageMultisample(m.RENDERBUFFER,Fs,cr,Fe.width,Fe.height):Yn(Fe)?x.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,Fs,cr,Fe.width,Fe.height):m.renderbufferStorage(m.RENDERBUFFER,cr,Fe.width,Fe.height)}}m.bindRenderbuffer(m.RENDERBUFFER,null)}function zs(tt){const Fe=r.get(tt),Zt=!0===tt.isWebGLCubeRenderTarget;if(Fe.__boundDepthTexture!==tt.depthTexture){const Mn=tt.depthTexture;if(Fe.__depthDisposeCallback&&Fe.__depthDisposeCallback(),Mn){const Un=()=>{delete Fe.__boundDepthTexture,delete Fe.__depthDisposeCallback,Mn.removeEventListener("dispose",Un)};Mn.addEventListener("dispose",Un),Fe.__depthDisposeCallback=Un}Fe.__boundDepthTexture=Mn}if(tt.depthTexture&&!Fe.__autoAllocateDepthBuffer){if(Zt)throw new Error("target.depthTexture not supported in Cube render targets");!function go(tt,Fe){if(Fe&&Fe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(m.FRAMEBUFFER,tt),!Fe.depthTexture||!Fe.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Mn=r.get(Fe.depthTexture);Mn.__renderTarget=Fe,(!Mn.__webglTexture||Fe.depthTexture.image.width!==Fe.width||Fe.depthTexture.image.height!==Fe.height)&&(Fe.depthTexture.image.width=Fe.width,Fe.depthTexture.image.height=Fe.height,Fe.depthTexture.needsUpdate=!0),jn(Fe.depthTexture,0);const Un=Mn.__webglTexture,An=Wn(Fe);if(Fe.depthTexture.format===Gr)Yn(Fe)?x.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,Un,0,An):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,Un,0);else{if(Fe.depthTexture.format!==ht)throw new Error("Unknown depthTexture format");Yn(Fe)?x.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,Un,0,An):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,Un,0)}}(Fe.__webglFramebuffer,tt)}else if(Zt){Fe.__webglDepthbuffer=[];for(let Mn=0;Mn<6;Mn++)if(t.bindFramebuffer(m.FRAMEBUFFER,Fe.__webglFramebuffer[Mn]),void 0===Fe.__webglDepthbuffer[Mn])Fe.__webglDepthbuffer[Mn]=m.createRenderbuffer(),Li(Fe.__webglDepthbuffer[Mn],tt,!1);else{const Un=tt.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,An=Fe.__webglDepthbuffer[Mn];m.bindRenderbuffer(m.RENDERBUFFER,An),m.framebufferRenderbuffer(m.FRAMEBUFFER,Un,m.RENDERBUFFER,An)}}else if(t.bindFramebuffer(m.FRAMEBUFFER,Fe.__webglFramebuffer),void 0===Fe.__webglDepthbuffer)Fe.__webglDepthbuffer=m.createRenderbuffer(),Li(Fe.__webglDepthbuffer,tt,!1);else{const Mn=tt.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,Un=Fe.__webglDepthbuffer;m.bindRenderbuffer(m.RENDERBUFFER,Un),m.framebufferRenderbuffer(m.FRAMEBUFFER,Mn,m.RENDERBUFFER,Un)}t.bindFramebuffer(m.FRAMEBUFFER,null)}const Os=[],wt=[];function Wn(tt){return Math.min(c.maxSamples,tt.samples)}function Yn(tt){const Fe=r.get(tt);return tt.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Fe.__useRenderToTexture}function Ii(tt,Fe){const Zt=tt.colorSpace,Mn=tt.format,Un=tt.type;return!0===tt.isCompressedTexture||!0===tt.isVideoTexture||Zt!==ma&&""!==Zt&&(Qr.getTransfer(Zt)===Sn?(Mn!==Zi||Un!==Ss)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Zt)),Fe}function kn(tt){return typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement?(I.width=tt.naturalWidth||tt.width,I.height=tt.naturalHeight||tt.height):typeof VideoFrame<"u"&&tt instanceof VideoFrame?(I.width=tt.displayWidth,I.height=tt.displayHeight):(I.width=tt.width,I.height=tt.height),I}this.allocateTextureUnit=function un(){const tt=Ct;return tt>=c.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+tt+" texture units while this GPU supports only "+c.maxTextures),Ct+=1,tt},this.resetTextureUnits=function yn(){Ct=0},this.setTexture2D=jn,this.setTexture2DArray=function xn(tt,Fe){const Zt=r.get(tt);tt.version>0&&Zt.__version!==tt.version?Vn(Zt,tt,Fe):t.bindTexture(m.TEXTURE_2D_ARRAY,Zt.__webglTexture,m.TEXTURE0+Fe)},this.setTexture3D=function si(tt,Fe){const Zt=r.get(tt);tt.version>0&&Zt.__version!==tt.version?Vn(Zt,tt,Fe):t.bindTexture(m.TEXTURE_3D,Zt.__webglTexture,m.TEXTURE0+Fe)},this.setTextureCube=function Cn(tt,Fe){const Zt=r.get(tt);tt.version>0&&Zt.__version!==tt.version?function gi(tt,Fe,Zt){if(6!==Fe.image.length)return;const Mn=_a(tt,Fe),Un=Fe.source;t.bindTexture(m.TEXTURE_CUBE_MAP,tt.__webglTexture,m.TEXTURE0+Zt);const An=r.get(Un);if(Un.version!==An.__version||!0===Mn){t.activeTexture(m.TEXTURE0+Zt);const xr=Qr.getPrimaries(Qr.workingColorSpace),yi=""===Fe.colorSpace?null:Qr.getPrimaries(Fe.colorSpace),cr=""===Fe.colorSpace||xr===yi?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,Fe.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,Fe.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,cr);const Fs=Fe.isCompressedTexture||Fe.image[0].isCompressedTexture,ai=Fe.image[0]&&Fe.image[0].isDataTexture,yr=[];for(let Hn=0;Hn<6;Hn++)yr[Hn]=Fs||ai?ai?Fe.image[Hn].image:Fe.image[Hn]:ye(Fe.image[Hn],!0,c.maxCubemapSize),yr[Hn]=Ii(Fe,yr[Hn]);const vo=yr[0],Po=p.convert(Fe.format,Fe.colorSpace),ur=p.convert(Fe.type),js=Te(Fe.internalFormat,Po,ur,Fe.colorSpace),ms=!0!==Fe.isVideoTexture,ba=void 0===An.__version||!0===Mn,Vt=Un.dataReady;let Dn,Yi=pt(Fe,vo);if(qo(m.TEXTURE_CUBE_MAP,Fe),Fs){ms&&ba&&t.texStorage2D(m.TEXTURE_CUBE_MAP,Yi,js,vo.width,vo.height);for(let Hn=0;Hn<6;Hn++){Dn=yr[Hn].mipmaps;for(let or=0;or<Dn.length;or++){const Gi=Dn[or];Fe.format!==Zi?null!==Po?ms?Vt&&t.compressedTexSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or,0,0,Gi.width,Gi.height,Po,Gi.data):t.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or,js,Gi.width,Gi.height,0,Gi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ms?Vt&&t.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or,0,0,Gi.width,Gi.height,Po,ur,Gi.data):t.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or,js,Gi.width,Gi.height,0,Po,ur,Gi.data)}}}else{if(Dn=Fe.mipmaps,ms&&ba){Dn.length>0&&Yi++;const Hn=kn(yr[0]);t.texStorage2D(m.TEXTURE_CUBE_MAP,Yi,js,Hn.width,Hn.height)}for(let Hn=0;Hn<6;Hn++)if(ai){ms?Vt&&t.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,0,0,0,yr[Hn].width,yr[Hn].height,Po,ur,yr[Hn].data):t.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,0,js,yr[Hn].width,yr[Hn].height,0,Po,ur,yr[Hn].data);for(let or=0;or<Dn.length;or++){const Yo=Dn[or].image[Hn].image;ms?Vt&&t.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or+1,0,0,Yo.width,Yo.height,Po,ur,Yo.data):t.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or+1,js,Yo.width,Yo.height,0,Po,ur,Yo.data)}}else{ms?Vt&&t.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,0,0,0,Po,ur,yr[Hn]):t.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,0,js,Po,ur,yr[Hn]);for(let or=0;or<Dn.length;or++){const Gi=Dn[or];ms?Vt&&t.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or+1,0,0,Po,ur,Gi.image[Hn]):t.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Hn,or+1,js,Po,ur,Gi.image[Hn])}}}le(Fe)&&oe(m.TEXTURE_CUBE_MAP),An.__version=Un.version,Fe.onUpdate&&Fe.onUpdate(Fe)}tt.__version=Fe.version}(Zt,tt,Fe):t.bindTexture(m.TEXTURE_CUBE_MAP,Zt.__webglTexture,m.TEXTURE0+Fe)},this.rebindTextures=function fo(tt,Fe,Zt){const Mn=r.get(tt);void 0!==Fe&&Pr(Mn.__webglFramebuffer,tt,tt.texture,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,0),void 0!==Zt&&zs(tt)},this.setupRenderTarget=function fa(tt){const Fe=tt.texture,Zt=r.get(tt),Mn=r.get(Fe);tt.addEventListener("dispose",ft);const Un=tt.textures,An=!0===tt.isWebGLCubeRenderTarget,xr=Un.length>1;if(xr||(void 0===Mn.__webglTexture&&(Mn.__webglTexture=m.createTexture()),Mn.__version=Fe.version,b.memory.textures++),An){Zt.__webglFramebuffer=[];for(let yi=0;yi<6;yi++)if(Fe.mipmaps&&Fe.mipmaps.length>0){Zt.__webglFramebuffer[yi]=[];for(let cr=0;cr<Fe.mipmaps.length;cr++)Zt.__webglFramebuffer[yi][cr]=m.createFramebuffer()}else Zt.__webglFramebuffer[yi]=m.createFramebuffer()}else{if(Fe.mipmaps&&Fe.mipmaps.length>0){Zt.__webglFramebuffer=[];for(let yi=0;yi<Fe.mipmaps.length;yi++)Zt.__webglFramebuffer[yi]=m.createFramebuffer()}else Zt.__webglFramebuffer=m.createFramebuffer();if(xr)for(let yi=0,cr=Un.length;yi<cr;yi++){const Fs=r.get(Un[yi]);void 0===Fs.__webglTexture&&(Fs.__webglTexture=m.createTexture(),b.memory.textures++)}if(tt.samples>0&&!1===Yn(tt)){Zt.__webglMultisampledFramebuffer=m.createFramebuffer(),Zt.__webglColorRenderbuffer=[],t.bindFramebuffer(m.FRAMEBUFFER,Zt.__webglMultisampledFramebuffer);for(let yi=0;yi<Un.length;yi++){const cr=Un[yi];Zt.__webglColorRenderbuffer[yi]=m.createRenderbuffer(),m.bindRenderbuffer(m.RENDERBUFFER,Zt.__webglColorRenderbuffer[yi]);const Fs=p.convert(cr.format,cr.colorSpace),ai=p.convert(cr.type),yr=Te(cr.internalFormat,Fs,ai,cr.colorSpace,!0===tt.isXRRenderTarget),vo=Wn(tt);m.renderbufferStorageMultisample(m.RENDERBUFFER,vo,yr,tt.width,tt.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+yi,m.RENDERBUFFER,Zt.__webglColorRenderbuffer[yi])}m.bindRenderbuffer(m.RENDERBUFFER,null),tt.depthBuffer&&(Zt.__webglDepthRenderbuffer=m.createRenderbuffer(),Li(Zt.__webglDepthRenderbuffer,tt,!0)),t.bindFramebuffer(m.FRAMEBUFFER,null)}}if(An){t.bindTexture(m.TEXTURE_CUBE_MAP,Mn.__webglTexture),qo(m.TEXTURE_CUBE_MAP,Fe);for(let yi=0;yi<6;yi++)if(Fe.mipmaps&&Fe.mipmaps.length>0)for(let cr=0;cr<Fe.mipmaps.length;cr++)Pr(Zt.__webglFramebuffer[yi][cr],tt,Fe,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+yi,cr);else Pr(Zt.__webglFramebuffer[yi],tt,Fe,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+yi,0);le(Fe)&&oe(m.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(xr){for(let yi=0,cr=Un.length;yi<cr;yi++){const Fs=Un[yi],ai=r.get(Fs);t.bindTexture(m.TEXTURE_2D,ai.__webglTexture),qo(m.TEXTURE_2D,Fs),Pr(Zt.__webglFramebuffer,tt,Fs,m.COLOR_ATTACHMENT0+yi,m.TEXTURE_2D,0),le(Fs)&&oe(m.TEXTURE_2D)}t.unbindTexture()}else{let yi=m.TEXTURE_2D;if((tt.isWebGL3DRenderTarget||tt.isWebGLArrayRenderTarget)&&(yi=tt.isWebGL3DRenderTarget?m.TEXTURE_3D:m.TEXTURE_2D_ARRAY),t.bindTexture(yi,Mn.__webglTexture),qo(yi,Fe),Fe.mipmaps&&Fe.mipmaps.length>0)for(let cr=0;cr<Fe.mipmaps.length;cr++)Pr(Zt.__webglFramebuffer[cr],tt,Fe,m.COLOR_ATTACHMENT0,yi,cr);else Pr(Zt.__webglFramebuffer,tt,Fe,m.COLOR_ATTACHMENT0,yi,0);le(Fe)&&oe(yi),t.unbindTexture()}tt.depthBuffer&&zs(tt)},this.updateRenderTargetMipmap=function Ua(tt){const Fe=tt.textures;for(let Zt=0,Mn=Fe.length;Zt<Mn;Zt++){const Un=Fe[Zt];if(le(Un)){const An=Pe(tt),xr=r.get(Un).__webglTexture;t.bindTexture(An,xr),oe(An),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function xl(tt){if(tt.samples>0)if(!1===Yn(tt)){const Fe=tt.textures,Zt=tt.width,Mn=tt.height;let Un=m.COLOR_BUFFER_BIT;const An=tt.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,xr=r.get(tt),yi=Fe.length>1;if(yi)for(let cr=0;cr<Fe.length;cr++)t.bindFramebuffer(m.FRAMEBUFFER,xr.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+cr,m.RENDERBUFFER,null),t.bindFramebuffer(m.FRAMEBUFFER,xr.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+cr,m.TEXTURE_2D,null,0);t.bindFramebuffer(m.READ_FRAMEBUFFER,xr.__webglMultisampledFramebuffer),t.bindFramebuffer(m.DRAW_FRAMEBUFFER,xr.__webglFramebuffer);for(let cr=0;cr<Fe.length;cr++){if(tt.resolveDepthBuffer&&(tt.depthBuffer&&(Un|=m.DEPTH_BUFFER_BIT),tt.stencilBuffer&&tt.resolveStencilBuffer&&(Un|=m.STENCIL_BUFFER_BIT)),yi){m.framebufferRenderbuffer(m.READ_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,xr.__webglColorRenderbuffer[cr]);const Fs=r.get(Fe[cr]).__webglTexture;m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,Fs,0)}m.blitFramebuffer(0,0,Zt,Mn,0,0,Zt,Mn,Un,m.NEAREST),!0===A&&(Os.length=0,wt.length=0,Os.push(m.COLOR_ATTACHMENT0+cr),tt.depthBuffer&&!1===tt.resolveDepthBuffer&&(Os.push(An),wt.push(An),m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,wt)),m.invalidateFramebuffer(m.READ_FRAMEBUFFER,Os))}if(t.bindFramebuffer(m.READ_FRAMEBUFFER,null),t.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),yi)for(let cr=0;cr<Fe.length;cr++){t.bindFramebuffer(m.FRAMEBUFFER,xr.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+cr,m.RENDERBUFFER,xr.__webglColorRenderbuffer[cr]);const Fs=r.get(Fe[cr]).__webglTexture;t.bindFramebuffer(m.FRAMEBUFFER,xr.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+cr,m.TEXTURE_2D,Fs,0)}t.bindFramebuffer(m.DRAW_FRAMEBUFFER,xr.__webglMultisampledFramebuffer)}else tt.depthBuffer&&!1===tt.resolveDepthBuffer&&A&&m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,[tt.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=zs,this.setupFrameBufferTexture=Pr,this.useMultisampledRTT=Yn}function Tb(m,e){return{convert:function t(r,c=""){let p;const b=Qr.getTransfer(c);if(r===Ss)return m.UNSIGNED_BYTE;if(r===Qn)return m.UNSIGNED_SHORT_4_4_4_4;if(r===di)return m.UNSIGNED_SHORT_5_5_5_1;if(r===jr)return m.UNSIGNED_INT_5_9_9_9_REV;if(r===ro)return m.BYTE;if(r===Ls)return m.SHORT;if(r===Gt)return m.UNSIGNED_SHORT;if(r===Bt)return m.INT;if(r===ze)return m.UNSIGNED_INT;if(r===ct)return m.FLOAT;if(r===Wt)return m.HALF_FLOAT;if(r===es)return m.ALPHA;if(r===cs)return m.RGB;if(r===Zi)return m.RGBA;if(r===ha)return m.LUMINANCE;if(r===ko)return m.LUMINANCE_ALPHA;if(r===Gr)return m.DEPTH_COMPONENT;if(r===ht)return m.DEPTH_STENCIL;if(r===ut)return m.RED;if(r===nt)return m.RED_INTEGER;if(r===Pt)return m.RG;if(r===vn)return m.RG_INTEGER;if(r===Fn)return m.RGBA_INTEGER;if(r===Ri||r===fi||r===Mr||r===ho)if(b===Sn){if(p=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===p)return null;if(r===Ri)return p.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===fi)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Mr)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ho)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(p=e.get("WEBGL_compressed_texture_s3tc"),null===p)return null;if(r===Ri)return p.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===fi)return p.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Mr)return p.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ho)return p.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===Zr||r===Wr||r===pr||r===us){if(p=e.get("WEBGL_compressed_texture_pvrtc"),null===p)return null;if(r===Zr)return p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Wr)return p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===pr)return p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===us)return p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===Ki||r===Ir||r===Ts){if(p=e.get("WEBGL_compressed_texture_etc"),null===p)return null;if(r===Ki||r===Ir)return b===Sn?p.COMPRESSED_SRGB8_ETC2:p.COMPRESSED_RGB8_ETC2;if(r===Ts)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:p.COMPRESSED_RGBA8_ETC2_EAC}if(r===Rs||r===Di||r===ts||r===Ba||r===Qs||r===ss||r===aa||r===vs||r===pa||r===Uo||r===tl||r===ks||r===er||r===Ko){if(p=e.get("WEBGL_compressed_texture_astc"),null===p)return null;if(r===Rs)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:p.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Di)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:p.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ts)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:p.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Ba)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:p.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Qs)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:p.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===ss)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:p.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===aa)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:p.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===vs)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:p.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pa)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:p.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Uo)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:p.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===tl)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:p.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===ks)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:p.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===er)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:p.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ko)return b===Sn?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:p.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===Io||r===Il||r===dl){if(p=e.get("EXT_texture_compression_bptc"),null===p)return null;if(r===Io)return b===Sn?p.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:p.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Il)return p.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===dl)return p.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===El||r===Us||r===fl||r===nl){if(p=e.get("EXT_texture_compression_rgtc"),null===p)return null;if(r===Io)return p.COMPRESSED_RED_RGTC1_EXT;if(r===Us)return p.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===fl)return p.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===nl)return p.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===br?m.UNSIGNED_INT_24_8:void 0!==m[r]?m[r]:null}}}class I1{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const c=new ve;e.properties.get(c).__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=c}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new nc({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new _l(new Zu(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Db extends pi{constructor(e,t){super();const r=this;let c=null,p=1,b=null,x="local-floor",A=1,I=null,H=null,Y=null,Z=null,ie=null,ae=null;const ye=new I1,le=t.getContextAttributes();let oe=null,Pe=null;const Te=[],we=[],pt=new ln;let st=null;const ft=new Vl;ft.viewport=new Ue;const yt=new Vl;yt.viewport=new Ue;const He=[ft,yt],ke=new Ym;let Ct=null,yn=null;function un(Vn){const gi=we.indexOf(Vn.inputSource);if(-1===gi)return;const Pr=Te[gi];void 0!==Pr&&(Pr.update(Vn.inputSource,Vn.frame,I||b),Pr.dispatchEvent({type:Vn.type,data:Vn.inputSource}))}function wn(){c.removeEventListener("select",un),c.removeEventListener("selectstart",un),c.removeEventListener("selectend",un),c.removeEventListener("squeeze",un),c.removeEventListener("squeezestart",un),c.removeEventListener("squeezeend",un),c.removeEventListener("end",wn),c.removeEventListener("inputsourceschange",jn);for(let Vn=0;Vn<Te.length;Vn++){const gi=we[Vn];null!==gi&&(we[Vn]=null,Te[Vn].disconnect(gi))}Ct=null,yn=null,ye.reset(),e.setRenderTarget(oe),ie=null,Z=null,Y=null,c=null,Pe=null,_a.stop(),r.isPresenting=!1,e.setPixelRatio(st),e.setSize(pt.width,pt.height,!1),r.dispatchEvent({type:"sessionend"})}function jn(Vn){for(let gi=0;gi<Vn.removed.length;gi++){const Pr=Vn.removed[gi],Li=we.indexOf(Pr);Li>=0&&(we[Li]=null,Te[Li].disconnect(Pr))}for(let gi=0;gi<Vn.added.length;gi++){const Pr=Vn.added[gi];let Li=we.indexOf(Pr);if(-1===Li){for(let zs=0;zs<Te.length;zs++){if(zs>=we.length){we.push(Pr),Li=zs;break}if(null===we[zs]){we[zs]=Pr,Li=zs;break}}if(-1===Li)break}const go=Te[Li];go&&go.connect(Pr)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Vn){let gi=Te[Vn];return void 0===gi&&(gi=new Nu,Te[Vn]=gi),gi.getTargetRaySpace()},this.getControllerGrip=function(Vn){let gi=Te[Vn];return void 0===gi&&(gi=new Nu,Te[Vn]=gi),gi.getGripSpace()},this.getHand=function(Vn){let gi=Te[Vn];return void 0===gi&&(gi=new Nu,Te[Vn]=gi),gi.getHandSpace()},this.setFramebufferScaleFactor=function(Vn){p=Vn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Vn){x=Vn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return I||b},this.setReferenceSpace=function(Vn){I=Vn},this.getBaseLayer=function(){return null!==Z?Z:ie},this.getBinding=function(){return Y},this.getFrame=function(){return ae},this.getSession=function(){return c},this.setSession=function(){var Vn=M(function*(gi){if(c=gi,null!==c){if(oe=e.getRenderTarget(),c.addEventListener("select",un),c.addEventListener("selectstart",un),c.addEventListener("selectend",un),c.addEventListener("squeeze",un),c.addEventListener("squeezestart",un),c.addEventListener("squeezeend",un),c.addEventListener("end",wn),c.addEventListener("inputsourceschange",jn),!0!==le.xrCompatible&&(yield t.makeXRCompatible()),st=e.getPixelRatio(),e.getSize(pt),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Li=null,go=null,zs=null;le.depth&&(zs=le.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Li=le.stencil?ht:Gr,go=le.stencil?br:ze);const fo={colorFormat:t.RGBA8,depthFormat:zs,scaleFactor:p};Y=new XRWebGLBinding(c,t),Z=Y.createProjectionLayer(fo),c.updateRenderState({layers:[Z]}),e.setPixelRatio(1),e.setSize(Z.textureWidth,Z.textureHeight,!1),Pe=new Qt(Z.textureWidth,Z.textureHeight,{format:Zi,type:Ss,depthTexture:new Kd(Z.textureWidth,Z.textureHeight,go,void 0,void 0,void 0,void 0,void 0,void 0,Li),stencilBuffer:le.stencil,colorSpace:e.outputColorSpace,samples:le.antialias?4:0,resolveDepthBuffer:!1===Z.ignoreDepthValues,resolveStencilBuffer:!1===Z.ignoreDepthValues})}else ie=new XRWebGLLayer(c,t,{antialias:le.antialias,alpha:!0,depth:le.depth,stencil:le.stencil,framebufferScaleFactor:p}),c.updateRenderState({baseLayer:ie}),e.setPixelRatio(1),e.setSize(ie.framebufferWidth,ie.framebufferHeight,!1),Pe=new Qt(ie.framebufferWidth,ie.framebufferHeight,{format:Zi,type:Ss,colorSpace:e.outputColorSpace,stencilBuffer:le.stencil,resolveDepthBuffer:!1===ie.ignoreDepthValues,resolveStencilBuffer:!1===ie.ignoreDepthValues});Pe.isXRRenderTarget=!0,this.setFoveation(A),I=null,b=yield c.requestReferenceSpace(x),_a.setContext(c),_a.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(gi){return Vn.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==c)return c.environmentBlendMode},this.getDepthTexture=function(){return ye.getDepthTexture()};const xn=new Je,si=new Je;function Ni(Vn,gi){null===gi?Vn.matrixWorld.copy(Vn.matrix):Vn.matrixWorld.multiplyMatrices(gi.matrixWorld,Vn.matrix),Vn.matrixWorldInverse.copy(Vn.matrixWorld).invert()}this.updateCamera=function(Vn){if(null===c)return;let gi=Vn.near,Pr=Vn.far;null!==ye.texture&&(ye.depthNear>0&&(gi=ye.depthNear),ye.depthFar>0&&(Pr=ye.depthFar)),ke.near=yt.near=ft.near=gi,ke.far=yt.far=ft.far=Pr,(Ct!==ke.near||yn!==ke.far)&&(c.updateRenderState({depthNear:ke.near,depthFar:ke.far}),Ct=ke.near,yn=ke.far),ft.layers.mask=2|Vn.layers.mask,yt.layers.mask=4|Vn.layers.mask,ke.layers.mask=ft.layers.mask|yt.layers.mask;const Li=Vn.parent,go=ke.cameras;Ni(ke,Li);for(let zs=0;zs<go.length;zs++)Ni(go[zs],Li);2===go.length?function Cn(Vn,gi,Pr){xn.setFromMatrixPosition(gi.matrixWorld),si.setFromMatrixPosition(Pr.matrixWorld);const Li=xn.distanceTo(si),go=gi.projectionMatrix.elements,zs=Pr.projectionMatrix.elements,fo=go[14]/(go[10]-1),fa=go[14]/(go[10]+1),Ua=(go[9]+1)/go[5],Os=(go[9]-1)/go[5],wt=(go[8]-1)/go[0],xl=(zs[8]+1)/zs[0],Wn=fo*wt,Yn=fo*xl,Ln=Li/(-wt+xl),Ii=Ln*-wt;if(gi.matrixWorld.decompose(Vn.position,Vn.quaternion,Vn.scale),Vn.translateX(Ii),Vn.translateZ(Ln),Vn.matrixWorld.compose(Vn.position,Vn.quaternion,Vn.scale),Vn.matrixWorldInverse.copy(Vn.matrixWorld).invert(),-1===go[10])Vn.projectionMatrix.copy(gi.projectionMatrix),Vn.projectionMatrixInverse.copy(gi.projectionMatrixInverse);else{const kn=fo+Ln,tt=fa+Ln;Vn.projectionMatrix.makePerspective(Wn-Ii,Yn+(Li-Ii),Ua*fa/tt*kn,Os*fa/tt*kn,kn,tt),Vn.projectionMatrixInverse.copy(Vn.projectionMatrix).invert()}}(ke,ft,yt):ke.projectionMatrix.copy(ft.projectionMatrix),function rr(Vn,gi,Pr){null===Pr?Vn.matrix.copy(gi.matrixWorld):(Vn.matrix.copy(Pr.matrixWorld),Vn.matrix.invert(),Vn.matrix.multiply(gi.matrixWorld)),Vn.matrix.decompose(Vn.position,Vn.quaternion,Vn.scale),Vn.updateMatrixWorld(!0),Vn.projectionMatrix.copy(gi.projectionMatrix),Vn.projectionMatrixInverse.copy(gi.projectionMatrixInverse),Vn.isPerspectiveCamera&&(Vn.fov=2*he*Math.atan(1/Vn.projectionMatrix.elements[5]),Vn.zoom=1)}(Vn,ke,Li)},this.getCamera=function(){return ke},this.getFoveation=function(){if(null!==Z||null!==ie)return A},this.setFoveation=function(Vn){A=Vn,null!==Z&&(Z.fixedFoveation=Vn),null!==ie&&void 0!==ie.fixedFoveation&&(ie.fixedFoveation=Vn)},this.hasDepthSensing=function(){return null!==ye.texture},this.getDepthSensingMesh=function(){return ye.getMesh(ke)};let Tr=null;const _a=new dg;_a.setAnimationLoop(function qo(Vn,gi){if(H=gi.getViewerPose(I||b),ae=gi,null!==H){const Pr=H.views;null!==ie&&(e.setRenderTargetFramebuffer(Pe,ie.framebuffer),e.setRenderTarget(Pe));let Li=!1;Pr.length!==ke.cameras.length&&(ke.cameras.length=0,Li=!0);for(let fo=0;fo<Pr.length;fo++){const fa=Pr[fo];let Ua=null;if(null!==ie)Ua=ie.getViewport(fa);else{const wt=Y.getViewSubImage(Z,fa);Ua=wt.viewport,0===fo&&(e.setRenderTargetTextures(Pe,wt.colorTexture,wt.depthStencilTexture),e.setRenderTarget(Pe))}let Os=He[fo];void 0===Os&&(Os=new Vl,Os.layers.enable(fo),Os.viewport=new Ue,He[fo]=Os),Os.matrix.fromArray(fa.transform.matrix),Os.matrix.decompose(Os.position,Os.quaternion,Os.scale),Os.projectionMatrix.fromArray(fa.projectionMatrix),Os.projectionMatrixInverse.copy(Os.projectionMatrix).invert(),Os.viewport.set(Ua.x,Ua.y,Ua.width,Ua.height),0===fo&&(ke.matrix.copy(Os.matrix),ke.matrix.decompose(ke.position,ke.quaternion,ke.scale)),!0===Li&&ke.cameras.push(Os)}const go=c.enabledFeatures;if(go&&go.includes("depth-sensing")&&"gpu-optimized"==c.depthUsage&&Y){const fo=Y.getDepthInformation(Pr[0]);fo&&fo.isValid&&fo.texture&&ye.init(e,fo,c.renderState)}}for(let Pr=0;Pr<Te.length;Pr++){const Li=we[Pr],go=Te[Pr];null!==Li&&void 0!==go&&go.update(Li,gi,I||b)}Tr&&Tr(Vn,gi),gi.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:gi}),ae=null}),this.setAnimationLoop=function(Vn){Tr=Vn},this.dispose=function(){}}}const nm=new Be,F_=new Bi;function N_(m,e){function t(le,oe){!0===le.matrixAutoUpdate&&le.updateMatrix(),oe.value.copy(le.matrix)}function p(le,oe){le.opacity.value=oe.opacity,oe.color&&le.diffuse.value.copy(oe.color),oe.emissive&&le.emissive.value.copy(oe.emissive).multiplyScalar(oe.emissiveIntensity),oe.map&&(le.map.value=oe.map,t(oe.map,le.mapTransform)),oe.alphaMap&&(le.alphaMap.value=oe.alphaMap,t(oe.alphaMap,le.alphaMapTransform)),oe.bumpMap&&(le.bumpMap.value=oe.bumpMap,t(oe.bumpMap,le.bumpMapTransform),le.bumpScale.value=oe.bumpScale,1===oe.side&&(le.bumpScale.value*=-1)),oe.normalMap&&(le.normalMap.value=oe.normalMap,t(oe.normalMap,le.normalMapTransform),le.normalScale.value.copy(oe.normalScale),1===oe.side&&le.normalScale.value.negate()),oe.displacementMap&&(le.displacementMap.value=oe.displacementMap,t(oe.displacementMap,le.displacementMapTransform),le.displacementScale.value=oe.displacementScale,le.displacementBias.value=oe.displacementBias),oe.emissiveMap&&(le.emissiveMap.value=oe.emissiveMap,t(oe.emissiveMap,le.emissiveMapTransform)),oe.specularMap&&(le.specularMap.value=oe.specularMap,t(oe.specularMap,le.specularMapTransform)),oe.alphaTest>0&&(le.alphaTest.value=oe.alphaTest);const Pe=e.get(oe),Te=Pe.envMap,we=Pe.envMapRotation;Te&&(le.envMap.value=Te,nm.copy(we),nm.x*=-1,nm.y*=-1,nm.z*=-1,Te.isCubeTexture&&!1===Te.isRenderTargetTexture&&(nm.y*=-1,nm.z*=-1),le.envMapRotation.value.setFromMatrix4(F_.makeRotationFromEuler(nm)),le.flipEnvMap.value=Te.isCubeTexture&&!1===Te.isRenderTargetTexture?-1:1,le.reflectivity.value=oe.reflectivity,le.ior.value=oe.ior,le.refractionRatio.value=oe.refractionRatio),oe.lightMap&&(le.lightMap.value=oe.lightMap,le.lightMapIntensity.value=oe.lightMapIntensity,t(oe.lightMap,le.lightMapTransform)),oe.aoMap&&(le.aoMap.value=oe.aoMap,le.aoMapIntensity.value=oe.aoMapIntensity,t(oe.aoMap,le.aoMapTransform))}return{refreshFogUniforms:function r(le,oe){oe.color.getRGB(le.fogColor.value,cm(m)),oe.isFog?(le.fogNear.value=oe.near,le.fogFar.value=oe.far):oe.isFogExp2&&(le.fogDensity.value=oe.density)},refreshMaterialUniforms:function c(le,oe,Pe,Te,we){oe.isMeshBasicMaterial||oe.isMeshLambertMaterial?p(le,oe):oe.isMeshToonMaterial?(p(le,oe),function Y(le,oe){oe.gradientMap&&(le.gradientMap.value=oe.gradientMap)}(le,oe)):oe.isMeshPhongMaterial?(p(le,oe),function H(le,oe){le.specular.value.copy(oe.specular),le.shininess.value=Math.max(oe.shininess,1e-4)}(le,oe)):oe.isMeshStandardMaterial?(p(le,oe),function Z(le,oe){le.metalness.value=oe.metalness,oe.metalnessMap&&(le.metalnessMap.value=oe.metalnessMap,t(oe.metalnessMap,le.metalnessMapTransform)),le.roughness.value=oe.roughness,oe.roughnessMap&&(le.roughnessMap.value=oe.roughnessMap,t(oe.roughnessMap,le.roughnessMapTransform)),oe.envMap&&(le.envMapIntensity.value=oe.envMapIntensity)}(le,oe),oe.isMeshPhysicalMaterial&&function ie(le,oe,Pe){le.ior.value=oe.ior,oe.sheen>0&&(le.sheenColor.value.copy(oe.sheenColor).multiplyScalar(oe.sheen),le.sheenRoughness.value=oe.sheenRoughness,oe.sheenColorMap&&(le.sheenColorMap.value=oe.sheenColorMap,t(oe.sheenColorMap,le.sheenColorMapTransform)),oe.sheenRoughnessMap&&(le.sheenRoughnessMap.value=oe.sheenRoughnessMap,t(oe.sheenRoughnessMap,le.sheenRoughnessMapTransform))),oe.clearcoat>0&&(le.clearcoat.value=oe.clearcoat,le.clearcoatRoughness.value=oe.clearcoatRoughness,oe.clearcoatMap&&(le.clearcoatMap.value=oe.clearcoatMap,t(oe.clearcoatMap,le.clearcoatMapTransform)),oe.clearcoatRoughnessMap&&(le.clearcoatRoughnessMap.value=oe.clearcoatRoughnessMap,t(oe.clearcoatRoughnessMap,le.clearcoatRoughnessMapTransform)),oe.clearcoatNormalMap&&(le.clearcoatNormalMap.value=oe.clearcoatNormalMap,t(oe.clearcoatNormalMap,le.clearcoatNormalMapTransform),le.clearcoatNormalScale.value.copy(oe.clearcoatNormalScale),1===oe.side&&le.clearcoatNormalScale.value.negate())),oe.dispersion>0&&(le.dispersion.value=oe.dispersion),oe.iridescence>0&&(le.iridescence.value=oe.iridescence,le.iridescenceIOR.value=oe.iridescenceIOR,le.iridescenceThicknessMinimum.value=oe.iridescenceThicknessRange[0],le.iridescenceThicknessMaximum.value=oe.iridescenceThicknessRange[1],oe.iridescenceMap&&(le.iridescenceMap.value=oe.iridescenceMap,t(oe.iridescenceMap,le.iridescenceMapTransform)),oe.iridescenceThicknessMap&&(le.iridescenceThicknessMap.value=oe.iridescenceThicknessMap,t(oe.iridescenceThicknessMap,le.iridescenceThicknessMapTransform))),oe.transmission>0&&(le.transmission.value=oe.transmission,le.transmissionSamplerMap.value=Pe.texture,le.transmissionSamplerSize.value.set(Pe.width,Pe.height),oe.transmissionMap&&(le.transmissionMap.value=oe.transmissionMap,t(oe.transmissionMap,le.transmissionMapTransform)),le.thickness.value=oe.thickness,oe.thicknessMap&&(le.thicknessMap.value=oe.thicknessMap,t(oe.thicknessMap,le.thicknessMapTransform)),le.attenuationDistance.value=oe.attenuationDistance,le.attenuationColor.value.copy(oe.attenuationColor)),oe.anisotropy>0&&(le.anisotropyVector.value.set(oe.anisotropy*Math.cos(oe.anisotropyRotation),oe.anisotropy*Math.sin(oe.anisotropyRotation)),oe.anisotropyMap&&(le.anisotropyMap.value=oe.anisotropyMap,t(oe.anisotropyMap,le.anisotropyMapTransform))),le.specularIntensity.value=oe.specularIntensity,le.specularColor.value.copy(oe.specularColor),oe.specularColorMap&&(le.specularColorMap.value=oe.specularColorMap,t(oe.specularColorMap,le.specularColorMapTransform)),oe.specularIntensityMap&&(le.specularIntensityMap.value=oe.specularIntensityMap,t(oe.specularIntensityMap,le.specularIntensityMapTransform))}(le,oe,we)):oe.isMeshMatcapMaterial?(p(le,oe),function ae(le,oe){oe.matcap&&(le.matcap.value=oe.matcap)}(le,oe)):oe.isMeshDepthMaterial?p(le,oe):oe.isMeshDistanceMaterial?(p(le,oe),function ye(le,oe){const Pe=e.get(oe).light;le.referencePosition.value.setFromMatrixPosition(Pe.matrixWorld),le.nearDistance.value=Pe.shadow.camera.near,le.farDistance.value=Pe.shadow.camera.far}(le,oe)):oe.isMeshNormalMaterial?p(le,oe):oe.isLineBasicMaterial?(function b(le,oe){le.diffuse.value.copy(oe.color),le.opacity.value=oe.opacity,oe.map&&(le.map.value=oe.map,t(oe.map,le.mapTransform))}(le,oe),oe.isLineDashedMaterial&&function x(le,oe){le.dashSize.value=oe.dashSize,le.totalSize.value=oe.dashSize+oe.gapSize,le.scale.value=oe.scale}(le,oe)):oe.isPointsMaterial?function A(le,oe,Pe,Te){le.diffuse.value.copy(oe.color),le.opacity.value=oe.opacity,le.size.value=oe.size*Pe,le.scale.value=.5*Te,oe.map&&(le.map.value=oe.map,t(oe.map,le.uvTransform)),oe.alphaMap&&(le.alphaMap.value=oe.alphaMap,t(oe.alphaMap,le.alphaMapTransform)),oe.alphaTest>0&&(le.alphaTest.value=oe.alphaTest)}(le,oe,Pe,Te):oe.isSpriteMaterial?function I(le,oe){le.diffuse.value.copy(oe.color),le.opacity.value=oe.opacity,le.rotation.value=oe.rotation,oe.map&&(le.map.value=oe.map,t(oe.map,le.mapTransform)),oe.alphaMap&&(le.alphaMap.value=oe.alphaMap,t(oe.alphaMap,le.alphaMapTransform)),oe.alphaTest>0&&(le.alphaTest.value=oe.alphaTest)}(le,oe):oe.isShadowMaterial?(le.color.value.copy(oe.color),le.opacity.value=oe.opacity):oe.isShaderMaterial&&(oe.uniformsNeedUpdate=!1)}}}function Du(m,e,t,r){let c={},p={},b=[];const x=m.getParameter(m.MAX_UNIFORM_BUFFER_BINDINGS);function ie(Pe,Te,we,pt){const st=Pe.value,ft=Te+"_"+we;if(void 0===pt[ft])return pt[ft]="number"==typeof st||"boolean"==typeof st?st:st.clone(),!0;{const yt=pt[ft];if("number"==typeof st||"boolean"==typeof st){if(yt!==st)return pt[ft]=st,!0}else if(!1===yt.equals(st))return yt.copy(st),!0}return!1}function ye(Pe){const Te={boundary:0,storage:0};return"number"==typeof Pe||"boolean"==typeof Pe?(Te.boundary=4,Te.storage=4):Pe.isVector2?(Te.boundary=8,Te.storage=8):Pe.isVector3||Pe.isColor?(Te.boundary=16,Te.storage=12):Pe.isVector4?(Te.boundary=16,Te.storage=16):Pe.isMatrix3?(Te.boundary=48,Te.storage=48):Pe.isMatrix4?(Te.boundary=64,Te.storage=64):Pe.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Pe),Te}function le(Pe){const Te=Pe.target;Te.removeEventListener("dispose",le);const we=b.indexOf(Te.__bindingPointIndex);b.splice(we,1),m.deleteBuffer(c[Te.id]),delete c[Te.id],delete p[Te.id]}return{bind:function A(Pe,Te){r.uniformBlockBinding(Pe,Te.program)},update:function I(Pe,Te){let we=c[Pe.id];void 0===we&&(function ae(Pe){const Te=Pe.uniforms;let we=0;for(let ft=0,yt=Te.length;ft<yt;ft++){const He=Array.isArray(Te[ft])?Te[ft]:[Te[ft]];for(let ke=0,Ct=He.length;ke<Ct;ke++){const yn=He[ke],un=Array.isArray(yn.value)?yn.value:[yn.value];for(let wn=0,jn=un.length;wn<jn;wn++){const si=ye(un[wn]),Cn=we%16,Ni=Cn%si.boundary,rr=Cn+Ni;we+=Ni,0!==rr&&16-rr<si.storage&&(we+=16-rr),yn.__data=new Float32Array(si.storage/Float32Array.BYTES_PER_ELEMENT),yn.__offset=we,we+=si.storage}}}const st=we%16;st>0&&(we+=16-st),Pe.__size=we,Pe.__cache={}}(Pe),we=function H(Pe){const Te=function Y(){for(let Pe=0;Pe<x;Pe++)if(-1===b.indexOf(Pe))return b.push(Pe),Pe;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();Pe.__bindingPointIndex=Te;const we=m.createBuffer(),pt=Pe.__size,st=Pe.usage;return m.bindBuffer(m.UNIFORM_BUFFER,we),m.bufferData(m.UNIFORM_BUFFER,pt,st),m.bindBuffer(m.UNIFORM_BUFFER,null),m.bindBufferBase(m.UNIFORM_BUFFER,Te,we),we}(Pe),c[Pe.id]=we,Pe.addEventListener("dispose",le)),r.updateUBOMapping(Pe,Te.program);const st=e.render.frame;p[Pe.id]!==st&&(function Z(Pe){const we=Pe.uniforms,pt=Pe.__cache;m.bindBuffer(m.UNIFORM_BUFFER,c[Pe.id]);for(let st=0,ft=we.length;st<ft;st++){const yt=Array.isArray(we[st])?we[st]:[we[st]];for(let He=0,ke=yt.length;He<ke;He++){const Ct=yt[He];if(!0===ie(Ct,st,He,pt)){const yn=Ct.__offset,un=Array.isArray(Ct.value)?Ct.value:[Ct.value];let wn=0;for(let jn=0;jn<un.length;jn++){const xn=un[jn],si=ye(xn);"number"==typeof xn||"boolean"==typeof xn?(Ct.__data[0]=xn,m.bufferSubData(m.UNIFORM_BUFFER,yn+wn,Ct.__data)):xn.isMatrix3?(Ct.__data[0]=xn.elements[0],Ct.__data[1]=xn.elements[1],Ct.__data[2]=xn.elements[2],Ct.__data[3]=0,Ct.__data[4]=xn.elements[3],Ct.__data[5]=xn.elements[4],Ct.__data[6]=xn.elements[5],Ct.__data[7]=0,Ct.__data[8]=xn.elements[6],Ct.__data[9]=xn.elements[7],Ct.__data[10]=xn.elements[8],Ct.__data[11]=0):(xn.toArray(Ct.__data,wn),wn+=si.storage/Float32Array.BYTES_PER_ELEMENT)}m.bufferSubData(m.UNIFORM_BUFFER,yn,Ct.__data)}}}m.bindBuffer(m.UNIFORM_BUFFER,null)}(Pe),p[Pe.id]=st)},dispose:function oe(){for(const Pe in c)m.deleteBuffer(c[Pe]);b=[],c={},p={}}}}u.ACESFilmicToneMapping=Br,u.AddEquation=Ne,u.AddOperation=et,u.AdditiveAnimationBlendMode=2501,u.AdditiveBlending=2,u.AgXToneMapping=oi,u.AlphaFormat=es,u.AlwaysCompare=519,u.AlwaysDepth=1,u.AlwaysStencilFunc=519,u.AmbientLight=Wm,u.AnimationAction=w0,u.AnimationClip=cf,u.AnimationLoader=class Vm extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=new su(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(e,function(x){try{t(p.parse(JSON.parse(x)))}catch(A){c?c(A):console.error(A),p.manager.itemError(e)}},r,c)}parse(e){const t=[];for(let r=0;r<e.length;r++){const c=cf.parse(e[r]);t.push(c)}return t}},u.AnimationMixer=class ph extends pi{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,c=e._clip.tracks,p=c.length,b=e._propertyBindings,x=e._interpolants,A=r.uuid,I=this._bindingsByRootAndName;let H=I[A];void 0===H&&(H={},I[A]=H);for(let Y=0;Y!==p;++Y){const Z=c[Y],ie=Z.name;let ae=H[ie];if(void 0!==ae)++ae.referenceCount,b[Y]=ae;else{if(ae=b[Y],void 0!==ae){null===ae._cacheIndex&&(++ae.referenceCount,this._addInactiveBinding(ae,A,ie));continue}ae=new wp(Pa.create(r,ie,t&&t._propertyBindings[Y].binding.parsedPath),Z.ValueTypeName,Z.getValueSize()),++ae.referenceCount,this._addInactiveBinding(ae,A,ie),b[Y]=ae}x[Y].resultBuffer=ae.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const r=(e._localRoot||this._root).uuid,c=e._clip.uuid,p=this._actionsByClip[c];this._bindAction(e,p&&p.knownActions[0]),this._addInactiveAction(e,c,r)}const t=e._propertyBindings;for(let r=0,c=t.length;r!==c;++r){const p=t[r];0==p.useCount++&&(this._lendBinding(p),p.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,c=t.length;r!==c;++r){const p=t[r];0==--p.useCount&&(p.restoreOriginalState(),this._takeBackBinding(p))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,r){const c=this._actions,p=this._actionsByClip;let b=p[t];if(void 0===b)b={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,p[t]=b;else{const x=b.knownActions;e._byClipCacheIndex=x.length,x.push(e)}e._cacheIndex=c.length,c.push(e),b.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],c=e._cacheIndex;r._cacheIndex=c,t[c]=r,t.pop(),e._cacheIndex=null;const p=e._clip.uuid,b=this._actionsByClip,x=b[p],A=x.knownActions,I=A[A.length-1],H=e._byClipCacheIndex;I._byClipCacheIndex=H,A[H]=I,A.pop(),e._byClipCacheIndex=null,delete x.actionByRoot[(e._localRoot||this._root).uuid],0===A.length&&delete b[p],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,c=t.length;r!==c;++r){const p=t[r];0==--p.referenceCount&&this._removeInactiveBinding(p)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,c=this._nActiveActions++,p=t[c];e._cacheIndex=c,t[c]=e,p._cacheIndex=r,t[r]=p}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,c=--this._nActiveActions,p=t[c];e._cacheIndex=c,t[c]=e,p._cacheIndex=r,t[r]=p}_addInactiveBinding(e,t,r){const c=this._bindingsByRootAndName,p=this._bindings;let b=c[t];void 0===b&&(b={},c[t]=b),b[r]=e,e._cacheIndex=p.length,p.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,c=r.rootNode.uuid,p=r.path,b=this._bindingsByRootAndName,x=b[c],A=t[t.length-1],I=e._cacheIndex;A._cacheIndex=I,t[I]=A,t.pop(),delete x[p],0===Object.keys(x).length&&delete b[c]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,c=this._nActiveBindings++,p=t[c];e._cacheIndex=c,t[c]=e,p._cacheIndex=r,t[r]=p}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,c=--this._nActiveBindings,p=t[c];e._cacheIndex=c,t[c]=e,p._cacheIndex=r,t[r]=p}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(r=new pc(new Float32Array(2),new Float32Array(2),1,Ip),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,c=--this._nActiveControlInterpolants,p=t[c];e.__cacheIndex=c,t[c]=e,p.__cacheIndex=r,t[r]=p}clipAction(e,t,r){const c=t||this._root,p=c.uuid;let b="string"==typeof e?cf.findByName(c,e):e;const x=null!==b?b.uuid:e,A=this._actionsByClip[x];let I=null;if(void 0===r&&(r=null!==b?b.blendMode:2500),void 0!==A){const Y=A.actionByRoot[p];if(void 0!==Y&&Y.blendMode===r)return Y;I=A.knownActions[0],null===b&&(b=I._clip)}if(null===b)return null;const H=new w0(this,b,t,r);return this._bindAction(H,I),this._addInactiveAction(H,x,p),H}existingAction(e,t){const r=t||this._root,c=r.uuid,p="string"==typeof e?cf.findByName(r,e):e,x=this._actionsByClip[p?p.uuid:e];return void 0!==x&&x.actionByRoot[c]||null}stopAllAction(){const e=this._actions;for(let r=this._nActiveActions-1;r>=0;--r)e[r].stop();return this}update(e){const t=this._actions,r=this._nActiveActions,c=this.time+=e*=this.timeScale,p=Math.sign(e),b=this._accuIndex^=1;for(let I=0;I!==r;++I)t[I]._update(c,e,p,b);const x=this._bindings,A=this._nActiveBindings;for(let I=0;I!==A;++I)x[I].apply(b);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,c=this._actionsByClip,p=c[r];if(void 0!==p){const b=p.knownActions;for(let x=0,A=b.length;x!==A;++x){const I=b[x];this._deactivateAction(I);const H=I._cacheIndex,Y=t[t.length-1];I._cacheIndex=null,I._byClipCacheIndex=null,Y._cacheIndex=H,t[H]=Y,t.pop(),this._removeInactiveBindingsForAction(I)}delete c[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const b in r){const A=r[b].actionByRoot[t];void 0!==A&&(this._deactivateAction(A),this._removeInactiveAction(A))}const p=this._bindingsByRootAndName[t];if(void 0!==p)for(const b in p){const x=p[b];x.restoreOriginalState(),this._removeInactiveBinding(x)}}uncacheAction(e,t){const r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}},u.AnimationObjectGroup=class Pp{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_e(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,c=arguments.length;r!==c;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,c=this._parsedPaths,p=this._bindings,b=p.length;let x,A=e.length,I=this.nCachedObjects_;for(let H=0,Y=arguments.length;H!==Y;++H){const Z=arguments[H],ie=Z.uuid;let ae=t[ie];if(void 0===ae){ae=A++,t[ie]=ae,e.push(Z);for(let ye=0,le=b;ye!==le;++ye)p[ye].push(new Pa(Z,r[ye],c[ye]))}else if(ae<I){x=e[ae];const ye=--I,le=e[ye];t[le.uuid]=ae,e[ae]=le,t[ie]=ye,e[ye]=Z;for(let oe=0,Pe=b;oe!==Pe;++oe){const Te=p[oe];let pt=Te[ae];Te[ae]=Te[ye],void 0===pt&&(pt=new Pa(Z,r[oe],c[oe])),Te[ye]=pt}}else e[ae]!==x&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=I}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,c=r.length;let p=this.nCachedObjects_;for(let b=0,x=arguments.length;b!==x;++b){const A=arguments[b],I=A.uuid,H=t[I];if(void 0!==H&&H>=p){const Y=p++,Z=e[Y];t[Z.uuid]=H,e[H]=Z,t[I]=Y,e[Y]=A;for(let ie=0,ae=c;ie!==ae;++ie){const ye=r[ie],oe=ye[H];ye[H]=ye[Y],ye[Y]=oe}}}this.nCachedObjects_=p}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,c=r.length;let p=this.nCachedObjects_,b=e.length;for(let x=0,A=arguments.length;x!==A;++x){const H=arguments[x].uuid,Y=t[H];if(void 0!==Y)if(delete t[H],Y<p){const Z=--p,ie=e[Z],ae=--b,ye=e[ae];t[ie.uuid]=Y,e[Y]=ie,t[ye.uuid]=Z,e[Z]=ye,e.pop();for(let le=0,oe=c;le!==oe;++le){const Pe=r[le],we=Pe[ae];Pe[Y]=Pe[Z],Pe[Z]=we,Pe.pop()}}else{const Z=--b,ie=e[Z];Z>0&&(t[ie.uuid]=Y),e[Y]=ie,e.pop();for(let ae=0,ye=c;ae!==ye;++ae){const le=r[ae];le[Y]=le[Z],le.pop()}}}this.nCachedObjects_=p}subscribe_(e,t){const r=this._bindingsIndicesByPath;let c=r[e];const p=this._bindings;if(void 0!==c)return p[c];const b=this._paths,x=this._parsedPaths,A=this._objects,H=this.nCachedObjects_,Y=new Array(A.length);c=p.length,r[e]=c,b.push(e),x.push(t),p.push(Y);for(let Z=H,ie=A.length;Z!==ie;++Z)Y[Z]=new Pa(A[Z],e,t);return Y}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){const c=this._paths,p=this._parsedPaths,b=this._bindings,x=b.length-1,A=b[x];t[e[x]]=r,b[r]=A,b.pop(),p[r]=p[x],p.pop(),c[r]=c[x],c.pop()}}},u.AnimationUtils=class p0{static convertArray(e,t){return _d(e,t)}static isTypedArray(e){return Mv(e)}static getKeyframeOrder(e){return Sv(e)}static sortedArray(e,t,r){return Um(e,t,r)}static flattenJSON(e,t,r,c){pp(e,t,r,c)}static subclip(e,t,r,c,p=30){return function f0(m,e,t,r,c=30){const p=m.clone();p.name=e;const b=[];for(let A=0;A<p.tracks.length;++A){const I=p.tracks[A],H=I.getValueSize(),Y=[],Z=[];for(let ie=0;ie<I.times.length;++ie){const ae=I.times[ie]*c;if(!(ae<t||ae>=r)){Y.push(I.times[ie]);for(let ye=0;ye<H;++ye)Z.push(I.values[ie*H+ye])}}0!==Y.length&&(I.times=_d(Y,I.times.constructor),I.values=_d(Z,I.values.constructor),b.push(I))}p.tracks=b;let x=1/0;for(let A=0;A<p.tracks.length;++A)x>p.tracks[A].times[0]&&(x=p.tracks[A].times[0]);for(let A=0;A<p.tracks.length;++A)p.tracks[A].shift(-1*x);return p.resetDuration(),p}(e,t,r,c,p)}static makeClipAdditive(e,t=0,r=e,c=30){return function h0(m,e=0,t=m,r=30){r<=0&&(r=30);const c=t.tracks.length,p=e/r;for(let b=0;b<c;++b){const x=t.tracks[b],A=x.ValueTypeName;if("bool"===A||"string"===A)continue;const I=m.tracks.find(function(oe){return oe.name===x.name&&oe.ValueTypeName===A});if(void 0===I)continue;let H=0;const Y=x.getValueSize();x.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(H=Y/3);let Z=0;const ie=I.getValueSize();I.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Z=ie/3);const ae=x.times.length-1;let ye;if(p<=x.times[0])ye=x.values.slice(H,Y-H);else if(p>=x.times[ae]){const oe=ae*Y+H;ye=x.values.slice(oe,oe+Y-H)}else{const oe=x.createInterpolant(),Pe=H,Te=Y-H;oe.evaluate(p),ye=oe.resultBuffer.slice(Pe,Te)}"quaternion"===A&&(new Ui).fromArray(ye).normalize().conjugate().toArray(ye);const le=I.times.length;for(let oe=0;oe<le;++oe){const Pe=oe*ie+Z;if("quaternion"===A)Ui.multiplyQuaternionsFlat(I.values,Pe,ye,0,I.values,Pe);else{const Te=ie-2*Z;for(let we=0;we<Te;++we)I.values[Pe+we]-=ye[we]}}}return m.blendMode=2501,m}(e,t,r,c)}},u.ArcCurve=tu,u.ArrayCamera=Ym,u.ArrowHelper=class ag extends Nn{constructor(e=new Je(0,0,1),t=new Je(0,0,0),r=1,c=16776960,p=.2*r,b=.2*p){super(),this.type="ArrowHelper",void 0===yh&&(yh=new Do,yh.setAttribute("position",new Sr([0,0,0,0,1,0],3)),Mc=new md(0,.5,1,5,1),Mc.translate(0,-.5,0)),this.position.copy(t),this.line=new zc(yh,new jl({color:c,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _l(Mc,new ps({color:c,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,p,b)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Up.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Up,t)}}setLength(e,t=.2*e,r=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},u.AttachedBindMode=ci,u.Audio=Zm,u.AudioAnalyser=class E0{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}},u.AudioContext=hf,u.AudioListener=class x0 extends Nn{constructor(){super(),this.type="AudioListener",this.context=hf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xd}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cd,Pv,Qu),qu.set(0,0,-1).applyQuaternion(Pv),t.positionX){const c=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cd.x,c),t.positionY.linearRampToValueAtTime(Cd.y,c),t.positionZ.linearRampToValueAtTime(Cd.z,c),t.forwardX.linearRampToValueAtTime(qu.x,c),t.forwardY.linearRampToValueAtTime(qu.y,c),t.forwardZ.linearRampToValueAtTime(qu.z,c),t.upX.linearRampToValueAtTime(r.x,c),t.upY.linearRampToValueAtTime(r.y,c),t.upZ.linearRampToValueAtTime(r.z,c)}else t.setPosition(Cd.x,Cd.y,Cd.z),t.setOrientation(qu.x,qu.y,qu.z,r.x,r.y,r.z)}},u.AudioLoader=class cu extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=new su(this.manager);function x(A){c?c(A):console.error(A),p.manager.itemError(e)}b.setResponseType("arraybuffer"),b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(e,function(A){try{const I=A.slice(0);hf.getContext().decodeAudioData(I,function(Y){t(Y)}).catch(x)}catch(I){x(I)}},r,c)}},u.AxesHelper=class Y_ extends Ic{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],c=new Do;c.setAttribute("position",new Sr(t,3)),c.setAttribute("color",new Sr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(c,new jl({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,r){const c=new Mt,p=this.geometry.attributes.color.array;return c.set(e),c.toArray(p,0),c.toArray(p,3),c.set(t),c.toArray(p,6),c.toArray(p,9),c.set(r),c.toArray(p,12),c.toArray(p,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},u.BackSide=1,u.BasicDepthPacking=3200,u.BasicShadowMap=0,u.BatchedMesh=nv,u.Bone=yu,u.BooleanKeyframeTrack=Ju,u.Box2=class Fp{constructor(e=new ln(1/0,1/0),t=new ln(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=mh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mh).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},u.Box3=Xo,u.Box3Helper=class O0 extends Ic{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),p=new Do;p.setIndex(new eo(r,1)),p.setAttribute("position",new Sr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(p,new jl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},u.BoxGeometry=Fc,u.BoxHelper=class I0 extends Ic{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),p=new Do;p.setIndex(new eo(r,1)),p.setAttribute("position",new eo(c,3)),super(p,new jl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&_f.setFromObject(this.object),_f.isEmpty())return;const e=_f.min,t=_f.max,r=this.geometry.attributes.position,c=r.array;c[0]=t.x,c[1]=t.y,c[2]=t.z,c[3]=e.x,c[4]=t.y,c[5]=t.z,c[6]=e.x,c[7]=e.y,c[8]=t.z,c[9]=t.x,c[10]=e.y,c[11]=t.z,c[12]=t.x,c[13]=t.y,c[14]=e.z,c[15]=e.x,c[16]=t.y,c[17]=e.z,c[18]=e.x,c[19]=e.y,c[20]=e.z,c[21]=t.x,c[22]=e.y,c[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},u.BufferAttribute=eo,u.BufferGeometry=Do,u.BufferGeometryLoader=Xm,u.ByteType=ro,u.Cache=Su,u.Camera=vu,u.CameraHelper=class sg extends Ic{constructor(e){const t=new Do,r=new jl({color:16777215,vertexColors:!0,toneMapped:!1}),c=[],p=[],b={};function x(ae,ye){A(ae),A(ye)}function A(ae){c.push(0,0,0),p.push(0,0,0),void 0===b[ae]&&(b[ae]=[]),b[ae].push(c.length/3-1)}x("n1","n2"),x("n2","n4"),x("n4","n3"),x("n3","n1"),x("f1","f2"),x("f2","f4"),x("f4","f3"),x("f3","f1"),x("n1","f1"),x("n2","f2"),x("n3","f3"),x("n4","f4"),x("p","n1"),x("p","n2"),x("p","n3"),x("p","n4"),x("u1","u2"),x("u2","u3"),x("u3","u1"),x("c","t"),x("p","c"),x("cn1","cn2"),x("cn3","cn4"),x("cf1","cf2"),x("cf3","cf4"),t.setAttribute("position",new Sr(c,3)),t.setAttribute("color",new Sr(p,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=b,this.update();const I=new Mt(16755200),H=new Mt(16711680),Y=new Mt(43775),Z=new Mt(16777215),ie=new Mt(3355443);this.setColors(I,H,Y,Z,ie)}setColors(e,t,r,c,p){const x=this.geometry.getAttribute("color");x.setXYZ(0,e.r,e.g,e.b),x.setXYZ(1,e.r,e.g,e.b),x.setXYZ(2,e.r,e.g,e.b),x.setXYZ(3,e.r,e.g,e.b),x.setXYZ(4,e.r,e.g,e.b),x.setXYZ(5,e.r,e.g,e.b),x.setXYZ(6,e.r,e.g,e.b),x.setXYZ(7,e.r,e.g,e.b),x.setXYZ(8,e.r,e.g,e.b),x.setXYZ(9,e.r,e.g,e.b),x.setXYZ(10,e.r,e.g,e.b),x.setXYZ(11,e.r,e.g,e.b),x.setXYZ(12,e.r,e.g,e.b),x.setXYZ(13,e.r,e.g,e.b),x.setXYZ(14,e.r,e.g,e.b),x.setXYZ(15,e.r,e.g,e.b),x.setXYZ(16,e.r,e.g,e.b),x.setXYZ(17,e.r,e.g,e.b),x.setXYZ(18,e.r,e.g,e.b),x.setXYZ(19,e.r,e.g,e.b),x.setXYZ(20,e.r,e.g,e.b),x.setXYZ(21,e.r,e.g,e.b),x.setXYZ(22,e.r,e.g,e.b),x.setXYZ(23,e.r,e.g,e.b),x.setXYZ(24,t.r,t.g,t.b),x.setXYZ(25,t.r,t.g,t.b),x.setXYZ(26,t.r,t.g,t.b),x.setXYZ(27,t.r,t.g,t.b),x.setXYZ(28,t.r,t.g,t.b),x.setXYZ(29,t.r,t.g,t.b),x.setXYZ(30,t.r,t.g,t.b),x.setXYZ(31,t.r,t.g,t.b),x.setXYZ(32,r.r,r.g,r.b),x.setXYZ(33,r.r,r.g,r.b),x.setXYZ(34,r.r,r.g,r.b),x.setXYZ(35,r.r,r.g,r.b),x.setXYZ(36,r.r,r.g,r.b),x.setXYZ(37,r.r,r.g,r.b),x.setXYZ(38,c.r,c.g,c.b),x.setXYZ(39,c.r,c.g,c.b),x.setXYZ(40,p.r,p.g,p.b),x.setXYZ(41,p.r,p.g,p.b),x.setXYZ(42,p.r,p.g,p.b),x.setXYZ(43,p.r,p.g,p.b),x.setXYZ(44,p.r,p.g,p.b),x.setXYZ(45,p.r,p.g,p.b),x.setXYZ(46,p.r,p.g,p.b),x.setXYZ(47,p.r,p.g,p.b),x.setXYZ(48,p.r,p.g,p.b),x.setXYZ(49,p.r,p.g,p.b),x.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;cl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const p=this.camera.coordinateSystem===bi?-1:0;Sl("c",t,e,cl,0,0,p),Sl("t",t,e,cl,0,0,1),Sl("n1",t,e,cl,-1,-1,p),Sl("n2",t,e,cl,1,-1,p),Sl("n3",t,e,cl,-1,1,p),Sl("n4",t,e,cl,1,1,p),Sl("f1",t,e,cl,-1,-1,1),Sl("f2",t,e,cl,1,-1,1),Sl("f3",t,e,cl,-1,1,1),Sl("f4",t,e,cl,1,1,1),Sl("u1",t,e,cl,.7,1.1,p),Sl("u2",t,e,cl,-.7,1.1,p),Sl("u3",t,e,cl,0,2,p),Sl("cf1",t,e,cl,-1,0,1),Sl("cf2",t,e,cl,1,0,1),Sl("cf3",t,e,cl,0,-1,1),Sl("cf4",t,e,cl,0,1,1),Sl("cn1",t,e,cl,-1,0,p),Sl("cn2",t,e,cl,1,0,p),Sl("cn3",t,e,cl,0,-1,p),Sl("cn4",t,e,cl,0,1,p),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},u.CanvasTexture=class fd extends ve{constructor(e,t,r,c,p,b,x,A,I){super(e,t,r,c,p,b,x,A,I),this.isCanvasTexture=!0,this.needsUpdate=!0}},u.CapsuleGeometry=ju,u.CatmullRomCurve3=wm,u.CineonToneMapping=tn,u.CircleGeometry=hc,u.ClampToEdgeWrapping=ar,u.Clock=xd,u.Color=Mt,u.ColorKeyframeTrack=mp,u.ColorManagement=Qr,u.CompressedArrayTexture=class av extends jc{constructor(e,t,r,c,p,b){super(e,t,r,p,b),this.isCompressedArrayTexture=!0,this.image.depth=c,this.wrapR=ar,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},u.CompressedCubeTexture=class lv extends jc{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,wo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},u.CompressedTexture=jc,u.CompressedTextureLoader=class v0 extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=[],x=new jc,A=new su(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(p.withCredentials);let I=0;function H(Y){A.load(e[Y],function(Z){const ie=p.parse(Z,!0);b[Y]={width:ie.width,height:ie.height,format:ie.format,mipmaps:ie.mipmaps},I+=1,6===I&&(1===ie.mipmapCount&&(x.minFilter=_i),x.image=b,x.format=ie.format,x.needsUpdate=!0,t&&t(x))},r,c)}if(Array.isArray(e))for(let Y=0,Z=e.length;Y<Z;++Y)H(Y);else A.load(e,function(Y){const Z=p.parse(Y,!0);if(Z.isCubemap){const ie=Z.mipmaps.length/Z.mipmapCount;for(let ae=0;ae<ie;ae++){b[ae]={mipmaps:[]};for(let ye=0;ye<Z.mipmapCount;ye++)b[ae].mipmaps.push(Z.mipmaps[ae*Z.mipmapCount+ye]),b[ae].format=Z.format,b[ae].width=Z.width,b[ae].height=Z.height}x.image=b}else x.image.width=Z.width,x.image.height=Z.height,x.mipmaps=Z.mipmaps;1===Z.mipmapCount&&(x.minFilter=_i),x.format=Z.format,x.needsUpdate=!0,t&&t(x)},r,c);return x}},u.ConeGeometry=Xf,u.ConstantAlphaFactor=213,u.ConstantColorFactor=211,u.Controls=class ed extends pi{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e?(null!==this.domElement&&this.disconnect(),this.domElement=e):console.warn("THREE.Controls: connect() now requires an element.")}disconnect(){}dispose(){}update(){}},u.CubeCamera=Bh,u.CubeReflectionMapping=wo,u.CubeRefractionMapping=Xi,u.CubeTexture=kd,u.CubeTextureLoader=class Ev extends bc{constructor(e){super(e)}load(e,t,r,c){const p=new kd;p.colorSpace=Ws;const b=new Wc(this.manager);b.setCrossOrigin(this.crossOrigin),b.setPath(this.path);let x=0;function A(I){b.load(e[I],function(H){p.images[I]=H,x++,6===x&&(p.needsUpdate=!0,t&&t(p))},void 0,c)}for(let I=0;I<e.length;++I)A(I);return p}},u.CubeUVReflectionMapping=vi,u.CubicBezierCurve=Qh,u.CubicBezierCurve3=uv,u.CubicInterpolant=sh,u.CullFaceBack=1,u.CullFaceFront=2,u.CullFaceFrontBack=3,u.CullFaceNone=0,u.Curve=Hl,u.CurvePath=Dm,u.CustomBlending=5,u.CustomToneMapping=zi,u.CylinderGeometry=md,u.Cylindrical=class P0{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return(new this.constructor).copy(this)}},u.Data3DTexture=Co,u.DataArrayTexture=Mi,u.DataTexture=Qc,u.DataTextureLoader=class wv extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=new Qc,x=new su(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(p.withCredentials),x.load(e,function(A){let I;try{I=p.parse(A)}catch(H){if(void 0===c)return void console.error(H);c(H)}void 0!==I.image?b.image=I.image:void 0!==I.data&&(b.image.width=I.width,b.image.height=I.height,b.image.data=I.data),b.wrapS=void 0!==I.wrapS?I.wrapS:ar,b.wrapT=void 0!==I.wrapT?I.wrapT:ar,b.magFilter=void 0!==I.magFilter?I.magFilter:_i,b.minFilter=void 0!==I.minFilter?I.minFilter:_i,b.anisotropy=void 0!==I.anisotropy?I.anisotropy:1,void 0!==I.colorSpace&&(b.colorSpace=I.colorSpace),void 0!==I.flipY&&(b.flipY=I.flipY),void 0!==I.format&&(b.format=I.format),void 0!==I.type&&(b.type=I.type),void 0!==I.mipmaps&&(b.mipmaps=I.mipmaps,b.minFilter=io),1===I.mipmapCount&&(b.minFilter=_i),void 0!==I.generateMipmaps&&(b.generateMipmaps=I.generateMipmaps),b.needsUpdate=!0,t&&t(b,I)},r,c),b}},u.DataUtils=class Af{static toHalfFloat(e){return ya(e)}static fromHalfFloat(e){return gc(e)}},u.DecrementStencilOp=7683,u.DecrementWrapStencilOp=34056,u.DefaultLoadingManager=Cv,u.DepthFormat=Gr,u.DepthStencilFormat=ht,u.DepthTexture=Kd,u.DetachedBindMode=Vr,u.DirectionalLight=Gm,u.DirectionalLightHelper=class Bv extends Nn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",void 0===t&&(t=1);let c=new Do;c.setAttribute("position",new Sr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const p=new jl({fog:!1,toneMapped:!1});this.lightPlane=new zc(c,p),this.add(this.lightPlane),c=new Do,c.setAttribute("position",new Sr([0,0,0,0,0,1],3)),this.targetLine=new zc(c,p),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Pd.setFromMatrixPosition(this.light.matrixWorld),Lp.setFromMatrixPosition(this.light.target.matrixWorld),vh.subVectors(Lp,Pd),this.lightPlane.lookAt(Lp),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Lp),this.targetLine.scale.z=vh.length()}},u.DiscreteInterpolant=lf,u.DodecahedronGeometry=Yf,u.DoubleSide=2,u.DstAlphaFactor=206,u.DstColorFactor=208,u.DynamicCopyUsage=35050,u.DynamicDrawUsage=35048,u.DynamicReadUsage=35049,u.EdgesGeometry=rp,u.EllipseCurve=yc,u.EqualCompare=514,u.EqualDepth=4,u.EqualStencilFunc=514,u.EquirectangularReflectionMapping=303,u.EquirectangularRefractionMapping=304,u.Euler=Be,u.EventDispatcher=pi,u.ExtrudeGeometry=up,u.FileLoader=su,u.Float16BufferAttribute=class Ac extends eo{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=gc(this.array[e*this.itemSize]);return this.normalized&&(t=vr(t,this.array)),t}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize]=ya(t),this}getY(e){let t=gc(this.array[e*this.itemSize+1]);return this.normalized&&(t=vr(t,this.array)),t}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+1]=ya(t),this}getZ(e){let t=gc(this.array[e*this.itemSize+2]);return this.normalized&&(t=vr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+2]=ya(t),this}getW(e){let t=gc(this.array[e*this.itemSize+3]);return this.normalized&&(t=vr(t,this.array)),t}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+3]=ya(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.array[e+0]=ya(t),this.array[e+1]=ya(r),this}setXYZ(e,t,r,c){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array)),this.array[e+0]=ya(t),this.array[e+1]=ya(r),this.array[e+2]=ya(c),this}setXYZW(e,t,r,c,p){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),c=fr(c,this.array),p=fr(p,this.array)),this.array[e+0]=ya(t),this.array[e+1]=ya(r),this.array[e+2]=ya(c),this.array[e+3]=ya(p),this}},u.Float32BufferAttribute=Sr,u.FloatType=ct,u.Fog=Lu,u.FogExp2=Bd,u.FramebufferTexture=class sv extends ve{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=zr,this.minFilter=zr,this.generateMipmaps=!1,this.needsUpdate=!0}},u.FrontSide=0,u.Frustum=cd,u.GLBufferAttribute=class A0{constructor(e,t,r,c,p){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=c,this.count=p,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},u.GLSL1="100",u.GLSL3=Xn,u.GreaterCompare=516,u.GreaterDepth=6,u.GreaterEqualCompare=518,u.GreaterEqualDepth=5,u.GreaterEqualStencilFunc=518,u.GreaterStencilFunc=516,u.GridHelper=class og extends Ic{constructor(e=10,t=10,r=4473924,c=8947848){r=new Mt(r),c=new Mt(c);const p=t/2,b=e/t,x=e/2,A=[],I=[];for(let Z=0,ie=0,ae=-x;Z<=t;Z++,ae+=b){A.push(-x,0,ae,x,0,ae),A.push(ae,0,-x,ae,0,x);const ye=Z===p?r:c;ye.toArray(I,ie),ie+=3,ye.toArray(I,ie),ie+=3,ye.toArray(I,ie),ie+=3,ye.toArray(I,ie),ie+=3}const H=new Do;H.setAttribute("position",new Sr(A,3)),H.setAttribute("color",new Sr(I,3)),super(H,new jl({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},u.Group=Pc,u.HalfFloatType=Wt,u.HemisphereLight=jm,u.HemisphereLightHelper=class kv extends Nn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const c=new Yu(t);c.rotateY(.5*Math.PI),this.material=new ps({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const p=c.getAttribute("position"),b=new Float32Array(3*p.count);c.setAttribute("color",new eo(b,3)),this.add(new _l(c,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Np.copy(this.light.color),Lv.copy(this.light.groundColor);for(let r=0,c=t.count;r<c;r++){const p=r<c/2?Np:Lv;t.setXYZ(r,p.r,p.g,p.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Nv.setFromMatrixPosition(this.light.matrixWorld).negate())}},u.IcosahedronGeometry=nh,u.ImageBitmapLoader=class M0 extends bc{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,c){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const p=this,b=Su.get(e);if(void 0!==b)return p.manager.itemStart(e),b.then?void b.then(I=>{t&&t(I),p.manager.itemEnd(e)}).catch(I=>{c&&c(I)}):(setTimeout(function(){t&&t(b),p.manager.itemEnd(e)},0),b);const x={};x.credentials="anonymous"===this.crossOrigin?"same-origin":"include",x.headers=this.requestHeader;const A=fetch(e,x).then(function(I){return I.blob()}).then(function(I){return createImageBitmap(I,Object.assign(p.options,{colorSpaceConversion:"none"}))}).then(function(I){return Su.add(e,I),t&&t(I),p.manager.itemEnd(e),I}).catch(function(I){c&&c(I),Su.remove(e),p.manager.itemError(e),p.manager.itemEnd(e)});Su.add(e,A),p.manager.itemStart(e)}},u.ImageLoader=Wc,u.ImageUtils=ml,u.IncrementStencilOp=7682,u.IncrementWrapStencilOp=34055,u.InstancedBufferAttribute=zl,u.InstancedBufferGeometry=$m,u.InstancedInterleavedBuffer=class eg extends bl{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},u.InstancedMesh=Kg,u.Int16BufferAttribute=class Bg extends eo{constructor(e,t,r){super(new Int16Array(e),t,r)}},u.Int32BufferAttribute=class Vg extends eo{constructor(e,t,r){super(new Int32Array(e),t,r)}},u.Int8BufferAttribute=class kg extends eo{constructor(e,t,r){super(new Int8Array(e),t,r)}},u.IntType=Bt,u.InterleavedBuffer=bl,u.InterleavedBufferAttribute=kc,u.Interpolant=af,u.InterpolateDiscrete=Nr,u.InterpolateLinear=2301,u.InterpolateSmooth=2302,u.InvertStencilOp=5386,u.KeepStencilOp=po,u.KeyframeTrack=Ul,u.LOD=Uu,u.LatheGeometry=pd,u.Layers=Ke,u.LessCompare=513,u.LessDepth=2,u.LessEqualCompare=515,u.LessEqualDepth=3,u.LessEqualStencilFunc=515,u.LessStencilFunc=513,u.Light=au,u.LightProbe=xp,u.Line=zc,u.Line3=class gh{constructor(e=new Je,t=new Je){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){tg.subVectors(e,this.start),Dd.subVectors(this.end,this.start);const r=Dd.dot(Dd);let p=Dd.dot(tg)/r;return t&&(p=re(p,0,1)),p}closestPointToPoint(e,t,r){const c=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(c).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},u.LineBasicMaterial=jl,u.LineCurve=qh,u.LineCurve3=dv,u.LineDashedMaterial=sf,u.LineLoop=Mm,u.LineSegments=Ic,u.LinearFilter=_i,u.LinearInterpolant=pc,u.LinearMipMapLinearFilter=1008,u.LinearMipMapNearestFilter=1007,u.LinearMipmapLinearFilter=io,u.LinearMipmapNearestFilter=ki,u.LinearSRGBColorSpace=ma,u.LinearToneMapping=It,u.LinearTransfer=Lr,u.Loader=bc,u.LoaderUtils=ch,u.LoadingManager=Bm,u.LoopOnce=2200,u.LoopPingPong=2202,u.LoopRepeat=2201,u.LuminanceAlphaFormat=ko,u.LuminanceFormat=ha,u.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},u.Material=ir,u.MaterialLoader=Cp,u.MathUtils=za,u.Matrix2=Rp,u.Matrix3=Ji,u.Matrix4=Bi,u.MaxEquation=104,u.Mesh=_l,u.MeshBasicMaterial=ps,u.MeshDepthMaterial=Oc,u.MeshDistanceMaterial=Ku,u.MeshLambertMaterial=oh,u.MeshMatcapMaterial=km,u.MeshNormalMaterial=bv,u.MeshPhongMaterial=_v,u.MeshPhysicalMaterial=yv,u.MeshStandardMaterial=ru,u.MeshToonMaterial=yd,u.MinEquation=103,u.MirroredRepeatWrapping=xo,u.MixOperation=dt,u.MultiplyBlending=4,u.MultiplyOperation=Lo,u.NearestFilter=zr,u.NearestMipMapLinearFilter=1005,u.NearestMipMapNearestFilter=1004,u.NearestMipmapLinearFilter=Zo,u.NearestMipmapNearestFilter=1004,u.NeutralToneMapping=Rn,u.NeverCompare=512,u.NeverDepth=0,u.NeverStencilFunc=512,u.NoBlending=0,u.NoColorSpace="",u.NoToneMapping=Dt,u.NormalAnimationBlendMode=2500,u.NormalBlending=1,u.NotEqualCompare=517,u.NotEqualDepth=7,u.NotEqualStencilFunc=517,u.NumberKeyframeTrack=gp,u.Object3D=Nn,u.ObjectLoader=class Md extends bc{constructor(e){super(e)}load(e,t,r,c){const p=this,b=""===this.path?ch.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||b;const x=new su(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(e,function(A){let I=null;try{I=JSON.parse(A)}catch(Y){return void 0!==c&&c(Y),void console.error("THREE:ObjectLoader: Can't parse "+e+".",Y.message)}const H=I.metadata;if(void 0===H||void 0===H.type||"geometry"===H.type.toLowerCase())return void 0!==c&&c(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);p.parse(I,t)},r,c)}loadAsync(e,t){var r=this;return M(function*(){const c=r,p=""===r.path?ch.extractUrlBase(e):r.path;r.resourcePath=r.resourcePath||p;const b=new su(r.manager);b.setPath(r.path),b.setRequestHeader(r.requestHeader),b.setWithCredentials(r.withCredentials);const x=yield b.loadAsync(e,t),A=JSON.parse(x),I=A.metadata;if(void 0===I||void 0===I.type||"geometry"===I.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return yield c.parseAsync(A)})()}parse(e,t){const r=this.parseAnimations(e.animations),c=this.parseShapes(e.shapes),p=this.parseGeometries(e.geometries,c),b=this.parseImages(e.images,function(){void 0!==t&&t(I)}),x=this.parseTextures(e.textures,b),A=this.parseMaterials(e.materials,x),I=this.parseObject(e.object,p,A,x,r),H=this.parseSkeletons(e.skeletons,I);if(this.bindSkeletons(I,H),this.bindLightTargets(I),void 0!==t){let Y=!1;for(const Z in b)if(b[Z].data instanceof HTMLImageElement){Y=!0;break}!1===Y&&t(I)}return I}parseAsync(e){var t=this;return M(function*(){const r=t.parseAnimations(e.animations),c=t.parseShapes(e.shapes),p=t.parseGeometries(e.geometries,c),b=yield t.parseImagesAsync(e.images),x=t.parseTextures(e.textures,b),A=t.parseMaterials(e.materials,x),I=t.parseObject(e.object,p,A,x,r),H=t.parseSkeletons(e.skeletons,I);return t.bindSkeletons(I,H),t.bindLightTargets(I),I})()}parseShapes(e){const t={};if(void 0!==e)for(let r=0,c=e.length;r<c;r++){const p=(new iu).fromJSON(e[r]);t[p.uuid]=p}return t}parseSkeletons(e,t){const r={},c={};if(t.traverse(function(p){p.isBone&&(c[p.uuid]=p)}),void 0!==e)for(let p=0,b=e.length;p<b;p++){const x=(new hm).fromJSON(e[p],c);r[x.uuid]=x}return r}parseGeometries(e,t){const r={};if(void 0!==e){const c=new Xm;for(let p=0,b=e.length;p<b;p++){let x;const A=e[p];switch(A.type){case"BufferGeometry":case"InstancedBufferGeometry":x=c.parse(A);break;default:A.type in Fm?x=Fm[A.type].fromJSON(A,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${A.type}"`)}x.uuid=A.uuid,void 0!==A.name&&(x.name=A.name),void 0!==A.userData&&(x.userData=A.userData),r[A.uuid]=x}}return r}parseMaterials(e,t){const r={},c={};if(void 0!==e){const p=new Cp;p.setTextures(t);for(let b=0,x=e.length;b<x;b++){const A=e[b];void 0===r[A.uuid]&&(r[A.uuid]=p.parse(A)),c[A.uuid]=r[A.uuid]}}return c}parseAnimations(e){const t={};if(void 0!==e)for(let r=0;r<e.length;r++){const p=cf.parse(e[r]);t[p.uuid]=p}return t}parseImages(e,t){const r=this,c={};let p;function x(A){if("string"==typeof A){const I=A;return function b(A){return r.manager.itemStart(A),p.load(A,function(){r.manager.itemEnd(A)},void 0,function(){r.manager.itemError(A),r.manager.itemEnd(A)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(I)?I:r.resourcePath+I)}return A.data?{data:fs(A.type,A.data),width:A.width,height:A.height}:null}if(void 0!==e&&e.length>0){const A=new Bm(t);p=new Wc(A),p.setCrossOrigin(this.crossOrigin);for(let I=0,H=e.length;I<H;I++){const Y=e[I],Z=Y.url;if(Array.isArray(Z)){const ie=[];for(let ae=0,ye=Z.length;ae<ye;ae++){const oe=x(Z[ae]);null!==oe&&(oe instanceof HTMLImageElement?ie.push(oe):ie.push(new Qc(oe.data,oe.width,oe.height)))}c[Y.uuid]=new $(ie)}else{const ie=x(Y.url);c[Y.uuid]=new $(ie)}}}return c}parseImagesAsync(e){var t=this;return M(function*(){const r=t,c={};let p;function b(A){return x.apply(this,arguments)}function x(){return(x=M(function*(A){if("string"==typeof A){const I=A,H=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(I)?I:r.resourcePath+I;return yield p.loadAsync(H)}return A.data?{data:fs(A.type,A.data),width:A.width,height:A.height}:null})).apply(this,arguments)}if(void 0!==e&&e.length>0){p=new Wc(t.manager),p.setCrossOrigin(t.crossOrigin);for(let A=0,I=e.length;A<I;A++){const H=e[A],Y=H.url;if(Array.isArray(Y)){const Z=[];for(let ie=0,ae=Y.length;ie<ae;ie++){const ye=Y[ie],le=yield b(ye);null!==le&&(le instanceof HTMLImageElement?Z.push(le):Z.push(new Qc(le.data,le.width,le.height)))}c[H.uuid]=new $(Z)}else{const Z=yield b(H.url);c[H.uuid]=new $(Z)}}}return c})()}parseTextures(e,t){function r(p,b){return"number"==typeof p?p:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",p),b[p])}const c={};if(void 0!==e)for(let p=0,b=e.length;p<b;p++){const x=e[p];void 0===x.image&&console.warn('THREE.ObjectLoader: No "image" specified for',x.uuid),void 0===t[x.image]&&console.warn("THREE.ObjectLoader: Undefined image",x.image);const A=t[x.image],I=A.data;let H;Array.isArray(I)?(H=new kd,6===I.length&&(H.needsUpdate=!0)):(H=I&&I.data?new Qc:new ve,I&&(H.needsUpdate=!0)),H.source=A,H.uuid=x.uuid,void 0!==x.name&&(H.name=x.name),void 0!==x.mapping&&(H.mapping=r(x.mapping,df)),void 0!==x.channel&&(H.channel=x.channel),void 0!==x.offset&&H.offset.fromArray(x.offset),void 0!==x.repeat&&H.repeat.fromArray(x.repeat),void 0!==x.center&&H.center.fromArray(x.center),void 0!==x.rotation&&(H.rotation=x.rotation),void 0!==x.wrap&&(H.wrapS=r(x.wrap[0],uh),H.wrapT=r(x.wrap[1],uh)),void 0!==x.format&&(H.format=x.format),void 0!==x.internalFormat&&(H.internalFormat=x.internalFormat),void 0!==x.type&&(H.type=x.type),void 0!==x.colorSpace&&(H.colorSpace=x.colorSpace),void 0!==x.minFilter&&(H.minFilter=r(x.minFilter,dh)),void 0!==x.magFilter&&(H.magFilter=r(x.magFilter,dh)),void 0!==x.anisotropy&&(H.anisotropy=x.anisotropy),void 0!==x.flipY&&(H.flipY=x.flipY),void 0!==x.generateMipmaps&&(H.generateMipmaps=x.generateMipmaps),void 0!==x.premultiplyAlpha&&(H.premultiplyAlpha=x.premultiplyAlpha),void 0!==x.unpackAlignment&&(H.unpackAlignment=x.unpackAlignment),void 0!==x.compareFunction&&(H.compareFunction=x.compareFunction),void 0!==x.userData&&(H.userData=x.userData),c[x.uuid]=H}return c}parseObject(e,t,r,c,p){let b,H,Y;function x(Z){return void 0===t[Z]&&console.warn("THREE.ObjectLoader: Undefined geometry",Z),t[Z]}function A(Z){if(void 0!==Z){if(Array.isArray(Z)){const ie=[];for(let ae=0,ye=Z.length;ae<ye;ae++){const le=Z[ae];void 0===r[le]&&console.warn("THREE.ObjectLoader: Undefined material",le),ie.push(r[le])}return ie}return void 0===r[Z]&&console.warn("THREE.ObjectLoader: Undefined material",Z),r[Z]}}function I(Z){return void 0===c[Z]&&console.warn("THREE.ObjectLoader: Undefined texture",Z),c[Z]}switch(e.type){case"Scene":b=new Wg,void 0!==e.background&&(b.background=Number.isInteger(e.background)?new Mt(e.background):I(e.background)),void 0!==e.environment&&(b.environment=I(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?b.fog=new Lu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(b.fog=new Bd(e.fog.color,e.fog.density)),""!==e.fog.name&&(b.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(b.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(b.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&b.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(b.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&b.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":b=new Vl(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(b.focus=e.focus),void 0!==e.zoom&&(b.zoom=e.zoom),void 0!==e.filmGauge&&(b.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(b.filmOffset=e.filmOffset),void 0!==e.view&&(b.view=Object.assign({},e.view));break;case"OrthographicCamera":b=new uf(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(b.zoom=e.zoom),void 0!==e.view&&(b.view=Object.assign({},e.view));break;case"AmbientLight":b=new Wm(e.color,e.intensity);break;case"DirectionalLight":b=new Gm(e.color,e.intensity),b.target=e.target||"";break;case"PointLight":b=new Sp(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":b=new lh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":b=new _0(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),b.target=e.target||"";break;case"HemisphereLight":b=new jm(e.color,e.groundColor,e.intensity);break;case"LightProbe":b=(new xp).fromJSON(e);break;case"SkinnedMesh":H=x(e.geometry),Y=A(e.material),b=new kf(H,Y),void 0!==e.bindMode&&(b.bindMode=e.bindMode),void 0!==e.bindMatrix&&b.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(b.skeleton=e.skeleton);break;case"Mesh":H=x(e.geometry),Y=A(e.material),b=new _l(H,Y);break;case"InstancedMesh":H=x(e.geometry),Y=A(e.material);const ie=e.instanceMatrix,ae=e.instanceColor;b=new Kg(H,Y,e.count),b.instanceMatrix=new zl(new Float32Array(ie.array),16),void 0!==ae&&(b.instanceColor=new zl(new Float32Array(ae.array),ae.itemSize));break;case"BatchedMesh":H=x(e.geometry),Y=A(e.material),b=new nv(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,Y),b.geometry=H,b.perObjectFrustumCulled=e.perObjectFrustumCulled,b.sortObjects=e.sortObjects,b._drawRanges=e.drawRanges,b._reservedRanges=e.reservedRanges,b._visibility=e.visibility,b._active=e.active,b._bounds=e.bounds.map(ye=>{const le=new Xo;le.min.fromArray(ye.boxMin),le.max.fromArray(ye.boxMax);const oe=new lo;return oe.radius=ye.sphereRadius,oe.center.fromArray(ye.sphereCenter),{boxInitialized:ye.boxInitialized,box:le,sphereInitialized:ye.sphereInitialized,sphere:oe}}),b._maxInstanceCount=e.maxInstanceCount,b._maxVertexCount=e.maxVertexCount,b._maxIndexCount=e.maxIndexCount,b._geometryInitialized=e.geometryInitialized,b._geometryCount=e.geometryCount,b._matricesTexture=I(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(b._colorsTexture=I(e.colorsTexture.uuid));break;case"LOD":b=new Uu;break;case"Line":b=new zc(x(e.geometry),A(e.material));break;case"LineLoop":b=new Mm(x(e.geometry),A(e.material));break;case"LineSegments":b=new Ic(x(e.geometry),A(e.material));break;case"PointCloud":case"Points":b=new Gf(x(e.geometry),A(e.material));break;case"Sprite":b=new $g(A(e.material));break;case"Group":b=new Pc;break;case"Bone":b=new yu;break;default:b=new Nn}if(b.uuid=e.uuid,void 0!==e.name&&(b.name=e.name),void 0!==e.matrix?(b.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(b.matrixAutoUpdate=e.matrixAutoUpdate),b.matrixAutoUpdate&&b.matrix.decompose(b.position,b.quaternion,b.scale)):(void 0!==e.position&&b.position.fromArray(e.position),void 0!==e.rotation&&b.rotation.fromArray(e.rotation),void 0!==e.quaternion&&b.quaternion.fromArray(e.quaternion),void 0!==e.scale&&b.scale.fromArray(e.scale)),void 0!==e.up&&b.up.fromArray(e.up),void 0!==e.castShadow&&(b.castShadow=e.castShadow),void 0!==e.receiveShadow&&(b.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(b.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(b.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(b.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(b.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&b.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(b.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(b.visible=e.visible),void 0!==e.frustumCulled&&(b.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(b.renderOrder=e.renderOrder),void 0!==e.userData&&(b.userData=e.userData),void 0!==e.layers&&(b.layers.mask=e.layers),void 0!==e.children){const Z=e.children;for(let ie=0;ie<Z.length;ie++)b.add(this.parseObject(Z[ie],t,r,c,p))}if(void 0!==e.animations){const Z=e.animations;for(let ie=0;ie<Z.length;ie++)b.animations.push(p[Z[ie]])}if("LOD"===e.type){void 0!==e.autoUpdate&&(b.autoUpdate=e.autoUpdate);const Z=e.levels;for(let ie=0;ie<Z.length;ie++){const ae=Z[ie],ye=b.getObjectByProperty("uuid",ae.object);void 0!==ye&&b.addLevel(ye,ae.distance,ae.hysteresis)}}return b}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(r){if(!0===r.isSkinnedMesh&&void 0!==r.skeleton){const c=t[r.skeleton];void 0===c?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(c,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const c=e.getObjectByProperty("uuid",t.target);t.target=void 0!==c?c:new Nn}})}},u.ObjectSpaceNormalMap=1,u.OctahedronGeometry=Yu,u.OneFactor=201,u.OneMinusConstantAlphaFactor=214,u.OneMinusConstantColorFactor=212,u.OneMinusDstAlphaFactor=207,u.OneMinusDstColorFactor=209,u.OneMinusSrcAlphaFactor=205,u.OneMinusSrcColorFactor=203,u.OrthographicCamera=uf,u.PCFShadowMap=F,u.PCFSoftShadowMap=B,u.PMREMGenerator=rc,u.Path=nu,u.PerspectiveCamera=Vl,u.Plane=Vc,u.PlaneGeometry=Zu,u.PlaneHelper=class Vv extends zc{constructor(e,t=1,r=16776960){const c=r,b=new Do;b.setAttribute("position",new Sr([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),b.computeBoundingSphere(),super(b,new jl({color:c,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const A=new Do;A.setAttribute("position",new Sr([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),A.computeBoundingSphere(),this.add(new _l(A,new ps({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},u.PointLight=Sp,u.PointLightHelper=class rg extends _l{constructor(e,t,r){super(new vd(t,4,2),new ps({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},u.Points=Gf,u.PointsMaterial=Sm,u.PolarGridHelper=class Uv extends Ic{constructor(e=10,t=16,r=8,c=64,p=4473924,b=8947848){p=new Mt(p),b=new Mt(b);const x=[],A=[];if(t>1)for(let Y=0;Y<t;Y++){const Z=Y/t*(2*Math.PI),ie=Math.sin(Z)*e,ae=Math.cos(Z)*e;x.push(0,0,0),x.push(ie,0,ae);const ye=1&Y?p:b;A.push(ye.r,ye.g,ye.b),A.push(ye.r,ye.g,ye.b)}for(let Y=0;Y<r;Y++){const Z=1&Y?p:b,ie=e-e/r*Y;for(let ae=0;ae<c;ae++){let ye=ae/c*(2*Math.PI),le=Math.sin(ye)*ie,oe=Math.cos(ye)*ie;x.push(le,0,oe),A.push(Z.r,Z.g,Z.b),ye=(ae+1)/c*(2*Math.PI),le=Math.sin(ye)*ie,oe=Math.cos(ye)*ie,x.push(le,0,oe),A.push(Z.r,Z.g,Z.b)}}const I=new Do;I.setAttribute("position",new Sr(x,3)),I.setAttribute("color",new Sr(A,3)),super(I,new jl({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},u.PolyhedronGeometry=_u,u.PositionalAudio=class fh extends Zm{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Cu,Ed,C0),wd.set(0,0,1).applyQuaternion(Ed);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Cu.x,r),t.positionY.linearRampToValueAtTime(Cu.y,r),t.positionZ.linearRampToValueAtTime(Cu.z,r),t.orientationX.linearRampToValueAtTime(wd.x,r),t.orientationY.linearRampToValueAtTime(wd.y,r),t.orientationZ.linearRampToValueAtTime(wd.z,r)}else t.setPosition(Cu.x,Cu.y,Cu.z),t.setOrientation(wd.x,wd.y,wd.z)}},u.PropertyBinding=Pa,u.PropertyMixer=wp,u.QuadraticBezierCurve=ep,u.QuadraticBezierCurve3=tp,u.Quaternion=Ui,u.QuaternionKeyframeTrack=vp,u.QuaternionLinearInterpolant=m0,u.RED_GREEN_RGTC2_Format=fl,u.RED_RGTC1_Format=El,u.REVISION=K,u.RGBADepthPacking=3201,u.RGBAFormat=Zi,u.RGBAIntegerFormat=Fn,u.RGBA_ASTC_10x10_Format=ks,u.RGBA_ASTC_10x5_Format=pa,u.RGBA_ASTC_10x6_Format=Uo,u.RGBA_ASTC_10x8_Format=tl,u.RGBA_ASTC_12x10_Format=er,u.RGBA_ASTC_12x12_Format=Ko,u.RGBA_ASTC_4x4_Format=Rs,u.RGBA_ASTC_5x4_Format=Di,u.RGBA_ASTC_5x5_Format=ts,u.RGBA_ASTC_6x5_Format=Ba,u.RGBA_ASTC_6x6_Format=Qs,u.RGBA_ASTC_8x5_Format=ss,u.RGBA_ASTC_8x6_Format=aa,u.RGBA_ASTC_8x8_Format=vs,u.RGBA_BPTC_Format=Io,u.RGBA_ETC2_EAC_Format=Ts,u.RGBA_PVRTC_2BPPV1_Format=us,u.RGBA_PVRTC_4BPPV1_Format=pr,u.RGBA_S3TC_DXT1_Format=fi,u.RGBA_S3TC_DXT3_Format=Mr,u.RGBA_S3TC_DXT5_Format=ho,u.RGBDepthPacking=3202,u.RGBFormat=cs,u.RGBIntegerFormat=1032,u.RGB_BPTC_SIGNED_Format=Il,u.RGB_BPTC_UNSIGNED_Format=dl,u.RGB_ETC1_Format=Ki,u.RGB_ETC2_Format=Ir,u.RGB_PVRTC_2BPPV1_Format=Wr,u.RGB_PVRTC_4BPPV1_Format=Zr,u.RGB_S3TC_DXT1_Format=Ri,u.RGDepthPacking=3203,u.RGFormat=Pt,u.RGIntegerFormat=vn,u.RawShaderMaterial=Lm,u.Ray=da,u.Raycaster=class $_{constructor(e,t,r=0,c=1/0){this.ray=new da(e,t),this.near=r,this.far=c,this.camera=null,this.layers=new Ke,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Fv.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Fv),this}intersectObject(e,t=!0,r=[]){return gf(e,this,r,t),r.sort(D0),r}intersectObjects(e,t=!0,r=[]){for(let c=0,p=e.length;c<p;c++)gf(e[c],this,r,t);return r.sort(D0),r}},u.RectAreaLight=lh,u.RedFormat=ut,u.RedIntegerFormat=nt,u.ReinhardToneMapping=cn,u.RenderTarget=Xt,u.RenderTarget3D=class Ov extends Xt{constructor(e=1,t=1,r=1,c={}){super(e,t,c),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Co(null,e,t,r),this.texture.isRenderTargetTexture=!0}},u.RenderTargetArray=class Rv extends Xt{constructor(e=1,t=1,r=1,c={}){super(e,t,c),this.isRenderTargetArray=!0,this.depth=r,this.texture=new Mi(null,e,t,r),this.texture.isRenderTargetTexture=!0}},u.RepeatWrapping=oo,u.ReplaceStencilOp=7681,u.ReverseSubtractEquation=102,u.RingGeometry=bu,u.SIGNED_RED_GREEN_RGTC2_Format=nl,u.SIGNED_RED_RGTC1_Format=Us,u.SRGBColorSpace=Ws,u.SRGBTransfer=Sn,u.Scene=Wg,u.ShaderChunk=bo,u.ShaderLib=Tu,u.ShaderMaterial=nc,u.ShadowMaterial=Nm,u.Shape=iu,u.ShapeGeometry=dp,u.ShapePath=class lg{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new nu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,c){return this.currentPath.quadraticCurveTo(e,t,r,c),this}bezierCurveTo(e,t,r,c,p,b){return this.currentPath.bezierCurveTo(e,t,r,c,p,b),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function r(oe,Pe){const Te=Pe.length;let we=!1;for(let pt=Te-1,st=0;st<Te;pt=st++){let ft=Pe[pt],yt=Pe[st],He=yt.x-ft.x,ke=yt.y-ft.y;if(Math.abs(ke)>Number.EPSILON){if(ke<0&&(ft=Pe[st],He=-He,yt=Pe[pt],ke=-ke),oe.y<ft.y||oe.y>yt.y)continue;if(oe.y===ft.y){if(oe.x===ft.x)return!0}else{const Ct=ke*(oe.x-ft.x)-He*(oe.y-ft.y);if(0===Ct)return!0;if(Ct<0)continue;we=!we}}else{if(oe.y!==ft.y)continue;if(yt.x<=oe.x&&oe.x<=ft.x||ft.x<=oe.x&&oe.x<=yt.x)return!0}}return we}const c=_c.isClockWise,p=this.subPaths;if(0===p.length)return[];let b,x,A;const I=[];if(1===p.length)return x=p[0],A=new iu,A.curves=x.curves,I.push(A),I;let H=!c(p[0].getPoints());H=e?!H:H;const Y=[],Z=[];let ye,le,ie=[],ae=0;Z[ae]=void 0,ie[ae]=[];for(let oe=0,Pe=p.length;oe<Pe;oe++)x=p[oe],ye=x.getPoints(),b=c(ye),b=e?!b:b,b?(!H&&Z[ae]&&ae++,Z[ae]={s:new iu,p:ye},Z[ae].s.curves=x.curves,H&&ae++,ie[ae]=[]):ie[ae].push({h:x,p:ye[0]});if(!Z[0])return function t(oe){const Pe=[];for(let Te=0,we=oe.length;Te<we;Te++){const pt=oe[Te],st=new iu;st.curves=pt.curves,Pe.push(st)}return Pe}(p);if(Z.length>1){let oe=!1,Pe=0;for(let Te=0,we=Z.length;Te<we;Te++)Y[Te]=[];for(let Te=0,we=Z.length;Te<we;Te++){const pt=ie[Te];for(let st=0;st<pt.length;st++){const ft=pt[st];let yt=!0;for(let He=0;He<Z.length;He++)r(ft.p,Z[He].p)&&(Te!==He&&Pe++,yt?(yt=!1,Y[He].push(ft)):oe=!0);yt&&Y[Te].push(ft)}}Pe>0&&!1===oe&&(ie=Y)}for(let oe=0,Pe=Z.length;oe<Pe;oe++){A=Z[oe].s,I.push(A),le=ie[oe];for(let Te=0,we=le.length;Te<we;Te++)A.holes.push(le[Te].h)}return I}},u.ShapeUtils=_c,u.ShortType=Ls,u.Skeleton=hm,u.SkeletonHelper=class vf extends Ic{constructor(e){const t=yf(e),r=new Do,c=[],p=[],b=new Mt(0,0,1),x=new Mt(0,1,0);for(let I=0;I<t.length;I++){const H=t[I];H.parent&&H.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),p.push(b.r,b.g,b.b),p.push(x.r,x.g,x.b))}r.setAttribute("position",new Sr(c,3)),r.setAttribute("color",new Sr(p,3)),super(r,new jl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,c=r.getAttribute("position");ig.copy(this.root.matrixWorld).invert();for(let p=0,b=0;p<t.length;p++){const x=t[p];x.parent&&x.parent.isBone&&(wu.multiplyMatrices(ig,x.matrixWorld),Eu.setFromMatrixPosition(wu),c.setXYZ(b,Eu.x,Eu.y,Eu.z),wu.multiplyMatrices(ig,x.parent.matrixWorld),Eu.setFromMatrixPosition(wu),c.setXYZ(b+1,Eu.x,Eu.y,Eu.z),b+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},u.SkinnedMesh=kf,u.Source=$,u.Sphere=lo,u.SphereGeometry=vd,u.Spherical=class Op{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=re(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(re(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},u.SphericalHarmonics3=b0,u.SplineCurve=np,u.SpotLight=_0,u.SpotLightHelper=class X_ extends Nn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Do,c=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let b=0,x=1,A=32;b<A;b++,x++){const I=b/A*Math.PI*2,H=x/A*Math.PI*2;c.push(Math.cos(I),Math.sin(I),1,Math.cos(H),Math.sin(H),1)}r.setAttribute("position",new Sr(c,3));const p=new jl({fog:!1,toneMapped:!1});this.cone=new Ic(r,p),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ng.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ng),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},u.Sprite=$g,u.SpriteMaterial=Vd,u.SrcAlphaFactor=204,u.SrcAlphaSaturateFactor=210,u.SrcColorFactor=202,u.StaticCopyUsage=35046,u.StaticDrawUsage=Yl,u.StaticReadUsage=35045,u.StereoCamera=class S0{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vl,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vl,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Sd.copy(e.projectionMatrix);const c=t.eyeSep/2,p=c*t.near/t.focus,b=t.near*Math.tan(Qo*t.fov*.5)/t.zoom;let x,A;Ep.elements[12]=-c,uu.elements[12]=c,x=-b*t.aspect+p,A=b*t.aspect+p,Sd.elements[0]=2*t.near/(A-x),Sd.elements[8]=(A+x)/(A-x),this.cameraL.projectionMatrix.copy(Sd),x=-b*t.aspect-p,A=b*t.aspect-p,Sd.elements[0]=2*t.near/(A-x),Sd.elements[8]=(A+x)/(A-x),this.cameraR.projectionMatrix.copy(Sd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ep),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uu)}},u.StreamCopyUsage=35042,u.StreamDrawUsage=35040,u.StreamReadUsage=35041,u.StringKeyframeTrack=Gc,u.SubtractEquation=101,u.SubtractiveBlending=3,u.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},u.TangentSpaceNormalMap=0,u.TetrahedronGeometry=ih,u.Texture=ve,u.TextureLoader=class zm extends bc{constructor(e){super(e)}load(e,t,r,c){const p=new ve,b=new Wc(this.manager);return b.setCrossOrigin(this.crossOrigin),b.setPath(this.path),b.load(e,function(x){p.image=x,p.needsUpdate=!0,void 0!==t&&t(p)},r,c),p}},u.TextureUtils=class du{static contain(e,t){return function _h(m,e){const t=m.image&&m.image.width?m.image.width/m.image.height:1;return t>e?(m.repeat.x=1,m.repeat.y=t/e,m.offset.x=0,m.offset.y=(1-m.repeat.y)/2):(m.repeat.x=e/t,m.repeat.y=1,m.offset.x=(1-m.repeat.x)/2,m.offset.y=0),m}(e,t)}static cover(e,t){return function R0(m,e){const t=m.image&&m.image.width?m.image.width/m.image.height:1;return t>e?(m.repeat.x=e/t,m.repeat.y=1,m.offset.x=(1-m.repeat.x)/2,m.offset.y=0):(m.repeat.x=1,m.repeat.y=t/e,m.offset.x=0,m.offset.y=(1-m.repeat.y)/2),m}(e,t)}static fill(e){return function F0(m){return m.repeat.x=1,m.repeat.y=1,m.offset.x=0,m.offset.y=0,m}(e)}static getByteLength(e,t,r,c){return cg(e,t,r,c)}},u.TimestampQuery={COMPUTE:"compute",RENDER:"render"},u.TorusGeometry=of,u.TorusKnotGeometry=fp,u.Triangle=U,u.TriangleFanDrawMode=2,u.TriangleStripDrawMode=1,u.TrianglesDrawMode=0,u.TubeGeometry=Mu,u.UVMapping=300,u.Uint16BufferAttribute=Df,u.Uint32BufferAttribute=Fd,u.Uint8BufferAttribute=class Ug extends eo{constructor(e,t,r){super(new Uint8Array(e),t,r)}},u.Uint8ClampedBufferAttribute=class sm extends eo{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}},u.Uniform=Qm,u.UniformsGroup=class qm extends pi{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:T0++}),this.name="",this.usage=Yl,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,c=t.length;r<c;r++){const p=Array.isArray(t[r])?t[r]:[t[r]];for(let b=0;b<p.length;b++)this.uniforms.push(p[b].clone())}return this}clone(){return(new this.constructor).copy(this)}},u.UniformsLib=Pi,u.UniformsUtils=Nc,u.UnsignedByteType=Ss,u.UnsignedInt248Type=br,u.UnsignedInt5999Type=jr,u.UnsignedIntType=ze,u.UnsignedShort4444Type=Qn,u.UnsignedShort5551Type=di,u.UnsignedShortType=Gt,u.VSMShadowMap=k,u.Vector2=ln,u.Vector3=Je,u.Vector4=Ue,u.VectorKeyframeTrack=bd,u.VideoFrameTexture=class ov extends Kh{constructor(e,t,r,c,p,b,x,A){super({},e,t,r,c,p,b,x,A),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}},u.VideoTexture=Kh,u.WebGL3DRenderTarget=class mo extends Qt{constructor(e=1,t=1,r=1,c={}){super(e,t,c),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Co(null,e,t,r),this.texture.isRenderTargetTexture=!0}},u.WebGLArrayRenderTarget=class Oo extends Qt{constructor(e=1,t=1,r=1,c={}){super(e,t,c),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Mi(null,e,t,r),this.texture.isRenderTargetTexture=!0}},u.WebGLCoordinateSystem=bi,u.WebGLCubeRenderTarget=Ud,u.WebGLRenderTarget=Qt,u.WebGLRenderer=class O1{constructor(e={}){const{canvas:t=$a(),context:r=null,depth:c=!0,stencil:p=!1,alpha:b=!1,antialias:x=!1,premultipliedAlpha:A=!0,preserveDrawingBuffer:I=!1,powerPreference:H="default",failIfMajorPerformanceCaveat:Y=!1,reverseDepthBuffer:Z=!1}=e;let ie;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ie=r.getContextAttributes().alpha}else ie=b;const ae=new Uint32Array(4),ye=new Int32Array(4);let le=null,oe=null;const Pe=[],Te=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Dt,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const we=this;let pt=!1;this._outputColorSpace=Ws;let st=0,ft=0,yt=null,He=-1,ke=null;const Ct=new Ue,yn=new Ue;let un=null;const wn=new Mt(0);let jn=0,xn=t.width,si=t.height,Cn=1,Ni=null,rr=null;const Tr=new Ue(0,0,xn,si),qo=new Ue(0,0,xn,si);let _a=!1;const Vn=new cd;let gi=!1,Pr=!1;const Li=new Bi,go=new Bi,zs=new Je,fo=new Ue,fa={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ua=!1;function Os(){return null===yt?Cn:1}let Wn,Yn,Ln,Ii,kn,tt,Fe,Zt,Mn,Un,An,xr,yi,cr,Fs,ai,yr,vo,Po,ur,js,ms,ba,Vt,wt=r;function xl(Ye,$t){return t.getContext(Ye,$t)}try{const Ye={alpha:!0,depth:c,stencil:p,antialias:x,premultipliedAlpha:A,preserveDrawingBuffer:I,powerPreference:H,failIfMajorPerformanceCaveat:Y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${K}`),t.addEventListener("webglcontextlost",Hn,!1),t.addEventListener("webglcontextrestored",or,!1),t.addEventListener("webglcontextcreationerror",Gi,!1),null===wt){const $t="webgl2";if(wt=xl($t,Ye),null===wt)throw xl($t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ye){throw console.error("THREE.WebGLRenderer: "+Ye.message),Ye}function Yi(){Wn=new Yp(wt),Wn.init(),ms=new Tb(wt,Wn),Yn=new tb(wt,Wn,e,ms),Ln=new wb(wt,Wn),Yn.reverseDepthBuffer&&Z&&Ln.buffers.depth.setReversed(!0),Ii=new Jp(wt),kn=new O_,tt=new tm(wt,Wn,Ln,kn,Yn,ms,Ii),Fe=new ib(we),Zt=new Xp(we),Mn=new N0(wt),ba=new Qb(wt,Mn),Un=new Zp(wt,Mn,Ii,ba),An=new d_(wt,Un,Mn,Ii),Po=new Qp(wt,Yn,tt),ai=new nb(kn),xr=new Oh(we,Fe,Zt,Wn,Yn,ba,ai),yi=new N_(we,kn),cr=new xM,Fs=new T1(Wn),vo=new Jb(we,Fe,Zt,Ln,An,ie,A),yr=new D1(we,An,Yn),Vt=new Du(wt,Ii,Yn,Ln),ur=new qb(wt,Wn,Ii),js=new Kp(wt,Wn,Ii),Ii.programs=xr.programs,we.capabilities=Yn,we.extensions=Wn,we.properties=kn,we.renderLists=cr,we.shadowMap=yr,we.state=Ln,we.info=Ii}Yi();const Dn=new Db(we,wt);function Hn(Ye){Ye.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),pt=!0}function or(){console.log("THREE.WebGLRenderer: Context Restored."),pt=!1;const Ye=Ii.autoReset,$t=yr.enabled,hn=yr.autoUpdate,pn=yr.needsUpdate,Jt=yr.type;Yi(),Ii.autoReset=Ye,yr.enabled=$t,yr.autoUpdate=hn,yr.needsUpdate=pn,yr.type=Jt}function Gi(Ye){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ye.statusMessage)}function Yo(Ye){const $t=Ye.target;$t.removeEventListener("dispose",Yo),function Hs(Ye){(function Ec(Ye){const $t=kn.get(Ye).programs;void 0!==$t&&($t.forEach(function(hn){xr.releaseProgram(hn)}),Ye.isShaderMaterial&&xr.releaseShaderCache(Ye))})(Ye),kn.remove(Ye)}($t)}function Ia(Ye,$t,hn){!0===Ye.transparent&&2===Ye.side&&!1===Ye.forceSinglePass?(Ye.side=1,Ye.needsUpdate=!0,Ky(Ye,$t,hn),Ye.side=0,Ye.needsUpdate=!0,Ky(Ye,$t,hn),Ye.side=2):Ky(Ye,$t,hn)}this.xr=Dn,this.getContext=function(){return wt},this.getContextAttributes=function(){return wt.getContextAttributes()},this.forceContextLoss=function(){const Ye=Wn.get("WEBGL_lose_context");Ye&&Ye.loseContext()},this.forceContextRestore=function(){const Ye=Wn.get("WEBGL_lose_context");Ye&&Ye.restoreContext()},this.getPixelRatio=function(){return Cn},this.setPixelRatio=function(Ye){void 0!==Ye&&(Cn=Ye,this.setSize(xn,si,!1))},this.getSize=function(Ye){return Ye.set(xn,si)},this.setSize=function(Ye,$t,hn=!0){Dn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(xn=Ye,si=$t,t.width=Math.floor(Ye*Cn),t.height=Math.floor($t*Cn),!0===hn&&(t.style.width=Ye+"px",t.style.height=$t+"px"),this.setViewport(0,0,Ye,$t))},this.getDrawingBufferSize=function(Ye){return Ye.set(xn*Cn,si*Cn).floor()},this.setDrawingBufferSize=function(Ye,$t,hn){xn=Ye,si=$t,Cn=hn,t.width=Math.floor(Ye*hn),t.height=Math.floor($t*hn),this.setViewport(0,0,Ye,$t)},this.getCurrentViewport=function(Ye){return Ye.copy(Ct)},this.getViewport=function(Ye){return Ye.copy(Tr)},this.setViewport=function(Ye,$t,hn,pn){Ye.isVector4?Tr.set(Ye.x,Ye.y,Ye.z,Ye.w):Tr.set(Ye,$t,hn,pn),Ln.viewport(Ct.copy(Tr).multiplyScalar(Cn).round())},this.getScissor=function(Ye){return Ye.copy(qo)},this.setScissor=function(Ye,$t,hn,pn){Ye.isVector4?qo.set(Ye.x,Ye.y,Ye.z,Ye.w):qo.set(Ye,$t,hn,pn),Ln.scissor(yn.copy(qo).multiplyScalar(Cn).round())},this.getScissorTest=function(){return _a},this.setScissorTest=function(Ye){Ln.setScissorTest(_a=Ye)},this.setOpaqueSort=function(Ye){Ni=Ye},this.setTransparentSort=function(Ye){rr=Ye},this.getClearColor=function(Ye){return Ye.copy(vo.getClearColor())},this.setClearColor=function(){vo.setClearColor(...arguments)},this.getClearAlpha=function(){return vo.getClearAlpha()},this.setClearAlpha=function(){vo.setClearAlpha(...arguments)},this.clear=function(Ye=!0,$t=!0,hn=!0){let pn=0;if(Ye){let Jt=!1;if(null!==yt){const ui=yt.texture.format;Jt=ui===Fn||ui===vn||ui===nt}if(Jt){const ui=yt.texture.type,Vi=ui===Ss||ui===ze||ui===Gt||ui===br||ui===Qn||ui===di,Cr=vo.getClearColor(),hr=vo.getClearAlpha(),Go=Cr.r,Vo=Cr.g,Mo=Cr.b;Vi?(ae[0]=Go,ae[1]=Vo,ae[2]=Mo,ae[3]=hr,wt.clearBufferuiv(wt.COLOR,0,ae)):(ye[0]=Go,ye[1]=Vo,ye[2]=Mo,ye[3]=hr,wt.clearBufferiv(wt.COLOR,0,ye))}else pn|=wt.COLOR_BUFFER_BIT}$t&&(pn|=wt.DEPTH_BUFFER_BIT),hn&&(pn|=wt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),wt.clear(pn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Hn,!1),t.removeEventListener("webglcontextrestored",or,!1),t.removeEventListener("webglcontextcreationerror",Gi,!1),vo.dispose(),cr.dispose(),Fs.dispose(),kn.dispose(),Fe.dispose(),Zt.dispose(),An.dispose(),ba.dispose(),Vt.dispose(),xr.dispose(),Dn.dispose(),Dn.removeEventListener("sessionstart",L_),Dn.removeEventListener("sessionend",k_),Tf.stop()},this.renderBufferDirect=function(Ye,$t,hn,pn,Jt,ui){null===$t&&($t=fa);const Vi=Jt.isMesh&&Jt.matrixWorld.determinant()<0,Cr=function Jy(Ye,$t,hn,pn,Jt){!0!==$t.isScene&&($t=fa),tt.resetTextureUnits();const ui=$t.fog,Cr=null===yt?we.outputColorSpace:!0===yt.isXRRenderTarget?yt.texture.colorSpace:ma,hr=(pn.isMeshStandardMaterial?Zt:Fe).get(pn.envMap||(pn.isMeshStandardMaterial?$t.environment:null)),Go=!0===pn.vertexColors&&!!hn.attributes.color&&4===hn.attributes.color.itemSize,Vo=!!hn.attributes.tangent&&(!!pn.normalMap||pn.anisotropy>0),Mo=!!hn.morphAttributes.position,Js=!!hn.morphAttributes.normal,ja=!!hn.morphAttributes.color;let Pl=Dt;pn.toneMapped&&(null===yt||!0===yt.isXRRenderTarget)&&(Pl=we.toneMapping);const Cl=hn.morphAttributes.position||hn.morphAttributes.normal||hn.morphAttributes.color,Gs=void 0!==Cl?Cl.length:0,yo=kn.get(pn),dc=oe.state.lights;!0!==gi||!0!==Pr&&Ye===ke||ai.setState(pn,Ye,Ye===ke&&pn.id===He);let Ma=!1;pn.version===yo.__version?(yo.needsLights&&yo.lightsStateVersion!==dc.state.version||yo.outputColorSpace!==Cr||Jt.isBatchedMesh&&!1===yo.batching||!Jt.isBatchedMesh&&!0===yo.batching||Jt.isBatchedMesh&&!0===yo.batchingColor&&null===Jt.colorTexture||Jt.isBatchedMesh&&!1===yo.batchingColor&&null!==Jt.colorTexture||Jt.isInstancedMesh&&!1===yo.instancing||!Jt.isInstancedMesh&&!0===yo.instancing||Jt.isSkinnedMesh&&!1===yo.skinning||!Jt.isSkinnedMesh&&!0===yo.skinning||Jt.isInstancedMesh&&!0===yo.instancingColor&&null===Jt.instanceColor||Jt.isInstancedMesh&&!1===yo.instancingColor&&null!==Jt.instanceColor||Jt.isInstancedMesh&&!0===yo.instancingMorph&&null===Jt.morphTexture||Jt.isInstancedMesh&&!1===yo.instancingMorph&&null!==Jt.morphTexture||yo.envMap!==hr||!0===pn.fog&&yo.fog!==ui||void 0!==yo.numClippingPlanes&&(yo.numClippingPlanes!==ai.numPlanes||yo.numIntersection!==ai.numIntersection)||yo.vertexAlphas!==Go||yo.vertexTangents!==Vo||yo.morphTargets!==Mo||yo.morphNormals!==Js||yo.morphColors!==ja||yo.toneMapping!==Pl||yo.morphTargetsCount!==Gs)&&(Ma=!0):(Ma=!0,yo.__version=pn.version);let wc=yo.currentProgram;!0===Ma&&(wc=Ky(pn,$t,Jt));let rm=!1,Yc=!1,Rg=!1;const gl=wc.getUniforms(),Pu=yo.uniforms;if(Ln.useProgram(wc.program)&&(rm=!0,Yc=!0,Rg=!0),pn.id!==He&&(He=pn.id,Yc=!0),rm||ke!==Ye){Ln.buffers.depth.getReversed()?(Li.copy(Ye.projectionMatrix),function sl(m){const e=m.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(Li),function yl(m){const e=m.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(Li),gl.setValue(wt,"projectionMatrix",Li)):gl.setValue(wt,"projectionMatrix",Ye.projectionMatrix),gl.setValue(wt,"viewMatrix",Ye.matrixWorldInverse);const Rc=gl.map.cameraPosition;void 0!==Rc&&Rc.setValue(wt,zs.setFromMatrixPosition(Ye.matrixWorld)),Yn.logarithmicDepthBuffer&&gl.setValue(wt,"logDepthBufFC",2/(Math.log(Ye.far+1)/Math.LN2)),(pn.isMeshPhongMaterial||pn.isMeshToonMaterial||pn.isMeshLambertMaterial||pn.isMeshBasicMaterial||pn.isMeshStandardMaterial||pn.isShaderMaterial)&&gl.setValue(wt,"isOrthographic",!0===Ye.isOrthographicCamera),ke!==Ye&&(ke=Ye,Yc=!0,Rg=!0)}if(Jt.isSkinnedMesh){gl.setOptional(wt,Jt,"bindMatrix"),gl.setOptional(wt,Jt,"bindMatrixInverse");const mc=Jt.skeleton;mc&&(null===mc.boneTexture&&mc.computeBoneTexture(),gl.setValue(wt,"boneTexture",mc.boneTexture,tt))}Jt.isBatchedMesh&&(gl.setOptional(wt,Jt,"batchingTexture"),gl.setValue(wt,"batchingTexture",Jt._matricesTexture,tt),gl.setOptional(wt,Jt,"batchingIdTexture"),gl.setValue(wt,"batchingIdTexture",Jt._indirectTexture,tt),gl.setOptional(wt,Jt,"batchingColorTexture"),null!==Jt._colorsTexture&&gl.setValue(wt,"batchingColorTexture",Jt._colorsTexture,tt));const pu=hn.morphAttributes;if((void 0!==pu.position||void 0!==pu.normal||void 0!==pu.color)&&Po.update(Jt,hn,wc),(Yc||yo.receiveShadow!==Jt.receiveShadow)&&(yo.receiveShadow=Jt.receiveShadow,gl.setValue(wt,"receiveShadow",Jt.receiveShadow)),pn.isMeshGouraudMaterial&&null!==pn.envMap&&(Pu.envMap.value=hr,Pu.flipEnvMap.value=hr.isCubeTexture&&!1===hr.isRenderTargetTexture?-1:1),pn.isMeshStandardMaterial&&null===pn.envMap&&null!==$t.environment&&(Pu.envMapIntensity.value=$t.environmentIntensity),Yc&&(gl.setValue(wt,"toneMappingExposure",we.toneMappingExposure),yo.needsLights&&function Fb(Ye,$t){Ye.ambientLightColor.needsUpdate=$t,Ye.lightProbe.needsUpdate=$t,Ye.directionalLights.needsUpdate=$t,Ye.directionalLightShadows.needsUpdate=$t,Ye.pointLights.needsUpdate=$t,Ye.pointLightShadows.needsUpdate=$t,Ye.spotLights.needsUpdate=$t,Ye.spotLightShadows.needsUpdate=$t,Ye.rectAreaLights.needsUpdate=$t,Ye.hemisphereLights.needsUpdate=$t}(Pu,Rg),ui&&!0===pn.fog&&yi.refreshFogUniforms(Pu,ui),yi.refreshMaterialUniforms(Pu,pn,Cn,si,oe.state.transmissionRenderTarget[Ye.id]),Vy.upload(wt,Ob(yo),Pu,tt)),pn.isShaderMaterial&&!0===pn.uniformsNeedUpdate&&(Vy.upload(wt,Ob(yo),Pu,tt),pn.uniformsNeedUpdate=!1),pn.isSpriteMaterial&&gl.setValue(wt,"center",Jt.center),gl.setValue(wt,"modelViewMatrix",Jt.modelViewMatrix),gl.setValue(wt,"normalMatrix",Jt.normalMatrix),gl.setValue(wt,"modelMatrix",Jt.matrixWorld),pn.isShaderMaterial||pn.isRawShaderMaterial){const mc=pn.uniformsGroups;for(let Rc=0,U_=mc.length;Rc<U_;Rc++){const Iu=mc[Rc];Vt.update(Iu,wc),Vt.bind(Iu,wc)}}return wc}(Ye,$t,hn,pn,Jt);Ln.setMaterial(pn,Vi);let hr=hn.index,Go=1;if(!0===pn.wireframe){if(hr=Un.getWireframeAttribute(hn),void 0===hr)return;Go=2}const Vo=hn.drawRange,Mo=hn.attributes.position;let Js=Vo.start*Go,ja=(Vo.start+Vo.count)*Go;null!==ui&&(Js=Math.max(Js,ui.start*Go),ja=Math.min(ja,(ui.start+ui.count)*Go)),null!==hr?(Js=Math.max(Js,0),ja=Math.min(ja,hr.count)):null!=Mo&&(Js=Math.max(Js,0),ja=Math.min(ja,Mo.count));const Pl=ja-Js;if(Pl<0||Pl===1/0)return;ba.setup(Jt,pn,Cr,hn,hr);let Cl,Gs=ur;if(null!==hr&&(Cl=Mn.get(hr),Gs=js,Gs.setIndex(Cl)),Jt.isMesh)!0===pn.wireframe?(Ln.setLineWidth(pn.wireframeLinewidth*Os()),Gs.setMode(wt.LINES)):Gs.setMode(wt.TRIANGLES);else if(Jt.isLine){let yo=pn.linewidth;void 0===yo&&(yo=1),Ln.setLineWidth(yo*Os()),Gs.setMode(Jt.isLineSegments?wt.LINES:Jt.isLineLoop?wt.LINE_LOOP:wt.LINE_STRIP)}else Jt.isPoints?Gs.setMode(wt.POINTS):Jt.isSprite&&Gs.setMode(wt.TRIANGLES);if(Jt.isBatchedMesh)if(null!==Jt._multiDrawInstances)_o("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gs.renderMultiDrawInstances(Jt._multiDrawStarts,Jt._multiDrawCounts,Jt._multiDrawCount,Jt._multiDrawInstances);else if(Wn.get("WEBGL_multi_draw"))Gs.renderMultiDraw(Jt._multiDrawStarts,Jt._multiDrawCounts,Jt._multiDrawCount);else{const yo=Jt._multiDrawStarts,dc=Jt._multiDrawCounts,Ma=Jt._multiDrawCount,wc=hr?Mn.get(hr).bytesPerElement:1,rm=kn.get(pn).currentProgram.getUniforms();for(let Yc=0;Yc<Ma;Yc++)rm.setValue(wt,"_gl_DrawID",Yc),Gs.render(yo[Yc]/wc,dc[Yc])}else if(Jt.isInstancedMesh)Gs.renderInstances(Js,Pl,Jt.count);else if(hn.isInstancedBufferGeometry){const dc=Math.min(hn.instanceCount,void 0!==hn._maxInstanceCount?hn._maxInstanceCount:1/0);Gs.renderInstances(Js,Pl,dc)}else Gs.render(Js,Pl)},this.compile=function(Ye,$t,hn=null){null===hn&&(hn=Ye),oe=Fs.get(hn),oe.init($t),Te.push(oe),hn.traverseVisible(function(Jt){Jt.isLight&&Jt.layers.test($t.layers)&&(oe.pushLight(Jt),Jt.castShadow&&oe.pushShadow(Jt))}),Ye!==hn&&Ye.traverseVisible(function(Jt){Jt.isLight&&Jt.layers.test($t.layers)&&(oe.pushLight(Jt),Jt.castShadow&&oe.pushShadow(Jt))}),oe.setupLights();const pn=new Set;return Ye.traverse(function(Jt){if(!(Jt.isMesh||Jt.isPoints||Jt.isLine||Jt.isSprite))return;const ui=Jt.material;if(ui)if(Array.isArray(ui))for(let Vi=0;Vi<ui.length;Vi++){const Cr=ui[Vi];Ia(Cr,hn,Jt),pn.add(Cr)}else Ia(ui,hn,Jt),pn.add(ui)}),oe=Te.pop(),pn},this.compileAsync=function(Ye,$t,hn=null){const pn=this.compile(Ye,$t,hn);return new Promise(Jt=>{function ui(){pn.forEach(function(Vi){kn.get(Vi).currentProgram.isReady()&&pn.delete(Vi)}),0!==pn.size?setTimeout(ui,10):Jt(Ye)}null!==Wn.get("KHR_parallel_shader_compile")?ui():setTimeout(ui,10)})};let Xc=null;function L_(){Tf.stop()}function k_(){Tf.start()}const Tf=new dg;function Yy(Ye,$t,hn,pn){if(!1===Ye.visible)return;if(Ye.layers.test($t.layers))if(Ye.isGroup)hn=Ye.renderOrder;else if(Ye.isLOD)!0===Ye.autoUpdate&&Ye.update($t);else if(Ye.isLight)oe.pushLight(Ye),Ye.castShadow&&oe.pushShadow(Ye);else if(Ye.isSprite){if(!Ye.frustumCulled||Vn.intersectsSprite(Ye)){pn&&fo.setFromMatrixPosition(Ye.matrixWorld).applyMatrix4(go);const Vi=An.update(Ye),Cr=Ye.material;Cr.visible&&le.push(Ye,Vi,Cr,hn,fo.z,null)}}else if((Ye.isMesh||Ye.isLine||Ye.isPoints)&&(!Ye.frustumCulled||Vn.intersectsObject(Ye))){const Vi=An.update(Ye),Cr=Ye.material;if(pn&&(void 0!==Ye.boundingSphere?(null===Ye.boundingSphere&&Ye.computeBoundingSphere(),fo.copy(Ye.boundingSphere.center)):(null===Vi.boundingSphere&&Vi.computeBoundingSphere(),fo.copy(Vi.boundingSphere.center)),fo.applyMatrix4(Ye.matrixWorld).applyMatrix4(go)),Array.isArray(Cr)){const hr=Vi.groups;for(let Go=0,Vo=hr.length;Go<Vo;Go++){const Mo=hr[Go],Js=Cr[Mo.materialIndex];Js&&Js.visible&&le.push(Ye,Vi,Js,hn,fo.z,Mo)}}else Cr.visible&&le.push(Ye,Vi,Cr,hn,fo.z,null)}const ui=Ye.children;for(let Vi=0,Cr=ui.length;Vi<Cr;Vi++)Yy(ui[Vi],$t,hn,pn)}function Pb(Ye,$t,hn,pn){const Jt=Ye.opaque,ui=Ye.transmissive,Vi=Ye.transparent;oe.setupLightsView(hn),!0===gi&&ai.setGlobalState(we.clippingPlanes,hn),pn&&Ln.viewport(Ct.copy(pn)),Jt.length>0&&Zy(Jt,$t,hn),ui.length>0&&Zy(ui,$t,hn),Vi.length>0&&Zy(Vi,$t,hn),Ln.buffers.depth.setTest(!0),Ln.buffers.depth.setMask(!0),Ln.buffers.color.setMask(!0),Ln.setPolygonOffset(!1)}function Ib(Ye,$t,hn,pn){if(null!==(!0===hn.isScene?hn.overrideMaterial:null))return;void 0===oe.state.transmissionRenderTarget[pn.id]&&(oe.state.transmissionRenderTarget[pn.id]=new Qt(1,1,{generateMipmaps:!0,type:Wn.has("EXT_color_buffer_half_float")||Wn.has("EXT_color_buffer_float")?Wt:Ss,minFilter:io,samples:4,stencilBuffer:p,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qr.workingColorSpace}));const ui=oe.state.transmissionRenderTarget[pn.id],Vi=pn.viewport||Ct;ui.setSize(Vi.z*we.transmissionResolutionScale,Vi.w*we.transmissionResolutionScale);const Cr=we.getRenderTarget();we.setRenderTarget(ui),we.getClearColor(wn),jn=we.getClearAlpha(),jn<1&&we.setClearColor(16777215,.5),we.clear(),Ua&&vo.render(hn);const hr=we.toneMapping;we.toneMapping=Dt;const Go=pn.viewport;if(void 0!==pn.viewport&&(pn.viewport=void 0),oe.setupLightsView(pn),!0===gi&&ai.setGlobalState(we.clippingPlanes,pn),Zy(Ye,hn,pn),tt.updateMultisampleRenderTarget(ui),tt.updateRenderTargetMipmap(ui),!1===Wn.has("WEBGL_multisampled_render_to_texture")){let Vo=!1;for(let Mo=0,Js=$t.length;Mo<Js;Mo++){const ja=$t[Mo],Pl=ja.object,Cl=ja.geometry,Gs=ja.material,yo=ja.group;if(2===Gs.side&&Pl.layers.test(pn.layers)){const dc=Gs.side;Gs.side=1,Gs.needsUpdate=!0,im(Pl,hn,pn,Cl,Gs,yo),Gs.side=dc,Gs.needsUpdate=!0,Vo=!0}}!0===Vo&&(tt.updateMultisampleRenderTarget(ui),tt.updateRenderTargetMipmap(ui))}we.setRenderTarget(Cr),we.setClearColor(wn,jn),void 0!==Go&&(pn.viewport=Go),we.toneMapping=hr}function Zy(Ye,$t,hn){const pn=!0===$t.isScene?$t.overrideMaterial:null;for(let Jt=0,ui=Ye.length;Jt<ui;Jt++){const Vi=Ye[Jt],Cr=Vi.object,hr=Vi.geometry,Go=Vi.group;let Vo=Vi.material;!0===Vo.allowOverride&&null!==pn&&(Vo=pn),Cr.layers.test(hn.layers)&&im(Cr,$t,hn,hr,Vo,Go)}}function im(Ye,$t,hn,pn,Jt,ui){Ye.onBeforeRender(we,$t,hn,pn,Jt,ui),Ye.modelViewMatrix.multiplyMatrices(hn.matrixWorldInverse,Ye.matrixWorld),Ye.normalMatrix.getNormalMatrix(Ye.modelViewMatrix),Jt.onBeforeRender(we,$t,hn,pn,Ye,ui),!0===Jt.transparent&&2===Jt.side&&!1===Jt.forceSinglePass?(Jt.side=1,Jt.needsUpdate=!0,we.renderBufferDirect(hn,$t,pn,Jt,Ye,ui),Jt.side=0,Jt.needsUpdate=!0,we.renderBufferDirect(hn,$t,pn,Jt,Ye,ui),Jt.side=2):we.renderBufferDirect(hn,$t,pn,Jt,Ye,ui),Ye.onAfterRender(we,$t,hn,pn,Jt,ui)}function Ky(Ye,$t,hn){!0!==$t.isScene&&($t=fa);const pn=kn.get(Ye),Jt=oe.state.lights,Vi=Jt.state.version,Cr=xr.getParameters(Ye,Jt.state,oe.state.shadowsArray,$t,hn),hr=xr.getProgramCacheKey(Cr);let Go=pn.programs;pn.environment=Ye.isMeshStandardMaterial?$t.environment:null,pn.fog=$t.fog,pn.envMap=(Ye.isMeshStandardMaterial?Zt:Fe).get(Ye.envMap||pn.environment),pn.envMapRotation=null!==pn.environment&&null===Ye.envMap?$t.environmentRotation:Ye.envMapRotation,void 0===Go&&(Ye.addEventListener("dispose",Yo),Go=new Map,pn.programs=Go);let Vo=Go.get(hr);if(void 0!==Vo){if(pn.currentProgram===Vo&&pn.lightsStateVersion===Vi)return Rb(Ye,Cr),Vo}else Cr.uniforms=xr.getUniforms(Ye),Ye.onBeforeCompile(Cr,we),Vo=xr.acquireProgram(Cr,hr),Go.set(hr,Vo),pn.uniforms=Cr.uniforms;const Mo=pn.uniforms;return(!Ye.isShaderMaterial&&!Ye.isRawShaderMaterial||!0===Ye.clipping)&&(Mo.clippingPlanes=ai.uniform),Rb(Ye,Cr),pn.needsLights=function Nb(Ye){return Ye.isMeshLambertMaterial||Ye.isMeshToonMaterial||Ye.isMeshPhongMaterial||Ye.isMeshStandardMaterial||Ye.isShadowMaterial||Ye.isShaderMaterial&&!0===Ye.lights}(Ye),pn.lightsStateVersion=Vi,pn.needsLights&&(Mo.ambientLightColor.value=Jt.state.ambient,Mo.lightProbe.value=Jt.state.probe,Mo.directionalLights.value=Jt.state.directional,Mo.directionalLightShadows.value=Jt.state.directionalShadow,Mo.spotLights.value=Jt.state.spot,Mo.spotLightShadows.value=Jt.state.spotShadow,Mo.rectAreaLights.value=Jt.state.rectArea,Mo.ltc_1.value=Jt.state.rectAreaLTC1,Mo.ltc_2.value=Jt.state.rectAreaLTC2,Mo.pointLights.value=Jt.state.point,Mo.pointLightShadows.value=Jt.state.pointShadow,Mo.hemisphereLights.value=Jt.state.hemi,Mo.directionalShadowMap.value=Jt.state.directionalShadowMap,Mo.directionalShadowMatrix.value=Jt.state.directionalShadowMatrix,Mo.spotShadowMap.value=Jt.state.spotShadowMap,Mo.spotLightMatrix.value=Jt.state.spotLightMatrix,Mo.spotLightMap.value=Jt.state.spotLightMap,Mo.pointShadowMap.value=Jt.state.pointShadowMap,Mo.pointShadowMatrix.value=Jt.state.pointShadowMatrix),pn.currentProgram=Vo,pn.uniformsList=null,Vo}function Ob(Ye){if(null===Ye.uniformsList){const $t=Ye.currentProgram.getUniforms();Ye.uniformsList=Vy.seqWithValue($t.seq,Ye.uniforms)}return Ye.uniformsList}function Rb(Ye,$t){const hn=kn.get(Ye);hn.outputColorSpace=$t.outputColorSpace,hn.batching=$t.batching,hn.batchingColor=$t.batchingColor,hn.instancing=$t.instancing,hn.instancingColor=$t.instancingColor,hn.instancingMorph=$t.instancingMorph,hn.skinning=$t.skinning,hn.morphTargets=$t.morphTargets,hn.morphNormals=$t.morphNormals,hn.morphColors=$t.morphColors,hn.morphTargetsCount=$t.morphTargetsCount,hn.numClippingPlanes=$t.numClippingPlanes,hn.numIntersection=$t.numClipIntersection,hn.vertexAlphas=$t.vertexAlphas,hn.vertexTangents=$t.vertexTangents,hn.toneMapping=$t.toneMapping}Tf.setAnimationLoop(function Rd(Ye){Xc&&Xc(Ye)}),typeof self<"u"&&Tf.setContext(self),this.setAnimationLoop=function(Ye){Xc=Ye,Dn.setAnimationLoop(Ye),null===Ye?Tf.stop():Tf.start()},Dn.addEventListener("sessionstart",L_),Dn.addEventListener("sessionend",k_),this.render=function(Ye,$t){if(void 0!==$t&&!0!==$t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===pt)return;if(!0===Ye.matrixWorldAutoUpdate&&Ye.updateMatrixWorld(),null===$t.parent&&!0===$t.matrixWorldAutoUpdate&&$t.updateMatrixWorld(),!0===Dn.enabled&&!0===Dn.isPresenting&&(!0===Dn.cameraAutoUpdate&&Dn.updateCamera($t),$t=Dn.getCamera()),!0===Ye.isScene&&Ye.onBeforeRender(we,Ye,$t,yt),oe=Fs.get(Ye,Te.length),oe.init($t),Te.push(oe),go.multiplyMatrices($t.projectionMatrix,$t.matrixWorldInverse),Vn.setFromProjectionMatrix(go),Pr=this.localClippingEnabled,gi=ai.init(this.clippingPlanes,Pr),le=cr.get(Ye,Pe.length),le.init(),Pe.push(le),!0===Dn.enabled&&!0===Dn.isPresenting){const ui=we.xr.getDepthSensingMesh();null!==ui&&Yy(ui,$t,-1/0,we.sortObjects)}Yy(Ye,$t,0,we.sortObjects),le.finish(),!0===we.sortObjects&&le.sort(Ni,rr),Ua=!1===Dn.enabled||!1===Dn.isPresenting||!1===Dn.hasDepthSensing(),Ua&&vo.addToRenderList(le,Ye),this.info.render.frame++,!0===gi&&ai.beginShadows(),yr.render(oe.state.shadowsArray,Ye,$t),!0===gi&&ai.endShadows(),!0===this.info.autoReset&&this.info.reset();const pn=le.opaque,Jt=le.transmissive;if(oe.setupLights(),$t.isArrayCamera){const ui=$t.cameras;if(Jt.length>0)for(let Vi=0,Cr=ui.length;Vi<Cr;Vi++)Ib(pn,Jt,Ye,ui[Vi]);Ua&&vo.render(Ye);for(let Vi=0,Cr=ui.length;Vi<Cr;Vi++){const hr=ui[Vi];Pb(le,Ye,hr,hr.viewport)}}else Jt.length>0&&Ib(pn,Jt,Ye,$t),Ua&&vo.render(Ye),Pb(le,Ye,$t);null!==yt&&0===ft&&(tt.updateMultisampleRenderTarget(yt),tt.updateRenderTargetMipmap(yt)),!0===Ye.isScene&&Ye.onAfterRender(we,Ye,$t),ba.resetDefaultState(),He=-1,ke=null,Te.pop(),Te.length>0?(oe=Te[Te.length-1],!0===gi&&ai.setGlobalState(we.clippingPlanes,oe.state.camera)):oe=null,Pe.pop(),le=Pe.length>0?Pe[Pe.length-1]:null},this.getActiveCubeFace=function(){return st},this.getActiveMipmapLevel=function(){return ft},this.getRenderTarget=function(){return yt},this.setRenderTargetTextures=function(Ye,$t,hn){const pn=kn.get(Ye);pn.__autoAllocateDepthBuffer=!1===Ye.resolveDepthBuffer,!1===pn.__autoAllocateDepthBuffer&&(pn.__useRenderToTexture=!1),kn.get(Ye.texture).__webglTexture=$t,kn.get(Ye.depthTexture).__webglTexture=pn.__autoAllocateDepthBuffer?void 0:hn,pn.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Ye,$t){const hn=kn.get(Ye);hn.__webglFramebuffer=$t,hn.__useDefaultFramebuffer=void 0===$t};const Lb=wt.createFramebuffer();this.setRenderTarget=function(Ye,$t=0,hn=0){yt=Ye,st=$t,ft=hn;let pn=!0,Jt=null,ui=!1,Vi=!1;if(Ye){const hr=kn.get(Ye);if(void 0!==hr.__useDefaultFramebuffer)Ln.bindFramebuffer(wt.FRAMEBUFFER,null),pn=!1;else if(void 0===hr.__webglFramebuffer)tt.setupRenderTarget(Ye);else if(hr.__hasExternalTextures)tt.rebindTextures(Ye,kn.get(Ye.texture).__webglTexture,kn.get(Ye.depthTexture).__webglTexture);else if(Ye.depthBuffer){const Mo=Ye.depthTexture;if(hr.__boundDepthTexture!==Mo){if(null!==Mo&&kn.has(Mo)&&(Ye.width!==Mo.image.width||Ye.height!==Mo.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");tt.setupDepthRenderbuffer(Ye)}}const Go=Ye.texture;(Go.isData3DTexture||Go.isDataArrayTexture||Go.isCompressedArrayTexture)&&(Vi=!0);const Vo=kn.get(Ye).__webglFramebuffer;Ye.isWebGLCubeRenderTarget?(Jt=Array.isArray(Vo[$t])?Vo[$t][hn]:Vo[$t],ui=!0):Jt=Ye.samples>0&&!1===tt.useMultisampledRTT(Ye)?kn.get(Ye).__webglMultisampledFramebuffer:Array.isArray(Vo)?Vo[hn]:Vo,Ct.copy(Ye.viewport),yn.copy(Ye.scissor),un=Ye.scissorTest}else Ct.copy(Tr).multiplyScalar(Cn).floor(),yn.copy(qo).multiplyScalar(Cn).floor(),un=_a;if(0!==hn&&(Jt=Lb),Ln.bindFramebuffer(wt.FRAMEBUFFER,Jt)&&pn&&Ln.drawBuffers(Ye,Jt),Ln.viewport(Ct),Ln.scissor(yn),Ln.setScissorTest(un),ui){const hr=kn.get(Ye.texture);wt.framebufferTexture2D(wt.FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_CUBE_MAP_POSITIVE_X+$t,hr.__webglTexture,hn)}else if(Vi){const hr=kn.get(Ye.texture);wt.framebufferTextureLayer(wt.FRAMEBUFFER,wt.COLOR_ATTACHMENT0,hr.__webglTexture,hn,$t)}else if(null!==Ye&&0!==hn){const hr=kn.get(Ye.texture);wt.framebufferTexture2D(wt.FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_2D,hr.__webglTexture,hn)}He=-1},this.readRenderTargetPixels=function(Ye,$t,hn,pn,Jt,ui,Vi){if(!Ye||!Ye.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Cr=kn.get(Ye).__webglFramebuffer;if(Ye.isWebGLCubeRenderTarget&&void 0!==Vi&&(Cr=Cr[Vi]),Cr){Ln.bindFramebuffer(wt.FRAMEBUFFER,Cr);try{const hr=Ye.texture,Go=hr.format,Vo=hr.type;if(!Yn.textureFormatReadable(Go))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Yn.textureTypeReadable(Vo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");$t>=0&&$t<=Ye.width-pn&&hn>=0&&hn<=Ye.height-Jt&&wt.readPixels($t,hn,pn,Jt,ms.convert(Go),ms.convert(Vo),ui)}finally{const hr=null!==yt?kn.get(yt).__webglFramebuffer:null;Ln.bindFramebuffer(wt.FRAMEBUFFER,hr)}}},this.readRenderTargetPixelsAsync=function(){var Ye=M(function*($t,hn,pn,Jt,ui,Vi,Cr){if(!$t||!$t.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let hr=kn.get($t).__webglFramebuffer;if($t.isWebGLCubeRenderTarget&&void 0!==Cr&&(hr=hr[Cr]),hr){if(hn>=0&&hn<=$t.width-Jt&&pn>=0&&pn<=$t.height-ui){Ln.bindFramebuffer(wt.FRAMEBUFFER,hr);const Go=$t.texture,Vo=Go.format,Mo=Go.type;if(!Yn.textureFormatReadable(Vo))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Yn.textureTypeReadable(Mo))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Js=wt.createBuffer();wt.bindBuffer(wt.PIXEL_PACK_BUFFER,Js),wt.bufferData(wt.PIXEL_PACK_BUFFER,Vi.byteLength,wt.STREAM_READ),wt.readPixels(hn,pn,Jt,ui,ms.convert(Vo),ms.convert(Mo),0);const ja=null!==yt?kn.get(yt).__webglFramebuffer:null;Ln.bindFramebuffer(wt.FRAMEBUFFER,ja);const Pl=wt.fenceSync(wt.SYNC_GPU_COMMANDS_COMPLETE,0);return wt.flush(),yield function Bs(m,e,t){return new Promise(function(r,c){setTimeout(function p(){switch(m.clientWaitSync(e,m.SYNC_FLUSH_COMMANDS_BIT,0)){case m.WAIT_FAILED:c();break;case m.TIMEOUT_EXPIRED:setTimeout(p,t);break;default:r()}},t)})}(wt,Pl,4),wt.bindBuffer(wt.PIXEL_PACK_BUFFER,Js),wt.getBufferSubData(wt.PIXEL_PACK_BUFFER,0,Vi),wt.deleteBuffer(Js),wt.deleteSync(Pl),Vi}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function($t,hn,pn,Jt,ui,Vi,Cr){return Ye.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(Ye,$t=null,hn=0){const pn=Math.pow(2,-hn),Jt=Math.floor(Ye.image.width*pn),ui=Math.floor(Ye.image.height*pn),Vi=null!==$t?$t.x:0,Cr=null!==$t?$t.y:0;tt.setTexture2D(Ye,0),wt.copyTexSubImage2D(wt.TEXTURE_2D,hn,0,0,Vi,Cr,Jt,ui),Ln.unbindTexture()};const R1=wt.createFramebuffer(),Og=wt.createFramebuffer();this.copyTextureToTexture=function(Ye,$t,hn=null,pn=null,Jt=0,ui=null){let Vi,Cr,hr,Go,Vo,Mo,Js,ja,Pl;null===ui&&(0!==Jt?(_o("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ui=Jt,Jt=0):ui=0);const Cl=Ye.isCompressedTexture?Ye.mipmaps[ui]:Ye.image;if(null!==hn)Vi=hn.max.x-hn.min.x,Cr=hn.max.y-hn.min.y,hr=hn.isBox3?hn.max.z-hn.min.z:1,Go=hn.min.x,Vo=hn.min.y,Mo=hn.isBox3?hn.min.z:0;else{const pu=Math.pow(2,-Jt);Vi=Math.floor(Cl.width*pu),Cr=Math.floor(Cl.height*pu),hr=Ye.isDataArrayTexture?Cl.depth:Ye.isData3DTexture?Math.floor(Cl.depth*pu):1,Go=0,Vo=0,Mo=0}null!==pn?(Js=pn.x,ja=pn.y,Pl=pn.z):(Js=0,ja=0,Pl=0);const Gs=ms.convert($t.format),yo=ms.convert($t.type);let dc;$t.isData3DTexture?(tt.setTexture3D($t,0),dc=wt.TEXTURE_3D):$t.isDataArrayTexture||$t.isCompressedArrayTexture?(tt.setTexture2DArray($t,0),dc=wt.TEXTURE_2D_ARRAY):(tt.setTexture2D($t,0),dc=wt.TEXTURE_2D),wt.pixelStorei(wt.UNPACK_FLIP_Y_WEBGL,$t.flipY),wt.pixelStorei(wt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$t.premultiplyAlpha),wt.pixelStorei(wt.UNPACK_ALIGNMENT,$t.unpackAlignment);const Ma=wt.getParameter(wt.UNPACK_ROW_LENGTH),wc=wt.getParameter(wt.UNPACK_IMAGE_HEIGHT),rm=wt.getParameter(wt.UNPACK_SKIP_PIXELS),Yc=wt.getParameter(wt.UNPACK_SKIP_ROWS),Rg=wt.getParameter(wt.UNPACK_SKIP_IMAGES);wt.pixelStorei(wt.UNPACK_ROW_LENGTH,Cl.width),wt.pixelStorei(wt.UNPACK_IMAGE_HEIGHT,Cl.height),wt.pixelStorei(wt.UNPACK_SKIP_PIXELS,Go),wt.pixelStorei(wt.UNPACK_SKIP_ROWS,Vo),wt.pixelStorei(wt.UNPACK_SKIP_IMAGES,Mo);const gl=Ye.isDataArrayTexture||Ye.isData3DTexture,Pu=$t.isDataArrayTexture||$t.isData3DTexture;if(Ye.isDepthTexture){const pu=kn.get(Ye),mc=kn.get($t),Rc=kn.get(pu.__renderTarget),U_=kn.get(mc.__renderTarget);Ln.bindFramebuffer(wt.READ_FRAMEBUFFER,Rc.__webglFramebuffer),Ln.bindFramebuffer(wt.DRAW_FRAMEBUFFER,U_.__webglFramebuffer);for(let Iu=0;Iu<hr;Iu++)gl&&(wt.framebufferTextureLayer(wt.READ_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,kn.get(Ye).__webglTexture,Jt,Mo+Iu),wt.framebufferTextureLayer(wt.DRAW_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,kn.get($t).__webglTexture,ui,Pl+Iu)),wt.blitFramebuffer(Go,Vo,Vi,Cr,Js,ja,Vi,Cr,wt.DEPTH_BUFFER_BIT,wt.NEAREST);Ln.bindFramebuffer(wt.READ_FRAMEBUFFER,null),Ln.bindFramebuffer(wt.DRAW_FRAMEBUFFER,null)}else if(0!==Jt||Ye.isRenderTargetTexture||kn.has(Ye)){const pu=kn.get(Ye),mc=kn.get($t);Ln.bindFramebuffer(wt.READ_FRAMEBUFFER,R1),Ln.bindFramebuffer(wt.DRAW_FRAMEBUFFER,Og);for(let Rc=0;Rc<hr;Rc++)gl?wt.framebufferTextureLayer(wt.READ_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,pu.__webglTexture,Jt,Mo+Rc):wt.framebufferTexture2D(wt.READ_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_2D,pu.__webglTexture,Jt),Pu?wt.framebufferTextureLayer(wt.DRAW_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,mc.__webglTexture,ui,Pl+Rc):wt.framebufferTexture2D(wt.DRAW_FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_2D,mc.__webglTexture,ui),0!==Jt?wt.blitFramebuffer(Go,Vo,Vi,Cr,Js,ja,Vi,Cr,wt.COLOR_BUFFER_BIT,wt.NEAREST):Pu?wt.copyTexSubImage3D(dc,ui,Js,ja,Pl+Rc,Go,Vo,Vi,Cr):wt.copyTexSubImage2D(dc,ui,Js,ja,Go,Vo,Vi,Cr);Ln.bindFramebuffer(wt.READ_FRAMEBUFFER,null),Ln.bindFramebuffer(wt.DRAW_FRAMEBUFFER,null)}else Pu?Ye.isDataTexture||Ye.isData3DTexture?wt.texSubImage3D(dc,ui,Js,ja,Pl,Vi,Cr,hr,Gs,yo,Cl.data):$t.isCompressedArrayTexture?wt.compressedTexSubImage3D(dc,ui,Js,ja,Pl,Vi,Cr,hr,Gs,Cl.data):wt.texSubImage3D(dc,ui,Js,ja,Pl,Vi,Cr,hr,Gs,yo,Cl):Ye.isDataTexture?wt.texSubImage2D(wt.TEXTURE_2D,ui,Js,ja,Vi,Cr,Gs,yo,Cl.data):Ye.isCompressedTexture?wt.compressedTexSubImage2D(wt.TEXTURE_2D,ui,Js,ja,Cl.width,Cl.height,Gs,Cl.data):wt.texSubImage2D(wt.TEXTURE_2D,ui,Js,ja,Vi,Cr,Gs,yo,Cl);wt.pixelStorei(wt.UNPACK_ROW_LENGTH,Ma),wt.pixelStorei(wt.UNPACK_IMAGE_HEIGHT,wc),wt.pixelStorei(wt.UNPACK_SKIP_PIXELS,rm),wt.pixelStorei(wt.UNPACK_SKIP_ROWS,Yc),wt.pixelStorei(wt.UNPACK_SKIP_IMAGES,Rg),0===ui&&$t.generateMipmaps&&wt.generateMipmap(dc),Ln.unbindTexture()},this.copyTextureToTexture3D=function(Ye,$t,hn=null,pn=null,Jt=0){return _o('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Ye,$t,hn,pn,Jt)},this.initRenderTarget=function(Ye){void 0===kn.get(Ye).__webglFramebuffer&&tt.setupRenderTarget(Ye)},this.initTexture=function(Ye){Ye.isCubeTexture?tt.setTextureCube(Ye,0):Ye.isData3DTexture?tt.setTexture3D(Ye,0):Ye.isDataArrayTexture||Ye.isCompressedArrayTexture?tt.setTexture2DArray(Ye,0):tt.setTexture2D(Ye,0),Ln.unbindTexture()},this.resetState=function(){st=0,ft=0,yt=null,Ln.reset(),ba.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bi}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Qr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Qr._getUnpackColorSpace()}},u.WebGLUtils=Tb,u.WebGPUCoordinateSystem=Jr,u.WebXRController=Nu,u.WireframeGeometry=rh,u.WrapAroundEnding=vl,u.ZeroCurvatureEnding=Oa,u.ZeroFactor=200,u.ZeroSlopeEnding=so,u.ZeroStencilOp=0,u.createCanvasElement=$a},7156:Ge=>{function u(M,K,G,W,R,y,h){try{var E=M[y](h),P=E.value}catch(F){return void G(F)}E.done?K(P):Promise.resolve(P).then(W,R)}Ge.exports=function _(M){return function(){var K=this,G=arguments;return new Promise(function(W,R){var y=M.apply(K,G);function h(P){u(y,W,R,h,E,"next",P)}function E(P){u(y,W,R,h,E,"throw",P)}h(void 0)})}},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},6825:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{AUTO_STYLE:()=>G,AnimationBuilder:()=>M,AnimationFactory:()=>K,NoopAnimationPlayer:()=>Oe,animate:()=>R,animateChild:()=>ne,animation:()=>k,group:()=>y,keyframes:()=>F,query:()=>de,sequence:()=>h,stagger:()=>ge,state:()=>P,style:()=>E,transition:()=>B,trigger:()=>W,useAnimation:()=>q,\u0275AnimationGroupPlayer:()=>Qe,\u0275PRE_STYLE:()=>rt});class M{}class K{}const G="*";function W(Se,Ee){return{type:7,name:Se,definitions:Ee,options:{}}}function R(Se,Ee=null){return{type:4,styles:Ee,timings:Se}}function y(Se,Ee=null){return{type:3,steps:Se,options:Ee}}function h(Se,Ee=null){return{type:2,steps:Se,options:Ee}}function E(Se){return{type:6,styles:Se,offset:null}}function P(Se,Ee,Ne){return{type:0,name:Se,styles:Ee,options:Ne}}function F(Se){return{type:5,steps:Se}}function B(Se,Ee,Ne=null){return{type:1,expr:Se,animation:Ee,options:Ne}}function k(Se,Ee=null){return{type:8,animation:Se,options:Ee}}function ne(Se=null){return{type:9,options:Se}}function q(Se,Ee=null){return{type:10,animation:Se,options:Ee}}function de(Se,Ee,Ne=null){return{type:11,selector:Se,animation:Ee,options:Ne}}function ge(Se,Ee){return{type:12,timings:Se,animation:Ee}}class Oe{constructor(Ee=0,Ne=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+Ne}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._originalOnStartFns.push(Ee),this._onStartFns.push(Ee)}onDone(Ee){this._originalOnDoneFns.push(Ee),this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const Ne="start"==Ee?this._onStartFns:this._onDoneFns;Ne.forEach(Ze=>Ze()),Ne.length=0}}class Qe{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let Ne=0,Ze=0,je=0;const be=this.players.length;0==be?queueMicrotask(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++Ne==be&&this._onFinish()}),qe.onDestroy(()=>{++Ze==be&&this._onDestroy()}),qe.onStart(()=>{++je==be&&this._onStart()})}),this.totalTime=this.players.reduce((qe,bt)=>Math.max(qe,bt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const Ne=Ee*this.totalTime;this.players.forEach(Ze=>{const je=Ze.totalTime?Math.min(1,Ne/Ze.totalTime):1;Ze.setPosition(je)})}getPosition(){const Ee=this.players.reduce((Ne,Ze)=>null===Ne||Ze.totalTime>Ne.totalTime?Ze:Ne,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const Ne="start"==Ee?this._onStartFns:this._onDoneFns;Ne.forEach(Ze=>Ze()),Ne.length=0}}const rt="!"},6814:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{APP_BASE_HREF:()=>q,AsyncPipe:()=>fl,BrowserPlatformLocation:()=>P,CommonModule:()=>Ws,CurrencyPipe:()=>na,DATE_PIPE_DEFAULT_OPTIONS:()=>il,DATE_PIPE_DEFAULT_TIMEZONE:()=>Sa,DOCUMENT:()=>y,DatePipe:()=>Oa,DecimalPipe:()=>jo,FormStyle:()=>be,FormatWidth:()=>bt,HashLocationStrategy:()=>ge,I18nPluralPipe:()=>vl,I18nSelectPipe:()=>Ka,IMAGE_CONFIG:()=>fr,IMAGE_LOADER:()=>Fl,JsonPipe:()=>ta,KeyValuePipe:()=>Ga,LOCATION_INITIALIZED:()=>E,Location:()=>Oe,LocationStrategy:()=>ne,LowerCasePipe:()=>nl,NgClass:()=>Wr,NgComponentOutlet:()=>pr,NgFor:()=>Ir,NgForOf:()=>Ir,NgForOfContext:()=>Ki,NgIf:()=>Di,NgIfContext:()=>ts,NgLocaleLocalization:()=>Ri,NgLocalization:()=>bn,NgOptimizedImage:()=>za,NgPlural:()=>Uo,NgPluralCase:()=>tl,NgStyle:()=>ks,NgSwitch:()=>ss,NgSwitchCase:()=>aa,NgSwitchDefault:()=>vs,NgTemplateOutlet:()=>er,NumberFormatStyle:()=>Ze,NumberSymbol:()=>Nt,PRECONNECT_CHECK_BLOCKLIST:()=>Ae,PathLocationStrategy:()=>de,PercentPipe:()=>Er,PlatformLocation:()=>h,Plural:()=>je,SlicePipe:()=>Va,TitleCasePipe:()=>qs,TranslationWidth:()=>qe,UpperCasePipe:()=>ea,VERSION:()=>rl,ViewportScroller:()=>co,WeekDay:()=>_t,XhrFactory:()=>Xl,formatCurrency:()=>ha,formatDate:()=>Vr,formatNumber:()=>Gr,formatPercent:()=>ko,getCurrencySymbol:()=>Dt,getLocaleCurrencyCode:()=>to,getLocaleCurrencyName:()=>Pn,getLocaleCurrencySymbol:()=>$n,getLocaleDateFormat:()=>Rt,getLocaleDateTimeFormat:()=>on,getLocaleDayNames:()=>an,getLocaleDayPeriods:()=>rn,getLocaleDirection:()=>Lo,getLocaleEraNames:()=>Zn,getLocaleExtraDayPeriodRules:()=>Ai,getLocaleExtraDayPeriods:()=>Yr,getLocaleFirstDayOfWeek:()=>qi,getLocaleId:()=>en,getLocaleMonthNames:()=>xt,getLocaleNumberFormat:()=>_n,getLocaleNumberSymbol:()=>In,getLocalePluralCase:()=>wi,getLocaleTimeFormat:()=>Ut,getLocaleWeekEndRange:()=>Lt,getNumberOfCurrencyDigits:()=>cn,isPlatformBrowser:()=>po,isPlatformServer:()=>la,isPlatformWorkerApp:()=>Ol,isPlatformWorkerUi:()=>ys,provideCloudflareLoader:()=>pl,provideCloudinaryLoader:()=>De,provideImageKitLoader:()=>fn,provideImgixLoader:()=>$r,registerLocaleData:()=>fi,\u0275DomAdapter:()=>R,\u0275NullViewportScroller:()=>Hi,\u0275PLATFORM_BROWSER_ID:()=>ma,\u0275PLATFORM_SERVER_ID:()=>Lr,\u0275PLATFORM_WORKER_APP_ID:()=>Sn,\u0275PLATFORM_WORKER_UI_ID:()=>tr,\u0275getDOM:()=>G,\u0275parseCookieValue:()=>Mr,\u0275setRootDomAdapter:()=>W});var M=_(6689);let K=null;function G(){return K}function W($){K||(K=$)}class R{}const y=new M.InjectionToken("DocumentToken");let h=(()=>{class ${historyGo(se){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:function(){return(0,M.inject)(P)},providedIn:"platform"})}return $})();const E=new M.InjectionToken("Location Initialized");let P=(()=>{class $ extends h{constructor(){super(),this._doc=(0,M.inject)(y),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(se){const ve=G().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",se,!1),()=>ve.removeEventListener("popstate",se)}onHashChange(se){const ve=G().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",se,!1),()=>ve.removeEventListener("hashchange",se)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(se){this._location.pathname=se}pushState(se,ve,Ue){this._history.pushState(se,ve,Ue)}replaceState(se,ve,Ue){this._history.replaceState(se,ve,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(se=0){this._history.go(se)}getState(){return this._history.state}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:function(){return new $},providedIn:"platform"})}return $})();function F($,Ce){if(0==$.length)return Ce;if(0==Ce.length)return $;let se=0;return $.endsWith("/")&&se++,Ce.startsWith("/")&&se++,2==se?$+Ce.substring(1):1==se?$+Ce:$+"/"+Ce}function B($){const Ce=$.match(/#|\?|$/),se=Ce&&Ce.index||$.length;return $.slice(0,se-("/"===$[se-1]?1:0))+$.slice(se)}function k($){return $&&"?"!==$[0]?"?"+$:$}let ne=(()=>{class ${historyGo(se){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:function(){return(0,M.inject)(de)},providedIn:"root"})}return $})();const q=new M.InjectionToken("appBaseHref");let de=(()=>{class $ extends ne{constructor(se,ve){super(),this._platformLocation=se,this._removeListenerFns=[],this._baseHref=ve??this._platformLocation.getBaseHrefFromDOM()??(0,M.inject)(y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(se){this._removeListenerFns.push(this._platformLocation.onPopState(se),this._platformLocation.onHashChange(se))}getBaseHref(){return this._baseHref}prepareExternalUrl(se){return F(this._baseHref,se)}path(se=!1){const ve=this._platformLocation.pathname+k(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&se?`${ve}${Ue}`:ve}pushState(se,ve,Ue,Xt){const Qt=this.prepareExternalUrl(Ue+k(Xt));this._platformLocation.pushState(se,ve,Qt)}replaceState(se,ve,Ue,Xt){const Qt=this.prepareExternalUrl(Ue+k(Xt));this._platformLocation.replaceState(se,ve,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(se=0){this._platformLocation.historyGo?.(se)}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275inject(h),M.\u0275\u0275inject(q,8))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})(),ge=(()=>{class $ extends ne{constructor(se,ve){super(),this._platformLocation=se,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(se){this._removeListenerFns.push(this._platformLocation.onPopState(se),this._platformLocation.onHashChange(se))}getBaseHref(){return this._baseHref}path(se=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(se){const ve=F(this._baseHref,se);return ve.length>0?"#"+ve:ve}pushState(se,ve,Ue,Xt){let Qt=this.prepareExternalUrl(Ue+k(Xt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.pushState(se,ve,Qt)}replaceState(se,ve,Ue,Xt){let Qt=this.prepareExternalUrl(Ue+k(Xt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.replaceState(se,ve,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(se=0){this._platformLocation.historyGo?.(se)}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275inject(h),M.\u0275\u0275inject(q,8))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac})}return $})(),Oe=(()=>{class ${constructor(se){this._subject=new M.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=se;const ve=this._locationStrategy.getBaseHref();this._basePath=function Ee($){if(new RegExp("^(https?:)?//").test($)){const[,se]=$.split(/\/\/[^\/]+/);return se}return $}(B(Se(ve))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(se=!1){return this.normalize(this._locationStrategy.path(se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(se,ve=""){return this.path()==this.normalize(se+k(ve))}normalize(se){return $.stripTrailingSlash(function rt($,Ce){if(!$||!Ce.startsWith($))return Ce;const se=Ce.substring($.length);return""===se||["/",";","?","#"].includes(se[0])?se:Ce}(this._basePath,Se(se)))}prepareExternalUrl(se){return se&&"/"!==se[0]&&(se="/"+se),this._locationStrategy.prepareExternalUrl(se)}go(se,ve="",Ue=null){this._locationStrategy.pushState(Ue,"",se,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(se+k(ve)),Ue)}replaceState(se,ve="",Ue=null){this._locationStrategy.replaceState(Ue,"",se,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(se+k(ve)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(se=0){this._locationStrategy.historyGo?.(se)}onUrlChange(se){return this._urlChangeListeners.push(se),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(se);this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(se="",ve){this._urlChangeListeners.forEach(Ue=>Ue(se,ve))}subscribe(se,ve,Ue){return this._subject.subscribe({next:se,error:ve,complete:Ue})}static#e=this.normalizeQueryParams=k;static#t=this.joinWithSlash=F;static#n=this.stripTrailingSlash=B;static#i=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275inject(ne))};static#r=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:function(){return function Qe(){return new Oe((0,M.\u0275\u0275inject)(ne))}()},providedIn:"root"})}return $})();function Se($){return $.replace(/\/index.html$/,"")}const Ne={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ze=function($){return $[$.Decimal=0]="Decimal",$[$.Percent=1]="Percent",$[$.Currency=2]="Currency",$[$.Scientific=3]="Scientific",$}(Ze||{}),je=function($){return $[$.Zero=0]="Zero",$[$.One=1]="One",$[$.Two=2]="Two",$[$.Few=3]="Few",$[$.Many=4]="Many",$[$.Other=5]="Other",$}(je||{}),be=function($){return $[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$}(be||{}),qe=function($){return $[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$}(qe||{}),bt=function($){return $[$.Short=0]="Short",$[$.Medium=1]="Medium",$[$.Long=2]="Long",$[$.Full=3]="Full",$}(bt||{}),Nt=function($){return $[$.Decimal=0]="Decimal",$[$.Group=1]="Group",$[$.List=2]="List",$[$.PercentSign=3]="PercentSign",$[$.PlusSign=4]="PlusSign",$[$.MinusSign=5]="MinusSign",$[$.Exponential=6]="Exponential",$[$.SuperscriptingExponent=7]="SuperscriptingExponent",$[$.PerMille=8]="PerMille",$[$.Infinity=9]="Infinity",$[$.NaN=10]="NaN",$[$.TimeSeparator=11]="TimeSeparator",$[$.CurrencyDecimal=12]="CurrencyDecimal",$[$.CurrencyGroup=13]="CurrencyGroup",$}(Nt||{}),_t=function($){return $[$.Sunday=0]="Sunday",$[$.Monday=1]="Monday",$[$.Tuesday=2]="Tuesday",$[$.Wednesday=3]="Wednesday",$[$.Thursday=4]="Thursday",$[$.Friday=5]="Friday",$[$.Saturday=6]="Saturday",$}(_t||{});function en($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.LocaleId]}function rn($,Ce,se){const ve=(0,M.\u0275findLocaleData)($),Xt=dt([ve[M.\u0275LocaleDataIndex.DayPeriodsFormat],ve[M.\u0275LocaleDataIndex.DayPeriodsStandalone]],Ce);return dt(Xt,se)}function an($,Ce,se){const ve=(0,M.\u0275findLocaleData)($),Xt=dt([ve[M.\u0275LocaleDataIndex.DaysFormat],ve[M.\u0275LocaleDataIndex.DaysStandalone]],Ce);return dt(Xt,se)}function xt($,Ce,se){const ve=(0,M.\u0275findLocaleData)($),Xt=dt([ve[M.\u0275LocaleDataIndex.MonthsFormat],ve[M.\u0275LocaleDataIndex.MonthsStandalone]],Ce);return dt(Xt,se)}function Zn($,Ce){return dt((0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.Eras],Ce)}function qi($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.FirstDayOfWeek]}function Lt($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.WeekendRange]}function Rt($,Ce){return dt((0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.DateFormat],Ce)}function Ut($,Ce){return dt((0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.TimeFormat],Ce)}function on($,Ce){return dt((0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.DateTimeFormat],Ce)}function In($,Ce){const se=(0,M.\u0275findLocaleData)($),ve=se[M.\u0275LocaleDataIndex.NumberSymbols][Ce];if(typeof ve>"u"){if(Ce===Nt.CurrencyDecimal)return se[M.\u0275LocaleDataIndex.NumberSymbols][Nt.Decimal];if(Ce===Nt.CurrencyGroup)return se[M.\u0275LocaleDataIndex.NumberSymbols][Nt.Group]}return ve}function _n($,Ce){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.NumberFormats][Ce]}function $n($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.CurrencySymbol]||null}function Pn($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.CurrencyName]||null}function to($){return(0,M.\u0275getLocaleCurrencyCode)($)}const wi=M.\u0275getLocalePluralCase;function _r($){if(!$[M.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${$[M.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ai($){const Ce=(0,M.\u0275findLocaleData)($);return _r(Ce),(Ce[M.\u0275LocaleDataIndex.ExtraData][2]||[]).map(ve=>"string"==typeof ve?et(ve):[et(ve[0]),et(ve[1])])}function Yr($,Ce,se){const ve=(0,M.\u0275findLocaleData)($);_r(ve);const Xt=dt([ve[M.\u0275LocaleDataIndex.ExtraData][0],ve[M.\u0275LocaleDataIndex.ExtraData][1]],Ce)||[];return dt(Xt,se)||[]}function Lo($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.Directionality]}function dt($,Ce){for(let se=Ce;se>-1;se--)if(typeof $[se]<"u")return $[se];throw new Error("Locale data API: locale data undefined")}function et($){const[Ce,se]=$.split(":");return{hours:+Ce,minutes:+se}}function Dt($,Ce,se="en"){const ve=function Gn($){return(0,M.\u0275findLocaleData)($)[M.\u0275LocaleDataIndex.Currencies]}(se)[$]||Ne[$]||[],Ue=ve[1];return"narrow"===Ce&&"string"==typeof Ue?Ue:ve[0]||$}const It=2;function cn($){let Ce;const se=Ne[$];return se&&(Ce=se[2]),"number"==typeof Ce?Ce:It}const tn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Br={},zi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oi=function($){return $[$.Short=0]="Short",$[$.ShortGMT=1]="ShortGMT",$[$.Long=2]="Long",$[$.Extended=3]="Extended",$}(oi||{}),Rn=function($){return $[$.FullYear=0]="FullYear",$[$.Month=1]="Month",$[$.Date=2]="Date",$[$.Hours=3]="Hours",$[$.Minutes=4]="Minutes",$[$.Seconds=5]="Seconds",$[$.FractionalSeconds=6]="FractionalSeconds",$[$.Day=7]="Day",$}(Rn||{}),ci=function($){return $[$.DayPeriods=0]="DayPeriods",$[$.Days=1]="Days",$[$.Months=2]="Months",$[$.Eras=3]="Eras",$}(ci||{});function Vr($,Ce,se,ve){let Ue=function Ls($){if(Bt($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[Ue,Xt=1,Qt=1]=$.split("-").map(Mi=>+Mi);return no(Ue,Xt-1,Qt)}const se=parseFloat($);if(!isNaN($-se))return new Date(se);let ve;if(ve=$.match(tn))return function Gt($){const Ce=new Date(0);let se=0,ve=0;const Ue=$[8]?Ce.setUTCFullYear:Ce.setFullYear,Xt=$[8]?Ce.setUTCHours:Ce.setHours;$[9]&&(se=Number($[9]+$[10]),ve=Number($[9]+$[11])),Ue.call(Ce,Number($[1]),Number($[2])-1,Number($[3]));const Qt=Number($[4]||0)-se,Mi=Number($[5]||0)-ve,Oo=Number($[6]||0),Co=Math.floor(1e3*parseFloat("0."+($[7]||0)));return Xt.call(Ce,Qt,Mi,Oo,Co),Ce}(ve)}const Ce=new Date($);if(!Bt(Ce))throw new Error(`Unable to convert "${$}" into a date`);return Ce}($);Ce=wo(se,Ce)||Ce;let Mi,Qt=[];for(;Ce;){if(Mi=zi.exec(Ce),!Mi){Qt.push(Ce);break}{Qt=Qt.concat(Mi.slice(1));const mo=Qt.pop();if(!mo)break;Ce=mo}}let Oo=Ue.getTimezoneOffset();ve&&(Oo=gs(ve,Oo),Ue=function ro($,Ce,se){const ve=se?-1:1,Ue=$.getTimezoneOffset();return function Ss($,Ce){return($=new Date($.getTime())).setMinutes($.getMinutes()+Ce),$}($,ve*(gs(Ce,Ue)-Ue))}(Ue,ve,!0));let Co="";return Qt.forEach(mo=>{const Ui=function io($){if(ji[$])return ji[$];let Ce;switch($){case"G":case"GG":case"GGG":Ce=ar(ci.Eras,qe.Abbreviated);break;case"GGGG":Ce=ar(ci.Eras,qe.Wide);break;case"GGGGG":Ce=ar(ci.Eras,qe.Narrow);break;case"y":Ce=vi(Rn.FullYear,1,0,!1,!0);break;case"yy":Ce=vi(Rn.FullYear,2,0,!0,!0);break;case"yyy":Ce=vi(Rn.FullYear,3,0,!1,!0);break;case"yyyy":Ce=vi(Rn.FullYear,4,0,!1,!0);break;case"Y":Ce=ki(1);break;case"YY":Ce=ki(2,!0);break;case"YYY":Ce=ki(3);break;case"YYYY":Ce=ki(4);break;case"M":case"L":Ce=vi(Rn.Month,1,1);break;case"MM":case"LL":Ce=vi(Rn.Month,2,1);break;case"MMM":Ce=ar(ci.Months,qe.Abbreviated);break;case"MMMM":Ce=ar(ci.Months,qe.Wide);break;case"MMMMM":Ce=ar(ci.Months,qe.Narrow);break;case"LLL":Ce=ar(ci.Months,qe.Abbreviated,be.Standalone);break;case"LLLL":Ce=ar(ci.Months,qe.Wide,be.Standalone);break;case"LLLLL":Ce=ar(ci.Months,qe.Narrow,be.Standalone);break;case"w":Ce=_i(1);break;case"ww":Ce=_i(2);break;case"W":Ce=_i(1,!0);break;case"d":Ce=vi(Rn.Date,1);break;case"dd":Ce=vi(Rn.Date,2);break;case"c":case"cc":Ce=vi(Rn.Day,1);break;case"ccc":Ce=ar(ci.Days,qe.Abbreviated,be.Standalone);break;case"cccc":Ce=ar(ci.Days,qe.Wide,be.Standalone);break;case"ccccc":Ce=ar(ci.Days,qe.Narrow,be.Standalone);break;case"cccccc":Ce=ar(ci.Days,qe.Short,be.Standalone);break;case"E":case"EE":case"EEE":Ce=ar(ci.Days,qe.Abbreviated);break;case"EEEE":Ce=ar(ci.Days,qe.Wide);break;case"EEEEE":Ce=ar(ci.Days,qe.Narrow);break;case"EEEEEE":Ce=ar(ci.Days,qe.Short);break;case"a":case"aa":case"aaa":Ce=ar(ci.DayPeriods,qe.Abbreviated);break;case"aaaa":Ce=ar(ci.DayPeriods,qe.Wide);break;case"aaaaa":Ce=ar(ci.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":Ce=ar(ci.DayPeriods,qe.Abbreviated,be.Standalone,!0);break;case"bbbb":Ce=ar(ci.DayPeriods,qe.Wide,be.Standalone,!0);break;case"bbbbb":Ce=ar(ci.DayPeriods,qe.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":Ce=ar(ci.DayPeriods,qe.Abbreviated,be.Format,!0);break;case"BBBB":Ce=ar(ci.DayPeriods,qe.Wide,be.Format,!0);break;case"BBBBB":Ce=ar(ci.DayPeriods,qe.Narrow,be.Format,!0);break;case"h":Ce=vi(Rn.Hours,1,-12);break;case"hh":Ce=vi(Rn.Hours,2,-12);break;case"H":Ce=vi(Rn.Hours,1);break;case"HH":Ce=vi(Rn.Hours,2);break;case"m":Ce=vi(Rn.Minutes,1);break;case"mm":Ce=vi(Rn.Minutes,2);break;case"s":Ce=vi(Rn.Seconds,1);break;case"ss":Ce=vi(Rn.Seconds,2);break;case"S":Ce=vi(Rn.FractionalSeconds,1);break;case"SS":Ce=vi(Rn.FractionalSeconds,2);break;case"SSS":Ce=vi(Rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ce=zr(oi.Short);break;case"ZZZZZ":Ce=zr(oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ce=zr(oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ce=zr(oi.Long);break;default:return null}return ji[$]=Ce,Ce}(mo);Co+=Ui?Ui(Ue,se,Oo):"''"===mo?"'":mo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Co}function no($,Ce,se){const ve=new Date(0);return ve.setFullYear($,Ce,se),ve.setHours(0,0,0),ve}function wo($,Ce){const se=en($);if(Br[se]=Br[se]||{},Br[se][Ce])return Br[se][Ce];let ve="";switch(Ce){case"shortDate":ve=Rt($,bt.Short);break;case"mediumDate":ve=Rt($,bt.Medium);break;case"longDate":ve=Rt($,bt.Long);break;case"fullDate":ve=Rt($,bt.Full);break;case"shortTime":ve=Ut($,bt.Short);break;case"mediumTime":ve=Ut($,bt.Medium);break;case"longTime":ve=Ut($,bt.Long);break;case"fullTime":ve=Ut($,bt.Full);break;case"short":const Ue=wo($,"shortTime"),Xt=wo($,"shortDate");ve=Xi(on($,bt.Short),[Ue,Xt]);break;case"medium":const Qt=wo($,"mediumTime"),Mi=wo($,"mediumDate");ve=Xi(on($,bt.Medium),[Qt,Mi]);break;case"long":const Oo=wo($,"longTime"),Co=wo($,"longDate");ve=Xi(on($,bt.Long),[Oo,Co]);break;case"full":const mo=wo($,"fullTime"),Ui=wo($,"fullDate");ve=Xi(on($,bt.Full),[mo,Ui])}return ve&&(Br[se][Ce]=ve),ve}function Xi($,Ce){return Ce&&($=$.replace(/\{([^}]+)}/g,function(se,ve){return null!=Ce&&ve in Ce?Ce[ve]:se})),$}function So($,Ce,se="-",ve,Ue){let Xt="";($<0||Ue&&$<=0)&&(Ue?$=1-$:($=-$,Xt=se));let Qt=String($);for(;Qt.length<Ce;)Qt="0"+Qt;return ve&&(Qt=Qt.slice(Qt.length-Ce)),Xt+Qt}function vi($,Ce,se=0,ve=!1,Ue=!1){return function(Xt,Qt){let Mi=function oo($,Ce){switch($){case Rn.FullYear:return Ce.getFullYear();case Rn.Month:return Ce.getMonth();case Rn.Date:return Ce.getDate();case Rn.Hours:return Ce.getHours();case Rn.Minutes:return Ce.getMinutes();case Rn.Seconds:return Ce.getSeconds();case Rn.FractionalSeconds:return Ce.getMilliseconds();case Rn.Day:return Ce.getDay();default:throw new Error(`Unknown DateType value "${$}".`)}}($,Xt);if((se>0||Mi>-se)&&(Mi+=se),$===Rn.Hours)0===Mi&&-12===se&&(Mi=12);else if($===Rn.FractionalSeconds)return function zo($,Ce){return So($,3).substring(0,Ce)}(Mi,Ce);const Oo=In(Qt,Nt.MinusSign);return So(Mi,Ce,Oo,ve,Ue)}}function ar($,Ce,se=be.Format,ve=!1){return function(Ue,Xt){return function xo($,Ce,se,ve,Ue,Xt){switch(se){case ci.Months:return xt(Ce,Ue,ve)[$.getMonth()];case ci.Days:return an(Ce,Ue,ve)[$.getDay()];case ci.DayPeriods:const Qt=$.getHours(),Mi=$.getMinutes();if(Xt){const Co=Ai(Ce),mo=Yr(Ce,Ue,ve),Ui=Co.findIndex(Je=>{if(Array.isArray(Je)){const[Si,Es]=Je,Xo=Qt>=Si.hours&&Mi>=Si.minutes,To=Qt<Es.hours||Qt===Es.hours&&Mi<Es.minutes;if(Si.hours<Es.hours){if(Xo&&To)return!0}else if(Xo||To)return!0}else if(Je.hours===Qt&&Je.minutes===Mi)return!0;return!1});if(-1!==Ui)return mo[Ui]}return rn(Ce,Ue,ve)[Qt<12?0:1];case ci.Eras:return Zn(Ce,ve)[$.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${se}`)}}(Ue,Xt,$,Ce,se,ve)}}function zr($){return function(Ce,se,ve){const Ue=-1*ve,Xt=In(se,Nt.MinusSign),Qt=Ue>0?Math.floor(Ue/60):Math.ceil(Ue/60);switch($){case oi.Short:return(Ue>=0?"+":"")+So(Qt,2,Xt)+So(Math.abs(Ue%60),2,Xt);case oi.ShortGMT:return"GMT"+(Ue>=0?"+":"")+So(Qt,1,Xt);case oi.Long:return"GMT"+(Ue>=0?"+":"")+So(Qt,2,Xt)+":"+So(Math.abs(Ue%60),2,Xt);case oi.Extended:return 0===ve?"Z":(Ue>=0?"+":"")+So(Qt,2,Xt)+":"+So(Math.abs(Ue%60),2,Xt);default:throw new Error(`Unknown zone width "${$}"`)}}}const Ns=0,xi=4;function Ha($){return no($.getFullYear(),$.getMonth(),$.getDate()+(xi-$.getDay()))}function _i($,Ce=!1){return function(se,ve){let Ue;if(Ce){const Xt=new Date(se.getFullYear(),se.getMonth(),1).getDay()-1,Qt=se.getDate();Ue=1+Math.floor((Qt+Xt)/7)}else{const Xt=Ha(se),Qt=function Zo($){const Ce=no($,Ns,1).getDay();return no($,0,1+(Ce<=xi?xi:xi+7)-Ce)}(Xt.getFullYear()),Mi=Xt.getTime()-Qt.getTime();Ue=1+Math.round(Mi/6048e5)}return So(Ue,$,In(ve,Nt.MinusSign))}}function ki($,Ce=!1){return function(se,ve){return So(Ha(se).getFullYear(),$,In(ve,Nt.MinusSign),Ce)}}const ji={};function gs($,Ce){$=$.replace(/:/g,"");const se=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(se)?Ce:se}function Bt($){return $ instanceof Date&&!isNaN($.valueOf())}const ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ct=22,Wt=".",Qn="0",di=";",br=",",jr="#",es="\xa4",cs="%";function Zi($,Ce,se,ve,Ue,Xt,Qt=!1){let Mi="",Oo=!1;if(isFinite($)){let Co=function nt($){let ve,Ue,Xt,Qt,Mi,Ce=Math.abs($)+"",se=0;for((Ue=Ce.indexOf(Wt))>-1&&(Ce=Ce.replace(Wt,"")),(Xt=Ce.search(/e/i))>0?(Ue<0&&(Ue=Xt),Ue+=+Ce.slice(Xt+1),Ce=Ce.substring(0,Xt)):Ue<0&&(Ue=Ce.length),Xt=0;Ce.charAt(Xt)===Qn;Xt++);if(Xt===(Mi=Ce.length))ve=[0],Ue=1;else{for(Mi--;Ce.charAt(Mi)===Qn;)Mi--;for(Ue-=Xt,ve=[],Qt=0;Xt<=Mi;Xt++,Qt++)ve[Qt]=Number(Ce.charAt(Xt))}return Ue>ct&&(ve=ve.splice(0,ct-1),se=Ue-1,Ue=1),{digits:ve,exponent:se,integerLen:Ue}}($);Qt&&(Co=function ut($){if(0===$.digits[0])return $;const Ce=$.digits.length-$.integerLen;return $.exponent?$.exponent+=2:(0===Ce?$.digits.push(0,0):1===Ce&&$.digits.push(0),$.integerLen+=2),$}(Co));let mo=Ce.minInt,Ui=Ce.minFrac,Je=Ce.maxFrac;if(Xt){const ua=Xt.match(ze);if(null===ua)throw new Error(`${Xt} is not a valid digit info`);const Ta=ua[1],oa=ua[3],Xa=ua[5];null!=Ta&&(mo=vn(Ta)),null!=oa&&(Ui=vn(oa)),null!=Xa?Je=vn(Xa):null!=oa&&Ui>Je&&(Je=Ui)}!function Pt($,Ce,se){if(Ce>se)throw new Error(`The minimum number of digits after fraction (${Ce}) is higher than the maximum (${se}).`);let ve=$.digits,Ue=ve.length-$.integerLen;const Xt=Math.min(Math.max(Ce,Ue),se);let Qt=Xt+$.integerLen,Mi=ve[Qt];if(Qt>0){ve.splice(Math.max($.integerLen,Qt));for(let Ui=Qt;Ui<ve.length;Ui++)ve[Ui]=0}else{Ue=Math.max(0,Ue),$.integerLen=1,ve.length=Math.max(1,Qt=Xt+1),ve[0]=0;for(let Ui=1;Ui<Qt;Ui++)ve[Ui]=0}if(Mi>=5)if(Qt-1<0){for(let Ui=0;Ui>Qt;Ui--)ve.unshift(0),$.integerLen++;ve.unshift(1),$.integerLen++}else ve[Qt-1]++;for(;Ue<Math.max(0,Xt);Ue++)ve.push(0);let Oo=0!==Xt;const Co=Ce+$.integerLen,mo=ve.reduceRight(function(Ui,Je,Si,Es){return Es[Si]=(Je+=Ui)<10?Je:Je-10,Oo&&(0===Es[Si]&&Si>=Co?Es.pop():Oo=!1),Je>=10?1:0},0);mo&&(ve.unshift(mo),$.integerLen++)}(Co,Ui,Je);let Si=Co.digits,Es=Co.integerLen;const Xo=Co.exponent;let To=[];for(Oo=Si.every(ua=>!ua);Es<mo;Es++)Si.unshift(0);for(;Es<0;Es++)Si.unshift(0);Es>0?To=Si.splice(Es,Si.length):(To=Si,Si=[0]);const uo=[];for(Si.length>=Ce.lgSize&&uo.unshift(Si.splice(-Ce.lgSize,Si.length).join(""));Si.length>Ce.gSize;)uo.unshift(Si.splice(-Ce.gSize,Si.length).join(""));Si.length&&uo.unshift(Si.join("")),Mi=uo.join(In(se,ve)),To.length&&(Mi+=In(se,Ue)+To.join("")),Xo&&(Mi+=In(se,Nt.Exponential)+"+"+Xo)}else Mi=In(se,Nt.Infinity);return Mi=$<0&&!Oo?Ce.negPre+Mi+Ce.negSuf:Ce.posPre+Mi+Ce.posSuf,Mi}function ha($,Ce,se,ve,Ue){const Qt=ht(_n(Ce,Ze.Currency),In(Ce,Nt.MinusSign));return Qt.minFrac=cn(ve),Qt.maxFrac=Qt.minFrac,Zi($,Qt,Ce,Nt.CurrencyGroup,Nt.CurrencyDecimal,Ue).replace(es,se).replace(es,"").trim()}function ko($,Ce,se){return Zi($,ht(_n(Ce,Ze.Percent),In(Ce,Nt.MinusSign)),Ce,Nt.Group,Nt.Decimal,se,!0).replace(new RegExp(cs,"g"),In(Ce,Nt.PercentSign))}function Gr($,Ce,se){return Zi($,ht(_n(Ce,Ze.Decimal),In(Ce,Nt.MinusSign)),Ce,Nt.Group,Nt.Decimal,se)}function ht($,Ce="-"){const se={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ve=$.split(di),Ue=ve[0],Xt=ve[1],Qt=-1!==Ue.indexOf(Wt)?Ue.split(Wt):[Ue.substring(0,Ue.lastIndexOf(Qn)+1),Ue.substring(Ue.lastIndexOf(Qn)+1)],Mi=Qt[0],Oo=Qt[1]||"";se.posPre=Mi.substring(0,Mi.indexOf(jr));for(let mo=0;mo<Oo.length;mo++){const Ui=Oo.charAt(mo);Ui===Qn?se.minFrac=se.maxFrac=mo+1:Ui===jr?se.maxFrac=mo+1:se.posSuf+=Ui}const Co=Mi.split(br);if(se.gSize=Co[1]?Co[1].length:0,se.lgSize=Co[2]||Co[1]?(Co[2]||Co[1]).length:0,Xt){const mo=Ue.length-se.posPre.length-se.posSuf.length,Ui=Xt.indexOf(jr);se.negPre=Xt.substring(0,Ui).replace(/'/g,""),se.negSuf=Xt.slice(Ui+mo).replace(/'/g,"")}else se.negPre=Ce+se.posPre,se.negSuf=se.posSuf;return se}function vn($){const Ce=parseInt($);if(isNaN(Ce))throw new Error("Invalid integer literal when parsing "+$);return Ce}let bn=(()=>{class ${static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:function(ve){let Ue=null;return ve?Ue=new ve:(Xt=M.\u0275\u0275inject(M.LOCALE_ID),Ue=new Ri(Xt)),Ue;var Xt},providedIn:"root"})}return $})();function Fn($,Ce,se,ve){let Ue=`=${$}`;if(Ce.indexOf(Ue)>-1||(Ue=se.getPluralCategory($,ve),Ce.indexOf(Ue)>-1))return Ue;if(Ce.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${$}"`)}let Ri=(()=>{class $ extends bn{constructor(se){super(),this.locale=se}getPluralCategory(se,ve){switch(wi(ve||this.locale)(se)){case je.Zero:return"zero";case je.One:return"one";case je.Two:return"two";case je.Few:return"few";case je.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275inject(M.LOCALE_ID))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac})}return $})();function fi($,Ce,se){return(0,M.\u0275registerLocaleData)($,Ce,se)}function Mr($,Ce){Ce=encodeURIComponent(Ce);for(const se of $.split(";")){const ve=se.indexOf("="),[Ue,Xt]=-1==ve?[se,""]:[se.slice(0,ve),se.slice(ve+1)];if(Ue.trim()===Ce)return decodeURIComponent(Xt)}return null}const ho=/\s+/,Zr=[];let Wr=(()=>{class ${constructor(se,ve,Ue,Xt){this._iterableDiffers=se,this._keyValueDiffers=ve,this._ngEl=Ue,this._renderer=Xt,this.initialClasses=Zr,this.stateMap=new Map}set klass(se){this.initialClasses=null!=se?se.trim().split(ho):Zr}set ngClass(se){this.rawClass="string"==typeof se?se.trim().split(ho):se}ngDoCheck(){for(const ve of this.initialClasses)this._updateState(ve,!0);const se=this.rawClass;if(Array.isArray(se)||se instanceof Set)for(const ve of se)this._updateState(ve,!0);else if(null!=se)for(const ve of Object.keys(se))this._updateState(ve,!!se[ve]);this._applyStateDiff()}_updateState(se,ve){const Ue=this.stateMap.get(se);void 0!==Ue?(Ue.enabled!==ve&&(Ue.changed=!0,Ue.enabled=ve),Ue.touched=!0):this.stateMap.set(se,{enabled:ve,changed:!0,touched:!0})}_applyStateDiff(){for(const se of this.stateMap){const ve=se[0],Ue=se[1];Ue.changed?(this._toggleClass(ve,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(ve,!1),this.stateMap.delete(ve)),Ue.touched=!1}}_toggleClass(se,ve){(se=se.trim()).length>0&&se.split(ho).forEach(Ue=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.IterableDiffers),M.\u0275\u0275directiveInject(M.KeyValueDiffers),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.Renderer2))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return $})(),pr=(()=>{class ${constructor(se){this._viewContainerRef=se,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(se){return void 0!==se.ngComponentOutletNgModule||void 0!==se.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(se){return void 0!==se.ngComponentOutlet||void 0!==se.ngComponentOutletContent||void 0!==se.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(se)}ngOnChanges(se){if(this._needToReCreateComponentInstance(se)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ve=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(se)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,M.createNgModule)(this.ngComponentOutletNgModule,us(ve)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(us(ve)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ve,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const se of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(se,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(se){for(const[ve,Ue]of this._inputsUsed)Ue?(se.setInput(ve,this.ngComponentOutletInputs[ve]),this._inputsUsed.set(ve,!1)):(se.setInput(ve,void 0),this._inputsUsed.delete(ve))}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[M.\u0275\u0275NgOnChangesFeature]})}return $})();function us($){return $.get(M.NgModuleRef).injector}class Ki{constructor(Ce,se,ve,Ue){this.$implicit=Ce,this.ngForOf=se,this.index=ve,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ir=(()=>{class ${set ngForOf(se){this._ngForOf=se,this._ngForOfDirty=!0}set ngForTrackBy(se){this._trackByFn=se}get ngForTrackBy(){return this._trackByFn}constructor(se,ve,Ue){this._viewContainer=se,this._template=ve,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(se){se&&(this._template=se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const se=this._ngForOf;!this._differ&&se&&(this._differ=this._differs.find(se).create(this.ngForTrackBy))}if(this._differ){const se=this._differ.diff(this._ngForOf);se&&this._applyChanges(se)}}_applyChanges(se){const ve=this._viewContainer;se.forEachOperation((Ue,Xt,Qt)=>{if(null==Ue.previousIndex)ve.createEmbeddedView(this._template,new Ki(Ue.item,this._ngForOf,-1,-1),null===Qt?void 0:Qt);else if(null==Qt)ve.remove(null===Xt?void 0:Xt);else if(null!==Xt){const Mi=ve.get(Xt);ve.move(Mi,Qt),Ts(Mi,Ue)}});for(let Ue=0,Xt=ve.length;Ue<Xt;Ue++){const Mi=ve.get(Ue).context;Mi.index=Ue,Mi.count=Xt,Mi.ngForOf=this._ngForOf}se.forEachIdentityChange(Ue=>{Ts(ve.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(se,ve){return!0}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef),M.\u0275\u0275directiveInject(M.TemplateRef),M.\u0275\u0275directiveInject(M.IterableDiffers))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return $})();function Ts($,Ce){$.context.$implicit=Ce.item}let Di=(()=>{class ${constructor(se,ve){this._viewContainer=se,this._context=new ts,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(se){this._context.$implicit=this._context.ngIf=se,this._updateView()}set ngIfThen(se){Ba("ngIfThen",se),this._thenTemplateRef=se,this._thenViewRef=null,this._updateView()}set ngIfElse(se){Ba("ngIfElse",se),this._elseTemplateRef=se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(se,ve){return!0}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef),M.\u0275\u0275directiveInject(M.TemplateRef))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return $})();class ts{constructor(){this.$implicit=null,this.ngIf=null}}function Ba($,Ce){if(Ce&&!Ce.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,M.\u0275stringify)(Ce)}'.`)}class Qs{constructor(Ce,se){this._viewContainerRef=Ce,this._templateRef=se,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ce){Ce&&!this._created?this.create():!Ce&&this._created&&this.destroy()}}let ss=(()=>{class ${constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(se){this._ngSwitch=se,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(se){this._defaultViews.push(se)}_matchCase(se){const ve=se==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ve}_updateDefaultCases(se){if(this._defaultViews.length>0&&se!==this._defaultUsed){this._defaultUsed=se;for(const ve of this._defaultViews)ve.enforceState(se)}}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return $})(),aa=(()=>{class ${constructor(se,ve,Ue){this.ngSwitch=Ue,Ue._addCase(),this._view=new Qs(se,ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef),M.\u0275\u0275directiveInject(M.TemplateRef),M.\u0275\u0275directiveInject(ss,9))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return $})(),vs=(()=>{class ${constructor(se,ve,Ue){Ue._addDefault(new Qs(se,ve))}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef),M.\u0275\u0275directiveInject(M.TemplateRef),M.\u0275\u0275directiveInject(ss,9))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return $})(),Uo=(()=>{class ${constructor(se){this._localization=se,this._caseViews={}}set ngPlural(se){this._updateView(se)}addCase(se,ve){this._caseViews[se]=ve}_updateView(se){this._clearViews();const Ue=Fn(se,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[Ue])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(se){se&&(this._activeView=se,this._activeView.create())}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(bn))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0})}return $})(),tl=(()=>{class ${constructor(se,ve,Ue,Xt){this.value=se;const Qt=!isNaN(Number(se));Xt.addCase(Qt?`=${se}`:se,new Qs(Ue,ve))}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275injectAttribute("ngPluralCase"),M.\u0275\u0275directiveInject(M.TemplateRef),M.\u0275\u0275directiveInject(M.ViewContainerRef),M.\u0275\u0275directiveInject(Uo,1))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngPluralCase",""]],standalone:!0})}return $})(),ks=(()=>{class ${constructor(se,ve,Ue){this._ngEl=se,this._differs=ve,this._renderer=Ue,this._ngStyle=null,this._differ=null}set ngStyle(se){this._ngStyle=se,!this._differ&&se&&(this._differ=this._differs.find(se).create())}ngDoCheck(){if(this._differ){const se=this._differ.diff(this._ngStyle);se&&this._applyChanges(se)}}_setStyle(se,ve){const[Ue,Xt]=se.split("."),Qt=-1===Ue.indexOf("-")?void 0:M.RendererStyleFlags2.DashCase;null!=ve?this._renderer.setStyle(this._ngEl.nativeElement,Ue,Xt?`${ve}${Xt}`:ve,Qt):this._renderer.removeStyle(this._ngEl.nativeElement,Ue,Qt)}_applyChanges(se){se.forEachRemovedItem(ve=>this._setStyle(ve.key,null)),se.forEachAddedItem(ve=>this._setStyle(ve.key,ve.currentValue)),se.forEachChangedItem(ve=>this._setStyle(ve.key,ve.currentValue))}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.KeyValueDiffers),M.\u0275\u0275directiveInject(M.Renderer2))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return $})(),er=(()=>{class ${constructor(se){this._viewContainerRef=se,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(se){if(se.ngTemplateOutlet||se.ngTemplateOutletInjector){const ve=this._viewContainerRef;if(this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ue,ngTemplateOutletContext:Xt,ngTemplateOutletInjector:Qt}=this;this._viewRef=ve.createEmbeddedView(Ue,Xt,Qt?{injector:Qt}:void 0)}else this._viewRef=null}else this._viewRef&&se.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ViewContainerRef))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.\u0275\u0275NgOnChangesFeature]})}return $})();function Io($,Ce){return new M.\u0275RuntimeError(2100,!1)}class Il{createSubscription(Ce,se){return(0,M.untracked)(()=>Ce.subscribe({next:se,error:ve=>{throw ve}}))}dispose(Ce){(0,M.untracked)(()=>Ce.unsubscribe())}}class dl{createSubscription(Ce,se){return Ce.then(se,ve=>{throw ve})}dispose(Ce){}}const El=new dl,Us=new Il;let fl=(()=>{class ${constructor(se){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=se}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(se){return this._obj?se!==this._obj?(this._dispose(),this.transform(se)):this._latestValue:(se&&this._subscribe(se),this._latestValue)}_subscribe(se){this._obj=se,this._strategy=this._selectStrategy(se),this._subscription=this._strategy.createSubscription(se,ve=>this._updateLatestValue(se,ve))}_selectStrategy(se){if((0,M.\u0275isPromise)(se))return El;if((0,M.\u0275isSubscribable)(se))return Us;throw Io()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(se,ve){se===this._obj&&(this._latestValue=ve,this._ref.markForCheck())}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.ChangeDetectorRef,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"async",type:$,pure:!1,standalone:!0})}return $})(),nl=(()=>{class ${transform(se){if(null==se)return null;if("string"!=typeof se)throw Io();return se.toLowerCase()}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"lowercase",type:$,pure:!0,standalone:!0})}return $})();const mr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let qs=(()=>{class ${transform(se){if(null==se)return null;if("string"!=typeof se)throw Io();return se.replace(mr,ve=>ve[0].toUpperCase()+ve.slice(1).toLowerCase())}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"titlecase",type:$,pure:!0,standalone:!0})}return $})(),ea=(()=>{class ${transform(se){if(null==se)return null;if("string"!=typeof se)throw Io();return se.toUpperCase()}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"uppercase",type:$,pure:!0,standalone:!0})}return $})();const Sa=new M.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE"),il=new M.InjectionToken("DATE_PIPE_DEFAULT_OPTIONS");let Oa=(()=>{class ${constructor(se,ve,Ue){this.locale=se,this.defaultTimezone=ve,this.defaultOptions=Ue}transform(se,ve,Ue,Xt){if(null==se||""===se||se!=se)return null;try{return Vr(se,ve??this.defaultOptions?.dateFormat??"mediumDate",Xt||this.locale,Ue??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Qt){throw Io()}}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.LOCALE_ID,16),M.\u0275\u0275directiveInject(Sa,24),M.\u0275\u0275directiveInject(il,24))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"date",type:$,pure:!0,standalone:!0})}return $})();const so=/#/g;let vl=(()=>{class ${constructor(se){this._localization=se}transform(se,ve,Ue){if(null==se)return"";if("object"!=typeof ve||null===ve)throw Io();return ve[Fn(se,Object.keys(ve),this._localization,Ue)].replace(so,se.toString())}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(bn,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"i18nPlural",type:$,pure:!0,standalone:!0})}return $})(),Ka=(()=>{class ${transform(se,ve){if(null==se)return"";if("object"!=typeof ve||"string"!=typeof se)throw Io();return ve.hasOwnProperty(se)?ve[se]:ve.hasOwnProperty("other")?ve.other:""}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"i18nSelect",type:$,pure:!0,standalone:!0})}return $})(),ta=(()=>{class ${transform(se){return JSON.stringify(se,null,2)}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"json",type:$,pure:!1,standalone:!0})}return $})(),Ga=(()=>{class ${constructor(se){this.differs=se,this.keyValues=[],this.compareFn=Hr}transform(se,ve=Hr){if(!se||!(se instanceof Map)&&"object"!=typeof se)return null;this.differ||(this.differ=this.differs.find(se).create());const Ue=this.differ.diff(se),Xt=ve!==this.compareFn;return Ue&&(this.keyValues=[],Ue.forEachItem(Qt=>{this.keyValues.push(function Jo($,Ce){return{key:$,value:Ce}}(Qt.key,Qt.currentValue))})),(Ue||Xt)&&(this.keyValues.sort(ve),this.compareFn=ve),this.keyValues}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.KeyValueDiffers,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"keyvalue",type:$,pure:!1,standalone:!0})}return $})();function Hr($,Ce){const se=$.key,ve=Ce.key;if(se===ve)return 0;if(void 0===se)return 1;if(void 0===ve)return-1;if(null===se)return 1;if(null===ve)return-1;if("string"==typeof se&&"string"==typeof ve)return se<ve?-1:1;if("number"==typeof se&&"number"==typeof ve)return se-ve;if("boolean"==typeof se&&"boolean"==typeof ve)return se<ve?-1:1;const Ue=String(se),Xt=String(ve);return Ue==Xt?0:Ue<Xt?-1:1}let jo=(()=>{class ${constructor(se){this._locale=se}transform(se,ve,Ue){if(!as(se))return null;Ue=Ue||this._locale;try{return Gr(ls(se),Ue,ve)}catch(Xt){throw Io()}}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.LOCALE_ID,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"number",type:$,pure:!0,standalone:!0})}return $})(),Er=(()=>{class ${constructor(se){this._locale=se}transform(se,ve,Ue){if(!as(se))return null;Ue=Ue||this._locale;try{return ko(ls(se),Ue,ve)}catch(Xt){throw Io()}}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.LOCALE_ID,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"percent",type:$,pure:!0,standalone:!0})}return $})(),na=(()=>{class ${constructor(se,ve="USD"){this._locale=se,this._defaultCurrencyCode=ve}transform(se,ve=this._defaultCurrencyCode,Ue="symbol",Xt,Qt){if(!as(se))return null;Qt=Qt||this._locale,"boolean"==typeof Ue&&(Ue=Ue?"symbol":"code");let Mi=ve||this._defaultCurrencyCode;"code"!==Ue&&(Mi="symbol"===Ue||"symbol-narrow"===Ue?Dt(Mi,"symbol"===Ue?"wide":"narrow",Qt):Ue);try{return ha(ls(se),Qt,Mi,ve,Xt)}catch(Oo){throw Io()}}static#e=this.\u0275fac=function(ve){return new(ve||$)(M.\u0275\u0275directiveInject(M.LOCALE_ID,16),M.\u0275\u0275directiveInject(M.DEFAULT_CURRENCY_CODE,16))};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"currency",type:$,pure:!0,standalone:!0})}return $})();function as($){return!(null==$||""===$||$!=$)}function ls($){if("string"==typeof $&&!isNaN(Number($)-parseFloat($)))return Number($);if("number"!=typeof $)throw new Error(`${$} is not a number`);return $}let Va=(()=>{class ${transform(se,ve,Ue){if(null==se)return null;if(!this.supports(se))throw Io();return se.slice(ve,Ue)}supports(se){return"string"==typeof se||Array.isArray(se)}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275pipe=M.\u0275\u0275definePipe({name:"slice",type:$,pure:!1,standalone:!0})}return $})(),Ws=(()=>{class ${static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:$});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({})}return $})();const ma="browser",Lr="server",Sn="browserWorkerApp",tr="browserWorkerUi";function po($){return $===ma}function la($){return $===Lr}function Ol($){return $===Sn}function ys($){return $===tr}const rl=new M.Version("16.2.12");let co=(()=>{class ${static#e=this.\u0275prov=(0,M.\u0275\u0275defineInjectable)({token:$,providedIn:"root",factory:()=>new sr((0,M.\u0275\u0275inject)(y),window)})}return $})();class sr{constructor(Ce,se){this.document=Ce,this.window=se,this.offset=()=>[0,0]}setOffset(Ce){this.offset=Array.isArray(Ce)?()=>Ce:Ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ce){this.supportsScrolling()&&this.window.scrollTo(Ce[0],Ce[1])}scrollToAnchor(Ce){if(!this.supportsScrolling())return;const se=function ao($,Ce){const se=$.getElementById(Ce)||$.getElementsByName(Ce)[0];if(se)return se;if("function"==typeof $.createTreeWalker&&$.body&&"function"==typeof $.body.attachShadow){const ve=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let Ue=ve.currentNode;for(;Ue;){const Xt=Ue.shadowRoot;if(Xt){const Qt=Xt.getElementById(Ce)||Xt.querySelector(`[name="${Ce}"]`);if(Qt)return Qt}Ue=ve.nextNode()}}return null}(this.document,Ce);se&&(this.scrollToElement(se),se.focus())}setHistoryScrollRestoration(Ce){this.supportsScrolling()&&(this.window.history.scrollRestoration=Ce)}scrollToElement(Ce){const se=Ce.getBoundingClientRect(),ve=se.left+this.window.pageXOffset,Ue=se.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(ve-Xt[0],Ue-Xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Hi{setOffset(Ce){}getScrollPosition(){return[0,0]}scrollToPosition(Ce){}scrollToAnchor(Ce){}setHistoryScrollRestoration(Ce){}}class Xl{}function dr($){return $.startsWith("/")?$.slice(1):$}const hl=$=>$.src,Fl=new M.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>hl});function Ra($,Ce){return function(ve){return function Rl($){if("string"!=typeof $||""===$.trim())return!1;try{return new URL($),!0}catch{return!1}}(ve)||function wl($,Ce){throw new M.\u0275RuntimeError(2959,!1)}(),ve=function ol($){return $.endsWith("/")?$.slice(0,-1):$}(ve),[{provide:Fl,useValue:Qt=>(function Ja($){return/^https?:\/\//.test($)}(Qt.src)&&function Xs($,Ce){throw new M.\u0275RuntimeError(2959,!1)}(),$(ve,{...Qt,src:dr(Qt.src)}))}]}}const pl=Ra(Kr);function Kr($,Ce){let se="format=auto";return Ce.width&&(se+=`,width=${Ce.width}`),`${$}/cdn-cgi/image/${se}/${Ce.src}`}const De=Ra(mt);function mt($,Ce){let se="f_auto,q_auto";return Ce.width&&(se+=`,w_${Ce.width}`),`${$}/image/upload/${se}/${Ce.src}`}const fn=Ra(zt);function zt($,Ce){const{src:se,width:ve}=Ce;let Ue;return Ue=ve?[$,`tr:w-${ve}`,se]:[$,se],Ue.join("/")}const $r=Ra(pi);function pi($,Ce){const se=new URL(`${$}/${Ce.src}`);return se.searchParams.set("auto","format"),Ce.width&&se.searchParams.set("w",Ce.width.toString()),se.href}const Ae=new M.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),lr=new M.InjectionToken("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let ca=(()=>{class ${constructor(){this.preloadedImages=(0,M.inject)(lr),this.document=(0,M.inject)(y)}createPreloadLinkTag(se,ve,Ue,Xt){if(this.preloadedImages.has(ve))return;this.preloadedImages.add(ve);const Qt=se.createElement("link");se.setAttribute(Qt,"as","image"),se.setAttribute(Qt,"href",ve),se.setAttribute(Qt,"rel","preload"),se.setAttribute(Qt,"fetchpriority","high"),Xt&&se.setAttribute(Qt,"imageSizes",Xt),Ue&&se.setAttribute(Qt,"imageSrcset",Ue),se.appendChild(this.document.head,Qt)}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const $i=/^((\s*\d+w\s*(,|$)){1,})$/,ia=[1,2],vr={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},fr=new M.InjectionToken("ImageConfig",{providedIn:"root",factory:()=>vr});let za=(()=>{class ${constructor(){this.imageLoader=(0,M.inject)(Fl),this.config=function ln($){let Ce={};return $.breakpoints&&(Ce.breakpoints=$.breakpoints.sort((se,ve)=>se-ve)),Object.assign({},vr,$,Ce)}((0,M.inject)(fr)),this.renderer=(0,M.inject)(M.Renderer2),this.imgElement=(0,M.inject)(M.ElementRef).nativeElement,this.injector=(0,M.inject)(M.Injector),this.isServer=la((0,M.inject)(M.PLATFORM_ID)),this.preloadLinkCreator=(0,M.inject)(ca),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const se=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),se,this.sizes)}ngOnChanges(se){if(se.ngSrc&&!se.ngSrc.isFirstChange()){const ve=this._renderedSrc;this.updateSrcAndSrcset(!0);const Ue=this._renderedSrc;null!==this.lcpObserver&&ve&&Ue&&ve!==Ue&&this.injector.get(M.NgZone).runOutsideAngular(()=>{this.lcpObserver?.updateImage(ve,Ue)})}}callImageLoader(se){let ve=se;return this.loaderParams&&(ve.loaderParams=this.loaderParams),this.imageLoader(ve)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const se=$i.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Ue=>""!==Ue).map(Ue=>{Ue=Ue.trim();const Xt=se?parseFloat(Ue):parseFloat(Ue)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Xt})} ${Ue}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:se}=this.config;let ve=se;return"100vw"===this.sizes?.trim()&&(ve=se.filter(Xt=>Xt>=640)),ve.map(Xt=>`${this.callImageLoader({src:this.ngSrc,width:Xt})} ${Xt}w`).join(", ")}updateSrcAndSrcset(se=!1){se&&(this._renderedSrc=null);const ve=this.getRewrittenSrc();let Ue;return this.setHostAttribute("src",ve),this.ngSrcset?Ue=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Ue=this.getAutomaticSrcset()),Ue&&this.setHostAttribute("srcset",Ue),Ue}getFixedSrcset(){return ia.map(ve=>`${this.callImageLoader({src:this.ngSrc,width:this.width*ve})} ${ve}x`).join(", ")}shouldGenerateAutomaticSrcset(){let se=!1;return this.sizes||(se=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==hl&&!se}ngOnDestroy(){}setHostAttribute(se,ve){this.renderer.setAttribute(this.imgElement,se,ve)}static#e=this.\u0275fac=function(ve){return new(ve||$)};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:$,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(ve,Ue){2&ve&&M.\u0275\u0275styleProp("position",Ue.fill?"absolute":null)("width",Ue.fill?"100%":null)("height",Ue.fill?"100%":null)("inset",Ue.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",ra],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",M.numberAttribute],height:["height","height",M.numberAttribute],loading:"loading",priority:["priority","priority",M.booleanAttribute],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",M.booleanAttribute],fill:["fill","fill",M.booleanAttribute],src:"src",srcset:"srcset"},standalone:!0,features:[M.\u0275\u0275InputTransformsFeature,M.\u0275\u0275NgOnChangesFeature]})}return $})();function ra($){return"string"==typeof $?$:(0,M.\u0275unwrapSafeValue)($)}},1474:(Ge,u,_)=>{"use strict";function M(ht,ut,nt,Pt,vn,bn,Fn){try{var Ri=ht[bn](Fn),fi=Ri.value}catch(Mr){return void nt(Mr)}Ri.done?ut(fi):Promise.resolve(fi).then(Pt,vn)}function K(ht){return function(){var ut=this,nt=arguments;return new Promise(function(Pt,vn){var bn=ht.apply(ut,nt);function Fn(fi){M(bn,Pt,vn,Fn,Ri,"next",fi)}function Ri(fi){M(bn,Pt,vn,Fn,Ri,"throw",fi)}Fn(void 0)})}}_.r(u),_.d(u,{FetchBackend:()=>to,HTTP_INTERCEPTORS:()=>dt,HttpBackend:()=>ge,HttpClient:()=>In,HttpClientJsonpModule:()=>br,HttpClientModule:()=>di,HttpClientXsrfModule:()=>Qn,HttpContext:()=>bt,HttpContextToken:()=>qe,HttpErrorResponse:()=>Ut,HttpEventType:()=>Zn,HttpFeatureKind:()=>ji,HttpHandler:()=>de,HttpHeaderResponse:()=>Lt,HttpHeaders:()=>Oe,HttpParams:()=>be,HttpRequest:()=>xt,HttpResponse:()=>Rt,HttpResponseBase:()=>qi,HttpUrlEncodingCodec:()=>rt,HttpXhrBackend:()=>oo,HttpXsrfTokenExtractor:()=>Zo,JsonpClientBackend:()=>wo,JsonpInterceptor:()=>So,provideHttpClient:()=>gs,withFetch:()=>Wt,withInterceptors:()=>Ss,withInterceptorsFromDi:()=>Ls,withJsonpSupport:()=>ze,withNoXsrfProtection:()=>Bt,withRequestsMadeViaParent:()=>ct,withXsrfConfiguration:()=>Gt,\u0275HttpInterceptingHandler:()=>cn,\u0275HttpInterceptorHandler:()=>cn,\u0275withHttpTransferCache:()=>Gr});var G=_(6689),W=_(2096),R=_(5592),y=_(7715),h=_(6328),E=_(2181),P=_(7398),F=_(4716),B=_(4664),k=_(9397),ne=_(1374),q=_(6814);class de{}class ge{}class Oe{constructor(ut){this.normalizedNames=new Map,this.lazyUpdate=null,ut?"string"==typeof ut?this.lazyInit=()=>{this.headers=new Map,ut.split("\n").forEach(nt=>{const Pt=nt.indexOf(":");if(Pt>0){const vn=nt.slice(0,Pt),bn=vn.toLowerCase(),Fn=nt.slice(Pt+1).trim();this.maybeSetNormalizedName(vn,bn),this.headers.has(bn)?this.headers.get(bn).push(Fn):this.headers.set(bn,[Fn])}})}:typeof Headers<"u"&&ut instanceof Headers?(this.headers=new Map,ut.forEach((nt,Pt)=>{this.setHeaderEntries(Pt,nt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ut).forEach(([nt,Pt])=>{this.setHeaderEntries(nt,Pt)})}:this.headers=new Map}has(ut){return this.init(),this.headers.has(ut.toLowerCase())}get(ut){this.init();const nt=this.headers.get(ut.toLowerCase());return nt&&nt.length>0?nt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ut){return this.init(),this.headers.get(ut.toLowerCase())||null}append(ut,nt){return this.clone({name:ut,value:nt,op:"a"})}set(ut,nt){return this.clone({name:ut,value:nt,op:"s"})}delete(ut,nt){return this.clone({name:ut,value:nt,op:"d"})}maybeSetNormalizedName(ut,nt){this.normalizedNames.has(nt)||this.normalizedNames.set(nt,ut)}init(){this.lazyInit&&(this.lazyInit instanceof Oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ut=>this.applyUpdate(ut)),this.lazyUpdate=null))}copyFrom(ut){ut.init(),Array.from(ut.headers.keys()).forEach(nt=>{this.headers.set(nt,ut.headers.get(nt)),this.normalizedNames.set(nt,ut.normalizedNames.get(nt))})}clone(ut){const nt=new Oe;return nt.lazyInit=this.lazyInit&&this.lazyInit instanceof Oe?this.lazyInit:this,nt.lazyUpdate=(this.lazyUpdate||[]).concat([ut]),nt}applyUpdate(ut){const nt=ut.name.toLowerCase();switch(ut.op){case"a":case"s":let Pt=ut.value;if("string"==typeof Pt&&(Pt=[Pt]),0===Pt.length)return;this.maybeSetNormalizedName(ut.name,nt);const vn=("a"===ut.op?this.headers.get(nt):void 0)||[];vn.push(...Pt),this.headers.set(nt,vn);break;case"d":const bn=ut.value;if(bn){let Fn=this.headers.get(nt);if(!Fn)return;Fn=Fn.filter(Ri=>-1===bn.indexOf(Ri)),0===Fn.length?(this.headers.delete(nt),this.normalizedNames.delete(nt)):this.headers.set(nt,Fn)}else this.headers.delete(nt),this.normalizedNames.delete(nt)}}setHeaderEntries(ut,nt){const Pt=(Array.isArray(nt)?nt:[nt]).map(bn=>bn.toString()),vn=ut.toLowerCase();this.headers.set(vn,Pt),this.maybeSetNormalizedName(ut,vn)}forEach(ut){this.init(),Array.from(this.normalizedNames.keys()).forEach(nt=>ut(this.normalizedNames.get(nt),this.headers.get(nt)))}}class rt{encodeKey(ut){return Ze(ut)}encodeValue(ut){return Ze(ut)}decodeKey(ut){return decodeURIComponent(ut)}decodeValue(ut){return decodeURIComponent(ut)}}const Ee=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ze(ht){return encodeURIComponent(ht).replace(Ee,(ut,nt)=>Ne[nt]??ut)}function je(ht){return`${ht}`}class be{constructor(ut={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ut.encoder||new rt,ut.fromString){if(ut.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Se(ht,ut){const nt=new Map;return ht.length>0&&ht.replace(/^\?/,"").split("&").forEach(vn=>{const bn=vn.indexOf("="),[Fn,Ri]=-1==bn?[ut.decodeKey(vn),""]:[ut.decodeKey(vn.slice(0,bn)),ut.decodeValue(vn.slice(bn+1))],fi=nt.get(Fn)||[];fi.push(Ri),nt.set(Fn,fi)}),nt}(ut.fromString,this.encoder)}else ut.fromObject?(this.map=new Map,Object.keys(ut.fromObject).forEach(nt=>{const Pt=ut.fromObject[nt],vn=Array.isArray(Pt)?Pt.map(je):[je(Pt)];this.map.set(nt,vn)})):this.map=null}has(ut){return this.init(),this.map.has(ut)}get(ut){this.init();const nt=this.map.get(ut);return nt?nt[0]:null}getAll(ut){return this.init(),this.map.get(ut)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ut,nt){return this.clone({param:ut,value:nt,op:"a"})}appendAll(ut){const nt=[];return Object.keys(ut).forEach(Pt=>{const vn=ut[Pt];Array.isArray(vn)?vn.forEach(bn=>{nt.push({param:Pt,value:bn,op:"a"})}):nt.push({param:Pt,value:vn,op:"a"})}),this.clone(nt)}set(ut,nt){return this.clone({param:ut,value:nt,op:"s"})}delete(ut,nt){return this.clone({param:ut,value:nt,op:"d"})}toString(){return this.init(),this.keys().map(ut=>{const nt=this.encoder.encodeKey(ut);return this.map.get(ut).map(Pt=>nt+"="+this.encoder.encodeValue(Pt)).join("&")}).filter(ut=>""!==ut).join("&")}clone(ut){const nt=new be({encoder:this.encoder});return nt.cloneFrom=this.cloneFrom||this,nt.updates=(this.updates||[]).concat(ut),nt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ut=>this.map.set(ut,this.cloneFrom.map.get(ut))),this.updates.forEach(ut=>{switch(ut.op){case"a":case"s":const nt=("a"===ut.op?this.map.get(ut.param):void 0)||[];nt.push(je(ut.value)),this.map.set(ut.param,nt);break;case"d":if(void 0===ut.value){this.map.delete(ut.param);break}{let Pt=this.map.get(ut.param)||[];const vn=Pt.indexOf(je(ut.value));-1!==vn&&Pt.splice(vn,1),Pt.length>0?this.map.set(ut.param,Pt):this.map.delete(ut.param)}}}),this.cloneFrom=this.updates=null)}}class qe{constructor(ut){this.defaultValue=ut}}class bt{constructor(){this.map=new Map}set(ut,nt){return this.map.set(ut,nt),this}get(ut){return this.map.has(ut)||this.map.set(ut,ut.defaultValue()),this.map.get(ut)}delete(ut){return this.map.delete(ut),this}has(ut){return this.map.has(ut)}keys(){return this.map.keys()}}function _t(ht){return typeof ArrayBuffer<"u"&&ht instanceof ArrayBuffer}function en(ht){return typeof Blob<"u"&&ht instanceof Blob}function rn(ht){return typeof FormData<"u"&&ht instanceof FormData}class xt{constructor(ut,nt,Pt,vn){let bn;if(this.url=nt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ut.toUpperCase(),function Nt(ht){switch(ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vn?(this.body=void 0!==Pt?Pt:null,bn=vn):bn=Pt,bn&&(this.reportProgress=!!bn.reportProgress,this.withCredentials=!!bn.withCredentials,bn.responseType&&(this.responseType=bn.responseType),bn.headers&&(this.headers=bn.headers),bn.context&&(this.context=bn.context),bn.params&&(this.params=bn.params)),this.headers||(this.headers=new Oe),this.context||(this.context=new bt),this.params){const Fn=this.params.toString();if(0===Fn.length)this.urlWithParams=nt;else{const Ri=nt.indexOf("?");this.urlWithParams=nt+(-1===Ri?"?":Ri<nt.length-1?"&":"")+Fn}}else this.params=new be,this.urlWithParams=nt}serializeBody(){return null===this.body?null:_t(this.body)||en(this.body)||rn(this.body)||function an(ht){return typeof URLSearchParams<"u"&&ht instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rn(this.body)?null:en(this.body)?this.body.type||null:_t(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ut={}){const nt=ut.method||this.method,Pt=ut.url||this.url,vn=ut.responseType||this.responseType,bn=void 0!==ut.body?ut.body:this.body,Fn=void 0!==ut.withCredentials?ut.withCredentials:this.withCredentials,Ri=void 0!==ut.reportProgress?ut.reportProgress:this.reportProgress;let fi=ut.headers||this.headers,Mr=ut.params||this.params;const ho=ut.context??this.context;return void 0!==ut.setHeaders&&(fi=Object.keys(ut.setHeaders).reduce((Zr,Wr)=>Zr.set(Wr,ut.setHeaders[Wr]),fi)),ut.setParams&&(Mr=Object.keys(ut.setParams).reduce((Zr,Wr)=>Zr.set(Wr,ut.setParams[Wr]),Mr)),new xt(nt,Pt,bn,{params:Mr,headers:fi,context:ho,reportProgress:Ri,responseType:vn,withCredentials:Fn})}}var Zn=function(ht){return ht[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht}(Zn||{});class qi{constructor(ut,nt=200,Pt="OK"){this.headers=ut.headers||new Oe,this.status=void 0!==ut.status?ut.status:nt,this.statusText=ut.statusText||Pt,this.url=ut.url||null,this.ok=this.status>=200&&this.status<300}}class Lt extends qi{constructor(ut={}){super(ut),this.type=Zn.ResponseHeader}clone(ut={}){return new Lt({headers:ut.headers||this.headers,status:void 0!==ut.status?ut.status:this.status,statusText:ut.statusText||this.statusText,url:ut.url||this.url||void 0})}}class Rt extends qi{constructor(ut={}){super(ut),this.type=Zn.Response,this.body=void 0!==ut.body?ut.body:null}clone(ut={}){return new Rt({body:void 0!==ut.body?ut.body:this.body,headers:ut.headers||this.headers,status:void 0!==ut.status?ut.status:this.status,statusText:ut.statusText||this.statusText,url:ut.url||this.url||void 0})}}class Ut extends qi{constructor(ut){super(ut,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ut.url||"(unknown url)"}`:`Http failure response for ${ut.url||"(unknown url)"}: ${ut.status} ${ut.statusText}`,this.error=ut.error||null}}function on(ht,ut){return{body:ut,headers:ht.headers,context:ht.context,observe:ht.observe,params:ht.params,reportProgress:ht.reportProgress,responseType:ht.responseType,withCredentials:ht.withCredentials}}let In=(()=>{class ht{constructor(nt){this.handler=nt}request(nt,Pt,vn={}){let bn;if(nt instanceof xt)bn=nt;else{let fi,Mr;fi=vn.headers instanceof Oe?vn.headers:new Oe(vn.headers),vn.params&&(Mr=vn.params instanceof be?vn.params:new be({fromObject:vn.params})),bn=new xt(nt,Pt,void 0!==vn.body?vn.body:null,{headers:fi,context:vn.context,params:Mr,reportProgress:vn.reportProgress,responseType:vn.responseType||"json",withCredentials:vn.withCredentials})}const Fn=(0,W.of)(bn).pipe((0,h.b)(fi=>this.handler.handle(fi)));if(nt instanceof xt||"events"===vn.observe)return Fn;const Ri=Fn.pipe((0,E.h)(fi=>fi instanceof Rt));switch(vn.observe||"body"){case"body":switch(bn.responseType){case"arraybuffer":return Ri.pipe((0,P.U)(fi=>{if(null!==fi.body&&!(fi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fi.body}));case"blob":return Ri.pipe((0,P.U)(fi=>{if(null!==fi.body&&!(fi.body instanceof Blob))throw new Error("Response is not a Blob.");return fi.body}));case"text":return Ri.pipe((0,P.U)(fi=>{if(null!==fi.body&&"string"!=typeof fi.body)throw new Error("Response is not a string.");return fi.body}));default:return Ri.pipe((0,P.U)(fi=>fi.body))}case"response":return Ri;default:throw new Error(`Unreachable: unhandled observe type ${vn.observe}}`)}}delete(nt,Pt={}){return this.request("DELETE",nt,Pt)}get(nt,Pt={}){return this.request("GET",nt,Pt)}head(nt,Pt={}){return this.request("HEAD",nt,Pt)}jsonp(nt,Pt){return this.request("JSONP",nt,{params:(new be).append(Pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(nt,Pt={}){return this.request("OPTIONS",nt,Pt)}patch(nt,Pt,vn={}){return this.request("PATCH",nt,on(vn,Pt))}post(nt,Pt,vn={}){return this.request("POST",nt,on(vn,Pt))}put(nt,Pt,vn={}){return this.request("PUT",nt,on(vn,Pt))}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(de))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();const _n=/^\)\]\}',?\n/;function Pn(ht){if(ht.url)return ht.url;const ut="X-Request-URL".toLocaleLowerCase();return ht.headers.get(ut)}let to=(()=>{class ht{constructor(){this.fetchImpl=(0,G.inject)(Gn,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,G.inject)(G.NgZone)}handle(nt){return new R.y(Pt=>{const vn=new AbortController;return this.doRequest(nt,vn.signal,Pt).then(wi,bn=>Pt.error(new Ut({error:bn}))),()=>vn.abort()})}doRequest(nt,Pt,vn){var bn=this;return K(function*(){const Fn=bn.createRequestInit(nt);let Ri;try{const us=bn.fetchImpl(nt.urlWithParams,{signal:Pt,...Fn});(function _r(ht){ht.then(wi,wi)})(us),vn.next({type:Zn.Sent}),Ri=yield us}catch(us){return void vn.error(new Ut({error:us,status:us.status??0,statusText:us.statusText,url:nt.urlWithParams,headers:us.headers}))}const fi=new Oe(Ri.headers),Mr=Ri.statusText,ho=Pn(Ri)??nt.urlWithParams;let Zr=Ri.status,Wr=null;if(nt.reportProgress&&vn.next(new Lt({headers:fi,status:Zr,statusText:Mr,url:ho})),Ri.body){const us=Ri.headers.get("content-length"),Ki=[],Ir=Ri.body.getReader();let Rs,Di,Ts=0;const ts=typeof Zone<"u"&&Zone.current;yield bn.ngZone.runOutsideAngular(K(function*(){for(;;){const{done:Qs,value:ss}=yield Ir.read();if(Qs)break;if(Ki.push(ss),Ts+=ss.length,nt.reportProgress){Di="text"===nt.responseType?(Di??"")+(Rs??=new TextDecoder).decode(ss,{stream:!0}):void 0;const aa=()=>vn.next({type:Zn.DownloadProgress,total:us?+us:void 0,loaded:Ts,partialText:Di});ts?ts.run(aa):aa()}}}));const Ba=bn.concatChunks(Ki,Ts);try{Wr=bn.parseBody(nt,Ba)}catch(Qs){return void vn.error(new Ut({error:Qs,headers:new Oe(Ri.headers),status:Ri.status,statusText:Ri.statusText,url:Pn(Ri)??nt.urlWithParams}))}}0===Zr&&(Zr=Wr?200:0),Zr>=200&&Zr<300?(vn.next(new Rt({body:Wr,headers:fi,status:Zr,statusText:Mr,url:ho})),vn.complete()):vn.error(new Ut({error:Wr,headers:fi,status:Zr,statusText:Mr,url:ho}))})()}parseBody(nt,Pt){switch(nt.responseType){case"json":const vn=(new TextDecoder).decode(Pt).replace(_n,"");return""===vn?null:JSON.parse(vn);case"text":return(new TextDecoder).decode(Pt);case"blob":return new Blob([Pt]);case"arraybuffer":return Pt.buffer}}createRequestInit(nt){const Pt={},vn=nt.withCredentials?"include":void 0;if(nt.headers.forEach((bn,Fn)=>Pt[bn]=Fn.join(",")),Pt.Accept??="application/json, text/plain, */*",!Pt["Content-Type"]){const bn=nt.detectContentTypeHeader();null!==bn&&(Pt["Content-Type"]=bn)}return{body:nt.serializeBody(),method:nt.method,headers:Pt,credentials:vn}}concatChunks(nt,Pt){const vn=new Uint8Array(Pt);let bn=0;for(const Fn of nt)vn.set(Fn,bn),bn+=Fn.length;return vn}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();class Gn{}function wi(){}function Ai(ht,ut){return ut(ht)}function Yr(ht,ut){return(nt,Pt)=>ut.intercept(nt,{handle:vn=>ht(vn,Pt)})}const dt=new G.InjectionToken(""),et=new G.InjectionToken(""),Dt=new G.InjectionToken("");function It(){let ht=null;return(ut,nt)=>{null===ht&&(ht=((0,G.inject)(dt,{optional:!0})??[]).reduceRight(Yr,Ai));const Pt=(0,G.inject)(G.\u0275InitialRenderPendingTasks),vn=Pt.add();return ht(ut,nt).pipe((0,F.x)(()=>Pt.remove(vn)))}}let Br,cn=(()=>{class ht extends de{constructor(nt,Pt){super(),this.backend=nt,this.injector=Pt,this.chain=null,this.pendingTasks=(0,G.inject)(G.\u0275InitialRenderPendingTasks)}handle(nt){if(null===this.chain){const vn=Array.from(new Set([...this.injector.get(et),...this.injector.get(Dt,[])]));this.chain=vn.reduceRight((bn,Fn)=>function Lo(ht,ut,nt){return(Pt,vn)=>nt.runInContext(()=>ut(Pt,bn=>ht(bn,vn)))}(bn,Fn,this.injector),Ai)}const Pt=this.pendingTasks.add();return this.chain(nt,vn=>this.backend.handle(vn)).pipe((0,F.x)(()=>this.pendingTasks.remove(Pt)))}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(ge),G.\u0275\u0275inject(G.EnvironmentInjector))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})(),tn=0;class Vr{}function no(){return"object"==typeof window?window:{}}let wo=(()=>{class ht{constructor(nt,Pt){this.callbackMap=nt,this.document=Pt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+tn++}handle(nt){if("JSONP"!==nt.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==nt.responseType)throw new Error("JSONP requests must use Json response type.");if(nt.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new R.y(Pt=>{const vn=this.nextCallback(),bn=nt.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${vn}$1`),Fn=this.document.createElement("script");Fn.src=bn;let Ri=null,fi=!1;this.callbackMap[vn]=Wr=>{delete this.callbackMap[vn],Ri=Wr,fi=!0};const Mr=()=>{Fn.parentNode&&Fn.parentNode.removeChild(Fn),delete this.callbackMap[vn]};return Fn.addEventListener("load",Wr=>{this.resolvedPromise.then(()=>{Mr(),fi?(Pt.next(new Rt({body:Ri,status:200,statusText:"OK",url:bn})),Pt.complete()):Pt.error(new Ut({url:bn,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),Fn.addEventListener("error",Wr=>{Mr(),Pt.error(new Ut({error:Wr,status:0,statusText:"JSONP Error",url:bn}))}),this.document.body.appendChild(Fn),Pt.next({type:Zn.Sent}),()=>{fi||this.removeListeners(Fn),Mr()}})}removeListeners(nt){Br||(Br=this.document.implementation.createHTMLDocument()),Br.adoptNode(nt)}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(Vr),G.\u0275\u0275inject(q.DOCUMENT))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();function Xi(ht,ut){return"JSONP"===ht.method?(0,G.inject)(wo).handle(ht):ut(ht)}let So=(()=>{class ht{constructor(nt){this.injector=nt}intercept(nt,Pt){return this.injector.runInContext(()=>Xi(nt,vn=>Pt.handle(vn)))}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(G.EnvironmentInjector))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();const zo=/^\)\]\}',?\n/;let oo=(()=>{class ht{constructor(nt){this.xhrFactory=nt}handle(nt){if("JSONP"===nt.method)throw new G.\u0275RuntimeError(-2800,!1);const Pt=this.xhrFactory;return(Pt.\u0275loadImpl?(0,y.D)(Pt.\u0275loadImpl()):(0,W.of)(null)).pipe((0,B.w)(()=>new R.y(bn=>{const Fn=Pt.build();if(Fn.open(nt.method,nt.urlWithParams),nt.withCredentials&&(Fn.withCredentials=!0),nt.headers.forEach((Ki,Ir)=>Fn.setRequestHeader(Ki,Ir.join(","))),nt.headers.has("Accept")||Fn.setRequestHeader("Accept","application/json, text/plain, */*"),!nt.headers.has("Content-Type")){const Ki=nt.detectContentTypeHeader();null!==Ki&&Fn.setRequestHeader("Content-Type",Ki)}if(nt.responseType){const Ki=nt.responseType.toLowerCase();Fn.responseType="json"!==Ki?Ki:"text"}const Ri=nt.serializeBody();let fi=null;const Mr=()=>{if(null!==fi)return fi;const Ki=Fn.statusText||"OK",Ir=new Oe(Fn.getAllResponseHeaders()),Ts=function vi(ht){return"responseURL"in ht&&ht.responseURL?ht.responseURL:/^X-Request-URL:/m.test(ht.getAllResponseHeaders())?ht.getResponseHeader("X-Request-URL"):null}(Fn)||nt.url;return fi=new Lt({headers:Ir,status:Fn.status,statusText:Ki,url:Ts}),fi},ho=()=>{let{headers:Ki,status:Ir,statusText:Ts,url:Rs}=Mr(),Di=null;204!==Ir&&(Di=typeof Fn.response>"u"?Fn.responseText:Fn.response),0===Ir&&(Ir=Di?200:0);let ts=Ir>=200&&Ir<300;if("json"===nt.responseType&&"string"==typeof Di){const Ba=Di;Di=Di.replace(zo,"");try{Di=""!==Di?JSON.parse(Di):null}catch(Qs){Di=Ba,ts&&(ts=!1,Di={error:Qs,text:Di})}}ts?(bn.next(new Rt({body:Di,headers:Ki,status:Ir,statusText:Ts,url:Rs||void 0})),bn.complete()):bn.error(new Ut({error:Di,headers:Ki,status:Ir,statusText:Ts,url:Rs||void 0}))},Zr=Ki=>{const{url:Ir}=Mr(),Ts=new Ut({error:Ki,status:Fn.status||0,statusText:Fn.statusText||"Unknown Error",url:Ir||void 0});bn.error(Ts)};let Wr=!1;const pr=Ki=>{Wr||(bn.next(Mr()),Wr=!0);let Ir={type:Zn.DownloadProgress,loaded:Ki.loaded};Ki.lengthComputable&&(Ir.total=Ki.total),"text"===nt.responseType&&Fn.responseText&&(Ir.partialText=Fn.responseText),bn.next(Ir)},us=Ki=>{let Ir={type:Zn.UploadProgress,loaded:Ki.loaded};Ki.lengthComputable&&(Ir.total=Ki.total),bn.next(Ir)};return Fn.addEventListener("load",ho),Fn.addEventListener("error",Zr),Fn.addEventListener("timeout",Zr),Fn.addEventListener("abort",Zr),nt.reportProgress&&(Fn.addEventListener("progress",pr),null!==Ri&&Fn.upload&&Fn.upload.addEventListener("progress",us)),Fn.send(Ri),bn.next({type:Zn.Sent}),()=>{Fn.removeEventListener("error",Zr),Fn.removeEventListener("abort",Zr),Fn.removeEventListener("load",ho),Fn.removeEventListener("timeout",Zr),nt.reportProgress&&(Fn.removeEventListener("progress",pr),null!==Ri&&Fn.upload&&Fn.upload.removeEventListener("progress",us)),Fn.readyState!==Fn.DONE&&Fn.abort()}})))}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(q.XhrFactory))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();const ar=new G.InjectionToken("XSRF_ENABLED"),xo="XSRF-TOKEN",zr=new G.InjectionToken("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>xo}),Ns="X-XSRF-TOKEN",xi=new G.InjectionToken("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ns});class Zo{}let Ha=(()=>{class ht{constructor(nt,Pt,vn){this.doc=nt,this.platform=Pt,this.cookieName=vn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const nt=this.doc.cookie||"";return nt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,q.\u0275parseCookieValue)(nt,this.cookieName),this.lastCookieString=nt),this.lastToken}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(q.DOCUMENT),G.\u0275\u0275inject(G.PLATFORM_ID),G.\u0275\u0275inject(zr))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();function _i(ht,ut){const nt=ht.url.toLowerCase();if(!(0,G.inject)(ar)||"GET"===ht.method||"HEAD"===ht.method||nt.startsWith("http://")||nt.startsWith("https://"))return ut(ht);const Pt=(0,G.inject)(Zo).getToken(),vn=(0,G.inject)(xi);return null!=Pt&&!ht.headers.has(vn)&&(ht=ht.clone({headers:ht.headers.set(vn,Pt)})),ut(ht)}let ki=(()=>{class ht{constructor(nt){this.injector=nt}intercept(nt,Pt){return this.injector.runInContext(()=>_i(nt,vn=>Pt.handle(vn)))}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)(G.\u0275\u0275inject(G.EnvironmentInjector))};static#t=this.\u0275prov=G.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}return ht})();var ji=function(ht){return ht[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht[ht.Fetch=6]="Fetch",ht}(ji||{});function io(ht,ut){return{\u0275kind:ht,\u0275providers:ut}}function gs(...ht){const ut=[In,oo,cn,{provide:de,useExisting:cn},{provide:ge,useExisting:oo},{provide:et,useValue:_i,multi:!0},{provide:ar,useValue:!0},{provide:Zo,useClass:Ha}];for(const nt of ht)ut.push(...nt.\u0275providers);return(0,G.makeEnvironmentProviders)(ut)}function Ss(ht){return io(ji.Interceptors,ht.map(ut=>({provide:et,useValue:ut,multi:!0})))}const ro=new G.InjectionToken("LEGACY_INTERCEPTOR_FN");function Ls(){return io(ji.LegacyInterceptors,[{provide:ro,useFactory:It},{provide:et,useExisting:ro,multi:!0}])}function Gt({cookieName:ht,headerName:ut}){const nt=[];return void 0!==ht&&nt.push({provide:zr,useValue:ht}),void 0!==ut&&nt.push({provide:xi,useValue:ut}),io(ji.CustomXsrfConfiguration,nt)}function Bt(){return io(ji.NoXsrfProtection,[{provide:ar,useValue:!1}])}function ze(){return io(ji.JsonpSupport,[wo,{provide:Vr,useFactory:no},{provide:et,useValue:Xi,multi:!0}])}function ct(){return io(ji.RequestsMadeViaParent,[{provide:ge,useFactory:()=>(0,G.inject)(de,{skipSelf:!0,optional:!0})}])}function Wt(){return io(ji.Fetch,[to,{provide:ge,useExisting:to}])}let Qn=(()=>{class ht{static disable(){return{ngModule:ht,providers:[Bt().\u0275providers]}}static withOptions(nt={}){return{ngModule:ht,providers:Gt(nt).\u0275providers}}static#e=this.\u0275fac=function(Pt){return new(Pt||ht)};static#t=this.\u0275mod=G.\u0275\u0275defineNgModule({type:ht});static#n=this.\u0275inj=G.\u0275\u0275defineInjector({providers:[ki,{provide:dt,useExisting:ki,multi:!0},{provide:Zo,useClass:Ha},Gt({cookieName:xo,headerName:Ns}).\u0275providers,{provide:ar,useValue:!0}]})}return ht})(),di=(()=>{class ht{static#e=this.\u0275fac=function(Pt){return new(Pt||ht)};static#t=this.\u0275mod=G.\u0275\u0275defineNgModule({type:ht});static#n=this.\u0275inj=G.\u0275\u0275defineInjector({providers:[gs(Ls())]})}return ht})(),br=(()=>{class ht{static#e=this.\u0275fac=function(Pt){return new(Pt||ht)};static#t=this.\u0275mod=G.\u0275\u0275defineNgModule({type:ht});static#n=this.\u0275inj=G.\u0275\u0275defineInjector({providers:[ze().\u0275providers]})}return ht})();const jr=new G.InjectionToken(""),es=["GET","HEAD"];function cs(ht,ut){const{isCacheActive:nt}=(0,G.inject)(jr);if(!nt||!es.includes(ht.method))return ut(ht);const Pt=(0,G.inject)(G.TransferState),vn=function ha(ht){const{params:ut,method:nt,responseType:Pt,url:vn}=ht,Ri=function ko(ht){let ut=0;for(const nt of ht)ut=Math.imul(31,ut)+nt.charCodeAt(0)<<0;return ut+=2147483648,ut.toString()}(nt+"."+Pt+"."+vn+"?"+ut.keys().sort().map(fi=>`${fi}=${ut.getAll(fi)}`).join("&"));return(0,G.makeStateKey)(Ri)}(ht),bn=Pt.get(vn,null);if(bn){let Fn=bn.body;switch(bn.responseType){case"arraybuffer":Fn=(new TextEncoder).encode(bn.body).buffer;break;case"blob":Fn=new Blob([bn.body])}return(0,W.of)(new Rt({body:Fn,headers:new Oe(bn.headers),status:bn.status,statusText:bn.statusText,url:bn.url}))}return ut(ht).pipe((0,k.b)(Fn=>{Fn instanceof Rt&&Pt.set(vn,{body:Fn.body,headers:Zi(Fn.headers),status:Fn.status,statusText:Fn.statusText,url:Fn.url||"",responseType:ht.responseType})}))}function Zi(ht){const ut={};for(const nt of ht.keys()){const Pt=ht.getAll(nt);null!==Pt&&(ut[nt]=Pt)}return ut}function Gr(){return[{provide:jr,useFactory:()=>((0,G.inject)(G.\u0275ENABLED_SSR_FEATURES).add("httpcache"),{isCacheActive:!0})},{provide:Dt,useValue:cs,multi:!0,deps:[G.TransferState,jr]},{provide:G.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:()=>{const ht=(0,G.inject)(G.ApplicationRef),ut=(0,G.inject)(jr);return()=>{ht.isStable.pipe((0,ne.P)(nt=>nt)).toPromise().then(()=>{ut.isCacheActive=!1})}}}]}},6689:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{ANIMATION_MODULE_TYPE:()=>C0,APP_BOOTSTRAP_LISTENER:()=>cM,APP_ID:()=>qu,APP_INITIALIZER:()=>nx,ApplicationInitStatus:()=>Gb,ApplicationModule:()=>xw,ApplicationRef:()=>qy,Attribute:()=>um,COMPILER_OPTIONS:()=>ax,CSP_NONCE:()=>wd,CUSTOM_ELEMENTS_SCHEMA:()=>ym,ChangeDetectionStrategy:()=>ho,ChangeDetectorRef:()=>Ix,Compiler:()=>EE,CompilerFactory:()=>wE,Component:()=>pE,ComponentFactory:()=>Dd,ComponentFactoryResolver:()=>wu,ComponentRef:()=>tg,ContentChild:()=>$d,ContentChildren:()=>$g,DEFAULT_CURRENCY_CODE:()=>SE,DebugElement:()=>G_,DebugEventListener:()=>lw,DebugNode:()=>dM,DefaultIterableDiffer:()=>kx,DestroyRef:()=>_h,Directive:()=>tx,ENVIRONMENT_INITIALIZER:()=>xu,ElementRef:()=>yf,EmbeddedViewRef:()=>aw,EnvironmentInjector:()=>cu,ErrorHandler:()=>ed,EventEmitter:()=>du,Host:()=>Qg,HostBinding:()=>yE,HostListener:()=>_E,INJECTOR:()=>ah,Inject:()=>Vu,InjectFlags:()=>vi,Injectable:()=>Vv,InjectionToken:()=>_i,Injector:()=>Mc,Input:()=>gE,IterableDiffers:()=>gM,KeyValueDiffers:()=>vM,LOCALE_ID:()=>Wb,MissingTranslationStrategy:()=>rx,ModuleWithComponentFactories:()=>sx,NO_ERRORS_SCHEMA:()=>zc,NgModule:()=>bE,NgModuleFactory:()=>kM,NgModuleRef:()=>Fg,NgProbeToken:()=>ZE,NgZone:()=>$l,Optional:()=>ld,Output:()=>vE,PACKAGE_ROOT_URL:()=>Ed,PLATFORM_ID:()=>Cu,PLATFORM_INITIALIZER:()=>Zm,Pipe:()=>mE,PlatformRef:()=>uM,Query:()=>Wd,QueryList:()=>Bb,Renderer2:()=>Np,RendererFactory2:()=>Nv,RendererStyleFlags2:()=>Hl,Sanitizer:()=>kv,SecurityContext:()=>Wc,Self:()=>cd,SimpleChange:()=>Ta,SkipSelf:()=>ud,TRANSLATIONS:()=>xE,TRANSLATIONS_FORMAT:()=>CE,TemplateRef:()=>z_,Testability:()=>YE,TestabilityRegistry:()=>hx,TransferState:()=>Td,Type:()=>dm,VERSION:()=>Uv,Version:()=>og,ViewChild:()=>Xg,ViewChildren:()=>Vh,ViewContainerRef:()=>jb,ViewEncapsulation:()=>Zr,ViewRef:()=>Rx,afterNextRender:()=>Zv,afterRender:()=>Yv,asNativeElements:()=>cw,assertInInjectionContext:()=>vh,assertPlatform:()=>Mx,booleanAttribute:()=>Lw,computed:()=>Ho,createComponent:()=>Xw,createEnvironmentInjector:()=>VM,createNgModule:()=>UM,createNgModuleRef:()=>yC,createPlatform:()=>yx,createPlatformFactory:()=>bx,defineInjectable:()=>Br,destroyPlatform:()=>QE,effect:()=>gt,enableProdMode:()=>iw,forwardRef:()=>je,getDebugNode:()=>e0,getModuleFactory:()=>rw,getNgModuleById:()=>ow,getPlatform:()=>Xb,importProvidersFrom:()=>Av,inject:()=>nt,isDevMode:()=>nw,isSignal:()=>fr,isStandalone:()=>na,makeEnvironmentProviders:()=>uf,makeStateKey:()=>E0,mergeApplicationConfig:()=>Zw,numberAttribute:()=>kw,platformCore:()=>Sw,provideZoneChangeDetection:()=>Dx,reflectComponentType:()=>Yw,resolveForwardRef:()=>be,runInInjectionContext:()=>Lp,setTestabilityGetter:()=>px,signal:()=>Qt,untracked:()=>Es,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>aM,\u0275AfterRenderEventManager:()=>td,\u0275ComponentFactory:()=>Dd,\u0275Console:()=>ix,\u0275DEFAULT_LOCALE_ID:()=>Hn,\u0275ENABLED_SSR_FEATURES:()=>fh,\u0275INJECTOR_SCOPE:()=>uh,\u0275IS_HYDRATION_DOM_REUSE_ENABLED:()=>Id,\u0275InitialRenderPendingTasks:()=>ox,\u0275LContext:()=>Am,\u0275LifecycleHooksFeature:()=>Ch,\u0275LocaleDataIndex:()=>ba,\u0275NG_COMP_DEF:()=>us,\u0275NG_DIR_DEF:()=>Ki,\u0275NG_ELEMENT_ID:()=>Di,\u0275NG_INJ_DEF:()=>Xi,\u0275NG_MOD_DEF:()=>Ts,\u0275NG_PIPE_DEF:()=>Ir,\u0275NG_PROV_DEF:()=>wo,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Pd,\u0275NO_CHANGE:()=>Fo,\u0275NgModuleFactory:()=>Ub,\u0275NoopNgZone:()=>Hv,\u0275ReflectionCapabilities:()=>Jg,\u0275Render3ComponentFactory:()=>Ya,\u0275Render3ComponentRef:()=>$c,\u0275Render3NgModuleRef:()=>kb,\u0275RuntimeError:()=>en,\u0275SSR_CONTENT_INTEGRITY_MARKER:()=>Ov,\u0275TESTABILITY:()=>dx,\u0275TESTABILITY_GETTER:()=>fx,\u0275ViewRef:()=>No,\u0275XSS_SECURITY_URL:()=>_t,\u0275_sanitizeHtml:()=>su,\u0275_sanitizeUrl:()=>sh,\u0275allowSanitizationBypassAndThrow:()=>Ku,\u0275annotateForHydration:()=>Tw,\u0275bypassSanitizationTrustHtml:()=>sf,\u0275bypassSanitizationTrustResourceUrl:()=>Um,\u0275bypassSanitizationTrustScript:()=>Mv,\u0275bypassSanitizationTrustStyle:()=>_d,\u0275bypassSanitizationTrustUrl:()=>Sv,\u0275clearResolutionOfComponentResourcesQueue:()=>Kl,\u0275compileComponent:()=>HS,\u0275compileDirective:()=>iM,\u0275compileNgModule:()=>US,\u0275compileNgModuleDefs:()=>BS,\u0275compileNgModuleFactory:()=>mx,\u0275compilePipe:()=>qS,\u0275convertToBitFlags:()=>Pt,\u0275createInjector:()=>Up,\u0275defaultIterableDiffers:()=>bw,\u0275defaultKeyValueDiffers:()=>Mw,\u0275detectChanges:()=>ri,\u0275devModeEqual:()=>Ah,\u0275findLocaleData:()=>vo,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>LS,\u0275formatRuntimeError:()=>rn,\u0275getDebugNode:()=>e0,\u0275getDirectives:()=>$M,\u0275getHostElement:()=>G1,\u0275getInjectableDef:()=>oi,\u0275getLContext:()=>Gl,\u0275getLocaleCurrencyCode:()=>Po,\u0275getLocalePluralCase:()=>ur,\u0275getSanitizationBypassType:()=>km,\u0275getUnknownElementStrictMode:()=>bm,\u0275getUnknownPropertyStrictMode:()=>Sm,\u0275global:()=>xi,\u0275injectChangeDetectorRef:()=>Ox,\u0275internalCreateApplication:()=>JE,\u0275isBoundToModule:()=>vx,\u0275isEnvironmentProviders:()=>bt,\u0275isInjectable:()=>Rn,\u0275isNgModule:()=>J1,\u0275isPromise:()=>M_,\u0275isSubscribable:()=>yb,\u0275noSideEffects:()=>Mr,\u0275patchComponentDefWithScope:()=>tM,\u0275publishDefaultGlobalUtils:()=>XE,\u0275publishGlobalUtil:()=>Kc,\u0275registerLocaleData:()=>yr,\u0275resetCompiledComponents:()=>nE,\u0275resetJitOptions:()=>QC,\u0275resolveComponentResources:()=>Yd,\u0275setAllowDuplicateNgModuleIdsForTest:()=>vm,\u0275setAlternateWeakRefImpl:()=>ua,\u0275setClassMetadata:()=>YM,\u0275setCurrentInjector:()=>ko,\u0275setDocument:()=>fp,\u0275setInjectorProfilerContext:()=>io,\u0275setLocaleId:()=>Xc,\u0275setUnknownElementStrictMode:()=>_m,\u0275setUnknownPropertyStrictMode:()=>Mm,\u0275store:()=>hb,\u0275stringify:()=>Ee,\u0275transitiveScopesFor:()=>Ng,\u0275unregisterLocaleData:()=>ms,\u0275unwrapSafeValue:()=>Oc,\u0275withDomHydration:()=>Fw,\u0275\u0275CopyDefinitionFeature:()=>tb,\u0275\u0275FactoryTarget:()=>Uu,\u0275\u0275HostDirectivesFeature:()=>nb,\u0275\u0275InheritDefinitionFeature:()=>Pi,\u0275\u0275InputTransformsFeature:()=>a_,\u0275\u0275NgOnChangesFeature:()=>oa,\u0275\u0275ProvidersFeature:()=>LM,\u0275\u0275StandaloneFeature:()=>zM,\u0275\u0275advance:()=>oy,\u0275\u0275attribute:()=>u_,\u0275\u0275attributeInterpolate1:()=>d_,\u0275\u0275attributeInterpolate2:()=>Cy,\u0275\u0275attributeInterpolate3:()=>Ey,\u0275\u0275attributeInterpolate4:()=>wy,\u0275\u0275attributeInterpolate5:()=>Ty,\u0275\u0275attributeInterpolate6:()=>Ay,\u0275\u0275attributeInterpolate7:()=>Dy,\u0275\u0275attributeInterpolate8:()=>Py,\u0275\u0275attributeInterpolateV:()=>Iy,\u0275\u0275classMap:()=>m,\u0275\u0275classMapInterpolate1:()=>Ni,\u0275\u0275classMapInterpolate2:()=>rr,\u0275\u0275classMapInterpolate3:()=>Tr,\u0275\u0275classMapInterpolate4:()=>qo,\u0275\u0275classMapInterpolate5:()=>_a,\u0275\u0275classMapInterpolate6:()=>Vn,\u0275\u0275classMapInterpolate7:()=>gi,\u0275\u0275classMapInterpolate8:()=>Pr,\u0275\u0275classMapInterpolateV:()=>Li,\u0275\u0275classProp:()=>N_,\u0275\u0275contentQuery:()=>DS,\u0275\u0275defer:()=>FM,\u0275\u0275defineComponent:()=>Sa,\u0275\u0275defineDirective:()=>Jo,\u0275\u0275defineInjectable:()=>tn,\u0275\u0275defineInjector:()=>zi,\u0275\u0275defineNgModule:()=>vl,\u0275\u0275definePipe:()=>Ga,\u0275\u0275directiveInject:()=>Sf,\u0275\u0275disableBindings:()=>ni,\u0275\u0275element:()=>y_,\u0275\u0275elementContainer:()=>__,\u0275\u0275elementContainerEnd:()=>zy,\u0275\u0275elementContainerStart:()=>Ig,\u0275\u0275elementEnd:()=>Uy,\u0275\u0275elementStart:()=>ky,\u0275\u0275enableBindings:()=>Tt,\u0275\u0275getCurrentView:()=>b_,\u0275\u0275getInheritedFactory:()=>kc,\u0275\u0275hostProperty:()=>An,\u0275\u0275i18n:()=>PM,\u0275\u0275i18nApply:()=>OM,\u0275\u0275i18nAttributes:()=>IM,\u0275\u0275i18nEnd:()=>k1,\u0275\u0275i18nExp:()=>U1,\u0275\u0275i18nPostprocess:()=>RM,\u0275\u0275i18nStart:()=>L1,\u0275\u0275inject:()=>ht,\u0275\u0275injectAttribute:()=>ku,\u0275\u0275invalidFactory:()=>ay,\u0275\u0275invalidFactoryDep:()=>ut,\u0275\u0275listener:()=>qp,\u0275\u0275loadQuery:()=>PS,\u0275\u0275namespaceHTML:()=>sm,\u0275\u0275namespaceMathML:()=>Ug,\u0275\u0275namespaceSVG:()=>kg,\u0275\u0275nextContext:()=>x_,\u0275\u0275ngDeclareClassMetadata:()=>Bw,\u0275\u0275ngDeclareComponent:()=>Vw,\u0275\u0275ngDeclareDirective:()=>Uw,\u0275\u0275ngDeclareFactory:()=>zw,\u0275\u0275ngDeclareInjectable:()=>Hw,\u0275\u0275ngDeclareInjector:()=>Gw,\u0275\u0275ngDeclareNgModule:()=>Ww,\u0275\u0275ngDeclarePipe:()=>$w,\u0275\u0275pipe:()=>uS,\u0275\u0275pipeBind1:()=>dS,\u0275\u0275pipeBind2:()=>fS,\u0275\u0275pipeBind3:()=>hS,\u0275\u0275pipeBind4:()=>pS,\u0275\u0275pipeBindV:()=>mS,\u0275\u0275projection:()=>jy,\u0275\u0275projectionDef:()=>Sb,\u0275\u0275property:()=>g_,\u0275\u0275propertyInterpolate:()=>C_,\u0275\u0275propertyInterpolate1:()=>Hy,\u0275\u0275propertyInterpolate2:()=>E_,\u0275\u0275propertyInterpolate3:()=>Gy,\u0275\u0275propertyInterpolate4:()=>w_,\u0275\u0275propertyInterpolate5:()=>Wy,\u0275\u0275propertyInterpolate6:()=>T_,\u0275\u0275propertyInterpolate7:()=>A_,\u0275\u0275propertyInterpolate8:()=>D_,\u0275\u0275propertyInterpolateV:()=>P_,\u0275\u0275pureFunction0:()=>ZM,\u0275\u0275pureFunction1:()=>KM,\u0275\u0275pureFunction2:()=>JM,\u0275\u0275pureFunction3:()=>QM,\u0275\u0275pureFunction4:()=>qM,\u0275\u0275pureFunction5:()=>eS,\u0275\u0275pureFunction6:()=>tS,\u0275\u0275pureFunction7:()=>nS,\u0275\u0275pureFunction8:()=>iS,\u0275\u0275pureFunctionV:()=>rS,\u0275\u0275queryRefresh:()=>TS,\u0275\u0275reference:()=>pb,\u0275\u0275registerNgModuleType:()=>$h,\u0275\u0275resetView:()=>Fi,\u0275\u0275resolveBody:()=>pg,\u0275\u0275resolveDocument:()=>Xv,\u0275\u0275resolveWindow:()=>$v,\u0275\u0275restoreView:()=>Kn,\u0275\u0275sanitizeHtml:()=>Ev,\u0275\u0275sanitizeResourceUrl:()=>au,\u0275\u0275sanitizeScript:()=>jm,\u0275\u0275sanitizeStyle:()=>wv,\u0275\u0275sanitizeUrl:()=>zm,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Mp,\u0275\u0275setComponentScope:()=>il,\u0275\u0275setNgModuleScope:()=>Ka,\u0275\u0275styleMap:()=>Du,\u0275\u0275styleMapInterpolate1:()=>go,\u0275\u0275styleMapInterpolate2:()=>zs,\u0275\u0275styleMapInterpolate3:()=>fo,\u0275\u0275styleMapInterpolate4:()=>fa,\u0275\u0275styleMapInterpolate5:()=>Ua,\u0275\u0275styleMapInterpolate6:()=>Os,\u0275\u0275styleMapInterpolate7:()=>wt,\u0275\u0275styleMapInterpolate8:()=>xl,\u0275\u0275styleMapInterpolateV:()=>Wn,\u0275\u0275styleProp:()=>F_,\u0275\u0275stylePropInterpolate1:()=>Yn,\u0275\u0275stylePropInterpolate2:()=>Ln,\u0275\u0275stylePropInterpolate3:()=>Ii,\u0275\u0275stylePropInterpolate4:()=>kn,\u0275\u0275stylePropInterpolate5:()=>tt,\u0275\u0275stylePropInterpolate6:()=>Fe,\u0275\u0275stylePropInterpolate7:()=>Zt,\u0275\u0275stylePropInterpolate8:()=>Mn,\u0275\u0275stylePropInterpolateV:()=>Un,\u0275\u0275syntheticHostListener:()=>S_,\u0275\u0275syntheticHostProperty:()=>xr,\u0275\u0275template:()=>ub,\u0275\u0275templateRefExtractor:()=>FS,\u0275\u0275text:()=>pt,\u0275\u0275textInterpolate:()=>He,\u0275\u0275textInterpolate1:()=>ke,\u0275\u0275textInterpolate2:()=>Ct,\u0275\u0275textInterpolate3:()=>yn,\u0275\u0275textInterpolate4:()=>un,\u0275\u0275textInterpolate5:()=>wn,\u0275\u0275textInterpolate6:()=>jn,\u0275\u0275textInterpolate7:()=>xn,\u0275\u0275textInterpolate8:()=>si,\u0275\u0275textInterpolateV:()=>Cn,\u0275\u0275trustConstantHtml:()=>_p,\u0275\u0275trustConstantResourceUrl:()=>Hm,\u0275\u0275validateIframeAttribute:()=>ih,\u0275\u0275viewQuery:()=>AS});var M=_(8645),K=_(7394),G=_(5592),W=_(7537),R=_(4829),y=_(6232),h=_(4564),E=_(7715),F=_(5619),B=_(2096),k=_(305),ne=_(9360);function q(n={}){const{connector:i=(()=>new M.x),resetOnError:o=!0,resetOnComplete:d=!0,resetOnRefCountZero:v=!0}=n;return C=>{let O,j,ee,me=0,Ie=!1,it=!1;const At=()=>{j?.unsubscribe(),j=void 0},Ht=()=>{At(),O=ee=void 0,Ie=it=!1},Tn=()=>{const Jn=O;Ht(),Jn?.unsubscribe()};return(0,ne.e)((Jn,Oi)=>{me++,!it&&!Ie&&At();const Dr=ee=ee??i();Oi.add(()=>{me--,0===me&&!it&&!Ie&&(j=de(Tn,v))}),Dr.subscribe(Oi),!O&&me>0&&(O=new k.Hp({next:zn=>Dr.next(zn),error:zn=>{it=!0,At(),j=de(Ht,o,zn),Dr.error(zn)},complete:()=>{Ie=!0,At(),j=de(Ht,d),Dr.complete()}}),(0,R.Xf)(Jn).subscribe(O))})(C)}}function de(n,i,...o){if(!0===i)return void n();if(!1===i)return;const d=new k.Hp({next:()=>{d.unsubscribe(),n()}});return(0,R.Xf)(i(...o)).subscribe(d)}var ge=_(4664),Oe=_(3997),Qe=_(1374);function rt(n){for(let i in n)if(n[i]===rt)return i;throw Error("Could not find renamed property on target object.")}function Se(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ee(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ee).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ne(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ze=rt({__forward_ref__:rt});function je(n){return n.__forward_ref__=je,n.toString=function(){return Ee(this())},n}function be(n){return qe(n)?n():n}function qe(n){return"function"==typeof n&&n.hasOwnProperty(Ze)&&n.__forward_ref__===je}function bt(n){return n&&!!n.\u0275providers}const _t="https://g.co/ng/security#xss";class en extends Error{constructor(i,o){super(rn(i,o)),this.code=i}}function rn(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}function an(n){return"string"==typeof n?n:null==n?"":String(n)}function xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():an(n)}function Rt(n,i){throw new en(-201,!1)}function et(n,i,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${i} <=Actual]`))}function tn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}const Br=tn;function zi(n){return{providers:n.providers||[],imports:n.imports||[]}}function oi(n){return ci(n,wo)||ci(n,So)}function Rn(n){return null!==oi(n)}function ci(n,i){return n.hasOwnProperty(i)?n[i]:null}function no(n){return n&&(n.hasOwnProperty(Xi)||n.hasOwnProperty(zo))?n[Xi]:null}const wo=rt({\u0275prov:rt}),Xi=rt({\u0275inj:rt}),So=rt({ngInjectableDef:rt}),zo=rt({ngInjectorDef:rt});var vi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vi||{});let oo;function ar(){return oo}function xo(n){const i=oo;return oo=n,i}function zr(n,i,o){const d=oi(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&vi.Optional?null:void 0!==i?i:void Rt(Ee(n))}const xi=globalThis;class _i{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let ki;function io(n){et("setInjectorProfilerContext should never be called in production mode");const i=ki;return ki=n,i}let gs=null;const Ss=n=>{et("setInjectorProfiler should never be called in production mode"),gs=n},Wt={},Qn="__NG_DI_FLAG__",di="ngTempTokenPath",jr=/\n/gm,cs="__source";let Zi;function ko(n){const i=Zi;return Zi=n,i}function Gr(n,i=vi.Default){if(void 0===Zi)throw new en(-203,!1);return null===Zi?zr(n,void 0,i):Zi.get(n,i&vi.Optional?null:void 0,i)}function ht(n,i=vi.Default){return(ar()||Gr)(be(n),i)}function ut(n){throw new en(202,!1)}function nt(n,i=vi.Default){return ht(n,Pt(i))}function Pt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vn(n){const i=[];for(let o=0;o<n.length;o++){const d=be(n[o]);if(Array.isArray(d)){if(0===d.length)throw new en(900,!1);let v,C=vi.Default;for(let O=0;O<d.length;O++){const j=d[O],ee=Fn(j);"number"==typeof ee?-1===ee?v=j.token:C|=ee:v=j}i.push(ht(v,C))}else i.push(ht(d))}return i}function bn(n,i){return n[Qn]=i,n.prototype[Qn]=i,n}function Fn(n){return n[Qn]}function Mr(n){return{toString:n}.toString()}var ho=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ho||{}),Zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zr||{});const Wr={},pr=[],us=rt({\u0275cmp:rt}),Ki=rt({\u0275dir:rt}),Ir=rt({\u0275pipe:rt}),Ts=rt({\u0275mod:rt}),Rs=rt({\u0275fac:rt}),Di=rt({__NG_ELEMENT_ID__:rt}),ts=rt({__NG_ENV_ID__:rt});function Ba(n,i,o){let d=n.length;for(;;){const v=n.indexOf(i,o);if(-1===v)return v;if(0===v||n.charCodeAt(v-1)<=32){const C=i.length;if(v+C===d||n.charCodeAt(v+C)<=32)return v}o=v+1}}function Qs(n,i,o){let d=0;for(;d<o.length;){const v=o[d];if("number"==typeof v){if(0!==v)break;d++;const C=o[d++],O=o[d++],j=o[d++];n.setAttribute(i,O,j,C)}else{const C=v,O=o[++d];aa(C)?n.setProperty(i,C,O):n.setAttribute(i,C,O),d++}}return d}function ss(n){return 3===n||4===n||6===n}function aa(n){return 64===n.charCodeAt(0)}function vs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let d=0;d<i.length;d++){const v=i[d];"number"==typeof v?o=v:0===o||pa(n,o,v,null,-1===o||2===o?i[++d]:null)}}return n}function pa(n,i,o,d,v){let C=0,O=n.length;if(-1===i)O=-1;else for(;C<n.length;){const j=n[C++];if("number"==typeof j){if(j===i){O=-1;break}if(j>i){O=C-1;break}}}for(;C<n.length;){const j=n[C];if("number"==typeof j)break;if(j===o){if(null===d)return void(null!==v&&(n[C+1]=v));if(d===n[C+1])return void(n[C+2]=v)}C++,null!==d&&C++,null!==v&&C++}-1!==O&&(n.splice(O,0,i),C=O+1),n.splice(C++,0,o),null!==d&&n.splice(C++,0,d),null!==v&&n.splice(C++,0,v)}const Uo="ng-template";function tl(n,i,o){let d=0,v=!0;for(;d<n.length;){let C=n[d++];if("string"==typeof C&&v){const O=n[d++];if(o&&"class"===C&&-1!==Ba(O.toLowerCase(),i,0))return!0}else{if(1===C){for(;d<n.length&&"string"==typeof(C=n[d++]);)if(C.toLowerCase()===i)return!0;return!1}"number"==typeof C&&(v=!1)}}return!1}function ks(n){return 4===n.type&&n.value!==Uo}function er(n,i,o){return i===(4!==n.type||o?n.value:Uo)}function Ko(n,i,o){let d=4;const v=n.attrs||[],C=function Us(n){for(let i=0;i<n.length;i++)if(ss(n[i]))return i;return n.length}(v);let O=!1;for(let j=0;j<i.length;j++){const ee=i[j];if("number"!=typeof ee){if(!O)if(4&d){if(d=2|1&d,""!==ee&&!er(n,ee,o)||""===ee&&1===i.length){if(Io(d))return!1;O=!0}}else{const me=8&d?ee:i[++j];if(8&d&&null!==n.attrs){if(!tl(n.attrs,me,o)){if(Io(d))return!1;O=!0}continue}const it=Il(8&d?"class":ee,v,ks(n),o);if(-1===it){if(Io(d))return!1;O=!0;continue}if(""!==me){let At;At=it>C?"":v[it+1].toLowerCase();const Ht=8&d?At:null;if(Ht&&-1!==Ba(Ht,me,0)||2&d&&me!==At){if(Io(d))return!1;O=!0}}}}else{if(!O&&!Io(d)&&!Io(ee))return!1;if(O&&Io(ee))continue;O=!1,d=ee|1&d}}return Io(d)||O}function Io(n){return 0==(1&n)}function Il(n,i,o,d){if(null===i)return-1;let v=0;if(d||!o){let C=!1;for(;v<i.length;){const O=i[v];if(O===n)return v;if(3===O||6===O)C=!0;else{if(1===O||2===O){let j=i[++v];for(;"string"==typeof j;)j=i[++v];continue}if(4===O)break;if(0===O){v+=4;continue}}v+=C?1:2}return-1}return function fl(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===i)return o;o++}return-1}(i,n)}function dl(n,i,o=!1){for(let d=0;d<i.length;d++)if(Ko(n,i[d],o))return!0;return!1}function nl(n,i){e:for(let o=0;o<i.length;o++){const d=i[o];if(n.length===d.length){for(let v=0;v<n.length;v++)if(n[v]!==d[v])continue e;return!0}}return!1}function mr(n,i){return n?":not("+i.trim()+")":i}function qs(n){let i=n[0],o=1,d=2,v="",C=!1;for(;o<n.length;){let O=n[o];if("string"==typeof O)if(2&d){const j=n[++o];v+="["+O+(j.length>0?'="'+j+'"':"")+"]"}else 8&d?v+="."+O:4&d&&(v+=" "+O);else""!==v&&!Io(O)&&(i+=mr(C,v),v=""),d=O,C=C||!Io(d);o++}return""!==v&&(i+=mr(C,v)),i}function Sa(n){return Mr(()=>{const i=ls(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ho.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zr.Emulated,styles:n.styles||pr,_:null,schemas:n.schemas||null,tView:null,id:""};Va(o);const d=n.dependencies;return o.directiveDefs=xa(d,!1),o.pipeDefs=xa(d,!0),o.id=function ma(n){let i=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const v of o)i=Math.imul(31,i)+v.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function il(n,i,o){const d=n.\u0275cmp;d.directiveDefs=xa(i,!1),d.pipeDefs=xa(o,!0)}function Oa(n){return Hr(n)||jo(n)}function so(n){return null!==n}function vl(n){return Mr(()=>({type:n.type,bootstrap:n.bootstrap||pr,declarations:n.declarations||pr,imports:n.imports||pr,exports:n.exports||pr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ka(n,i){return Mr(()=>{const o=as(n,!0);o.declarations=i.declarations||pr,o.imports=i.imports||pr,o.exports=i.exports||pr})}function ta(n,i){if(null==n)return Wr;const o={};for(const d in n)if(n.hasOwnProperty(d)){let v=n[d],C=v;Array.isArray(v)&&(C=v[1],v=v[0]),o[v]=d,i&&(i[v]=C)}return o}function Jo(n){return Mr(()=>{const i=ls(n);return Va(i),i})}function Ga(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hr(n){return n[us]||null}function jo(n){return n[Ki]||null}function Er(n){return n[Ir]||null}function na(n){const i=Hr(n)||jo(n)||Er(n);return null!==i&&i.standalone}function as(n,i){const o=n[Ts]||null;if(!o&&!0===i)throw new Error(`Type ${Ee(n)} does not have '\u0275mod' property.`);return o}function ls(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:n.inputs||Wr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||pr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ta(n.inputs,i),outputs:ta(n.outputs)}}function Va(n){n.features?.forEach(i=>i(n))}function xa(n,i){if(!n)return null;const o=i?Er:Oa;return()=>("function"==typeof n?n():n).map(d=>o(d)).filter(so)}const Ws=new Map,Lr=0,Sn=1,tr=2,po=3,la=4,Ol=5,ys=6,rl=7,co=8,sr=9,ao=10,Hi=11,Xl=12,$s=13,Ja=14,$o=15,Rl=16,ol=17,dr=18,hl=19,Fl=20,Ra=21,wl=22,Xs=23,pl=24,Kr=25,Zl=1,kt=2,De=7,Ve=9,$e=10,Et=11;function zt(n){return Array.isArray(n)&&"object"==typeof n[Zl]}function Xn(n){return Array.isArray(n)&&!0===n[Zl]}function bi(n){return 0!=(4&n.flags)}function Jr(n){return n.componentOffset>-1}function $r(n){return 1==(1&n.flags)}function pi(n){return!!n.template}function nn(n){return 0!=(512&n[tr])}function gr(n){return 16==(16&n.type)}function Yt(n,i){return n.hasOwnProperty(Rs)?n[Rs]:null}const vr=Symbol("SIGNAL");function fr(n){return"function"==typeof n&&void 0!==n[vr]}function za(n,i){return(null===n||"object"!=typeof n)&&Object.is(n,i)}let ln=null,Ji=!1;function ds(n){const i=ln;return ln=n,i}const Ys={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qa(n){if(Ji)throw new Error("");if(null===ln)return;const i=ln.nextProducerIndex++;Qr(ln),i<ln.producerNode.length&&ln.producerNode[i]!==n&&Tl(ln)&&wa(ln.producerNode[i],ln.producerIndexOfThis[i]),ln.producerNode[i]!==n&&(ln.producerNode[i]=n,ln.producerIndexOfThis[i]=Tl(ln)?sn(n,ln,i):0),ln.producerLastReadVersion[i]=n.version}function fs(n){if(!Tl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!sl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Wa(n){if(void 0===n.liveConsumerNode)return;const i=Ji;Ji=!0;try{for(const o of n.liveConsumerNode)o.dirty||Na(o)}finally{Ji=i}}function $a(){return!1!==ln?.consumerAllowSignalWrites}function Na(n){n.dirty=!0,Wa(n),n.consumerMarkedDirty?.(n)}function _o(n){return n&&(n.nextProducerIndex=0),ds(n)}function Bs(n,i){if(ds(i),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Tl(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)wa(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sl(n){Qr(n);for(let i=0;i<n.producerNode.length;i++){const o=n.producerNode[i],d=n.producerLastReadVersion[i];if(d!==o.version||(fs(o),d!==o.version))return!0}return!1}function yl(n){if(Qr(n),Tl(n))for(let i=0;i<n.producerNode.length;i++)wa(n.producerNode[i],n.producerIndexOfThis[i]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function sn(n,i,o){if(hs(n),Qr(n),0===n.liveConsumerNode.length)for(let d=0;d<n.producerNode.length;d++)n.producerIndexOfThis[d]=sn(n.producerNode[d],n,d);return n.liveConsumerIndexOfThis.push(o),n.liveConsumerNode.push(i)-1}function wa(n,i){if(hs(n),Qr(n),1===n.liveConsumerNode.length)for(let d=0;d<n.producerNode.length;d++)wa(n.producerNode[d],n.producerIndexOfThis[d]);const o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[i]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[i]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,i<n.liveConsumerNode.length){const d=n.liveConsumerIndexOfThis[i],v=n.liveConsumerNode[i];Qr(v),v.producerIndexOfThis[d]=i}}function Tl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Qr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hs(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ho(n,i){const o=Object.create($);o.computation=n,i?.equal&&(o.equal=i.equal);const d=()=>{if(fs(o),Qa(o),o.value===ra)throw o.error;return o.value};return d[vr]=o,d}const As=Symbol("UNSET"),ml=Symbol("COMPUTING"),ra=Symbol("ERRORED"),$=(()=>({...Ys,value:As,dirty:!0,error:null,equal:za,producerMustRecompute:n=>n.value===As||n.value===ml,producerRecomputeValue(n){if(n.value===ml)throw new Error("Detected cycle in computations.");const i=n.value;n.value=ml;const o=_o(n);let d;try{d=n.computation()}catch(v){d=ra,n.error=v}finally{Bs(n,o)}i!==As&&i!==ra&&d!==ra&&n.equal(i,d)?n.value=i:(n.value=d,n.version++)}}))();let se=function Ce(){throw new Error};function ve(){se()}let Xt=null;function Qt(n,i){const o=Object.create(Oo);function d(){return Qa(o),o.value}return o.value=n,i?.equal&&(o.equal=i.equal),d.set=mo,d.update=Ui,d.mutate=Je,d.asReadonly=Si,d[vr]=o,d}const Oo=(()=>({...Ys,equal:za,readonlyFn:void 0}))();function Co(n){n.version++,Wa(n),Xt?.()}function mo(n){const i=this[vr];$a()||ve(),i.equal(i.value,n)||(i.value=n,Co(i))}function Ui(n){$a()||ve(),mo.call(this,n(this[vr].value))}function Je(n){const i=this[vr];$a()||ve(),n(i.value),Co(i)}function Si(){const n=this[vr];if(void 0===n.readonlyFn){const i=()=>this();i[vr]=n,n.readonlyFn=i}return n.readonlyFn}function Es(n){const i=ds(null);try{return n()}finally{ds(i)}}const To=()=>{},uo=(()=>({...Ys,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:To}))();function ua(n){}class Ta{constructor(i,o,d){this.previousValue=i,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function oa(){return Xa}function Xa(n){return n.type.prototype.ngOnChanges&&(n.setInput=Wi),Rr}function Rr(){const n=hi(this),i=n?.current;if(i){const o=n.previous;if(o===Wr)n.previous=i;else for(let d in i)o[d]=i[d];n.current=null,this.ngOnChanges(i)}}function Wi(n,i,o,d){const v=this.declaredInputs[o],C=hi(n)||function kr(n,i){return n[Eo]=i}(n,{previous:Wr,current:null}),O=C.current||(C.current={}),j=C.previous,ee=j[v];O[v]=new Ta(ee&&ee.currentValue,i,j===Wr),n[d]=i}oa.ngInherit=!0;const Eo="__ngSimpleChanges__";function hi(n){return n[Eo]||null}let nr=null;const Ur=n=>{nr=n},ns=function(n,i,o){nr?.(n,i,o)},Ro="svg",Ds="math";function wr(n){for(;Array.isArray(n);)n=n[Lr];return n}function lo(n){for(;Array.isArray(n);){if("object"==typeof n[Zl])return n;n=n[Lr]}return null}function Ao(n,i){return wr(i[n])}function Fr(n,i){return wr(i[n.index])}function Ms(n,i){return n.data[i]}function va(n,i){return n[i]}function sa(n,i){const o=i[n];return zt(o)?o:o[Lr]}function Zs(n,i){return null==i?null:n[i]}function We(n){n[ol]=0}function T(n){1024&n[tr]||(n[tr]|=1024,V(n,1))}function L(n){1024&n[tr]&&(n[tr]&=-1025,V(n,-1))}function V(n,i){let o=n[po];if(null===o)return;o[Ol]+=i;let d=o;for(o=o[po];null!==o&&(1===i&&1===d[Ol]||-1===i&&0===d[Ol]);)o[Ol]+=i,d=o,o=o[po]}function X(n,i){if(256==(256&n[tr]))throw new en(911,!1);null===n[Ra]&&(n[Ra]=[]),n[Ra].push(i)}const pe={lFrame:Bo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kt(){return pe.bindingsEnabled}function qt(){return null!==pe.skipHydrationRootTNode}function Tt(){pe.bindingsEnabled=!0}function ni(){pe.bindingsEnabled=!1}function Ot(){return pe.lFrame.lView}function On(){return pe.lFrame.tView}function Kn(n){return pe.lFrame.contextLView=n,n[co]}function Fi(n){return pe.lFrame.contextLView=null,n}function ii(){let n=Ti();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ti(){return pe.lFrame.currentTNode}function Nn(){const n=pe.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Xr(n,i){const o=pe.lFrame;o.currentTNode=n,o.isParent=i}function qr(){return pe.lFrame.isParent}function Ps(){pe.lFrame.isParent=!1}function rs(){const n=pe.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ks(){return pe.lFrame.bindingIndex}function Nl(n){return pe.lFrame.bindingIndex=n}function sc(){return pe.lFrame.bindingIndex++}function Ll(n){const i=pe.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Q(n){pe.lFrame.inI18n=n}function U(n,i){const o=pe.lFrame;o.bindingIndex=o.bindingRootIndex=n,fe(i)}function fe(n){pe.lFrame.currentDirectiveIndex=n}function Re(n){const i=pe.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function at(){return pe.lFrame.currentQueryIndex}function Mt(n){pe.lFrame.currentQueryIndex=n}function jt(n){const i=n[Sn];return 2===i.type?i.declTNode:1===i.type?n[ys]:null}function Ei(n,i,o){if(o&vi.SkipSelf){let v=i,C=n;for(;!(v=v.parent,null!==v||o&vi.Host||(v=jt(C),null===v||(C=C[Ja],10&v.type))););if(null===v)return!1;i=v,n=C}const d=pe.lFrame=ps();return d.currentTNode=i,d.lView=n,!0}function ir(n){const i=ps(),o=n[Sn];pe.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ps(){const n=pe.lFrame,i=null===n?null:n.child;return null===i?Bo(n):i}function Bo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Tc(){const n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ya=Tc;function gc(){const n=Tc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Al(){return pe.lFrame.selectedIndex}function id(n){pe.lFrame.selectedIndex=n}function eo(){const n=pe.lFrame;return Ms(n.tView,n.selectedIndex)}function kg(){pe.lFrame.currentNamespace=Ro}function Ug(){pe.lFrame.currentNamespace=Ds}function sm(){!function Bg(){pe.lFrame.currentNamespace=null}()}function Df(){return pe.lFrame.currentNamespace}let Vg=!0;function Fd(){return Vg}function Ac(n){Vg=n}function Fh(n,i){for(let o=i.directiveStart,d=i.directiveEnd;o<d;o++){const C=n.data[o].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:j,ngAfterViewInit:ee,ngAfterViewChecked:me,ngOnDestroy:Ie}=C;O&&(n.contentHooks??=[]).push(-o,O),j&&((n.contentHooks??=[]).push(o,j),(n.contentCheckHooks??=[]).push(o,j)),ee&&(n.viewHooks??=[]).push(-o,ee),me&&((n.viewHooks??=[]).push(o,me),(n.viewCheckHooks??=[]).push(o,me)),null!=Ie&&(n.destroyHooks??=[]).push(o,Ie)}}function ac(n,i,o){Dl(n,i,3,o)}function Nd(n,i,o,d){(3&n[tr])===o&&Dl(n,i,o,d)}function Ou(n,i){let o=n[tr];(3&o)===i&&(o&=8191,o+=1,n[tr]=o)}function Dl(n,i,o,d){const C=d??-1,O=i.length-1;let j=0;for(let ee=void 0!==d?65535&n[ol]:0;ee<O;ee++)if("number"==typeof i[ee+1]){if(j=i[ee],null!=d&&j>=d)break}else i[ee]<0&&(n[ol]+=65536),(j<C||-1==C)&&(Bl(n,o,i,ee),n[ol]=(4294901760&n[ol])+ee+2),ee++}function gu(n,i){ns(4,n,i);const o=ds(null);try{i.call(n)}finally{ds(o),ns(5,n,i)}}function Bl(n,i,o,d){const v=o[d]<0,C=o[d+1],j=n[v?-o[d]:o[d]];v?n[tr]>>13<n[ol]>>16&&(3&n[tr])===i&&(n[tr]+=8192,gu(j,C)):gu(j,C)}const Do=-1;class Ld{constructor(i,o,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Uh(n){return n!==Do}function Ru(n){return 32767&n}function If(n,i){let o=function _l(n){return n>>16}(n),d=i;for(;o>0;)d=d[Ja],o--;return d}let Fu=!0;function Fc(n){const i=Fu;return Fu=n,i}const tc=255,lm=5;let cm=0;const Nc={};function Rf(n,i){const o=vu(n,i);if(-1!==o)return o;const d=i[Sn];d.firstCreatePass&&(n.injectorIndex=i.length,nc(d.data,n),nc(i,null),nc(d.blueprint,null));const v=Lc(n,i),C=n.injectorIndex;if(Uh(v)){const O=Ru(v),j=If(v,i),ee=j[Sn].data;for(let me=0;me<8;me++)i[C+me]=j[O+me]|ee[O+me]}return i[C+8]=v,C}function nc(n,i){n.push(0,0,0,0,0,0,0,0,i)}function vu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Lc(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,v=i;for(;null!==v;){if(d=jd(v),null===d)return Do;if(o++,v=v[Ja],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return Do}function Ff(n,i,o){!function jg(n,i,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(Di)&&(d=o[Di]),null==d&&(d=o[Di]=cm++);const v=d&tc;i.data[n+(v>>lm)]|=1<<v}(n,i,o)}function Vl(n,i,o){if(o&vi.Optional||void 0!==n)return n;Rt()}function od(n,i,o,d){if(o&vi.Optional&&void 0===d&&(d=null),!(o&(vi.Self|vi.Host))){const v=n[sr],C=xo(void 0);try{return v?v.get(i,d,o&vi.Optional):zr(i,d,o&vi.Optional)}finally{xo(C)}}return Vl(d,0,o)}function sd(n,i,o,d=vi.Default,v){if(null!==n){if(2048&i[tr]&&!(d&vi.Self)){const O=function zd(n,i,o,d,v){let C=n,O=i;for(;null!==C&&null!==O&&2048&O[tr]&&!(512&O[tr]);){const j=Bh(C,O,o,d|vi.Self,Nc);if(j!==Nc)return j;let ee=C.parent;if(!ee){const me=O[Fl];if(me){const Ie=me.get(o,Nc,d);if(Ie!==Nc)return Ie}ee=jd(O),O=O[Ja]}C=ee}return v}(n,i,o,d,Nc);if(O!==Nc)return O}const C=Bh(n,i,o,d,Nc);if(C!==Nc)return C}return od(i,o,d,v)}function Bh(n,i,o,d,v){const C=function Gg(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Di)?n[Di]:void 0;return"number"==typeof i?i>=0?i&tc:lc:i}(o);if("function"==typeof C){if(!Ei(i,n,d))return d&vi.Host?Vl(v,0,d):od(i,o,d,v);try{let O;if(O=C(d),null!=O||d&vi.Optional)return O;Rt()}finally{ya()}}else if("number"==typeof C){let O=null,j=vu(n,i),ee=Do,me=d&vi.Host?i[$o][ys]:null;for((-1===j||d&vi.SkipSelf)&&(ee=-1===j?Lc(n,i):i[j+8],ee!==Do&&Bd(d,!1)?(O=i[Sn],j=Ru(ee),i=If(ee,i)):j=-1);-1!==j;){const Ie=i[Sn];if(Nu(C,j,Ie.data)){const it=kd(j,i,o,O,d,me);if(it!==Nc)return it}ee=i[j+8],ee!==Do&&Bd(d,i[Sn].data[j+8]===me)&&Nu(C,j,i)?(O=Ie,j=Ru(ee),i=If(ee,i)):j=-1}}return v}function kd(n,i,o,d,v,C){const O=i[Sn],j=O.data[n+8],Ie=Ud(j,O,o,null==d?Jr(j)&&Fu:d!=O&&0!=(3&j.type),v&vi.Host&&C===j);return null!==Ie?Pc(i,O,Ie,j):Nc}function Ud(n,i,o,d,v){const C=n.providerIndexes,O=i.data,j=1048575&C,ee=n.directiveStart,Ie=C>>20,At=v?j+Ie:n.directiveEnd;for(let Ht=d?j:j+Ie;Ht<At;Ht++){const Tn=O[Ht];if(Ht<ee&&o===Tn||Ht>=ee&&Tn.type===o)return Ht}if(v){const Ht=O[ee];if(Ht&&pi(Ht)&&Ht.type===o)return ee}return null}function Pc(n,i,o,d){let v=n[o];const C=i.data;if(function rd(n){return n instanceof Ld}(v)){const O=v;O.resolving&&function Zn(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new en(-200,`Circular dependency in DI detected for ${n}${o}`)}(xt(C[o]));const j=Fc(O.canSeeViewProviders);O.resolving=!0;const me=O.injectImpl?xo(O.injectImpl):null;Ei(n,d,vi.Default);try{v=n[o]=O.factory(void 0,C,n,d),i.firstCreatePass&&o>=d.directiveStart&&function Sr(n,i,o){const{ngOnChanges:d,ngOnInit:v,ngDoCheck:C}=i.type.prototype;if(d){const O=Xa(i);(o.preOrderHooks??=[]).push(n,O),(o.preOrderCheckHooks??=[]).push(n,O)}v&&(o.preOrderHooks??=[]).push(0-n,v),C&&((o.preOrderHooks??=[]).push(n,C),(o.preOrderCheckHooks??=[]).push(n,C))}(o,C[o],i)}finally{null!==me&&xo(me),Fc(j),O.resolving=!1,ya()}}return v}function Nu(n,i,o){return!!(o[i+(n>>lm)]&1<<n)}function Bd(n,i){return!(n&vi.Self||n&vi.Host&&i)}function Lu(n){return n._lView}class bl{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,d){return sd(this._tNode,this._lView,i,Pt(d),o)}}function lc(){return new bl(ii(),Ot())}function kc(n){return Mr(()=>{const i=n.prototype.constructor,o=i[Rs]||Vd(i),d=Object.prototype;let v=Object.getPrototypeOf(n.prototype).constructor;for(;v&&v!==d;){const C=v[Rs]||Vd(v);if(C&&C!==o)return C;v=Object.getPrototypeOf(v)}return C=>new C})}function Vd(n){return qe(n)?()=>{const i=Vd(be(n));return i&&i()}:Yt(n)}function jd(n){const i=n[Sn],o=i.type;return 2===o?i.declTNode:1===o?n[ys]:null}function ku(n){return function Hg(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const d=o.length;let v=0;for(;v<d;){const C=o[v];if(ss(C))break;if(0===C)v+=2;else if("number"==typeof C)for(v++;v<d&&"string"==typeof o[v];)v++;else{if(C===i)return o[v+1];v+=2}}}return null}(ii(),n)}const ic="__annotations__",fc="__parameters__",Jc="__prop__metadata__";function Hd(n,i,o,d,v){return Mr(()=>{const C=Gd(i);function O(...j){if(this instanceof O)return C.call(this,...j),this;const ee=new O(...j);return function(Ie){return v&&v(Ie,...j),(Ie.hasOwnProperty(ic)?Ie[ic]:Object.defineProperty(Ie,ic,{value:[]})[ic]).push(ee),d&&d(Ie),Ie}}return o&&(O.prototype=Object.create(o.prototype)),O.prototype.ngMetadataName=n,O.annotationCls=O,O})}function Gd(n){return function(...o){if(n){const d=n(...o);for(const v in d)this[v]=d[v]}}}function Uc(n,i,o){return Mr(()=>{const d=Gd(i);function v(...C){if(this instanceof v)return d.apply(this,C),this;const O=new v(...C);return j.annotation=O,j;function j(ee,me,Ie){const it=ee.hasOwnProperty(fc)?ee[fc]:Object.defineProperty(ee,fc,{value:[]})[fc];for(;it.length<=Ie;)it.push(null);return(it[Ie]=it[Ie]||[]).push(O),ee}}return o&&(v.prototype=Object.create(o.prototype)),v.prototype.ngMetadataName=n,v.annotationCls=v,v})}function Bc(n,i,o,d){return Mr(()=>{const v=Gd(i);function C(...O){if(this instanceof C)return v.apply(this,O),this;const j=new C(...O);return function ee(me,Ie){if(void 0===me)throw new Error("Standard Angular field decorators are not supported in JIT mode.");const it=me.constructor,At=it.hasOwnProperty(Jc)?it[Jc]:Object.defineProperty(it,Jc,{value:{}})[Jc];At[Ie]=At.hasOwnProperty(Ie)&&At[Ie]||[],At[Ie].unshift(j),d&&d(me,Ie,...O)}}return o&&(C.prototype=Object.create(o.prototype)),C.prototype.ngMetadataName=n,C.annotationCls=C,C})}const um=Uc("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ku(n)}));class Wd{}const $g=Bc("ContentChildren",(n,i={})=>({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...i}),Wd),$d=Bc("ContentChild",(n,i={})=>({selector:n,first:!0,isViewQuery:!1,descendants:!0,...i}),Wd),Vh=Bc("ViewChildren",(n,i={})=>({selector:n,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...i}),Wd),Xg=Bc("ViewChild",(n,i)=>({selector:n,first:!0,isViewQuery:!0,descendants:!0,...i}),Wd);var Uu=function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n}(Uu||{});function al(n){const i=xi.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const dm=Function;function Xd(n){return"function"==typeof n}function Ml(n){return n.flat(Number.POSITIVE_INFINITY)}function ad(n,i){n.forEach(o=>Array.isArray(o)?ad(o,i):i(o))}function zh(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function kf(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function yu(n,i){const o=[];for(let d=0;d<n;d++)o.push(i);return o}function zl(n,i,o){let d=Bu(n,i);return d>=0?n[1|d]=o:(d=~d,function fm(n,i,o,d){let v=n.length;if(v==i)n.push(o,d);else if(1===v)n.push(d,n[0]),n[0]=o;else{for(v--,n.push(n[v-1],n[v]);v>i;)n[v]=n[v-2],v--;n[i]=o,n[i+1]=d}}(n,d,i,o)),d}function qc(n,i){const o=Bu(n,i);if(o>=0)return n[1|o]}function Bu(n,i){return function Hh(n,i,o){let d=0,v=n.length>>o;for(;v!==d;){const C=d+(v-d>>1),O=n[C<<o];if(i===O)return C<<o;O>i?v=C:d=C+1}return~(v<<o)}(n,i,1)}const i0=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Uf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Bf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Kg=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Jg{constructor(i){this._reflect=i||xi.Reflect}factory(i){return(...o)=>new i(...o)}_zipTypesAndAnnotations(i,o){let d;d=yu(typeof i>"u"?o.length:i.length);for(let v=0;v<d.length;v++)d[v]=typeof i>"u"?[]:i[v]&&i[v]!=Object?[i[v]]:[],o&&null!=o[v]&&(d[v]=d[v].concat(o[v]));return d}_ownParameters(i,o){if(function Gh(n){return i0.test(n)||Kg.test(n)||Uf.test(n)&&!Bf.test(n)}(i.toString()))return null;if(i.parameters&&i.parameters!==o.parameters)return i.parameters;const v=i.ctorParameters;if(v&&v!==o.ctorParameters){const j="function"==typeof v?v():v,ee=j.map(Ie=>Ie&&Ie.type),me=j.map(Ie=>Ie&&pm(Ie.decorators));return this._zipTypesAndAnnotations(ee,me)}const C=i.hasOwnProperty(fc)&&i[fc],O=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",i);return O||C?this._zipTypesAndAnnotations(O,C):yu(i.length)}parameters(i){if(!Xd(i))return[];const o=Vc(i);let d=this._ownParameters(i,o);return!d&&o!==Object&&(d=this.parameters(o)),d||[]}_ownAnnotations(i,o){if(i.annotations&&i.annotations!==o.annotations){let d=i.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return i.decorators&&i.decorators!==o.decorators?pm(i.decorators):i.hasOwnProperty(ic)?i[ic]:null}annotations(i){if(!Xd(i))return[];const o=Vc(i),d=this._ownAnnotations(i,o)||[];return(o!==Object?this.annotations(o):[]).concat(d)}_ownPropMetadata(i,o){if(i.propMetadata&&i.propMetadata!==o.propMetadata){let d=i.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(i.propDecorators&&i.propDecorators!==o.propDecorators){const d=i.propDecorators,v={};return Object.keys(d).forEach(C=>{v[C]=pm(d[C])}),v}return i.hasOwnProperty(Jc)?i[Jc]:null}propMetadata(i){if(!Xd(i))return{};const o=Vc(i),d={};if(o!==Object){const C=this.propMetadata(o);Object.keys(C).forEach(O=>{d[O]=C[O]})}const v=this._ownPropMetadata(i,o);return v&&Object.keys(v).forEach(C=>{const O=[];d.hasOwnProperty(C)&&O.push(...d[C]),O.push(...v[C]),d[C]=O}),d}ownPropMetadata(i){return Xd(i)&&this._ownPropMetadata(i,Vc(i))||{}}hasLifecycleHook(i,o){return i instanceof dm&&o in i.prototype}}function pm(n){return n?n.map(i=>new(0,i.type.annotationCls)(...i.args?i.args:[])):[]}function Vc(n){const i=n.prototype?Object.getPrototypeOf(n.prototype):null;return(i?i.constructor:null)||Object}const Vu=bn(Uc("Inject",n=>({token:n})),-1),ld=bn(Uc("Optional"),8),cd=bn(Uc("Self"),2),ud=bn(Uc("SkipSelf"),4),Qg=bn(Uc("Host"),1);let qg=null;function mm(){return qg=qg||new Jg}function kl(n){return ev(mm().parameters(n))}function ev(n){return n.map(i=>function Vf(n){const i={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let o=0;o<n.length;o++){const d=n[o];if(void 0===d)continue;const v=Object.getPrototypeOf(d);if(d instanceof ld||"Optional"===v.ngMetadataName)i.optional=!0;else if(d instanceof ud||"SkipSelf"===v.ngMetadataName)i.skipSelf=!0;else if(d instanceof cd||"Self"===v.ngMetadataName)i.self=!0;else if(d instanceof Qg||"Host"===v.ngMetadataName)i.host=!0;else if(d instanceof Vu)i.token=d.token;else if(d instanceof um){if(void 0===d.attributeName)throw new en(204,!1);i.attribute=d.attributeName}else i.token=d}else i.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return i}(i))}function Yd(n){const i=[],o=new Map;function d(v){let C=o.get(v);if(!C){const O=n(v);o.set(v,C=O.then(dd))}return C}return vc.forEach((v,C)=>{const O=[];v.templateUrl&&O.push(d(v.templateUrl).then(it=>{v.template=it}));const j=v.styleUrls,ee=v.styles||(v.styles=[]),me=v.styles.length;j&&j.forEach((it,At)=>{ee.push(""),O.push(d(it).then(Ht=>{ee[me+At]=Ht,j.splice(j.indexOf(it),1),0==j.length&&(v.styleUrls=void 0)}))});const Ie=Promise.all(O).then(()=>function nv(n){eu.delete(n)}(C));i.push(Ie)}),Kl(),Promise.all(i).then(()=>{})}let vc=new Map;const eu=new Set;function Wh(n){return!!(n.templateUrl&&!n.hasOwnProperty("template")||n.styleUrls&&n.styleUrls.length)}function Kl(){const n=vc;return vc=new Map,n}function dd(n){return"string"==typeof n?n:n.text()}const jl=new Map;let zf=!0;function $h(n,i){(function jf(n,i,o){if(i&&i!==o&&zf)throw new Error(`Duplicate module registered for ${n} - ${Ee(i)} vs ${Ee(i.name)}`)})(i,jl.get(i)||null,n),jl.set(i,n)}function Hf(n){return jl.get(n)}function vm(n){zf=!n}const ym={name:"custom-elements"},zc={name:"no-errors-schema"};let Zd=!1;function _m(n){Zd=n}function bm(){return Zd}let Ic=!1;function Mm(n){Ic=n}function Sm(){return Ic}const jc="ngSkipHydration";function av(n){const i=jc.toLowerCase(),o=n.mergedAttrs;if(null===o)return!1;for(let d=0;d<o.length;d+=2){const v=o[d];if("number"==typeof v)return!1;if("string"==typeof v&&v.toLowerCase()===i)return!0}return!1}function lv(n){return n.hasAttribute(jc)}function fd(n){return 128==(128&n.flags)}function Kd(n){let i=n.parent;for(;i;){if(av(i))return!0;i=i.parent}return!1}var Hl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Hl||{});const yc=/^>|^->|<!--|-->|--!>|<!-$/g,tu=/(<|>)/g,xm="\u200b$1\u200b";const $f=new Map;let Cm=0;function Tm(n){return $f.get(n)||null}class Am{get lView(){return Tm(this.lViewId)}constructor(i,o,d){this.lViewId=i,this.nodeIndex=o,this.native=d}}function Gl(n){let i=Wl(n);if(i){if(zt(i)){const o=i;let d,v,C;if(Qh(n)){if(d=ep(o,n),-1==d)throw new Error("The provided component was not found in the application");v=n}else if(function uv(n){return n&&n.constructor&&n.constructor.\u0275dir}(n)){if(d=function tp(n,i){let o=n[Sn].firstChild;for(;o;){const v=o.directiveEnd;for(let C=o.directiveStart;C<v;C++)if(n[C]===i)return o.index;o=dv(o)}return-1}(o,n),-1==d)throw new Error("The provided directive was not found in the application");C=np(d,o)}else if(d=qh(o,n),-1==d)return null;const O=wr(o[d]),j=Wl(O),ee=j&&!Array.isArray(j)?j:zu(o,d,O);if(v&&void 0===ee.component&&(ee.component=v,Jl(ee.component,ee)),C&&void 0===ee.directives){ee.directives=C;for(let me=0;me<C.length;me++)Jl(C[me],ee)}Jl(ee.native,ee),i=ee}}else{const o=n;let d=o;for(;d=d.parentNode;){const v=Wl(d);if(v){const C=Array.isArray(v)?v:v.lView;if(!C)return null;const O=qh(C,o);if(O>=0){const j=wr(C[O]),ee=zu(C,O,j);Jl(j,ee),i=ee;break}}}}return i||null}function zu(n,i,o){return new Am(n[hl],i,o)}function cv(n){let o,i=Wl(n);if(zt(i)){const d=i,v=ep(d,n);o=sa(v,d);const C=zu(d,v,o[Lr]);C.component=n,Jl(n,C),Jl(C.native,C)}else o=sa(i.nodeIndex,i.lView);return o}const Jh="__ngContext__";function Jl(n,i){zt(i)?(n[Jh]=i[hl],function wm(n){$f.set(n[hl],n)}(i)):n[Jh]=i}function Wl(n){const i=n[Jh];return"number"==typeof i?Tm(i):i||null}function hd(n){const i=Wl(n);return i?zt(i)?i:i.lView:null}function Qh(n){return n&&n.constructor&&n.constructor.\u0275cmp}function qh(n,i){const o=n[Sn];for(let d=Kr;d<o.bindingStartIndex;d++)if(wr(n[d])===i)return d;return-1}function dv(n){if(n.child)return n.child;if(n.next)return n.next;for(;n.parent&&!n.parent.next;)n=n.parent;return n.parent&&n.parent.next}function ep(n,i){const o=n[Sn].components;if(o)for(let d=0;d<o.length;d++){const v=o[d];if(sa(v,n)[co]===i)return v}else if(sa(Kr,n)[co]===i)return Kr;return-1}function np(n,i){const o=i[Sn].data[n];if(0===o.directiveStart)return pr;const d=[];for(let v=o.directiveStart;v<o.directiveEnd;v++){const C=i[v];Qh(C)||d.push(C)}return d}let nu;function pd(n,i){return nu(n,i)}function hc(n){const i=n[po];return Xn(i)?i[po]:i}function Xf(n){return function md(n){let i=zt(n)?n:hd(n);for(;i&&!(512&i[tr]);)i=hc(i);return i}(n)[co]}function _u(n){return Zf(n[Xl])}function Yf(n){return Zf(n[la])}function Zf(n){for(;null!==n&&!Xn(n);)n=n[la];return n}function Hc(n,i,o,d,v){if(null!=d){let C,O=!1;Xn(d)?C=d:zt(d)&&(O=!0,d=d[Lr]);const j=wr(d);0===n&&null!==o?null==v?Jf(i,o,j):Hu(i,o,j,v||null,!0):1===n&&null!==o?Hu(i,o,j,v||null,!0):2===n?Xu(i,j,O):3===n&&i.destroyNode(j),null!=C&&function gv(n,i,o,d,v){const C=o[De];C!==wr(o)&&Hc(i,n,d,C,v);for(let j=Et;j<o.length;j++){const ee=o[j];th(ee[Sn],ee,n,i,d,C)}}(i,n,C,o,v)}}function Qd(n,i){return n.createText(i)}function qd(n,i,o){n.setValue(i,o)}function rp(n,i){return n.createComment(function Jd(n){return n.replace(yc,i=>i.replace(tu,xm))}(i))}function iu(n,i,o){return n.createElement(i,o)}function hv(n,i){const o=n[Ve],d=o.indexOf(i);L(i),o.splice(d,1)}function op(n,i){if(n.length<=Et)return;const o=Et+i,d=n[o];if(d){const v=d[Rl];null!==v&&v!==n&&hv(v,d),i>0&&(n[o-1][la]=d[la]);const C=kf(n,Et+i);!function s0(n,i){th(n,i,i[Hi],2,null,null),i[Lr]=null,i[ys]=null}(d[Sn],d);const O=C[dr];null!==O&&O.detachView(C[Sn]),d[po]=null,d[la]=null,d[tr]&=-129}return d}function sp(n,i){if(!(256&i[tr])){const o=i[Hi];i[Xs]&&yl(i[Xs]),i[pl]&&yl(i[pl]),o.destroyNode&&th(n,i,o,3,null,null),function Kf(n){let i=n[Xl];if(!i)return Pm(n[Sn],n);for(;i;){let o=null;if(zt(i))o=i[Xl];else{const d=i[Et];d&&(o=d)}if(!o){for(;i&&!i[la]&&i!==n;)zt(i)&&Pm(i[Sn],i),i=i[po];null===i&&(i=n),zt(i)&&Pm(i[Sn],i),o=i&&i[la]}i=o}}(i)}}function Pm(n,i){if(!(256&i[tr])){i[tr]&=-129,i[tr]|=256,function u0(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const v=i[o[d]];if(!(v instanceof Ld)){const C=o[d+1];if(Array.isArray(C))for(let O=0;O<C.length;O+=2){const j=v[C[O]],ee=C[O+1];ns(4,j,ee);try{ee.call(j)}finally{ns(5,j,ee)}}else{ns(4,v,C);try{C.call(v)}finally{ns(5,v,C)}}}}}(n,i),function c0(n,i){const o=n.cleanup,d=i[rl];if(null!==o)for(let C=0;C<o.length-1;C+=2)if("string"==typeof o[C]){const O=o[C+3];O>=0?d[O]():d[-O].unsubscribe(),C+=2}else o[C].call(d[o[C+1]]);null!==d&&(i[rl]=null);const v=i[Ra];if(null!==v){i[Ra]=null;for(let C=0;C<v.length;C++)(0,v[C])()}}(n,i),1===i[Sn].type&&i[Hi].destroy();const o=i[Rl];if(null!==o&&Xn(i[po])){o!==i[po]&&hv(o,i);const d=i[dr];null!==d&&d.detachView(n)}!function o0(n){$f.delete(n[hl])}(i)}}function ef(n,i,o){return cc(n,i.parent,o)}function cc(n,i,o){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return o[Lr];{const{componentOffset:v}=d;if(v>-1){const{encapsulation:C}=n.data[d.directiveStart+v];if(C===Zr.None||C===Zr.Emulated)return null}return Fr(d,o)}}function Hu(n,i,o,d,v){n.insertBefore(i,o,d,v)}function Jf(n,i,o){n.appendChild(i,o)}function Im(n,i,o,d,v){null!==d?Hu(n,i,o,d,v):Jf(n,i,o)}function Qf(n,i){return n.parentNode(i)}function Gu(n,i,o){return Wu(n,i,o)}function qf(n,i,o){return 40&n.type?Fr(n,o):null}let tf,Yu,of,rh,Wu=qf;function mv(n,i){Wu=n,tf=i}function $u(n,i,o,d){const v=ef(n,d,i),C=i[Hi],j=Gu(d.parent||i[ys],d,i);if(null!=v)if(Array.isArray(o))for(let ee=0;ee<o.length;ee++)Im(C,v,o[ee],j,!1);else Im(C,v,o,j,!1);void 0!==tf&&tf(C,d,i,o,v)}function eh(n,i){if(null!==i){const o=i.type;if(3&o)return Fr(i,n);if(4&o)return lp(-1,n[i.index]);if(8&o){const d=i.child;if(null!==d)return eh(n,d);{const v=n[i.index];return Xn(v)?lp(-1,v):wr(v)}}if(32&o)return pd(i,n)()||wr(n[i.index]);{const d=Om(n,i);return null!==d?Array.isArray(d)?d[0]:eh(hc(n[$o]),d):eh(n,i.next)}}return null}function Om(n,i){return null!==i?n[$o][ys].projection[i.projection]:null}function lp(n,i){const o=Et+n+1;if(o<i.length){const d=i[o],v=d[Sn].firstChild;if(null!==v)return eh(d,v)}return i[De]}function Xu(n,i,o){const d=Qf(n,i);d&&function pv(n,i,o,d){n.removeChild(i,o,d)}(n,d,i,o)}function cp(n){n.textContent=""}function nf(n,i,o,d,v,C,O){for(;null!=o;){const j=d[o.index],ee=o.type;if(O&&0===i&&(j&&Jl(wr(j),d),o.flags|=2),32!=(32&o.flags))if(8&ee)nf(n,i,o.child,d,v,C,!1),Hc(i,n,v,j,C);else if(32&ee){const me=pd(o,d);let Ie;for(;Ie=me();)Hc(i,n,v,Ie,C);Hc(i,n,v,j,C)}else 16&ee?Rm(n,i,d,o,v,C):Hc(i,n,v,j,C);o=O?o.projectionNext:o.next}}function th(n,i,o,d,v,C){nf(o,d,n.firstChild,i,v,C,!1)}function Rm(n,i,o,d,v,C){const O=o[$o],ee=O[ys].projection[d.projection];if(Array.isArray(ee))for(let me=0;me<ee.length;me++)Hc(i,n,v,ee[me],C);else{let me=ee;const Ie=O[po];fd(d)&&(me.flags|=128),nf(n,i,me,Ie,v,C,!0)}}function vv(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function nh(n,i,o){const{mergedAttrs:d,classes:v,styles:C}=o;null!==d&&Qs(n,i,d),null!==v&&vv(n,i,v),null!==C&&function d0(n,i,o){n.setAttribute(i,"style",o)}(n,i,C)}function Zu(){if(void 0===Yu&&(Yu=null,xi.trustedTypes))try{Yu=xi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yu}function bu(n){return Zu()?.createHTML(n)||n}function ih(n,i,o){const d=Ot(),v=eo(),C=Fr(v,d);if(2===v.type&&"iframe"===i.toLowerCase()){const O=C;throw O.src="",O.srcdoc=bu(""),Xu(d[Hi],O),new en(-910,!1)}return n}function fp(n){of=n}function Mu(){if(void 0!==of)return of;if(typeof document<"u")return document;throw new en(210,!1)}function hp(){if(void 0===rh&&(rh=null,xi.trustedTypes))try{rh=xi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rh}function Fm(n){return hp()?.createHTML(n)||n}function Nm(n){return hp()?.createScript(n)||n}function Lm(n){return hp()?.createScriptURL(n)||n}class ru{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class yv extends ru{getTypeName(){return"HTML"}}class _v extends ru{getTypeName(){return"Style"}}class yd extends ru{getTypeName(){return"Script"}}class bv extends ru{getTypeName(){return"URL"}}class oh extends ru{getTypeName(){return"ResourceURL"}}function Oc(n){return n instanceof ru?n.changingThisBreaksApplicationSecurity:n}function Ku(n,i){const o=km(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${_t})`)}return o===i}function km(n){return n instanceof ru&&n.getTypeName()||null}function sf(n){return new yv(n)}function _d(n){return new _v(n)}function Mv(n){return new yd(n)}function Sv(n){return new bv(n)}function Um(n){return new oh(n)}function pp(n){const i=new h0(n);return function p0(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch{return!1}}()?new f0(i):i}class f0{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(bu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class h0{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=bu(i),o}}const af=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sh(n){return(n=String(n)).match(af)?n:"unsafe:"+n}function pc(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function lf(...n){const i={};for(const o of n)for(const d in o)o.hasOwnProperty(d)&&(i[d]=!0);return i}const Ul=pc("area,br,col,hr,img,wbr"),Ju=pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mp=pc("rp,rt"),Gc=lf(Ul,lf(Ju,pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lf(mp,pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lf(mp,Ju)),bd=pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xv=lf(bd,pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Su=pc("script,style,template");class Bm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,d=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?d=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,d&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let v=this.checkClobberedElement(o,o.nextSibling);if(v){o=v;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Gc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Su.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const d=i.attributes;for(let v=0;v<d.length;v++){const C=d.item(v),O=C.name,j=O.toLowerCase();if(!xv.hasOwnProperty(j)){this.sanitizedSomething=!0;continue}let ee=C.value;bd[j]&&(ee=sh(ee)),this.buf.push(" ",O,'="',ou(ee),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Gc.hasOwnProperty(o)&&!Ul.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(ou(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Cv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bc=/([^\#-~ |!])/g;function ou(n){return n.replace(/&/g,"&amp;").replace(Cv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(bc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yp;function su(n,i){let o=null;try{yp=yp||pp(n);let d=i?String(i):"";o=yp.getInertBodyElement(d);let v=5,C=d;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,d=C,C=o.innerHTML,o=yp.getInertBodyElement(d)}while(d!==C);return bu((new Bm).sanitizeChildren(Vm(o)||o))}finally{if(o){const d=Vm(o)||o;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Vm(n){return"content"in n&&function v0(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wc||{});function Ev(n){const i=lu();return i?Fm(i.sanitize(Wc.HTML,n)||""):Ku(n,"HTML")?Fm(Oc(n)):su(Mu(),an(n))}function wv(n){const i=lu();return i?i.sanitize(Wc.STYLE,n)||"":Ku(n,"Style")?Oc(n):an(n)}function zm(n){const i=lu();return i?i.sanitize(Wc.URL,n)||"":Ku(n,"URL")?Oc(n):sh(an(n))}function au(n){const i=lu();if(i)return Lm(i.sanitize(Wc.RESOURCE_URL,n)||"");if(Ku(n,"ResourceURL"))return Lm(Oc(n));throw new en(904,!1)}function jm(n){const i=lu();if(i)return Nm(i.sanitize(Wc.SCRIPT,n)||"");if(Ku(n,"Script"))return Nm(Oc(n));throw new en(905,!1)}function _p(n){return bu(n[0])}function Hm(n){return function rf(n){return Zu()?.createScriptURL(n)||n}(n[0])}function Mp(n,i,o){return function bp(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?au:zm}(i,o)(n)}function lu(){const n=Ot();return n&&n[ao].sanitizer}const xu=new _i("ENVIRONMENT_INITIALIZER"),ah=new _i("INJECTOR",-1),Tv=new _i("INJECTOR_DEF_TYPES");class Sp{get(i,o=Wt){if(o===Wt){const d=new Error(`NullInjectorError: No provider for ${Ee(i)}!`);throw d.name="NullInjectorError",d}return o}}function uf(n){return{\u0275providers:n}}function Av(...n){return{\u0275providers:Gm(0,n),\u0275fromNgModule:!0}}function Gm(n,...i){const o=[],d=new Set;let v;const C=O=>{o.push(O)};return ad(i,O=>{const j=O;lh(j,C,[],d)&&(v||=[],v.push(j))}),void 0!==v&&Wm(v,C),o}function Wm(n,i){for(let o=0;o<n.length;o++){const{ngModule:d,providers:v}=n[o];xp(v,C=>{i(C,d)})}}function lh(n,i,o,d){if(!(n=be(n)))return!1;let v=null,C=no(n);const O=!C&&Hr(n);if(C||O){if(O&&!O.standalone)return!1;v=n}else{const ee=n.ngModule;if(C=no(ee),!C)return!1;v=ee}const j=d.has(v);if(O){if(j)return!1;if(d.add(v),O.dependencies){const ee="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const me of ee)lh(me,i,o,d)}}else{if(!C)return!1;{if(null!=C.imports&&!j){let me;d.add(v);try{ad(C.imports,Ie=>{lh(Ie,i,o,d)&&(me||=[],me.push(Ie))})}finally{}void 0!==me&&Wm(me,i)}if(!j){const me=Yt(v)||(()=>new v);i({provide:v,useFactory:me,deps:pr},v),i({provide:Tv,useValue:v,multi:!0},v),i({provide:xu,useValue:()=>ht(v),multi:!0},v)}const ee=C.providers;if(null!=ee&&!j){const me=n;xp(ee,Ie=>{i(Ie,me)})}}}return v!==n&&void 0!==n.providers}function xp(n,i){for(let o of n)bt(o)&&(o=o.\u0275providers),Array.isArray(o)?xp(o,i):i(o)}const Cp=rt({provide:String,useValue:rt});function ch(n){return null!==n&&"object"==typeof n&&Cp in n}function Md(n){return"function"==typeof n}const uh=new _i("Set Injector scope."),dh={},M0={};let ff;function hf(){return void 0===ff&&(ff=new Sp),ff}class cu{}class uu extends cu{get destroyed(){return this._destroyed}constructor(i,o,d,v){super(),this.parent=o,this.source=d,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qu(i,O=>this.processProvider(O)),this.records.set(ah,xd(void 0,this)),v.has("environment")&&this.records.set(cu,xd(void 0,this));const C=this.records.get(uh);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Tv.multi,pr,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=ko(this),d=xo(void 0);try{return i()}finally{ko(o),xo(d)}}get(i,o=Wt,d=vi.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ts))return i[ts](this);d=Pt(d);const C=ko(this),O=xo(void 0);try{if(!(d&vi.SkipSelf)){let ee=this.records.get(i);if(void 0===ee){const me=function Pv(n){return"function"==typeof n||"object"==typeof n&&n instanceof _i}(i)&&oi(i);ee=me&&this.injectableDefInScope(me)?xd(Ep(i),dh):null,this.records.set(i,ee)}if(null!=ee)return this.hydrate(i,ee)}return(d&vi.Self?hf():this.parent).get(i,o=d&vi.Optional&&o===Wt?null:o)}catch(j){if("NullInjectorError"===j.name){if((j[di]=j[di]||[]).unshift(Ee(i)),C)throw j;return function Ri(n,i,o,d){const v=n[di];throw i[cs]&&v.unshift(i[cs]),n.message=function fi(n,i,o,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let v=Ee(i);if(Array.isArray(i))v=i.map(Ee).join(" -> ");else if("object"==typeof i){let C=[];for(let O in i)if(i.hasOwnProperty(O)){let j=i[O];C.push(O+":"+("string"==typeof j?JSON.stringify(j):Ee(j)))}v=`{${C.join(", ")}}`}return`${o}${d?"("+d+")":""}[${v}]: ${n.replace(jr,"\n  ")}`}("\n"+n.message,v,o,d),n.ngTokenPath=v,n[di]=null,n}(j,i,"R3InjectorError",this.source)}throw j}finally{xo(O),ko(C)}}resolveInjectorInitializers(){const i=ko(this),o=xo(void 0);try{const v=this.get(xu.multi,pr,vi.Self);for(const C of v)C()}finally{ko(i),xo(o)}}toString(){const i=[],o=this.records;for(const d of o.keys())i.push(Ee(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new en(205,!1)}processProvider(i){let o=Md(i=be(i))?i:be(i&&i.provide);const d=function S0(n){return ch(n)?xd(void 0,n.useValue):xd(Ym(n),dh)}(i);if(Md(i)||!0!==i.multi)this.records.get(o);else{let v=this.records.get(o);v||(v=xd(void 0,dh,!0),v.factory=()=>vn(v.multi),this.records.set(o,v)),o=i,v.multi.push(i)}this.records.set(o,d)}hydrate(i,o){return o.value===dh&&(o.value=M0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Cd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=be(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ep(n){const i=oi(n),o=null!==i?i.factory:Yt(n);if(null!==o)return o;if(n instanceof _i)throw new en(204,!1);if(n instanceof Function)return function Sd(n){const i=n.length;if(i>0)throw yu(i,"?"),new en(204,!1);const o=function Vr(n){return n&&(n[wo]||n[So])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new en(204,!1)}function Ym(n,i,o){let d;if(Md(n)){const v=be(n);return Yt(v)||Ep(v)}if(ch(n))d=()=>be(n.useValue);else if(function Xm(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...vn(n.deps||[]));else if(function $m(n){return!(!n||!n.useExisting)}(n))d=()=>ht(be(n.useExisting));else{const v=be(n&&(n.useClass||n.provide));if(!function Dv(n){return!!n.deps}(n))return Yt(v)||Ep(v);d=()=>new v(...vn(n.deps))}return d}function xd(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Qu(n,i){for(const o of n)Array.isArray(o)?Qu(o,i):o&&bt(o)?Qu(o.\u0275providers,i):i(o)}const qu=new _i("AppId",{providedIn:"root",factory:()=>x0}),x0="ng",Zm=new _i("Platform Initializer"),Cu=new _i("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ed=new _i("Application Packages Root URL"),C0=new _i("AnimationModuleType"),wd=new _i("CSP nonce",{providedIn:"root",factory:()=>Mu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),fh=new _i("",{providedIn:"root",factory:()=>new Set});function E0(n){return n}function wp(){const n=new Td;return"browser"===nt(Cu)&&(n.store=function Km(n,i){const o=n.getElementById(i+"-state");if(o?.textContent)try{return JSON.parse(o.textContent)}catch(d){console.warn("Exception while restoring TransferState for app "+i,d)}return{}}(Mu(),nt(qu))),n}let Td=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:wp});get(o,d){return void 0!==this.store[o]?this.store[o]:d}set(o,d){this.store[o]=d}remove(o){delete this.store[o]}hasKey(o){return this.store.hasOwnProperty(o)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(o,d){this.onSerializeCallbacks[o]=d}toJson(){for(const o in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(o))try{this.store[o]=this.onSerializeCallbacks[o]()}catch(d){console.warn("Exception in onSerialize callback: ",d)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const hh="h",Iv="b";var pf=function(n){return n.FirstChild="f",n.NextSibling="n",n}(pf||{});const Jm="e",Tp="t",mf="c",Ap="x",Ad="r",Dp="i",Pa="n",Pp="d",Ip="__\u0275nghData__",ph="ngh",Ov="nghm";let Rv=(n,i,o)=>null;function Qm(n,i,o=!1){let d=n.getAttribute(ph);if(null==d)return null;const[v,C]=d.split("|");if(d=o?C:v,!d)return null;const O=o?v:C?`|${C}`:"";let j={};if(""!==d){const me=i.get(Td,null,{optional:!0});null!==me&&(j=me.get(Ip,[])[Number(d)])}const ee={data:j,firstChild:n.firstChild??null};return o&&(ee.firstChild=n,gf(ee,0,n.nextSibling)),O?n.setAttribute(ph,O):n.removeAttribute(ph),ee}function qm(n,i,o=!1){return Rv(n,i,o)}function eg(n){let i=n._lView;return 2===i[Sn].type?null:(nn(i)&&(i=i[Kr]),i)}function gf(n,i,o){n.segmentHeads??={},n.segmentHeads[i]=o}function Op(n,i){return n.segmentHeads?.[i]??null}function Rp(n,i){return n.data[mf]?.[i]??null}function mh(n,i){const o=Rp(n,i)??[];let d=0;for(let v of o)d+=v[Ad]*(v[Ap]??1);return d}function Fp(n,i){if(typeof n.disconnectedNodes>"u"){const o=n.data[Pp];n.disconnectedNodes=o?new Set(o):null}return!!n.disconnectedNodes?.has(i)}class tg{}class Dd{}class Eu{resolveComponentFactory(i){throw function gh(n){const i=Error(`No component factory found for ${Ee(n)}.`);return i.ngComponent=n,i}(i)}}let wu=(()=>{class n{static#e=this.NULL=new Eu}return n})();function ig(){return vf(ii(),Ot())}function vf(n,i){return new yf(Fr(n,i))}let yf=(()=>{class n{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=ig}return n})();function rg(n){return n instanceof yf?n.nativeElement:n}class Nv{}let Np=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Lv(){const n=Ot(),o=sa(ii().index,n);return(zt(o)?o:n)[Hi]}()}return n})(),kv=(()=>{class n{static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:()=>null})}return n})();class og{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Uv=new og("16.2.12"),Pd={};function Lp(n,i){n instanceof uu&&n.assertNotDestroyed();const d=ko(n),v=xo(void 0);try{return i()}finally{ko(d),xo(v)}}function vh(n){if(!ar()&&!function ha(){return Zi}())throw new en(-203,!1)}const Bv={\u0275\u0275defineInjectable:tn,\u0275\u0275defineInjector:zi,\u0275\u0275inject:ht,\u0275\u0275invalidFactoryDep:ut,resolveForwardRef:be};const cl=rt({provide:String,useValue:rt});function sg(n){return void 0!==n.useClass}function _f(n){return void 0!==n.useFactory}const Vv=Hd("Injectable",void 0,void 0,void 0,(n,i)=>function kp(n,i){let o=null,d=null;n.hasOwnProperty(wo)||Object.defineProperty(n,wo,{get:()=>(null===o&&(o=al().compileInjectable(Bv,`ng:///${n.name}/\u0275prov.js`,function O0(n,i){const o=i||{providedIn:null},d={name:n.name,type:n,typeArgumentCount:0,providedIn:o.providedIn};return(sg(o)||_f(o))&&void 0!==o.deps&&(d.deps=ev(o.deps)),sg(o)?d.useClass=o.useClass:function Sl(n){return cl in n}(o)?d.useValue=o.useValue:_f(o)?d.useFactory=o.useFactory:function I0(n){return void 0!==n.useExisting}(o)&&(d.useExisting=o.useExisting),d}(n,i))),o)}),n.hasOwnProperty(Rs)||Object.defineProperty(n,Rs,{get:()=>{if(null===d){const v=al();d=v.compileFactory(Bv,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:kl(n),target:v.FactoryTarget.Injectable})}return d},configurable:!0})}(n,i));function Up(n,i=null,o=null,d){const v=yh(n,i,o,d);return v.resolveInjectorInitializers(),v}function yh(n,i=null,o=null,d,v=new Set){const C=[o||pr,Av(n)];return d=d||("object"==typeof n?void 0:Ee(n)),new uu(C,i||hf(),d||null,v)}let Mc=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Wt;static#t=this.NULL=new Sp;static create(o,d){if(Array.isArray(o))return Up({name:""},d,o,"");{const v=o.name??"";return Up({name:v},o.parent,o.providers,v)}}static#n=this.\u0275prov=tn({token:n,providedIn:"any",factory:()=>ht(ah)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function lg(n){return n.ngOriginalError}class ed{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&lg(i);for(;o&&lg(o);)o=lg(o);return o||null}}let _h=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=F0;static#t=this.__NG_ENV_ID__=o=>o}return n})();class R0 extends _h{constructor(i){super(),this._lView=i}onDestroy(i){return X(this._lView,i),()=>function ce(n,i){if(null===n[Ra])return;const o=n[Ra].indexOf(i);-1!==o&&n[Ra].splice(o,1)}(this._lView,i)}}function F0(){return new R0(Ot())}function ug(n){return i=>{setTimeout(n,void 0,i)}}const du=class cg extends M.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,d){let v=i,C=o||(()=>null),O=d;if(i&&"object"==typeof i){const ee=i;v=ee.next?.bind(ee),C=ee.error?.bind(ee),O=ee.complete?.bind(ee)}this.__isAsync&&(C=ug(C),v&&(v=ug(v)),O&&(O=ug(O)));const j=super.subscribe({next:v,error:C,complete:O});return i instanceof K.w0&&i.add(j),j}};function dg(...n){}class $l{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new du(!1),this.onMicrotaskEmpty=new du(!1),this.onStable=new du(!1),this.onError=new du(!1),typeof Zone>"u")throw new en(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!d&&o,v.shouldCoalesceRunChangeDetection=d,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function N0(){const n="function"==typeof xi.requestAnimationFrame;let i=xi[n?"requestAnimationFrame":"setTimeout"],o=xi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d);const v=o[Zone.__symbol__("OriginalDelegate")];v&&(o=v)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function U0(n){const i=()=>{!function k0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hg(n),n.isCheckStableRunning=!0,fg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hg(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,v,C,O,j)=>{if(function B0(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(j))return o.invokeTask(v,C,O,j);try{return zv(n),o.invokeTask(v,C,O,j)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||n.shouldCoalesceRunChangeDetection)&&i(),jv(n)}},onInvoke:(o,d,v,C,O,j,ee)=>{try{return zv(n),o.invoke(v,C,O,j,ee)}finally{n.shouldCoalesceRunChangeDetection&&i(),jv(n)}},onHasTask:(o,d,v,C)=>{o.hasTask(v,C),d===v&&("microTask"==C.change?(n._hasPendingMicrotasks=C.microTask,hg(n),fg(n)):"macroTask"==C.change&&(n.hasPendingMacrotasks=C.macroTask))},onHandleError:(o,d,v,C)=>(o.handleError(v,C),n.runOutsideAngular(()=>n.onError.emit(C)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$l.isInAngularZone())throw new en(909,!1)}static assertNotInAngularZone(){if($l.isInAngularZone())throw new en(909,!1)}run(i,o,d){return this._inner.run(i,o,d)}runTask(i,o,d,v){const C=this._inner,O=C.scheduleEventTask("NgZoneEvent: "+v,i,L0,dg,dg);try{return C.runTask(O,o,d)}finally{C.cancelTask(O)}}runGuarded(i,o,d){return this._inner.runGuarded(i,o,d)}runOutsideAngular(i){return this._outer.run(i)}}const L0={};function fg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hg(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jv(n){n._nesting--,fg(n)}class Hv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new du,this.onMicrotaskEmpty=new du,this.onStable=new du,this.onError=new du}run(i,o,d){return i.apply(o,d)}runGuarded(i,o,d){return i.apply(o,d)}runOutsideAngular(i){return i()}runTask(i,o,d,v){return i.apply(o,d)}}const Gv=new _i("",{providedIn:"root",factory:Wv});function Wv(){const n=nt($l);let i=!0;return function P(...n){const i=(0,h.yG)(n),o=(0,h._6)(n,1/0),d=n;return d.length?1===d.length?(0,R.Xf)(d[0]):(0,W.J)(o)((0,E.D)(d,i)):y.E}(new G.y(v=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{v.next(i),v.complete()})}),new G.y(v=>{let C;n.runOutsideAngular(()=>{C=n.onStable.subscribe(()=>{$l.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,v.next(!0))})})});const O=n.onUnstable.subscribe(()=>{$l.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{v.next(!1)}))});return()=>{C.unsubscribe(),O.unsubscribe()}}).pipe(q()))}function $v(n){return n.ownerDocument.defaultView}function Xv(n){return n.ownerDocument}function pg(n){return n.ownerDocument.body}function Vs(n){return n instanceof Function?n():n}function Mf(n){return"browser"===(n??nt(Mc)).get(Cu)}function Yv(n,i){!i&&vh();const o=i?.injector??nt(Mc);if(!Mf(o))return{destroy(){}};let d;const v=o.get(_h).onDestroy(()=>d?.()),C=o.get(td),O=C.handler??=new mg,j=o.get($l),ee=o.get(ed,null,{optional:!0}),me=new Kv(j,ee,n);return d=()=>{O.unregister(me),v()},O.register(me),{destroy:d}}function Zv(n,i){!i&&vh();const o=i?.injector??nt(Mc);if(!Mf(o))return{destroy(){}};let d;const v=o.get(_h).onDestroy(()=>d?.()),C=o.get(td),O=C.handler??=new mg,j=o.get($l),ee=o.get(ed,null,{optional:!0}),me=new Kv(j,ee,()=>{d?.(),n()});return d=()=>{O.unregister(me),v()},O.register(me),{destroy:d}}class Kv{constructor(i,o,d){this.zone=i,this.errorHandler=o,this.callbackFn=d}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class mg{constructor(){this.executingCallbacks=!1,this.callbacks=new Set,this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new en(102,!1)}register(i){(this.executingCallbacks?this.deferredCallbacks:this.callbacks).add(i)}unregister(i){this.callbacks.delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of this.callbacks)i.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.callbacks.add(i);this.deferredCallbacks.clear()}destroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}let td=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:()=>new n})}return n})();function bh(n){for(;n;){n[tr]|=64;const i=hc(n);if(nn(n)&&!i)return n;n=i}return null}const Id=new _i(""),gg=new _i("",{providedIn:"root",factory:()=>!1});let Vp=null;function ny(n,i){return n[i]??ry()}function iy(n,i){const o=ry();o.producerNode?.length&&(n[i]=Vp,o.lView=n,Vp=vg())}const H0={...Ys,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{bh(n.lView)},lView:null};function vg(){return Object.create(H0)}function ry(){return Vp??=vg(),Vp}const Fo={};function oy(n){sy(On(),Ot(),Al()+n,!1)}function sy(n,i,o,d){if(!d)if(3==(3&i[tr])){const C=n.preOrderCheckHooks;null!==C&&ac(i,C,o)}else{const C=n.preOrderHooks;null!==C&&Nd(i,C,0,o)}id(o)}function Sf(n,i=vi.Default){const o=Ot();return null===o?ht(n,i):sd(ii(),o,be(n),i)}function ay(){throw new Error("invalid")}function zp(n,i,o,d,v,C,O,j,ee,me,Ie){const it=i.blueprint.slice();return it[Lr]=v,it[tr]=140|d,(null!==me||n&&2048&n[tr])&&(it[tr]|=2048),We(it),it[po]=it[Ja]=n,it[co]=o,it[ao]=O||n&&n[ao],it[Hi]=j||n&&n[Hi],it[sr]=ee||n&&n[sr]||null,it[ys]=C,it[hl]=function Em(){return Cm++}(),it[wl]=Ie,it[Fl]=me,it[$o]=2==i.type?n[$o]:it,it}function xf(n,i,o,d,v){let C=n.data[i];if(null===C)C=yg(n,i,o,d,v),function z(){return pe.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=o,C.value=d,C.attrs=v;const O=Nn();C.injectorIndex=null===O?-1:O.injectorIndex}return Xr(C,!0),C}function yg(n,i,o,d,v){const C=Ti(),O=qr(),ee=n.data[i]=function Z0(n,i,o,d,v,C){let O=i?i.injectorIndex:-1,j=0;return qt()&&(j|=128),{type:o,index:d,insertBeforeIndex:null,injectorIndex:O,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:j,providerIndexes:0,value:v,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?C:C&&C.parent,o,i,d,v);return null===n.firstChild&&(n.firstChild=ee),null!==C&&(O?null==C.child&&null!==ee.parent&&(C.child=ee):null===C.next&&(C.next=ee,ee.prev=C)),ee}function Mh(n,i,o,d){if(0===o)return-1;const v=i.length;for(let C=0;C<o;C++)i.push(d),n.blueprint.push(d),n.data.push(null);return v}function _g(n,i,o,d,v){const C=ny(i,Xs),O=Al(),j=2&d;try{id(-1),j&&i.length>Kr&&sy(n,i,Kr,!1),ns(j?2:0,v);const me=j?C:null,Ie=_o(me);try{null!==me&&(me.dirty=!1),o(d,v)}finally{Bs(me,Ie)}}finally{j&&null===i[Xs]&&iy(i,Xs),id(O),ns(j?3:1,v)}}function bg(n,i,o){if(bi(i)){const d=ds(null);try{const C=i.directiveEnd;for(let O=i.directiveStart;O<C;O++){const j=n.data[O];j.contentQueries&&j.contentQueries(1,o[O],O)}}finally{ds(d)}}}function Mg(n,i,o){Kt()&&(function n_(n,i,o,d){const v=o.directiveStart,C=o.directiveEnd;Jr(o)&&function by(n,i,o){const d=Fr(i,n),v=ly(o);let O=16;o.signals?O=4096:o.onPush&&(O=64);const j=a(n,zp(n,v,null,O,d,i,null,n[ao].rendererFactory.createRenderer(d,o),null,null,null));n[i.index]=j}(i,o,n.data[v+o.componentOffset]),n.firstCreatePass||Rf(o,i),Jl(d,i);const O=o.initialInputs;for(let j=v;j<C;j++){const ee=n.data[j],me=Pc(i,n,j,o);Jl(me,i),null!==O&&xg(0,j-v,me,ee,0,O),pi(ee)&&(sa(o.index,i)[co]=Pc(i,n,j,o))}}(n,i,o,Fr(o,i)),64==(64&o.flags)&&gy(n,i,o))}function Sg(n,i,o=Fr){const d=i.localNames;if(null!==d){let v=i.index+1;for(let C=0;C<d.length;C+=2){const O=d[C+1],j=-1===O?o(i,n):n[O];n[v++]=j}}}function ly(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function jp(n,i,o,d,v,C,O,j,ee,me,Ie){const it=Kr+d,At=it+v,Ht=function W0(n,i){const o=[];for(let d=0;d<i;d++)o.push(d<n?null:Fo);return o}(it,At),Tn="function"==typeof me?me():me;return Ht[Sn]={type:n,blueprint:Ht,template:o,queries:null,viewQuery:j,declTNode:i,data:Ht.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:At,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:ee,consts:Tn,incompleteFirstPass:!1,ssrId:Ie}}let uy=n=>null;function X0(n){lv(n)?cp(n):function Fv(n){const i=Mu(),o=i.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(C){const O=function A0(n){return n.textContent?.replace(/\s/gm,"")}(C);return"ngetn"===O||"ngtns"===O?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let d;const v=[];for(;d=o.nextNode();)v.push(d);for(const C of v)"ngetn"===C.textContent?C.replaceWith(i.createTextNode("")):C.remove()}(n)}function fy(n,i,o,d){for(let v in n)if(n.hasOwnProperty(v)){o=null===o?{}:o;const C=n[v];null===d?hy(o,i,v,C):d.hasOwnProperty(v)&&hy(o,i,d[v],C)}return o}function hy(n,i,o,d){n.hasOwnProperty(o)?n[o].push(i,d):n[o]=[i,d]}function Sc(n,i,o,d,v,C,O,j){const ee=Fr(i,o);let Ie,me=i.inputs;!j&&null!=me&&(Ie=me[d])?(D(n,o,Ie,d,v),Jr(i)&&function Q0(n,i){const o=sa(i,n);16&o[tr]||(o[tr]|=64)}(o,i.index)):3&i.type&&(d=function J0(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),v=null!=O?O(v,i.value||"",d):v,C.setProperty(ee,d,v))}function py(n,i,o,d){if(Kt()){const v=null===d?null:{"":-1},C=function r_(n,i){const o=n.directiveRegistry;let d=null,v=null;if(o)for(let C=0;C<o.length;C++){const O=o[C];if(dl(i,O.selectors,!1))if(d||(d=[]),pi(O))if(null!==O.findHostDirectiveDefs){const j=[];v=v||new Map,O.findHostDirectiveDefs(O,j,v),d.unshift(...j,O),vy(n,i,j.length)}else d.unshift(O),vy(n,i,0);else v=v||new Map,O.findHostDirectiveDefs?.(O,d,v),d.push(O)}return null===d?null:[d,v]}(n,o);let O,j;null===C?O=j=null:[O,j]=C,null!==O&&my(n,i,o,O,v,j),v&&function o_(n,i,o){if(i){const d=n.localNames=[];for(let v=0;v<i.length;v+=2){const C=o[i[v+1]];if(null==C)throw new en(-301,!1);d.push(i[v],C)}}}(o,d,v)}o.mergedAttrs=vs(o.mergedAttrs,o.attrs)}function my(n,i,o,d,v,C){for(let me=0;me<d.length;me++)Ff(Rf(o,i),n,d[me].type);!function _y(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,d.length);for(let me=0;me<d.length;me++){const Ie=d[me];Ie.providersResolver&&Ie.providersResolver(Ie)}let O=!1,j=!1,ee=Mh(n,i,d.length,null);for(let me=0;me<d.length;me++){const Ie=d[me];o.mergedAttrs=vs(o.mergedAttrs,Ie.hostAttrs),s_(n,o,i,ee,Ie),yy(ee,Ie,v),null!==Ie.contentQueries&&(o.flags|=4),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(o.flags|=64);const it=Ie.type.prototype;!O&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),O=!0),!j&&(it.ngOnChanges||it.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),j=!0),ee++}!function K0(n,i,o){const v=i.directiveEnd,C=n.data,O=i.attrs,j=[];let ee=null,me=null;for(let Ie=i.directiveStart;Ie<v;Ie++){const it=C[Ie],At=o?o.get(it):null,Tn=At?At.outputs:null;ee=fy(it.inputs,Ie,ee,At?At.inputs:null),me=fy(it.outputs,Ie,me,Tn);const Jn=null===ee||null===O||ks(i)?null:nd(ee,Ie,O);j.push(Jn)}null!==ee&&(ee.hasOwnProperty("class")&&(i.flags|=8),ee.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=j,i.inputs=ee,i.outputs=me}(n,o,C)}function gy(n,i,o){const d=o.directiveStart,v=o.directiveEnd,C=o.index,O=function te(){return pe.lFrame.currentDirectiveIndex}();try{id(C);for(let j=d;j<v;j++){const ee=n.data[j],me=i[j];fe(j),(null!==ee.hostBindings||0!==ee.hostVars||null!==ee.hostAttrs)&&i_(ee,me)}}finally{id(-1),fe(O)}}function i_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function vy(n,i,o){i.componentOffset=o,(n.components??=[]).push(i.index)}function yy(n,i,o){if(o){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)o[i.exportAs[d]]=n;pi(i)&&(o[""]=n)}}function s_(n,i,o,d,v){n.data[d]=v;const C=v.factory||(v.factory=Yt(v.type)),O=new Ld(C,pi(v),Sf);n.blueprint[d]=O,o[d]=O,function e_(n,i,o,d,v){const C=v.hostBindings;if(C){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const j=~i.index;(function t_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(O)!=j&&O.push(j),O.push(o,d,C)}}(n,i,d,Mh(n,o,v.hostVars,Fo),v)}function fu(n,i,o,d,v,C){const O=Fr(n,i);hu(i[Hi],O,C,n.value,o,d,v)}function hu(n,i,o,d,v,C,O){if(null==C)n.removeAttribute(i,v,o);else{const j=null==O?an(C):O(C,d||"",v);n.setAttribute(i,v,j,o)}}function xg(n,i,o,d,v,C){const O=C[i];if(null!==O)for(let j=0;j<O.length;)My(d,o,O[j++],O[j++],O[j++])}function My(n,i,o,d,v){const C=ds(null);try{const O=n.inputTransforms;null!==O&&O.hasOwnProperty(d)&&(v=O[d].call(i,v)),null!==n.setInput?n.setInput(i,v,o,d):i[d]=v}finally{ds(C)}}function nd(n,i,o){let d=null,v=0;for(;v<o.length;){const C=o[v];if(0!==C)if(5!==C){if("number"==typeof C)break;if(n.hasOwnProperty(C)){null===d&&(d=[]);const O=n[C];for(let j=0;j<O.length;j+=2)if(O[j]===i){d.push(C,O[j+1],o[v+1]);break}}v+=2}else v+=2;else v+=4}return d}function Hp(n,i,o,d){return[n,!0,!1,i,null,0,d,o,null,null,null]}function Sy(n,i){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const C=o[d+1];if(-1!==C){const O=n.data[C];Mt(o[d]),O.contentQueries(2,i[C],C)}}}function a(n,i){return n[Xl]?n[$s][la]=i:n[Xl]=i,n[$s]=i,i}function l(n,i,o){Mt(0);const d=ds(null);try{i(n,o)}finally{ds(d)}}function f(n){return n[rl]||(n[rl]=[])}function g(n){return n.cleanup||(n.cleanup=[])}function S(n,i,o){return(null===n||pi(n))&&(o=lo(o[i.index])),o[Hi]}function w(n,i){const o=n[sr],d=o?o.get(ed,null):null;d&&d.handleError(i)}function D(n,i,o,d,v){for(let C=0;C<o.length;){const O=o[C++],j=o[C++];My(n.data[O],i[O],d,j,v)}}function N(n,i,o){const d=Ao(i,n);qd(n[Hi],d,o)}function J(n,i){const o=sa(i,n),d=o[Sn];!function ue(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])}(d,o);const v=o[Lr];null!==v&&null===o[wl]&&(o[wl]=qm(v,o[sr])),Me(d,o,o[co])}function Me(n,i,o){ir(i);try{const d=n.viewQuery;null!==d&&l(1,d,o);const v=n.template;null!==v&&_g(n,i,v,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Sy(n,i),n.staticViewQueries&&l(2,n.viewQuery,o);const C=n.components;null!==C&&function Le(n,i){for(let o=0;o<i.length;o++)J(n,i[o])}(i,C)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[tr]&=-5,gc()}}let Xe=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,d,v){const C=typeof Zone>"u"?null:Zone.current,O=function Xo(n,i,o){const d=Object.create(uo);o&&(d.consumerAllowSignalWrites=!0),d.fn=n,d.schedule=i;const v=O=>{d.cleanupFn=O};return d.ref={notify:()=>Na(d),run:()=>{if(d.dirty=!1,d.hasRun&&!sl(d))return;d.hasRun=!0;const O=_o(d);try{d.cleanupFn(),d.cleanupFn=To,d.fn(v)}finally{Bs(d,O)}},cleanup:()=>d.cleanupFn()},d.ref}(o,me=>{this.all.has(me)&&this.queue.set(me,C)},v);let j;this.all.add(O),O.notify();const ee=()=>{O.cleanup(),j?.(),this.all.delete(O),this.queue.delete(O)};return j=d?.onDestroy(ee),{destroy:ee}}flush(){if(0!==this.queue.size)for(const[o,d]of this.queue)this.queue.delete(o),d?d.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:()=>new n})}return n})();function gt(n,i){!i?.injector&&vh();const o=i?.injector??nt(Mc),d=o.get(Xe),v=!0!==i?.manualCleanup?o.get(_h):null;return d.create(n,v,!!i?.allowSignalWrites)}function vt(n,i,o){let d=o?n.styles:null,v=o?n.classes:null,C=0;if(null!==i)for(let O=0;O<i.length;O++){const j=i[O];"number"==typeof j?C=j:1==C?v=Ne(v,j):2==C&&(d=Ne(d,j+": "+i[++O]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=v:n.classesWithoutHost=v}function St(n,i,o,d,v=!1){for(;null!==o;){const C=i[o.index];null!==C&&d.push(wr(C)),Xn(C)&&mn(C,d);const O=o.type;if(8&O)St(n,i,o.child,d);else if(32&O){const j=pd(o,i);let ee;for(;ee=j();)d.push(ee)}else if(16&O){const j=Om(i,o);if(Array.isArray(j))d.push(...j);else{const ee=hc(i[$o]);St(ee[Sn],ee,j,d,!0)}}o=v?o.projectionNext:o.next}return d}function mn(n,i){for(let o=Et;o<n.length;o++){const d=n[o],v=d[Sn].firstChild;null!==v&&St(d[Sn],d,v,i)}n[De]!==n[Lr]&&i.push(n[De])}function dn(n,i,o,d=!0){const v=i[ao],C=v.rendererFactory,O=v.afterRenderEventManager;C.begin?.(),O?.begin();try{Bn(n,i,n.template,o)}catch(ee){throw d&&w(i,ee),ee}finally{C.end?.(),v.effectManager?.flush(),O?.end()}}function ri(n){const i=cv(n);dn(i[Sn],i,n)}function Bn(n,i,o,d){const v=i[tr];if(256!=(256&v)){i[ao].effectManager?.flush(),ir(i);try{We(i),Nl(n.bindingStartIndex),null!==o&&_g(n,i,o,2,d);const O=3==(3&v);if(O){const me=n.preOrderCheckHooks;null!==me&&ac(i,me,null)}else{const me=n.preOrderHooks;null!==me&&Nd(i,me,0,null),Ou(i,0)}if(function Qi(n){for(let i=_u(n);null!==i;i=Yf(i)){if(!i[kt])continue;const o=i[Ve];for(let d=0;d<o.length;d++){T(o[d])}}}(i),ei(i,2),null!==n.contentQueries&&Sy(n,i),O){const me=n.contentCheckHooks;null!==me&&ac(i,me)}else{const me=n.contentHooks;null!==me&&Nd(i,me,1),Ou(i,1)}!function G0(n,i){const o=n.hostBindingOpCodes;if(null===o)return;const d=ny(i,pl);try{for(let v=0;v<o.length;v++){const C=o[v];if(C<0)id(~C);else{const O=C,j=o[++v],ee=o[++v];U(j,O),d.dirty=!1;const me=_o(d);try{ee(2,i[O])}finally{Bs(d,me)}}}}finally{null===i[pl]&&iy(i,pl),id(-1)}}(n,i);const j=n.components;null!==j&&os(i,j,0);const ee=n.viewQuery;if(null!==ee&&l(2,ee,d),O){const me=n.viewCheckHooks;null!==me&&ac(i,me)}else{const me=n.viewHooks;null!==me&&Nd(i,me,2),Ou(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[tr]&=-73,L(i)}finally{gc()}}}function ei(n,i){for(let o=_u(n);null!==o;o=Yf(o))for(let d=Et;d<o.length;d++)Ar(o[d],i)}function Ci(n,i,o){Ar(sa(i,n),o)}function Ar(n,i){if(!function da(n){return 128==(128&n[tr])}(n))return;const o=n[Sn],d=n[tr];if(80&d&&0===i||1024&d||2===i)Bn(o,n,o.template,n[co]);else if(n[Ol]>0){ei(n,1);const v=o.components;null!==v&&os(n,v,1)}}function os(n,i,o){for(let d=0;d<i.length;d++)Ci(n,i[d],o)}class No{get rootNodes(){const i=this._lView,o=i[Sn];return St(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[co]}set context(i){this._lView[co]=i}get destroyed(){return 256==(256&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[po];if(Xn(i)){const o=i[8],d=o?o.indexOf(this):-1;d>-1&&(op(i,d),kf(o,d))}this._attachedToViewContainer=!1}sp(this._lView[Sn],this._lView)}onDestroy(i){X(this._lView,i)}markForCheck(){bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){this._lView[tr]|=128}detectChanges(){dn(this._lView[Sn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new en(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gd(n,i){th(n,i,i[Hi],2,null,null)}(this._lView[Sn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new en(902,!1);this._appRef=i}}class Is extends No{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;dn(i[Sn],i,i[co],!1)}checkNoChanges(){}get context(){return null}}class Ql extends wu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Hr(i);return new Ya(o,this.ngModule)}}function xc(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class ul{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,d){d=Pt(d);const v=this.injector.get(i,Pd,d);return v!==Pd||o===Pd?v:this.parentInjector.get(i,o,d)}}class Ya extends Dd{get inputs(){const i=this.componentDef,o=i.inputTransforms,d=xc(i.inputs);if(null!==o)for(const v of d)o.hasOwnProperty(v.propName)&&(v.transform=o[v.propName]);return d}get outputs(){return xc(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function ea(n){return n.map(qs).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,d,v){let C=(v=v||this.ngModule)instanceof cu?v:v?.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const O=C?new ul(i,C):i,j=O.get(Nv,null);if(null===j)throw new en(407,!1);const it={rendererFactory:j,sanitizer:O.get(kv,null),effectManager:O.get(Xe,null),afterRenderEventManager:O.get(td,null)},At=j.createRenderer(null,this.componentDef),Ht=this.componentDef.selectors[0][0]||"div",Tn=d?function $0(n,i,o,d){const C=d.get(gg,!1)||o===Zr.ShadowDom,O=n.selectRootElement(i,C);return function cy(n){uy(n)}(O),O}(At,d,this.componentDef.encapsulation,O):iu(At,Ht,function ka(n){const i=n.toLowerCase();return"svg"===i?Ro:"math"===i?Ds:null}(Ht)),Dr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let zn=null;null!==Tn&&(zn=qm(Tn,O,!0));const Wo=jp(0,null,null,1,0,null,null,null,null,null,null),ws=zp(null,Wo,null,Dr,null,null,it,At,O,null,zn);let Za,mu;ir(ws);try{const Rh=this.componentDef;let t0,_M=null;Rh.findHostDirectiveDefs?(t0=[],_M=new Map,Rh.findHostDirectiveDefs(Rh,t0,_M),t0.push(Rh)):t0=[Rh];const Kw=function uc(n,i){const o=n[Sn],d=Kr;return n[d]=i,xf(o,d,2,"#host",null)}(ws,Tn),Jw=function Sh(n,i,o,d,v,C,O){const j=v[Sn];!function Cg(n,i,o,d){for(const v of n)i.mergedAttrs=vs(i.mergedAttrs,v.hostAttrs);null!==i.mergedAttrs&&(vt(i,i.mergedAttrs,!0),null!==o&&nh(d,o,i))}(d,n,i,O);let ee=null;null!==i&&(ee=qm(i,v[sr]));const me=C.rendererFactory.createRenderer(i,o);let Ie=16;o.signals?Ie=4096:o.onPush&&(Ie=64);const it=zp(v,ly(o),null,Ie,v[n.index],n,C,me,null,null,ee);return j.firstCreatePass&&vy(j,n,d.length-1),a(v,it),v[n.index]=it}(Kw,Tn,Rh,t0,ws,it,At);mu=Ms(Wo,Kr),Tn&&function Gp(n,i,o,d){if(d)Qs(n,o,["ng-version",Uv.full]);else{const{attrs:v,classes:C}=function Nr(n){const i=[],o=[];let d=1,v=2;for(;d<n.length;){let C=n[d];if("string"==typeof C)2===v?""!==C&&i.push(C,n[++d]):8===v&&o.push(C);else{if(!Io(v))break;v=C}d++}return{attrs:i,classes:o}}(i.selectors[0]);v&&Qs(n,o,v),C&&C.length>0&&vv(n,o,C.join(" "))}}(At,Rh,Tn,d),void 0!==o&&function Cf(n,i,o){const d=n.projection=[];for(let v=0;v<i.length;v++){const C=o[v];d.push(null!=C?Array.from(C):null)}}(mu,this.ngContentSelectors,o),Za=function xh(n,i,o,d,v,C){const O=ii(),j=v[Sn],ee=Fr(O,v);my(j,v,O,o,null,d);for(let Ie=0;Ie<o.length;Ie++)Jl(Pc(v,j,O.directiveStart+Ie,O),v);gy(j,v,O),ee&&Jl(ee,v);const me=Pc(v,j,O.directiveStart+O.componentOffset,O);if(n[co]=v[co]=me,null!==C)for(const Ie of C)Ie(me,i);return bg(j,O,n),me}(Jw,Rh,t0,_M,ws,[Ch]),Me(Wo,ws,null)}finally{gc()}return new $c(this.componentType,Za,vf(mu,ws),ws,mu)}}class $c extends tg{constructor(i,o,d,v,C){super(),this.location=d,this._rootLView=v,this._tNode=C,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Is(v),this.componentType=i}setInput(i,o){const d=this._tNode.inputs;let v;if(null!==d&&(v=d[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const C=this._rootLView;D(C[Sn],C,v,i,o),this.previousInputValues.set(i,o),bh(sa(this._tNode.index,C))}}get injector(){return new bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ch(){const n=ii();Fh(Ot()[Sn],n)}function bo(n){return Object.getPrototypeOf(n.prototype).constructor}function Pi(n){let i=bo(n.type),o=!0;const d=[n];for(;i;){let v;if(pi(n))v=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new en(903,!1);v=i.\u0275dir}if(v){if(o){d.push(v);const O=n;O.inputs=Eh(n.inputs),O.inputTransforms=Eh(n.inputTransforms),O.declaredInputs=Eh(n.declaredInputs),O.outputs=Eh(n.outputs);const j=v.hostBindings;j&&Jb(n,j);const ee=v.viewQuery,me=v.contentQueries;if(ee&&wh(n,ee),me&&Kb(n,me),Se(n.inputs,v.inputs),Se(n.declaredInputs,v.declaredInputs),Se(n.outputs,v.outputs),null!==v.inputTransforms&&(null===O.inputTransforms&&(O.inputTransforms={}),Se(O.inputTransforms,v.inputTransforms)),pi(v)&&v.data.animation){const Ie=n.data;Ie.animation=(Ie.animation||[]).concat(v.data.animation)}}const C=v.features;if(C)for(let O=0;O<C.length;O++){const j=C[O];j&&j.ngInherit&&j(n),j===Pi&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Tu(n){let i=0,o=null;for(let d=n.length-1;d>=0;d--){const v=n[d];v.hostVars=i+=v.hostVars,v.hostAttrs=vs(v.hostAttrs,o=vs(o,v.hostAttrs))}}(d)}function Eh(n){return n===Wr?{}:n===pr?[]:n}function wh(n,i){const o=n.viewQuery;n.viewQuery=o?(d,v)=>{i(d,v),o(d,v)}:i}function Kb(n,i){const o=n.contentQueries;n.contentQueries=o?(d,v,C)=>{i(d,v,C),o(d,v,C)}:i}function Jb(n,i){const o=n.hostBindings;n.hostBindings=o?(d,v)=>{i(d,v),o(d,v)}:i}const Qb=["providersResolver"],qb=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function tb(n){let o,i=bo(n.type);o=pi(n)?i.\u0275cmp:i.\u0275dir;const d=n;for(const v of Qb)d[v]=o[v];if(pi(o))for(const v of qb)d[v]=o[v]}function nb(n){return i=>{i.findHostDirectiveDefs=ib,i.hostDirectives=(Array.isArray(n)?n:n()).map(o=>"function"==typeof o?{directive:be(o),inputs:Wr,outputs:Wr}:{directive:be(o.directive),inputs:Th(o.inputs),outputs:Th(o.outputs)})}}function ib(n,i,o){if(null!==n.hostDirectives)for(const d of n.hostDirectives){const v=jo(d.directive);rb(v.declaredInputs,d.inputs),ib(v,i,o),o.set(v,d),i.push(v)}}function Th(n){if(void 0===n||0===n.length)return Wr;const i={};for(let o=0;o<n.length;o+=2)i[n[o]]=n[o+1];return i}function rb(n,i){for(const o in i)i.hasOwnProperty(o)&&(n[i[o]]=n[o])}function a_(n){const i=n.inputConfig,o={};for(const d in i)if(i.hasOwnProperty(d)){const v=i[d];Array.isArray(v)&&v[2]&&(o[d]=v[2])}n.inputTransforms=o}function $p(n){return!!Od(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Od(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ah(n,i){const o=$p(n),d=$p(i);return o&&d?function l_(n,i,o){const d=n[Symbol.iterator](),v=i[Symbol.iterator]();for(;;){const C=d.next(),O=v.next();if(C.done&&O.done)return!0;if(C.done||O.done||!o(C.value,O.value))return!1}}(n,i,Ah):!(o||!n||"object"!=typeof n&&"function"!=typeof n||d||!i||"object"!=typeof i&&"function"!=typeof i)||Object.is(n,i)}function Au(n,i,o){return n[i]=o}function Eg(n,i){return n[i]}function rc(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Dh(n,i,o,d){const v=rc(n,i,o);return rc(n,i+1,d)||v}function wg(n,i,o,d,v){const C=Dh(n,i,o,d);return rc(n,i+2,v)||C}function Cc(n,i,o,d,v,C){const O=Dh(n,i,o,d);return Dh(n,i+2,v,C)||O}function u_(n,i,o,d){const v=Ot();return rc(v,sc(),i)&&(On(),fu(eo(),v,n,i,o,d)),u_}function Ph(n,i){let o=!1,d=Ks();for(let C=1;C<i.length;C+=2)o=rc(n,d++,i[C])||o;if(Nl(d),!o)return Fo;let v=i[0];for(let C=1;C<i.length;C+=2)v+=an(i[C])+i[C+1];return v}function Ih(n,i,o,d){return rc(n,sc(),o)?i+an(o)+d:Fo}function Ef(n,i,o,d,v,C){const j=Dh(n,Ks(),o,v);return Ll(2),j?i+an(o)+d+an(v)+C:Fo}function Xp(n,i,o,d,v,C,O,j){const me=wg(n,Ks(),o,v,O);return Ll(3),me?i+an(o)+d+an(v)+C+an(O)+j:Fo}function Yp(n,i,o,d,v,C,O,j,ee,me){const it=Cc(n,Ks(),o,v,O,ee);return Ll(4),it?i+an(o)+d+an(v)+C+an(O)+j+an(ee)+me:Fo}function Zp(n,i,o,d,v,C,O,j,ee,me,Ie,it){const At=Ks();let Ht=Cc(n,At,o,v,O,ee);return Ht=rc(n,At+4,Ie)||Ht,Ll(5),Ht?i+an(o)+d+an(v)+C+an(O)+j+an(ee)+me+an(Ie)+it:Fo}function Kp(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht){const Tn=Ks();let Jn=Cc(n,Tn,o,v,O,ee);return Jn=Dh(n,Tn+4,Ie,At)||Jn,Ll(6),Jn?i+an(o)+d+an(v)+C+an(O)+j+an(ee)+me+an(Ie)+it+an(At)+Ht:Fo}function Jp(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn){const Oi=Ks();let Dr=Cc(n,Oi,o,v,O,ee);return Dr=wg(n,Oi+4,Ie,At,Tn)||Dr,Ll(7),Dr?i+an(o)+d+an(v)+C+an(O)+j+an(ee)+me+an(Ie)+it+an(At)+Ht+an(Tn)+Jn:Fo}function Qp(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr){const zn=Ks();let Wo=Cc(n,zn,o,v,O,ee);return Wo=Cc(n,zn+4,Ie,At,Tn,Oi)||Wo,Ll(8),Wo?i+an(o)+d+an(v)+C+an(O)+j+an(ee)+me+an(Ie)+it+an(At)+Ht+an(Tn)+Jn+an(Oi)+Dr:Fo}function d_(n,i,o,d,v,C){const O=Ot(),j=Ih(O,i,o,d);return j!==Fo&&fu(eo(),O,n,j,v,C),d_}function Cy(n,i,o,d,v,C,O,j){const ee=Ot(),me=Ef(ee,i,o,d,v,C);return me!==Fo&&fu(eo(),ee,n,me,O,j),Cy}function Ey(n,i,o,d,v,C,O,j,ee,me){const Ie=Ot(),it=Xp(Ie,i,o,d,v,C,O,j);return it!==Fo&&fu(eo(),Ie,n,it,ee,me),Ey}function wy(n,i,o,d,v,C,O,j,ee,me,Ie,it){const At=Ot(),Ht=Yp(At,i,o,d,v,C,O,j,ee,me);return Ht!==Fo&&fu(eo(),At,n,Ht,Ie,it),wy}function Ty(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht){const Tn=Ot(),Jn=Zp(Tn,i,o,d,v,C,O,j,ee,me,Ie,it);return Jn!==Fo&&fu(eo(),Tn,n,Jn,At,Ht),Ty}function Ay(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn){const Oi=Ot(),Dr=Kp(Oi,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht);return Dr!==Fo&&fu(eo(),Oi,n,Dr,Tn,Jn),Ay}function Dy(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr){const zn=Ot(),Wo=Jp(zn,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn);return Wo!==Fo&&fu(eo(),zn,n,Wo,Oi,Dr),Dy}function Py(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr,zn,Wo){const ws=Ot(),Za=Qp(ws,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr);return Za!==Fo&&fu(eo(),ws,n,Za,zn,Wo),Py}function Iy(n,i,o,d){const v=Ot(),C=Ph(v,i);return C!==Fo&&fu(eo(),v,n,C,o,d),Iy}const Oy="<-- AT THIS LOCATION";function e1(n){const d=`During serialization, Angular detected DOM nodes that were created outside of Angular context and provided as projectable nodes (likely via \`ViewContainerRef.createComponent\` or \`createComponent\` APIs). Hydration is not supported for such cases, consider refactoring the code to avoid this pattern or using \`ngSkipHydration\` on the host element of the component.\n\n${function Fy(n){const i="  ";let o="";const d=n;return d.previousSibling&&(o+="  \u2026\n",o+=i+Ag(d.previousSibling)+"\n"),o+=i+Ag(d)+`  ${Oy}\n`,n.nextSibling&&(o+="  \u2026\n"),n.parentNode&&(o=Ag(d.parentNode,"\n"+o)),o}(n)}\n\nNote: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.\n\n`;return new en(-503,d)}const n1=new Set(["ngh","ng-version","ng-server-context"]);function f_(n,i="\u2026"){switch(n.type){case 1:return"#text"+(n.value?`(${n.value})`:"");case 2:const d=function t1(n){const i=[];if(n.attrs)for(let o=0;o<n.attrs.length;){const d=n.attrs[o++];if("number"==typeof d)break;const v=n.attrs[o++];i.push(`${d}="${Pg(v)}"`)}return i.join(" ")}(n),v=n.value.toLowerCase();return`<${v}${d?" "+d:""}>${i}</${v}>`;case 8:return"\x3c!-- ng-container --\x3e";case 4:return"\x3c!-- container --\x3e";default:return`#node(${function sb(n){switch(n){case 4:return"view container";case 2:return"element";case 8:return"ng-container";case 32:return"icu";case 64:return"i18n";case 16:return"projection";case 1:return"text";default:return"<unknown>"}}(n.type)})`}}function Ag(n,i="\u2026"){const o=n;switch(o.nodeType){case Node.ELEMENT_NODE:const d=o.tagName.toLowerCase(),v=function i1(n){const i=[];for(let o=0;o<n.attributes.length;o++){const d=n.attributes[o];n1.has(d.name)||i.push(`${d.name}="${Pg(d.value)}"`)}return i.join(" ")}(o);return`<${d}${v?" "+v:""}>${i}</${d}>`;case Node.TEXT_NODE:const C=o.textContent?Pg(o.textContent):"";return"#text"+(C?`(${C})`:"");case Node.COMMENT_NODE:return`\x3c!-- ${Pg(o.textContent??"")} --\x3e`;default:return`#node(${o.nodeType})`}}function Pg(n,i=50){return n?(n=function r1(n){return n.replace(/\s+/gm,"")}(n)).length>i?`${n.substring(0,i-1)}\u2026`:n:""}const o1=new RegExp(`^(\\d+)*(${Iv}|${hh})*(.*)`);function p_(n){return n.index-Kr}function Ny(n,i,o,d){let v=null;const C=p_(d),O=n.data[Pa];if(O?.[C])v=function u1(n,i){const[o,...d]=function a1(n){const i=n.match(o1),[o,d,v,C]=i,O=d?parseInt(d,10):v,j=[];for(const[ee,me,Ie]of C.matchAll(/(f|n)(\d*)/g)){const it=parseInt(Ie,10)||1;j.push(me,it)}return[O,...j]}(n);let v;return v=o===hh?i[$o][Lr]:o===Iv?pg(i[$o][Lr]):wr(i[Number(o)+Kr]),function c1(n,i){let o=n;for(let d=0;d<i.length;d+=2){const v=i[d],C=i[d+1];for(let O=0;O<C;O++)switch(v){case pf.FirstChild:o=o.firstChild;break;case pf.NextSibling:o=o.nextSibling}}return o}(v,d)}(O[C],o);else if(i.firstChild===d)v=n.firstChild;else{const j=null===d.prev,ee=d.prev??d.parent;if(function l1(n){return!n.prev&&8===n.parent?.type}(d))v=Op(n,p_(d.parent));else{let me=Fr(ee,o);if(j)v=me.firstChild;else{const Ie=p_(ee),it=Op(n,Ie);v=2===ee.type&&it?Ly(mh(n,Ie)+1,it):me.nextSibling}}}return v}function Ly(n,i){let o=i;for(let d=0;d<n;d++)o=o.nextSibling;return o}function m_(n,i){if(n===i)return[];if(null==n.parentElement||null==i.parentElement)return null;if(n.parentElement===i.parentElement)return function d1(n,i){const o=[];let d=null;for(d=n;null!=d&&d!==i;d=d.nextSibling)o.push(pf.NextSibling);return null==d?null:o}(n,i);{const o=i.parentElement,d=m_(n,o),v=m_(o.firstChild,i);return d&&v?[...d,pf.FirstChild,...v]:null}}function cb(n,i,o){const d=m_(n,i);return null===d?null:function s1(n,i){const o=[n];for(const d of i){const v=o.length-1;v>0&&o[v-1]===d?o[v]=(o[v]||1)+1:o.push(d,"")}return o.join("")}(o,d)}function f1(n,i){const o=n.parent;let d,v,C;null!==o&&3&o.type?(d=o.index,v=wr(i[d]),C=an(d-Kr)):(d=C=hh,v=i[$o][Lr]);let O=wr(i[n.index]);if(12&n.type){const ee=eh(i,n);ee&&(O=ee)}let j=cb(v,O,C);if(null===j&&v!==O&&(j=cb(v.ownerDocument.body,O,Iv),null===j))throw function Ry(n,i){const d=`${function h_(n,i,o){const d="  ";let v="";i.prev?(v+="  \u2026\n",v+=d+f_(i.prev)+"\n"):i.type&&12&i.type&&(v+="  \u2026\n"),o?(v+=d+f_(i)+"\n",v+=d+`\x3c!-- container --\x3e  ${Oy}\n`):v+=d+f_(i)+`  ${Oy}\n`,v+="  \u2026\n";const C=i.type?ef(n[Sn],i,n):null;return C&&(v=Ag(C,"\n"+v)),v}(n,i,!1)}\n\n`,v=function Dg(n){return`To fix this problem:\n  * check ${n?`the "${n}"`:"corresponding"} component for hydration-related issues\n  * check to see if your template has valid HTML structure\n  * or skip hydration by adding the \`ngSkipHydration\` attribute to its host node in a template\n\n`}();throw new en(-502,"During serialization, Angular was unable to find an element in the DOM:\n\n"+d+v)}(i,n);return j}function ub(n,i,o,d,v,C,O,j){const ee=Ot(),me=On(),Ie=n+Kr,it=me.firstCreatePass?function h1(n,i,o,d,v,C,O,j,ee){const me=i.consts,Ie=xf(i,n,4,O||null,Zs(me,j));py(i,o,Ie,Zs(me,ee)),Fh(i,Ie);const it=Ie.tView=jp(2,Ie,d,v,C,i.directiveRegistry,i.pipeRegistry,null,i.schemas,me,null);return null!==i.queries&&(i.queries.template(i,Ie),it.queries=i.queries.embeddedTView(Ie)),Ie}(Ie,me,ee,i,o,d,v,C,O):me.data[Ie];Xr(it,!1);const At=db(me,ee,it,n);Fd()&&$u(me,ee,At,it),Jl(At,ee),a(ee,ee[Ie]=Hp(At,ee,At,it)),$r(it)&&Mg(me,ee,it),null!=O&&Sg(ee,it,j)}let db=fb;function fb(n,i,o,d){return Ac(!0),i[Hi].createComment("")}function p1(n,i,o,d){const v=i[wl],C=!v||qt()||Fp(v,d);if(Ac(C),C)return fb(0,i);const O=v.data[Tp]?.[d]??null;null!==O&&null!==o.tView&&null===o.tView.ssrId&&(o.tView.ssrId=O);const j=Ny(v,n,i,o);return gf(v,d,j),Ly(mh(v,d),j)}function hb(n,i,o,d){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=d}function pb(n){return va(function is(){return pe.lFrame.contextLView}(),Kr+n)}function g_(n,i,o){const d=Ot();return rc(d,sc(),i)&&Sc(On(),eo(),d,n,i,d[Hi],o,!1),g_}function v_(n,i,o,d,v){const O=v?"class":"style";D(n,o,i.inputs[O],O,d)}function ky(n,i,o,d){const v=Ot(),C=On(),O=Kr+n,j=v[Hi],ee=C.firstCreatePass?function g1(n,i,o,d,v,C){const O=i.consts,ee=xf(i,n,2,d,Zs(O,v));return py(i,o,ee,Zs(O,C)),null!==ee.attrs&&vt(ee,ee.attrs,!1),null!==ee.mergedAttrs&&vt(ee,ee.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,ee),ee}(O,C,v,i,o,d):C.data[O],me=By(C,v,ee,j,i,n);v[O]=me;const Ie=$r(ee);return Xr(ee,!0),nh(j,me,ee),32!=(32&ee.flags)&&Fd()&&$u(C,v,me,ee),0===function Ke(){return pe.lFrame.elementDepthCount}()&&Jl(me,v),function ot(){pe.lFrame.elementDepthCount++}(),Ie&&(Mg(C,v,ee),bg(C,ee,v)),null!==d&&Sg(v,ee),ky}function Uy(){let n=ii();qr()?Ps():(n=n.parent,Xr(n,!1));const i=n;(function gn(n){return pe.skipHydrationRootTNode===n})(i)&&function ti(){pe.skipHydrationRootTNode=null}(),function Ft(){pe.lFrame.elementDepthCount--}();const o=On();return o.firstCreatePass&&(Fh(o,n),bi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Lh(n){return 0!=(8&n.flags)}(i)&&v_(o,i,Ot(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function kh(n){return 0!=(16&n.flags)}(i)&&v_(o,i,Ot(),i.stylesWithoutHost,!1),Uy}function y_(n,i,o,d){return ky(n,i,o,d),Uy(),y_}let By=(n,i,o,d,v,C)=>(Ac(!0),iu(d,v,Df()));function mb(n,i,o,d,v,C){const O=i[wl],j=!O||qt()||Fp(O,C);if(Ac(j),j)return iu(d,v,Df());const ee=Ny(O,n,i,o);return Rp(O,C)&&gf(O,C,ee.nextSibling),O&&(av(o)||lv(ee))&&Jr(o)&&(function En(n){pe.skipHydrationRootTNode=n}(o),cp(ee)),ee}function Ig(n,i,o){const d=Ot(),v=On(),C=n+Kr,O=v.firstCreatePass?function Vy(n,i,o,d,v){const C=i.consts,O=Zs(C,d),j=xf(i,n,8,"ng-container",O);return null!==O&&vt(j,O,!0),py(i,o,j,Zs(C,v)),null!==i.queries&&i.queries.elementStart(i,j),j}(C,v,d,i,o):v.data[C];Xr(O,!0);const j=gb(v,d,O,n);return d[C]=j,Fd()&&$u(v,d,j,O),Jl(j,d),$r(O)&&(Mg(v,d,O),bg(v,O,d)),null!=o&&Sg(d,O),Ig}function zy(){let n=ii();const i=On();return qr()?Ps():(n=n.parent,Xr(n,!1)),i.firstCreatePass&&(Fh(i,n),bi(n)&&i.queries.elementEnd(n)),zy}function __(n,i,o){return Ig(n,i,o),zy(),__}let gb=(n,i,o,d)=>(Ac(!0),rp(i[Hi],""));function vb(n,i,o,d){let v;const C=i[wl],O=!C||qt();if(Ac(O),O)return rp(i[Hi],"");const j=Ny(C,n,i,o),ee=function P0(n,i){const o=n.data;let d=o[Jm]?.[i]??null;return null===d&&o[mf]?.[i]&&(d=mh(n,i)),d}(C,d);return gf(C,d,j),v=Ly(ee,j),v}function b_(){return Ot()}function M_(n){return!!n&&"function"==typeof n.then}function yb(n){return!!n&&"function"==typeof n.subscribe}function qp(n,i,o,d){const v=Ot(),C=On(),O=ii();return _b(C,v,v[Hi],O,n,i,d),qp}function S_(n,i){const o=ii(),d=Ot(),v=On();return _b(v,d,S(Re(v.data),o,d),o,n,i),S_}function _b(n,i,o,d,v,C,O){const j=$r(d),me=n.firstCreatePass&&g(n),Ie=i[co],it=f(i);let At=!0;if(3&d.type||O){const Jn=Fr(d,i),Oi=O?O(Jn):Jn,Dr=it.length,zn=O?ws=>O(wr(ws[d.index])):d.index;let Wo=null;if(!O&&j&&(Wo=function _1(n,i,o,d){const v=n.cleanup;if(null!=v)for(let C=0;C<v.length-1;C+=2){const O=v[C];if(O===o&&v[C+1]===d){const j=i[rl],ee=v[C+2];return j.length>ee?j[ee]:null}"string"==typeof O&&(C+=2)}return null}(n,i,v,d.index)),null!==Wo)(Wo.__ngLastListenerFn__||Wo).__ngNextListenerFn__=C,Wo.__ngLastListenerFn__=C,At=!1;else{C=em(d,i,Ie,C,!1);const ws=o.listen(Oi,v,C);it.push(C,ws),me&&me.push(v,zn,Dr,Dr+1)}}else C=em(d,i,Ie,C,!1);const Ht=d.outputs;let Tn;if(At&&null!==Ht&&(Tn=Ht[v])){const Jn=Tn.length;if(Jn)for(let Oi=0;Oi<Jn;Oi+=2){const Za=i[Tn[Oi]][Tn[Oi+1]].subscribe(C),mu=it.length;it.push(C,Za),me&&me.push(v,d.index,mu,-(mu+1))}}}function bb(n,i,o,d){try{return ns(6,i,o),!1!==o(d)}catch(v){return w(n,v),!1}finally{ns(7,i,o)}}function em(n,i,o,d,v){return function C(O){if(O===Function)return d;bh(n.componentOffset>-1?sa(n.index,i):i);let ee=bb(i,o,d,O),me=C.__ngNextListenerFn__;for(;me;)ee=bb(i,o,me,O)&&ee,me=me.__ngNextListenerFn__;return v&&!1===ee&&O.preventDefault(),ee}}function x_(n=1){return function Af(n){return(pe.lFrame.contextLView=function La(n,i){for(;n>0;)i=i[Ja],n--;return i}(n,pe.lFrame.contextLView))[co]}(n)}function Mb(n,i){let o=null;const d=function El(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let v=0;v<i.length;v++){const C=i[v];if("*"!==C){if(null===d?dl(n,C,!0):nl(d,C))return v}else o=v}return o}function Sb(n){const i=Ot()[$o][ys];if(!i.projection){const d=i.projection=yu(n?n.length:1,null),v=d.slice();let C=i.child;for(;null!==C;){const O=n?Mb(C,n):0;null!==O&&(v[O]?v[O].projectionNext=C:d[O]=C,v[O]=C),C=C.next}}}function jy(n,i=0,o){const d=Ot(),v=On(),C=xf(v,Kr+n,16,null,o||null);null===C.projection&&(C.projection=i),Ps(),(!d[wl]||qt())&&32!=(32&C.flags)&&function _c(n,i,o){Rm(i[Hi],0,i,o,ef(n,o,i),Gu(o.parent||i[ys],o,i))}(v,d,C)}function C_(n,i,o){return Hy(n,"",i,"",o),C_}function Hy(n,i,o,d,v){const C=Ot(),O=Ih(C,i,o,d);return O!==Fo&&Sc(On(),eo(),C,n,O,C[Hi],v,!1),Hy}function E_(n,i,o,d,v,C,O){const j=Ot(),ee=Ef(j,i,o,d,v,C);return ee!==Fo&&Sc(On(),eo(),j,n,ee,j[Hi],O,!1),E_}function Gy(n,i,o,d,v,C,O,j,ee){const me=Ot(),Ie=Xp(me,i,o,d,v,C,O,j);return Ie!==Fo&&Sc(On(),eo(),me,n,Ie,me[Hi],ee,!1),Gy}function w_(n,i,o,d,v,C,O,j,ee,me,Ie){const it=Ot(),At=Yp(it,i,o,d,v,C,O,j,ee,me);return At!==Fo&&Sc(On(),eo(),it,n,At,it[Hi],Ie,!1),w_}function Wy(n,i,o,d,v,C,O,j,ee,me,Ie,it,At){const Ht=Ot(),Tn=Zp(Ht,i,o,d,v,C,O,j,ee,me,Ie,it);return Tn!==Fo&&Sc(On(),eo(),Ht,n,Tn,Ht[Hi],At,!1),Wy}function T_(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn){const Jn=Ot(),Oi=Kp(Jn,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht);return Oi!==Fo&&Sc(On(),eo(),Jn,n,Oi,Jn[Hi],Tn,!1),T_}function A_(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi){const Dr=Ot(),zn=Jp(Dr,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn);return zn!==Fo&&Sc(On(),eo(),Dr,n,zn,Dr[Hi],Oi,!1),A_}function D_(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr,zn){const Wo=Ot(),ws=Qp(Wo,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr);return ws!==Fo&&Sc(On(),eo(),Wo,n,ws,Wo[Hi],zn,!1),D_}function P_(n,i,o){const d=Ot(),v=Ph(d,i);return v!==Fo&&Sc(On(),eo(),d,n,v,d[Hi],o,!1),P_}function $y(n,i){return n<<17|i<<2}function wf(n){return n>>17&32767}function I_(n){return 2|n}function Oh(n){return(131068&n)>>2}function O_(n,i){return-131069&n|i<<2}function Xy(n){return 1|n}function xb(n,i,o,d,v){const C=n[o+1],O=null===i;let j=d?wf(C):Oh(C),ee=!1;for(;0!==j&&(!1===ee||O);){const Ie=n[j+1];w1(n[j],i)&&(ee=!0,n[j+1]=d?Xy(Ie):I_(Ie)),j=d?wf(Ie):Oh(Ie)}ee&&(n[o+1]=d?I_(C):Xy(C))}function w1(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Bu(n,i)>=0}const ec={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R_(n){return n.substring(ec.key,ec.keyEnd)}function T1(n){return n.substring(ec.value,ec.valueEnd)}function Cb(n,i){const o=ec.textEnd;return o===i?-1:(i=ec.keyEnd=function Tb(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,ec.key=i,o),tm(n,i,o))}function Eb(n,i){const o=ec.textEnd;let d=ec.key=tm(n,i,o);return o===d?-1:(d=ec.keyEnd=function P1(n,i,o){let d;for(;i<o&&(45===(d=n.charCodeAt(i))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)i++;return i}(n,d,o),d=Ab(n,d,o),d=ec.value=tm(n,d,o),d=ec.valueEnd=function I1(n,i,o){let d=-1,v=-1,C=-1,O=i,j=O;for(;O<o;){const ee=n.charCodeAt(O++);if(59===ee)return j;34===ee||39===ee?j=O=Db(n,ee,O,o):i===O-4&&85===C&&82===v&&76===d&&40===ee?j=O=Db(n,41,O,o):ee>32&&(j=O),C=v,v=d,d=-33&ee}return j}(n,d,o),Ab(n,d,o))}function wb(n){ec.key=0,ec.keyEnd=0,ec.value=0,ec.valueEnd=0,ec.textEnd=n.length}function tm(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Ab(n,i,o,d){return(i=tm(n,i,o))<o&&i++,i}function Db(n,i,o,d){let v=-1,C=o;for(;C<d;){const O=n.charCodeAt(C++);if(O==i&&92!==v)return C;v=92==O&&92===v?0:O}throw new Error}function F_(n,i,o){return t(n,i,o,!1),F_}function N_(n,i){return t(n,i,null,!0),N_}function Du(n){r(ie,O1,n,!1)}function O1(n,i){for(let o=function D1(n){return wb(n),Eb(n,tm(n,0,ec.textEnd))}(i);o>=0;o=Eb(i,o))ie(n,R_(i),T1(i))}function m(n){r(ae,e,n,!0)}function e(n,i){for(let o=function A1(n){return wb(n),Cb(n,tm(n,0,ec.textEnd))}(i);o>=0;o=Cb(i,o))zl(n,R_(i),!0)}function t(n,i,o,d){const v=Ot(),C=On(),O=Ll(2);C.firstUpdatePass&&p(C,n,O,d),i!==Fo&&rc(v,O,i)&&le(C,C.data[Al()],v,v[Hi],n,v[O+1]=function Te(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ee(Oc(n)))),n}(i,o),d,O)}function r(n,i,o,d){const v=On(),C=Ll(2);v.firstUpdatePass&&p(v,null,C,d);const O=Ot();if(o!==Fo&&rc(O,C,o)){const j=v.data[Al()];if(we(j,d)&&!c(v,C)){let ee=d?j.classesWithoutHost:j.stylesWithoutHost;null!==ee&&(o=Ne(ee,o||"")),v_(v,j,O,o,d)}else!function ye(n,i,o,d,v,C,O,j){v===Fo&&(v=pr);let ee=0,me=0,Ie=0<v.length?v[0]:null,it=0<C.length?C[0]:null;for(;null!==Ie||null!==it;){const At=ee<v.length?v[ee+1]:void 0,Ht=me<C.length?C[me+1]:void 0;let Jn,Tn=null;Ie===it?(ee+=2,me+=2,At!==Ht&&(Tn=it,Jn=Ht)):null===it||null!==Ie&&Ie<it?(ee+=2,Tn=Ie):(me+=2,Tn=it,Jn=Ht),null!==Tn&&le(n,i,o,d,Tn,Jn,O,j),Ie=ee<v.length?v[ee]:null,it=me<C.length?C[me]:null}}(v,j,O,O[Hi],O[C+1],O[C+1]=function Z(n,i,o){if(null==o||""===o)return pr;const d=[],v=Oc(o);if(Array.isArray(v))for(let C=0;C<v.length;C++)n(d,v[C],!0);else if("object"==typeof v)for(const C in v)v.hasOwnProperty(C)&&n(d,C,v[C]);else"string"==typeof v&&i(d,v);return d}(n,i,o),d,C)}}function c(n,i){return i>=n.expandoStartIndex}function p(n,i,o,d){const v=n.data;if(null===v[o+1]){const C=v[Al()],O=c(n,o);we(C,d)&&null===i&&!O&&(i=!1),i=function b(n,i,o,d){const v=Re(n);let C=d?i.residualClasses:i.residualStyles;if(null===v)0===(d?i.classBindings:i.styleBindings)&&(o=Y(o=H(null,n,i,o,d),i.attrs,d),C=null);else{const O=i.directiveStylingLast;if(-1===O||n[O]!==v)if(o=H(v,n,i,o,d),null===C){let ee=function x(n,i,o){const d=o?i.classBindings:i.styleBindings;if(0!==Oh(d))return n[wf(d)]}(n,i,d);void 0!==ee&&Array.isArray(ee)&&(ee=H(null,n,i,ee[1],d),ee=Y(ee,i.attrs,d),function A(n,i,o,d){n[wf(o?i.classBindings:i.styleBindings)]=d}(n,i,d,ee))}else C=function I(n,i,o){let d;const v=i.directiveEnd;for(let C=1+i.directiveStylingLast;C<v;C++)d=Y(d,n[C].hostAttrs,o);return Y(d,i.attrs,o)}(n,i,d)}return void 0!==C&&(d?i.residualClasses=C:i.residualStyles=C),o}(v,C,i,d),function C1(n,i,o,d,v,C){let O=C?i.classBindings:i.styleBindings,j=wf(O),ee=Oh(O);n[d]=o;let Ie,me=!1;if(Array.isArray(o)?(Ie=o[1],(null===Ie||Bu(o,Ie)>0)&&(me=!0)):Ie=o,v)if(0!==ee){const At=wf(n[j+1]);n[d+1]=$y(At,j),0!==At&&(n[At+1]=O_(n[At+1],d)),n[j+1]=function M1(n,i){return 131071&n|i<<17}(n[j+1],d)}else n[d+1]=$y(j,0),0!==j&&(n[j+1]=O_(n[j+1],d)),j=d;else n[d+1]=$y(ee,0),0===j?j=d:n[ee+1]=O_(n[ee+1],d),ee=d;me&&(n[d+1]=I_(n[d+1])),xb(n,Ie,d,!0),xb(n,Ie,d,!1),function E1(n,i,o,d,v){const C=v?n.residualClasses:n.residualStyles;null!=C&&"string"==typeof i&&Bu(C,i)>=0&&(o[d+1]=Xy(o[d+1]))}(i,Ie,n,d,C),O=$y(j,ee),C?i.classBindings=O:i.styleBindings=O}(v,C,i,o,O,d)}}function H(n,i,o,d,v){let C=null;const O=o.directiveEnd;let j=o.directiveStylingLast;for(-1===j?j=o.directiveStart:j++;j<O&&(C=i[j],d=Y(d,C.hostAttrs,v),C!==n);)j++;return null!==n&&(o.directiveStylingLast=j),d}function Y(n,i,o){const d=o?1:2;let v=-1;if(null!==i)for(let C=0;C<i.length;C++){const O=i[C];"number"==typeof O?v=O:v===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zl(n,O,!!o||i[++C]))}return void 0===n?null:n}function ie(n,i,o){zl(n,i,Oc(o))}function ae(n,i,o){const d=String(i);""!==d&&!d.includes(" ")&&zl(n,d,o)}function le(n,i,o,d,v,C,O,j){if(!(3&i.type))return;const ee=n.data,me=ee[j+1],Ie=function S1(n){return 1==(1&n)}(me)?oe(ee,i,o,v,Oh(me),O):void 0;Pe(Ie)||(Pe(C)||function b1(n){return 2==(2&n)}(me)&&(C=oe(ee,null,o,v,j,O)),function up(n,i,o,d,v){if(i)v?n.addClass(o,d):n.removeClass(o,d);else{let C=-1===d.indexOf("-")?void 0:Hl.DashCase;null==v?n.removeStyle(o,d,C):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),C|=Hl.Important),n.setStyle(o,d,v,C))}}(d,O,Ao(Al(),o),v,C))}function oe(n,i,o,d,v,C){const O=null===i;let j;for(;v>0;){const ee=n[v],me=Array.isArray(ee),Ie=me?ee[1]:ee,it=null===Ie;let At=o[v+1];At===Fo&&(At=it?pr:void 0);let Ht=it?qc(At,d):Ie===d?At:void 0;if(me&&!Pe(Ht)&&(Ht=qc(ee,d)),Pe(Ht)&&(j=Ht,O))return j;const Tn=n[v+1];v=O?wf(Tn):Oh(Tn)}if(null!==i){let ee=C?i.residualClasses:i.residualStyles;null!=ee&&(j=qc(ee,d))}return j}function Pe(n){return void 0!==n}function we(n,i){return 0!=(n.flags&(i?8:16))}function pt(n,i=""){const o=Ot(),d=On(),v=n+Kr,C=d.firstCreatePass?xf(d,v,1,i,null):d.data[v],O=st(d,o,C,i,n);o[v]=O,Fd()&&$u(d,o,O,C),Xr(C,!1)}let st=(n,i,o,d,v)=>(Ac(!0),Qd(i[Hi],d));function ft(n,i,o,d,v){const C=i[wl],O=!C||qt()||Fp(C,v);return Ac(O),O?Qd(i[Hi],d):Ny(C,n,i,o)}function He(n){return ke("",n,""),He}function ke(n,i,o){const d=Ot(),v=Ih(d,n,i,o);return v!==Fo&&N(d,Al(),v),ke}function Ct(n,i,o,d,v){const C=Ot(),O=Ef(C,n,i,o,d,v);return O!==Fo&&N(C,Al(),O),Ct}function yn(n,i,o,d,v,C,O){const j=Ot(),ee=Xp(j,n,i,o,d,v,C,O);return ee!==Fo&&N(j,Al(),ee),yn}function un(n,i,o,d,v,C,O,j,ee){const me=Ot(),Ie=Yp(me,n,i,o,d,v,C,O,j,ee);return Ie!==Fo&&N(me,Al(),Ie),un}function wn(n,i,o,d,v,C,O,j,ee,me,Ie){const it=Ot(),At=Zp(it,n,i,o,d,v,C,O,j,ee,me,Ie);return At!==Fo&&N(it,Al(),At),wn}function jn(n,i,o,d,v,C,O,j,ee,me,Ie,it,At){const Ht=Ot(),Tn=Kp(Ht,n,i,o,d,v,C,O,j,ee,me,Ie,it,At);return Tn!==Fo&&N(Ht,Al(),Tn),jn}function xn(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn){const Jn=Ot(),Oi=Jp(Jn,n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn);return Oi!==Fo&&N(Jn,Al(),Oi),xn}function si(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi){const Dr=Ot(),zn=Qp(Dr,n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi);return zn!==Fo&&N(Dr,Al(),zn),si}function Cn(n){const i=Ot(),o=Ph(i,n);return o!==Fo&&N(i,Al(),o),Cn}function Ni(n,i,o){r(zl,e,Ih(Ot(),n,i,o),!0)}function rr(n,i,o,d,v){r(zl,e,Ef(Ot(),n,i,o,d,v),!0)}function Tr(n,i,o,d,v,C,O){r(zl,e,Xp(Ot(),n,i,o,d,v,C,O),!0)}function qo(n,i,o,d,v,C,O,j,ee){r(zl,e,Yp(Ot(),n,i,o,d,v,C,O,j,ee),!0)}function _a(n,i,o,d,v,C,O,j,ee,me,Ie){r(zl,e,Zp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie),!0)}function Vn(n,i,o,d,v,C,O,j,ee,me,Ie,it,At){r(zl,e,Kp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At),!0)}function gi(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn){r(zl,e,Jp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn),!0)}function Pr(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi){r(zl,e,Qp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi),!0)}function Li(n){r(zl,e,Ph(Ot(),n),!0)}function go(n,i,o){Du(Ih(Ot(),n,i,o))}function zs(n,i,o,d,v){Du(Ef(Ot(),n,i,o,d,v))}function fo(n,i,o,d,v,C,O){Du(Xp(Ot(),n,i,o,d,v,C,O))}function fa(n,i,o,d,v,C,O,j,ee){Du(Yp(Ot(),n,i,o,d,v,C,O,j,ee))}function Ua(n,i,o,d,v,C,O,j,ee,me,Ie){Du(Zp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie))}function Os(n,i,o,d,v,C,O,j,ee,me,Ie,it,At){Du(Kp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At))}function wt(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn){Du(Jp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn))}function xl(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi){Du(Qp(Ot(),n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi))}function Wn(n){Du(Ph(Ot(),n))}function Yn(n,i,o,d,v){return t(n,Ih(Ot(),i,o,d),v,!1),Yn}function Ln(n,i,o,d,v,C,O){return t(n,Ef(Ot(),i,o,d,v,C),O,!1),Ln}function Ii(n,i,o,d,v,C,O,j,ee){return t(n,Xp(Ot(),i,o,d,v,C,O,j),ee,!1),Ii}function kn(n,i,o,d,v,C,O,j,ee,me,Ie){return t(n,Yp(Ot(),i,o,d,v,C,O,j,ee,me),Ie,!1),kn}function tt(n,i,o,d,v,C,O,j,ee,me,Ie,it,At){return t(n,Zp(Ot(),i,o,d,v,C,O,j,ee,me,Ie,it),At,!1),tt}function Fe(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn){return t(n,Kp(Ot(),i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht),Tn,!1),Fe}function Zt(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi){return t(n,Jp(Ot(),i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn),Oi,!1),Zt}function Mn(n,i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr,zn){return t(n,Qp(Ot(),i,o,d,v,C,O,j,ee,me,Ie,it,At,Ht,Tn,Jn,Oi,Dr),zn,!1),Mn}function Un(n,i,o){return t(n,Ph(Ot(),i),o,!1),Un}function An(n,i,o){const d=Ot();return rc(d,sc(),i)&&Sc(On(),eo(),d,n,i,d[Hi],o,!0),An}function xr(n,i,o){const d=Ot();if(rc(d,sc(),i)){const C=On(),O=eo();Sc(C,O,d,n,i,S(Re(C.data),O,d),o,!0)}return xr}const yi=void 0;var Fs=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cr(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let ai={};function yr(n,i,o){"string"!=typeof i&&(o=i,i=n[ba.LocaleId]),i=i.toLowerCase().replace(/_/g,"-"),ai[i]=n,o&&(ai[i][ba.ExtraData]=o)}function vo(n){const i=function Vt(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=js(i);if(o)return o;const d=i.split("-")[0];if(o=js(d),o)return o;if("en"===d)return Fs;throw new en(701,!1)}function Po(n){return vo(n)[ba.CurrencyCode]||null}function ur(n){return vo(n)[ba.PluralCase]}function js(n){return n in ai||(ai[n]=xi.ng&&xi.ng.common&&xi.ng.common.locales&&xi.ng.common.locales[n]),ai[n]}function ms(){ai={}}var ba=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ba||{});const Yi=["zero","one","two","few","many"],Hn="en-US",Gi={marker:"element"},Yo={marker:"ICU"};var Hs=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Hs||{});let Ia=Hn;function Xc(n){(function dt(n,i){null==n&&et(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Ia=n.toLowerCase().replace(/_/g,"-"))}function L_(n,i,o){const d=i.insertBeforeIndex,v=Array.isArray(d)?d[0]:d;return null===v?qf(n,0,o):wr(o[v])}function k_(n,i,o,d,v){const C=i.insertBeforeIndex;if(Array.isArray(C)){let O=d,j=null;if(3&i.type||(j=O,O=v),null!==O&&-1===i.componentOffset)for(let ee=1;ee<C.length;ee++)Hu(n,O,o[C[ee]],j,!1)}}function Tf(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const d=n[o];Yy(d)||Pb(d,i)&&null===Ib(d)&&Zy(d,i.index)}}function Yy(n){return!(64&n.type)}function Pb(n,i){return Yy(i)||n.index>i.index}function Ib(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Zy(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(mv(L_,k_),n.insertBeforeIndex=i)}function im(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function Rb(n,i,o){const d=yg(n,o,64,null,null);return Tf(i,d),d}function Jy(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function Fb(n){return n>>>17}function Nb(n){return(131070&n)>>>1}let Og=0,Ye=0;function Jt(n,i,o,d){const v=o[Hi];let O,C=null;for(let j=0;j<i.length;j++){const ee=i[j];if("string"==typeof ee){const me=i[++j];null===o[me]&&(o[me]=Qd(v,ee))}else if("number"==typeof ee)switch(1&ee){case 0:const me=Fb(ee);let Ie,it;if(null===C&&(C=me,O=Qf(v,d)),me===C?(Ie=d,it=O):(Ie=null,it=wr(o[me])),null!==it){const Jn=Nb(ee);Hu(v,it,o[Jn],Ie,!1);const Dr=im(n,Jn);if(null!==Dr&&"object"==typeof Dr){const zn=Jy(Dr,o);null!==zn&&Jt(n,Dr.create[zn],o,o[Dr.anchorIdx])}}break;case 1:const Ht=i[++j],Tn=i[++j];hu(v,Ao(ee>>>1,o),null,null,Ht,Tn,null)}else switch(ee){case Yo:const me=i[++j],Ie=i[++j];null===o[Ie]&&Jl(o[Ie]=rp(v,me),o);break;case Gi:const it=i[++j],At=i[++j];null===o[At]&&Jl(o[At]=iu(v,it,null),o)}}}function ui(n,i,o,d,v){for(let C=0;C<o.length;C++){const O=o[C],j=o[++C];if(O&v){let ee="";for(let me=C+1;me<=C+j;me++){const Ie=o[me];if("string"==typeof Ie)ee+=Ie;else if("number"==typeof Ie)if(Ie<0)ee+=an(i[d-Ie]);else{const it=Ie>>>2;switch(3&Ie){case 1:const At=o[++me],Ht=o[++me],Tn=n.data[it];"string"==typeof Tn?hu(i[Hi],i[it],null,Tn,At,ee,Ht):Sc(n,Tn,i,At,ee,i[Hi],Ht,!1);break;case 0:const Jn=i[it];null!==Jn&&qd(i[Hi],Jn,ee);break;case 2:Cr(n,im(n,it),i,ee);break;case 3:Vi(n,im(n,it),d,i)}}}}else{const ee=o[C+1];if(ee>0&&3==(3&ee)){const Ie=im(n,ee>>>2);i[Ie.currentCaseLViewIndex]<0&&Vi(n,Ie,d,i)}}C+=j}}function Vi(n,i,o,d){let v=d[i.currentCaseLViewIndex];if(null!==v){let C=Og;v<0&&(v=d[i.currentCaseLViewIndex]=~v,C=-1),ui(n,d,i.update[v],o,C)}}function Cr(n,i,o,d){const v=function Go(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const d=function Dn(n,i){const o=ur(i)(parseInt(n,10)),d=Yi[o];return void 0!==d?d:"other"}(i,function Rd(){return Ia}());o=n.cases.indexOf(d),-1===o&&"other"!==d&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,d);if(Jy(i,o)!==v&&(hr(n,i,o),o[i.currentCaseLViewIndex]=null===v?null:~v,null!==v)){const O=o[i.anchorIdx];O&&Jt(n,i.create[v],o,O)}}function hr(n,i,o){let d=Jy(i,o);if(null!==d){const v=i.remove[d];for(let C=0;C<v.length;C++){const O=v[C];if(O>0){const j=Ao(O,o);null!==j&&Xu(o[Hi],j)}else hr(n,im(n,~O),o)}}}function Vo(){const n=[];let o,d,i=-1;function C(j,ee){i=0;const me=Jy(j,ee);d=null!==me?j.remove[me]:pr}function O(){if(i<d.length){const j=d[i++];return j>0?o[j]:(n.push(i,d),C(o[Sn].data[~j],o),O())}return 0===n.length?null:(d=n.pop(),i=n.pop(),O())}return function v(j,ee){for(o=ee;n.length;)n.pop();return C(j.value,ee),O}}const Gs=/\ufffd(\d+):?\d*\ufffd/gi,yo=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,dc=/\ufffd(\d+)\ufffd/,Ma=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,wc="\ufffd",rm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Yc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Rg=/\uE500/g;function mc(n,i,o,d,v,C,O){const j=Mh(n,d,1,null);let ee=j<<Hs.SHIFT,me=Nn();i===me&&(me=null),null===me&&(ee|=Hs.APPEND_EAGERLY),O&&(ee|=Hs.COMMENT,function ju(n){void 0===nu&&(nu=n())}(Vo)),v.push(ee,null===C?"":C);const Ie=yg(n,j,O?32:1,null===C?"":C,null);Tf(o,Ie);const it=Ie.index;return Xr(Ie,!1),null!==me&&i!==me&&function Ob(n,i){let o=n.insertBeforeIndex;null===o?(mv(L_,k_),o=n.insertBeforeIndex=[null,i]):(function $n(n,i,o){n!=i&&et(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(me,it),Ie}function Rc(n,i,o,d,v,C,O){const j=O.match(Gs),ee=mc(n,i,o,C,d,j?null:O,!1);j&&Iu(v,O,ee.index,null,0,null)}function Iu(n,i,o,d,v,C){const O=n.length,j=O+1;n.push(null,null);const ee=O+2,me=i.split(Gs);let Ie=0;for(let it=0;it<me.length;it++){const At=me[it];if(1&it){const Ht=v+parseInt(At,10);n.push(-1-Ht),Ie|=CM(Ht)}else""!==At&&n.push(At)}return n.push(o<<2|(d?1:0)),d&&n.push(d,C),n[O]=Ie,n[j]=n.length-ee,Ie}function Jx(n){let i=0;for(let o=0;o<n.length;o++){const d=n[o];"number"==typeof d&&d<0&&i++}return i}function CM(n){return 1<<Math.min(n,31)}function EM(n){let i,C,o="",d=0,v=!1;for(;null!==(i=rm.exec(n));)v?i[0]===`${wc}/*${C}${wc}`&&(d=i.index,v=!1):(o+=n.substring(d,i.index+i[0].length),C=i[1],v=!0);return o+=n.slice(d),o}function wM(n,i,o,d,v,C){let O=0;const j={type:v.type,currentCaseLViewIndex:Mh(n,i,1,null),anchorIdx:C,cases:[],create:[],remove:[],update:[]};(function iC(n,i,o){n.push(CM(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,v,C),function Ky(n,i,o){const d=n.data[i];null===d?n.data[i]=o:d.value=o}(n,C,j);const ee=v.values;for(let me=0;me<ee.length;me++){const Ie=ee[me],it=[];for(let At=0;At<Ie.length;At++){const Ht=Ie[At];if("string"!=typeof Ht){const Tn=it.push(Ht)-1;Ie[At]=`\x3c!--\ufffd${Tn}\ufffd--\x3e`}}O=tC(n,j,i,o,d,v.cases[me],Ie.join(""),it)|O}O&&function rC(n,i,o){n.push(i,1,o<<2|3)}(o,O,C)}function eC(n){const i=[],o=[];let d=1,v=0;const C=F1(n=n.replace(Ma,function(O,j,ee){return d="select"===ee?0:1,v=parseInt(j.slice(1),10),""}));for(let O=0;O<C.length;){let j=C[O++].trim();1===d&&(j=j.replace(/\s*(?:=)?(\w+)\s*/,"$1")),j.length&&i.push(j);const ee=F1(C[O++]);i.length>o.length&&o.push(ee)}return{type:d,mainBinding:v,cases:i,values:o}}function F1(n){if(!n)return[];let i=0;const o=[],d=[],v=/[{}]/g;let C;for(v.lastIndex=0;C=v.exec(n);){const j=C.index;if("}"==C[0]){if(o.pop(),0==o.length){const ee=n.substring(i,j);Ma.test(ee)?d.push(eC(ee)):d.push(ee),i=j+1}}else{if(0==o.length){const ee=n.substring(i,j);d.push(ee),i=j+1}o.push("{")}}const O=n.substring(i);return d.push(O),d}function tC(n,i,o,d,v,C,O,j){const ee=[],me=[],Ie=[];i.cases.push(C),i.create.push(ee),i.remove.push(me),i.update.push(Ie);const At=pp(Mu()).getInertBodyElement(O),Ht=Vm(At)||At;return Ht?TM(n,i,o,d,ee,me,Ie,Ht,v,j,0):0}function TM(n,i,o,d,v,C,O,j,ee,me,Ie){let it=0,At=j.firstChild;for(;At;){const Ht=Mh(n,o,1,null);switch(At.nodeType){case Node.ELEMENT_NODE:const Tn=At,Jn=Tn.tagName.toLowerCase();if(Gc.hasOwnProperty(Jn)){N1(v,Gi,Jn,ee,Ht),n.data[Ht]=Jn;const Wo=Tn.attributes;for(let ws=0;ws<Wo.length;ws++){const Za=Wo.item(ws),mu=Za.name.toLowerCase();Za.value.match(Gs)?xv.hasOwnProperty(mu)&&Iu(O,Za.value,Ht,Za.name,0,bd[mu]?sh:null):oC(v,Ht,Za)}it=TM(n,i,o,d,v,C,O,At,Ht,me,Ie+1)|it,AM(C,Ht,Ie)}break;case Node.TEXT_NODE:const Oi=At.textContent||"",Dr=Oi.match(Gs);N1(v,null,Dr?"":Oi,ee,Ht),AM(C,Ht,Ie),Dr&&(it=Iu(O,Oi,Ht,null,0,null)|it);break;case Node.COMMENT_NODE:const zn=dc.exec(At.textContent||"");if(zn){const ws=me[parseInt(zn[1],10)];N1(v,Yo,"",ee,Ht),wM(n,o,d,ee,ws,Ht),nC(C,Ht,Ie)}}At=At.nextSibling}return it}function AM(n,i,o){0===o&&n.push(i)}function nC(n,i,o){0===o&&(n.push(~i),n.push(i))}function N1(n,i,o,d,v){null!==i&&n.push(i),n.push(o,v,function R1(n,i,o){return n|i<<17|o<<1}(0,d,v))}function oC(n,i,o){n.push(i<<1|1,o.name,o.value)}const DM=0,sC=/\[(\ufffd.+?\ufffd?)\]/,aC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,lC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,cC=/{([A-Z0-9_]+)}/g,uC=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,dC=/\/\*/,fC=/\d+\:(\d+)/;function L1(n,i,o=-1){const d=On(),v=Ot(),C=Kr+n,O=Zs(d.consts,i),j=Nn();d.firstCreatePass&&function pu(n,i,o,d,v,C){const O=Nn(),j=[],ee=[],me=[[]];v=function qx(n,i){if(function Qx(n){return-1===n}(i))return EM(n);{const o=n.indexOf(`:${i}${wc}`)+2+i.toString().length,d=n.search(new RegExp(`${wc}\\/\\*\\d+:${i}${wc}`));return EM(n.substring(o,d))}}(v,C);const Ie=function gl(n){return n.replace(Rg," ")}(v).split(Yc);for(let it=0;it<Ie.length;it++){let At=Ie[it];if(1&it){const Ht=47===At.charCodeAt(0),Jn=(At.charCodeAt(Ht?1:0),Kr+Number.parseInt(At.substring(Ht?2:1)));if(Ht)me.shift(),Xr(Nn(),!1);else{const Oi=Rb(n,me[0],Jn);me.unshift([]),Xr(Oi,!0)}}else{const Ht=F1(At);for(let Tn=0;Tn<Ht.length;Tn++){let Jn=Ht[Tn];if(1&Tn){const Oi=Jn;if("object"!=typeof Oi)throw new Error(`Unable to parse ICU expression in "${v}" message.`);wM(n,o,ee,i,Oi,mc(n,O,me[0],o,j,"",!0).index)}else""!==Jn&&Rc(n,O,me[0],j,ee,o,Jn)}}}n.data[d]={create:j,update:ee}}(d,null===j?0:j.index,v,C,O,o),2===d.type?v[$o][tr]|=32:v[tr]|=32;const ee=d.data[C],Ie=cc(d,j===v[ys]?null:j,v);(function pn(n,i,o,d){const v=n[Hi];for(let C=0;C<i.length;C++){const O=i[C++],j=i[C],me=(O&Hs.APPEND_EAGERLY)===Hs.APPEND_EAGERLY,Ie=O>>>Hs.SHIFT;let it=n[Ie];null===it&&(it=n[Ie]=(O&Hs.COMMENT)===Hs.COMMENT?v.createComment(j):Qd(v,j)),me&&null!==o&&Hu(v,o,it,d,!1)}})(v,ee.create,Ie,j&&8&j.type?v[j.index]:null),Q(!0)}function k1(){Q(!1)}function PM(n,i,o){L1(n,i,o),k1()}function IM(n,i){const o=On(),d=Zs(o.consts,i);!function U_(n,i,o){const v=ii().index,C=[];if(n.firstCreatePass&&null===n.data[i]){for(let O=0;O<o.length;O+=2){const j=o[O],ee=o[O+1];if(""!==ee){if(yo.test(ee))throw new Error(`ICU expressions are not supported in attributes. Message: "${ee}".`);Iu(C,ee,v,j,Jx(C),null)}}n.data[i]=C}}(o,n+Kr,d)}function U1(n){return function $t(n){n&&(Og|=1<<Math.min(Ye,31)),Ye++}(rc(Ot(),sc(),n)),U1}function OM(n){!function hn(n,i,o){if(Ye>0){const d=n.data[o];ui(n,i,Array.isArray(d)?d:d.update,Ks()-Ye-1,Og)}Og=0,Ye=0}(On(),Ot(),n+Kr)}function RM(n,i={}){return function hC(n,i={}){let o=n;if(sC.test(n)){const d={},v=[DM];o=o.replace(aC,(C,O,j)=>{const ee=O||j,me=d[ee]||[];if(me.length||(ee.split("|").forEach(Jn=>{const Oi=Jn.match(fC),Dr=Oi?parseInt(Oi[1],10):DM,zn=dC.test(Jn);me.push([Dr,zn,Jn])}),d[ee]=me),!me.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ee}`);const Ie=v[v.length-1];let it=0;for(let Jn=0;Jn<me.length;Jn++)if(me[Jn][0]===Ie){it=Jn;break}const[At,Ht,Tn]=me[it];return Ht?v.pop():Ie!==At&&v.push(At),me.splice(it,1),Tn})}return Object.keys(i).length&&(o=o.replace(lC,(d,v,C,O,j,ee)=>i.hasOwnProperty(C)?`${v}${i[C]}${ee}`:d),o=o.replace(cC,(d,v)=>i.hasOwnProperty(v)?i[v]:d),o=o.replace(uC,(d,v)=>{if(i.hasOwnProperty(v)){const C=i[v];if(!C.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${v}`);return C.shift()}return d})),o}(n,i)}function FM(n,i){}function B1(n,i,o,d,v){if(n=be(n),Array.isArray(n))for(let C=0;C<n.length;C++)B1(n[C],i,o,d,v);else{const C=On(),O=Ot(),j=ii();let ee=Md(n)?n:be(n.provide);const me=Ym(n),Ie=1048575&j.providerIndexes,it=j.directiveStart,At=j.providerIndexes>>20;if(Md(n)||!n.multi){const Ht=new Ld(me,v,Sf),Tn=z1(ee,i,v?Ie:Ie+At,it);-1===Tn?(Ff(Rf(j,O),C,ee),V1(C,n,i.length),i.push(ee),j.directiveStart++,j.directiveEnd++,v&&(j.providerIndexes+=1048576),o.push(Ht),O.push(Ht)):(o[Tn]=Ht,O[Tn]=Ht)}else{const Ht=z1(ee,i,Ie+At,it),Tn=z1(ee,i,Ie,Ie+At),Oi=Tn>=0&&o[Tn];if(v&&!Oi||!v&&!(Ht>=0&&o[Ht])){Ff(Rf(j,O),C,ee);const Dr=function vC(n,i,o,d,v){const C=new Ld(n,o,Sf);return C.multi=[],C.index=i,C.componentProviders=0,NM(C,v,d&&!o),C}(v?gC:mC,o.length,v,d,me);!v&&Oi&&(o[Tn].providerFactory=Dr),V1(C,n,i.length,0),i.push(ee),j.directiveStart++,j.directiveEnd++,v&&(j.providerIndexes+=1048576),o.push(Dr),O.push(Dr)}else V1(C,n,Ht>-1?Ht:Tn,NM(o[v?Tn:Ht],me,!v&&d));!v&&d&&Oi&&o[Tn].componentProviders++}}}function V1(n,i,o,d){const v=Md(i),C=function df(n){return!!n.useClass}(i);if(v||C){const ee=(C?be(i.useClass):i).prototype.ngOnDestroy;if(ee){const me=n.destroyHooks||(n.destroyHooks=[]);if(!v&&i.multi){const Ie=me.indexOf(o);-1===Ie?me.push(o,[d,ee]):me[Ie+1].push(d,ee)}else me.push(o,ee)}}}function NM(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function z1(n,i,o,d){for(let v=o;v<d;v++)if(i[v]===n)return v;return-1}function mC(n,i,o,d){return j1(this.multi,[])}function gC(n,i,o,d){const v=this.multi;let C;if(this.providerFactory){const O=this.providerFactory.componentProviders,j=Pc(o,o[Sn],this.providerFactory.index,d);C=j.slice(0,O),j1(v,C);for(let ee=O;ee<j.length;ee++)C.push(j[ee])}else C=[],j1(v,C);return C}function j1(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function LM(n,i=[]){return o=>{o.providersResolver=(d,v)=>function pC(n,i,o){const d=On();if(d.firstCreatePass){const v=pi(n);B1(o,d.data,d.blueprint,v,!0),B1(i,d.data,d.blueprint,v,!1)}}(d,v?v(n):n,i)}}class Fg{}class kM{}function UM(n,i){return new kb(n,i??null,[])}const yC=UM;class kb extends Fg{constructor(i,o,d){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ql(this);const v=as(i);this._bootstrapComponents=Vs(v.bootstrap),this._r3Injector=yh(i,o,[{provide:Fg,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...d],Ee(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ub extends kM{constructor(i){super(),this.moduleType=i}create(i){return new kb(this.moduleType,i,[])}}class BM extends Fg{constructor(i){super(),this.componentFactoryResolver=new Ql(this),this.instance=null;const o=new uu([...i.providers,{provide:Fg,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],i.parent||hf(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function VM(n,i,o=null){return new BM({providers:n,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let bC=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const d=Gm(0,o.type),v=d.length>0?VM([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,v)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=tn({token:n,providedIn:"environment",factory:()=>new n(ht(cu))})}return n})();function zM(n){n.getStandaloneInjector=i=>i.get(bC).getOrCreateStandaloneInjector(n)}function H1(n){const i=Gl(n);if(null===i)return null;if(void 0===i.component){const o=i.lView;if(null===o)return null;i.component=function ip(n,i){const o=i[Sn].data[n],{directiveStart:d,componentOffset:v}=o;return v>-1?i[d+v]:null}(i.nodeIndex,o)}return i.component}function jM(n){!function wC(n){if(typeof Element<"u"&&!(n instanceof Element))throw new Error("Expecting instance of DOM Element")}(n);const i=Gl(n),o=i?i.lView:null;return null===o?null:o[co]}function HM(n){const i=Gl(n);let d,o=i?i.lView:null;if(null===o)return null;for(;2===o[Sn].type&&(d=hc(o));)o=d;return 512&o[tr]?null:o[co]}function GM(n){const i=hd(n);return null!==i?[Xf(i)]:[]}function WM(n){const i=Gl(n),o=i?i.lView:null;return null===o?Mc.NULL:new bl(o[Sn].data[i.nodeIndex],o)}function $M(n){if(n instanceof Text)return[];const i=Gl(n),o=i?i.lView:null;if(null===o)return[];const d=o[Sn],v=i.nodeIndex;return d?.data[v]?(void 0===i.directives&&(i.directives=np(v,o)),null===i.directives?[]:[...i.directives]):[]}function SC(n){const{constructor:i}=n;if(!i)throw new Error("Unable to find the instance constructor");const o=Hr(i);if(o)return{inputs:o.inputs,outputs:o.outputs,encapsulation:o.encapsulation,changeDetection:o.onPush?ho.OnPush:ho.Default};const d=jo(i);return d?{inputs:d.inputs,outputs:d.outputs}:null}function G1(n){return Gl(n).native}function XM(n){const i=Gl(n),o=null===i?null:i.lView;if(null===o)return[];const v=o[rl],C=o[Sn].cleanup,O=[];if(C&&v)for(let j=0;j<C.length;){const ee=C[j++],me=C[j++];if("string"==typeof ee){const Ie=ee,it=wr(o[me]),At=v[C[j++]],Ht=C[j++];n==it&&O.push({element:n,name:Ie,callback:At,useCapture:"boolean"==typeof Ht&&Ht,type:"boolean"==typeof Ht||Ht>=0?"dom":"output"})}}return O.sort(CC),O}function CC(n,i){return n.name==i.name?0:n.name<i.name?-1:1}function EC(n){return void 0!==n.type&&void 0!==n.declaredInputs&&void 0!==n.findHostDirectiveDefs}function YM(n,i,o,d){return Mr(()=>{const v=n;null!==i&&(v.hasOwnProperty("decorators")&&void 0!==v.decorators?v.decorators.push(...i):v.decorators=i),null!==o&&(v.ctorParameters=o),null!==d&&(v.propDecorators=v.hasOwnProperty("propDecorators")&&void 0!==v.propDecorators?{...v.propDecorators,...d}:d)})}function ZM(n,i,o){const d=rs()+n,v=Ot();return v[d]===Fo?Au(v,d,o?i.call(o):i()):Eg(v,d)}function KM(n,i,o,d){return oS(Ot(),rs(),n,i,o,d)}function JM(n,i,o,d,v){return sS(Ot(),rs(),n,i,o,d,v)}function QM(n,i,o,d,v,C){return aS(Ot(),rs(),n,i,o,d,v,C)}function qM(n,i,o,d,v,C,O){return lS(Ot(),rs(),n,i,o,d,v,C,O)}function eS(n,i,o,d,v,C,O,j){const ee=rs()+n,me=Ot(),Ie=Cc(me,ee,o,d,v,C);return rc(me,ee+4,O)||Ie?Au(me,ee+5,j?i.call(j,o,d,v,C,O):i(o,d,v,C,O)):Eg(me,ee+5)}function tS(n,i,o,d,v,C,O,j,ee){const me=rs()+n,Ie=Ot(),it=Cc(Ie,me,o,d,v,C);return Dh(Ie,me+4,O,j)||it?Au(Ie,me+6,ee?i.call(ee,o,d,v,C,O,j):i(o,d,v,C,O,j)):Eg(Ie,me+6)}function nS(n,i,o,d,v,C,O,j,ee,me){const Ie=rs()+n,it=Ot();let At=Cc(it,Ie,o,d,v,C);return wg(it,Ie+4,O,j,ee)||At?Au(it,Ie+7,me?i.call(me,o,d,v,C,O,j,ee):i(o,d,v,C,O,j,ee)):Eg(it,Ie+7)}function iS(n,i,o,d,v,C,O,j,ee,me,Ie){const it=rs()+n,At=Ot(),Ht=Cc(At,it,o,d,v,C);return Cc(At,it+4,O,j,ee,me)||Ht?Au(At,it+8,Ie?i.call(Ie,o,d,v,C,O,j,ee,me):i(o,d,v,C,O,j,ee,me)):Eg(At,it+8)}function rS(n,i,o,d){return cS(Ot(),rs(),n,i,o,d)}function B_(n,i){const o=n[i];return o===Fo?void 0:o}function oS(n,i,o,d,v,C){const O=i+o;return rc(n,O,v)?Au(n,O+1,C?d.call(C,v):d(v)):B_(n,O+1)}function sS(n,i,o,d,v,C,O){const j=i+o;return Dh(n,j,v,C)?Au(n,j+2,O?d.call(O,v,C):d(v,C)):B_(n,j+2)}function aS(n,i,o,d,v,C,O,j){const ee=i+o;return wg(n,ee,v,C,O)?Au(n,ee+3,j?d.call(j,v,C,O):d(v,C,O)):B_(n,ee+3)}function lS(n,i,o,d,v,C,O,j,ee){const me=i+o;return Cc(n,me,v,C,O,j)?Au(n,me+4,ee?d.call(ee,v,C,O,j):d(v,C,O,j)):B_(n,me+4)}function cS(n,i,o,d,v,C){let O=i+o,j=!1;for(let ee=0;ee<v.length;ee++)rc(n,O++,v[ee])&&(j=!0);return j?Au(n,O,d.apply(C,v)):B_(n,O)}function uS(n,i){const o=On();let d;const v=n+Kr;o.firstCreatePass?(d=function TC(n,i){if(i)for(let o=i.length-1;o>=0;o--){const d=i[o];if(n===d.name)return d}}(i,o.pipeRegistry),o.data[v]=d,d.onDestroy&&(o.destroyHooks??=[]).push(v,d.onDestroy)):d=o.data[v];const C=d.factory||(d.factory=Yt(d.type)),j=xo(Sf);try{const ee=Fc(!1),me=C();return Fc(ee),hb(o,Ot(),v,me),me}finally{xo(j)}}function dS(n,i,o){const d=n+Kr,v=Ot(),C=va(v,d);return V_(v,d)?oS(v,rs(),i,C.transform,o,C):C.transform(o)}function fS(n,i,o,d){const v=n+Kr,C=Ot(),O=va(C,v);return V_(C,v)?sS(C,rs(),i,O.transform,o,d,O):O.transform(o,d)}function hS(n,i,o,d,v){const C=n+Kr,O=Ot(),j=va(O,C);return V_(O,C)?aS(O,rs(),i,j.transform,o,d,v,j):j.transform(o,d,v)}function pS(n,i,o,d,v,C){const O=n+Kr,j=Ot(),ee=va(j,O);return V_(j,O)?lS(j,rs(),i,ee.transform,o,d,v,C,ee):ee.transform(o,d,v,C)}function mS(n,i,o){const d=n+Kr,v=Ot(),C=va(v,d);return V_(v,d)?cS(v,rs(),i,C.transform,o,C):C.transform.apply(C,o)}function V_(n,i){return n[Sn].data[i].pure}function AC(){return this._results[Symbol.iterator]()}class Bb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new du)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Bb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=AC)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const d=this;d.dirty=!1;const v=Ml(i);(this._changesDetected=!function Lf(n,i,o){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let v=n[d],C=i[d];if(o&&(v=o(v),C=o(C)),C!==v)return!1}return!0}(d._results,v,o))&&(d._results=v,d.length=v.length,d.last=v[this.length-1],d.first=v[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function PC(n,i,o,d=!0){const v=i[Sn];if(function a0(n,i,o,d){const v=Et+d,C=o.length;d>0&&(o[v-1][la]=i),d<C-Et?(i[la]=o[v],zh(o,Et+d,i)):(o.push(i),i[la]=null),i[po]=o;const O=i[Rl];null!==O&&o!==O&&function l0(n,i){const o=n[Ve];i[$o]!==i[po][po][$o]&&(n[kt]=!0),null===o?n[Ve]=[i]:o.push(i)}(O,i);const j=i[dr];null!==j&&j.insertView(n),i[tr]|=128}(v,i,n,o),d){const C=lp(o,n),O=i[Hi],j=Qf(O,n[De]);null!==j&&function fv(n,i,o,d,v,C){d[Lr]=v,d[ys]=i,th(n,d,o,1,v,C)}(v,n[ys],O,i,j,C)}}let z_=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=RC}return n})();const IC=z_,OC=class extends IC{constructor(i,o,d){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,d){const v=function DC(n,i,o,d){const v=i.tView,j=zp(n,v,o,4096&n[tr]?4096:16,null,i,null,null,null,d?.injector??null,d?.hydrationInfo??null);j[Rl]=n[i.index];const me=n[dr];return null!==me&&(j[dr]=me.createEmbeddedView(v)),Me(v,j,o),j}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:d});return new No(v)}};function RC(){return Vb(ii(),Ot())}function Vb(n,i){return 4&n.type?new OC(i,n,vf(n,i)):null}function gS(n){const i=n[$e]??[],d=n[po][Hi];for(const v of i)FC(v,d);n[$e]=pr}function FC(n,i){let o=0,d=n.firstChild;if(d){const v=n.data[Ad];for(;o<v;){const C=d.nextSibling;Xu(i,d,!1),d=C,o++}}}function vS(n){gS(n);for(let i=Et;i<n.length;i++)zb(n[i])}function zb(n){const i=n[Sn];for(let o=Kr;o<i.bindingStartIndex;o++)Xn(n[o])?vS(n[o]):Array.isArray(n[o])&&zb(n[o])}let yS=(n,i)=>null;function kC(n,i){const o=n[$e];return i&&null!==o&&0!==o.length?o[0].data[Dp]===i?o.shift():(gS(n),null):null}function _S(n,i){return yS(n,i)}let jb=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=BC}return n})();function BC(){return SS(ii(),Ot())}const VC=jb,bS=class extends VC{constructor(i,o,d){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=d}get element(){return vf(this._hostTNode,this._hostLView)}get injector(){return new bl(this._hostTNode,this._hostLView)}get parentInjector(){const i=Lc(this._hostTNode,this._hostLView);if(Uh(i)){const o=If(i,this._hostLView),d=Ru(i);return new bl(o[Sn].data[d+8],o)}return new bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=MS(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(i,o,d){let v,C;"number"==typeof d?v=d:null!=d&&(v=d.index,C=d.injector);const O=_S(this._lContainer,i.ssrId),j=i.createEmbeddedViewImpl(o||{},C,O),ee=!!O&&!fd(this._hostTNode);return this.insertImpl(j,v,ee),j}createComponent(i,o,d,v,C){const O=i&&!Xd(i);let j;if(O)j=o;else{const Jn=o||{};j=Jn.index,d=Jn.injector,v=Jn.projectableNodes,C=Jn.environmentInjector||Jn.ngModuleRef}const ee=O?i:new Ya(Hr(i)),me=d||this.parentInjector;if(!C&&null==ee.ngModule){const Oi=(O?me:this.parentInjector).get(cu,null);Oi&&(C=Oi)}const Ie=Hr(ee.componentType??{}),it=_S(this._lContainer,Ie?.id??null),Ht=ee.create(me,v,it?.firstChild??null,C),Tn=!!it&&!fd(this._hostTNode);return this.insertImpl(Ht.hostView,j,Tn),Ht}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,d){const v=i._lView;if(function Bi(n){return Xn(n[po])}(v)){const ee=this.indexOf(i);if(-1!==ee)this.detach(ee);else{const me=v[po],Ie=new bS(me,me[ys],me[po]);Ie.detach(Ie.indexOf(i))}}const O=this._adjustIndex(o),j=this._lContainer;return PC(j,v,O,!d),i.attachToViewContainerRef(),zh(W1(j),O,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=MS(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),d=op(this._lContainer,o);d&&(kf(W1(this._lContainer),o),sp(d[Sn],d))}detach(i){const o=this._adjustIndex(i,-1),d=op(this._lContainer,o);return d&&null!=kf(W1(this._lContainer),o)?new No(d):null}_adjustIndex(i,o=0){return i??this.length+o}};function MS(n){return n[8]}function W1(n){return n[8]||(n[8]=[])}function SS(n,i){let o;const d=i[n.index];return Xn(d)?o=d:(o=Hp(d,i,null,n),i[n.index]=o,a(i,o)),xS(o,i,n,d),new bS(o,n,i)}let xS=CS;function CS(n,i,o,d){if(n[De])return;let v;v=8&o.type?wr(d):function zC(n,i){const o=n[Hi],d=o.createComment(""),v=Fr(i,n);return Hu(o,Qf(o,v),d,function ll(n,i){return n.nextSibling(i)}(o,v),!1),d}(i,o),n[De]=v}function jC(n,i,o,d){if(n[De]&&n[$e])return;const v=i[wl],C=o.index-Kr,O=Kd(o)||fd(o);if(!v||O||Fp(v,C))return CS(n,i,o,d);const ee=Op(v,C),me=v.data[mf]?.[C],[Ie,it]=function LC(n,i){const o=[];for(const d of i)for(let v=0;v<(d[Ap]??1);v++){const C={data:d,firstChild:null};d[Ad]>0&&(C.firstChild=n,n=Ly(d[Ad],n)),o.push(C)}return[n,o]}(ee,me);n[De]=Ie,n[$e]=it}class $1{constructor(i){this.queryList=i,this.matches=null}clone(){return new $1(this.queryList)}setDirty(){this.queryList.setDirty()}}class X1{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const d=null!==i.contentQueries?i.contentQueries[0]:o.length,v=[];for(let C=0;C<d;C++){const O=o.getByIndex(C);v.push(this.queries[O.indexInDeclarationView].clone())}return new X1(v)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==RS(i,o).matches&&this.queries[o].setDirty()}}class ES{constructor(i,o,d=null){this.predicate=i,this.flags=o,this.read=d}}class Y1{constructor(i=[]){this.queries=i}elementStart(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let d=0;d<this.length;d++){const v=null!==o?o.length:0,C=this.getByIndex(d).embeddedTView(i,v);C&&(C.indexInDeclarationView=d,null!==o?o.push(C):o=[C])}return null!==o?new Y1(o):null}template(i,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Z1{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Z1(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let v=0;v<d.length;v++){const C=d[v];this.matchTNodeWithReadOption(i,o,GC(o,C)),this.matchTNodeWithReadOption(i,o,Ud(o,i,C,!1,!1))}else d===z_?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Ud(o,i,d,!1,!1))}matchTNodeWithReadOption(i,o,d){if(null!==d){const v=this.metadata.read;if(null!==v)if(v===yf||v===jb||v===z_&&4&o.type)this.addMatch(o.index,-2);else{const C=Ud(o,i,v,!1,!1);null!==C&&this.addMatch(o.index,C)}else this.addMatch(o.index,d)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function GC(n,i){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===i)return o[d+1];return null}function $C(n,i,o,d){return-1===o?function WC(n,i){return 11&n.type?vf(n,i):4&n.type?Vb(n,i):null}(i,n):-2===o?function XC(n,i,o){return o===yf?vf(i,n):o===z_?Vb(i,n):o===jb?SS(i,n):void 0}(n,i,d):Pc(n,n[Sn],o,i)}function wS(n,i,o,d){const v=i[dr].queries[d];if(null===v.matches){const C=n.data,O=o.matches,j=[];for(let ee=0;ee<O.length;ee+=2){const me=O[ee];j.push(me<0?null:$C(i,C[me],O[ee+1],o.metadata.read))}v.matches=j}return v.matches}function K1(n,i,o,d){const v=n.queries.getByIndex(o),C=v.matches;if(null!==C){const O=wS(n,i,v,o);for(let j=0;j<C.length;j+=2){const ee=C[j];if(ee>0)d.push(O[j/2]);else{const me=C[j+1],Ie=i[-ee];for(let it=Et;it<Ie.length;it++){const At=Ie[it];At[Rl]===At[po]&&K1(At[Sn],At,me,d)}if(null!==Ie[Ve]){const it=Ie[Ve];for(let At=0;At<it.length;At++){const Ht=it[At];K1(Ht[Sn],Ht,me,d)}}}}}return d}function TS(n){const i=Ot(),o=On(),d=at();Mt(d+1);const v=RS(o,d);if(n.dirty&&function el(n){return 4==(4&n[tr])}(i)===(2==(2&v.metadata.flags))){if(null===v.matches)n.reset([]);else{const C=v.crossesNgTemplate?K1(o,i,d,[]):wS(o,i,v,d);n.reset(C,rg),n.notifyOnChanges()}return!0}return!1}function AS(n,i,o){const d=On();d.firstCreatePass&&(OS(d,new ES(n,i,o),-1),2==(2&i)&&(d.staticViewQueries=!0)),IS(d,Ot(),i)}function DS(n,i,o,d){const v=On();if(v.firstCreatePass){const C=ii();OS(v,new ES(i,o,d),C.index),function ZC(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(v,n),2==(2&o)&&(v.staticContentQueries=!0)}IS(v,Ot(),o)}function PS(){return function YC(n,i){return n[dr].queries[i].queryList}(Ot(),at())}function IS(n,i,o){const d=new Bb(4==(4&o));(function Y0(n,i,o,d){const v=f(i);v.push(o),n.firstCreatePass&&g(n).push(d,v.length-1)})(n,i,d,d.destroy),null===i[dr]&&(i[dr]=new X1),i[dr].queries.push(new $1(d))}function OS(n,i,o){null===n.queries&&(n.queries=new Y1),n.queries.track(new Z1(i,o))}function RS(n,i){return n.queries.getByIndex(i)}function FS(n,i){return Vb(n,i)}const Zc=(()=>({\u0275\u0275attribute:u_,\u0275\u0275attributeInterpolate1:d_,\u0275\u0275attributeInterpolate2:Cy,\u0275\u0275attributeInterpolate3:Ey,\u0275\u0275attributeInterpolate4:wy,\u0275\u0275attributeInterpolate5:Ty,\u0275\u0275attributeInterpolate6:Ay,\u0275\u0275attributeInterpolate7:Dy,\u0275\u0275attributeInterpolate8:Py,\u0275\u0275attributeInterpolateV:Iy,\u0275\u0275defineComponent:Sa,\u0275\u0275defineDirective:Jo,\u0275\u0275defineInjectable:tn,\u0275\u0275defineInjector:zi,\u0275\u0275defineNgModule:vl,\u0275\u0275definePipe:Ga,\u0275\u0275directiveInject:Sf,\u0275\u0275getInheritedFactory:kc,\u0275\u0275inject:ht,\u0275\u0275injectAttribute:ku,\u0275\u0275invalidFactory:ay,\u0275\u0275invalidFactoryDep:ut,\u0275\u0275templateRefExtractor:FS,\u0275\u0275resetView:Fi,\u0275\u0275HostDirectivesFeature:nb,\u0275\u0275NgOnChangesFeature:oa,\u0275\u0275ProvidersFeature:LM,\u0275\u0275CopyDefinitionFeature:tb,\u0275\u0275InheritDefinitionFeature:Pi,\u0275\u0275InputTransformsFeature:a_,\u0275\u0275StandaloneFeature:zM,\u0275\u0275nextContext:x_,\u0275\u0275namespaceHTML:sm,\u0275\u0275namespaceMathML:Ug,\u0275\u0275namespaceSVG:kg,\u0275\u0275enableBindings:Tt,\u0275\u0275disableBindings:ni,\u0275\u0275elementStart:ky,\u0275\u0275elementEnd:Uy,\u0275\u0275element:y_,\u0275\u0275elementContainerStart:Ig,\u0275\u0275elementContainerEnd:zy,\u0275\u0275elementContainer:__,\u0275\u0275pureFunction0:ZM,\u0275\u0275pureFunction1:KM,\u0275\u0275pureFunction2:JM,\u0275\u0275pureFunction3:QM,\u0275\u0275pureFunction4:qM,\u0275\u0275pureFunction5:eS,\u0275\u0275pureFunction6:tS,\u0275\u0275pureFunction7:nS,\u0275\u0275pureFunction8:iS,\u0275\u0275pureFunctionV:rS,\u0275\u0275getCurrentView:b_,\u0275\u0275restoreView:Kn,\u0275\u0275listener:qp,\u0275\u0275projection:jy,\u0275\u0275syntheticHostProperty:xr,\u0275\u0275syntheticHostListener:S_,\u0275\u0275pipeBind1:dS,\u0275\u0275pipeBind2:fS,\u0275\u0275pipeBind3:hS,\u0275\u0275pipeBind4:pS,\u0275\u0275pipeBindV:mS,\u0275\u0275projectionDef:Sb,\u0275\u0275hostProperty:An,\u0275\u0275property:g_,\u0275\u0275propertyInterpolate:C_,\u0275\u0275propertyInterpolate1:Hy,\u0275\u0275propertyInterpolate2:E_,\u0275\u0275propertyInterpolate3:Gy,\u0275\u0275propertyInterpolate4:w_,\u0275\u0275propertyInterpolate5:Wy,\u0275\u0275propertyInterpolate6:T_,\u0275\u0275propertyInterpolate7:A_,\u0275\u0275propertyInterpolate8:D_,\u0275\u0275propertyInterpolateV:P_,\u0275\u0275pipe:uS,\u0275\u0275queryRefresh:TS,\u0275\u0275viewQuery:AS,\u0275\u0275loadQuery:PS,\u0275\u0275contentQuery:DS,\u0275\u0275reference:pb,\u0275\u0275classMap:m,\u0275\u0275classMapInterpolate1:Ni,\u0275\u0275classMapInterpolate2:rr,\u0275\u0275classMapInterpolate3:Tr,\u0275\u0275classMapInterpolate4:qo,\u0275\u0275classMapInterpolate5:_a,\u0275\u0275classMapInterpolate6:Vn,\u0275\u0275classMapInterpolate7:gi,\u0275\u0275classMapInterpolate8:Pr,\u0275\u0275classMapInterpolateV:Li,\u0275\u0275styleMap:Du,\u0275\u0275styleMapInterpolate1:go,\u0275\u0275styleMapInterpolate2:zs,\u0275\u0275styleMapInterpolate3:fo,\u0275\u0275styleMapInterpolate4:fa,\u0275\u0275styleMapInterpolate5:Ua,\u0275\u0275styleMapInterpolate6:Os,\u0275\u0275styleMapInterpolate7:wt,\u0275\u0275styleMapInterpolate8:xl,\u0275\u0275styleMapInterpolateV:Wn,\u0275\u0275styleProp:F_,\u0275\u0275stylePropInterpolate1:Yn,\u0275\u0275stylePropInterpolate2:Ln,\u0275\u0275stylePropInterpolate3:Ii,\u0275\u0275stylePropInterpolate4:kn,\u0275\u0275stylePropInterpolate5:tt,\u0275\u0275stylePropInterpolate6:Fe,\u0275\u0275stylePropInterpolate7:Zt,\u0275\u0275stylePropInterpolate8:Mn,\u0275\u0275stylePropInterpolateV:Un,\u0275\u0275classProp:N_,\u0275\u0275advance:oy,\u0275\u0275template:ub,\u0275\u0275defer:FM,\u0275\u0275text:pt,\u0275\u0275textInterpolate:He,\u0275\u0275textInterpolate1:ke,\u0275\u0275textInterpolate2:Ct,\u0275\u0275textInterpolate3:yn,\u0275\u0275textInterpolate4:un,\u0275\u0275textInterpolate5:wn,\u0275\u0275textInterpolate6:jn,\u0275\u0275textInterpolate7:xn,\u0275\u0275textInterpolate8:si,\u0275\u0275textInterpolateV:Cn,\u0275\u0275i18n:PM,\u0275\u0275i18nAttributes:IM,\u0275\u0275i18nExp:U1,\u0275\u0275i18nStart:L1,\u0275\u0275i18nEnd:k1,\u0275\u0275i18nApply:OM,\u0275\u0275i18nPostprocess:RM,\u0275\u0275resolveWindow:$v,\u0275\u0275resolveDocument:Xv,\u0275\u0275resolveBody:pg,\u0275\u0275setComponentScope:il,\u0275\u0275setNgModuleScope:Ka,\u0275\u0275registerNgModuleType:$h,\u0275\u0275sanitizeHtml:Ev,\u0275\u0275sanitizeStyle:wv,\u0275\u0275sanitizeResourceUrl:au,\u0275\u0275sanitizeScript:jm,\u0275\u0275sanitizeUrl:zm,\u0275\u0275sanitizeUrlOrResourceUrl:Mp,\u0275\u0275trustConstantHtml:_p,\u0275\u0275trustConstantResourceUrl:Hm,\u0275\u0275validateIframeAttribute:ih,forwardRef:je,resolveForwardRef:be}))();let Qy=null;function QC(){Qy=null}function J1(n){return!!as(n)}const j_=[];let Q1=!1;function LS(){if(!Q1){Q1=!0;try{for(let n=j_.length-1;n>=0;n--){const{moduleType:i,ngModule:o}=j_[n];o.declarations&&o.declarations.every(kS)&&(j_.splice(n,1),iE(i,o))}}finally{Q1=!1}}}function kS(n){return Array.isArray(n)?n.every(kS):!!be(n)}function US(n,i={}){BS(n,i),void 0!==i.id&&$h(n,i.id),function qC(n,i){j_.push({moduleType:n,ngModule:i})}(n,i)}function BS(n,i,o=!1){const d=Ml(i.declarations||pr);let v=null;Object.defineProperty(n,Ts,{configurable:!0,get:()=>(null===v&&(v=al().compileNgModule(Zc,`ng:///${n.name}/\u0275mod.js`,{type:n,bootstrap:Ml(i.bootstrap||pr).map(be),declarations:d.map(be),imports:Ml(i.imports||pr).map(be).map(jS),exports:Ml(i.exports||pr).map(be).map(jS),schemas:i.schemas?Ml(i.schemas):null,id:i.id||null}),v.schemas||(v.schemas=[])),v)});let C=null;Object.defineProperty(n,Rs,{get:()=>{if(null===C){const j=al();C=j.compileFactory(Zc,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,deps:kl(n),target:j.FactoryTarget.NgModule,typeArgumentCount:0})}return C},configurable:!1});let O=null;Object.defineProperty(n,Xi,{get:()=>{if(null===O){const j={name:n.name,type:n,providers:i.providers||pr,imports:[(i.imports||pr).map(be),(i.exports||pr).map(be)]};O=al().compileInjector(Zc,`ng:///${n.name}/\u0275inj.js`,j)}return O},configurable:!1})}let Hb=new WeakMap,eM=new WeakMap;function nE(){Hb=new WeakMap,eM=new WeakMap,j_.length=0,Ws.clear()}function iE(n,i){const o=Ml(i.declarations||pr),d=Ng(n);o.forEach(v=>{(v=be(v)).hasOwnProperty(us)?tM(Hr(v),d):!v.hasOwnProperty(Ki)&&!v.hasOwnProperty(Ir)&&(v.ngSelectorScope=n)})}function tM(n,i){n.directiveDefs=()=>Array.from(i.compilation.directives).map(o=>o.hasOwnProperty(us)?Hr(o):jo(o)).filter(o=>!!o),n.pipeDefs=()=>Array.from(i.compilation.pipes).map(o=>Er(o)),n.schemas=i.schemas,n.tView=null}function Ng(n){if(J1(n))return function rE(n){const i=as(n,!0);if(null!==i.transitiveCompileScopes)return i.transitiveCompileScopes;const o={schemas:i.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Vs(i.imports).forEach(d=>{const v=Ng(d);v.exported.directives.forEach(C=>o.compilation.directives.add(C)),v.exported.pipes.forEach(C=>o.compilation.pipes.add(C))}),Vs(i.declarations).forEach(d=>{Er(d)?o.compilation.pipes.add(d):o.compilation.directives.add(d)}),Vs(i.exports).forEach(d=>{const v=d;if(J1(v)){const C=Ng(v);C.exported.directives.forEach(O=>{o.compilation.directives.add(O),o.exported.directives.add(O)}),C.exported.pipes.forEach(O=>{o.compilation.pipes.add(O),o.exported.pipes.add(O)})}else Er(v)?o.exported.pipes.add(v):o.exported.directives.add(v)}),i.transitiveCompileScopes=o,o}(n);if(na(n)){if(null!==(Hr(n)||jo(n)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([n]),pipes:new Set}};if(null!==Er(n))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([n])}}}throw new Error(`${n.name} does not have a module def (\u0275mod property)`)}function jS(n){return function NS(n){return void 0!==n.ngModule}(n)?n.ngModule:n}let nM=0;function HS(n,i){let o=null;(function tv(n,i){Wh(i)&&(vc.set(n,i),eu.add(n))})(n,i),WS(n,i),Object.defineProperty(n,us,{get:()=>{if(null===o){const d=al();if(Wh(i)){const me=[`Component '${n.name}' is not resolved:`];throw i.templateUrl&&me.push(` - templateUrl: ${i.templateUrl}`),i.styleUrls&&i.styleUrls.length&&me.push(` - styleUrls: ${JSON.stringify(i.styleUrls)}`),me.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(me.join("\n"))}const v=function JC(){return Qy}();let C=i.preserveWhitespaces;void 0===C&&(C=null!==v&&void 0!==v.preserveWhitespaces&&v.preserveWhitespaces);let O=i.encapsulation;void 0===O&&(O=null!==v&&void 0!==v.defaultEncapsulation?v.defaultEncapsulation:Zr.Emulated);const j=i.templateUrl||`ng:///${n.name}/template.html`,ee={...$S(n,i),typeSourceSpan:d.createParseSourceSpan("Component",n.name,j),template:i.template||"",preserveWhitespaces:C,styles:i.styles||pr,animations:i.animations,declarations:[],changeDetection:i.changeDetection,encapsulation:O,interpolation:i.interpolation,viewProviders:i.viewProviders||null};nM++;try{if(ee.usesInheritance&&XS(n),o=d.compileComponent(Zc,j,ee),i.standalone){const me=Ml(i.imports||pr),{directiveDefs:Ie,pipeDefs:it}=function sE(n,i){let o=null,d=null;return{directiveDefs:()=>{if(null===o){o=[Hr(n)];const O=new Set([n]);for(const j of i){const ee=be(j);if(!O.has(ee))if(O.add(ee),as(ee)){const me=Ng(ee);for(const Ie of me.exported.directives){const it=Hr(Ie)||jo(Ie);it&&!O.has(Ie)&&(O.add(Ie),o.push(it))}}else{const me=Hr(ee)||jo(ee);me&&o.push(me)}}}return o},pipeDefs:()=>{if(null===d){d=[];const O=new Set;for(const j of i){const ee=be(j);if(!O.has(ee))if(O.add(ee),as(ee)){const me=Ng(ee);for(const Ie of me.exported.pipes){const it=Er(Ie);it&&!O.has(Ie)&&(O.add(Ie),d.push(it))}}else{const me=Er(ee);me&&d.push(me)}}}return d}}}(n,me);o.directiveDefs=Ie,o.pipeDefs=it,o.dependencies=()=>me.map(be)}}finally{nM--}if(0===nM&&LS(),function aE(n){return void 0!==n.ngSelectorScope}(n)){const me=Ng(n.ngSelectorScope);tM(o,me)}if(i.schemas){if(!i.standalone)throw new Error(`The 'schemas' was specified for the ${xt(n)} but is only valid on a component that is standalone.`);o.schemas=i.schemas}else i.standalone&&(o.schemas=[])}return o},configurable:!1})}function iM(n,i){let o=null;WS(n,i||{}),Object.defineProperty(n,Ki,{get:()=>{if(null===o){const d=GS(n,i||{});o=al().compileDirective(Zc,d.sourceMapUrl,d.metadata)}return o},configurable:!1})}function GS(n,i){const o=n&&n.name,d=`ng:///${o}/\u0275dir.js`,v=al(),C=$S(n,i);return C.typeSourceSpan=v.createParseSourceSpan("Directive",o,d),C.usesInheritance&&XS(n),{metadata:C,sourceMapUrl:d}}function WS(n,i){let o=null;Object.defineProperty(n,Rs,{get:()=>{if(null===o){const d=GS(n,i),v=al();o=v.compileFactory(Zc,`ng:///${n.name}/\u0275fac.js`,{name:d.metadata.name,type:d.metadata.type,typeArgumentCount:0,deps:kl(n),target:v.FactoryTarget.Directive})}return o},configurable:!1})}function lE(n){return Object.getPrototypeOf(n.prototype)===Object.prototype}function $S(n,i){const o=mm(),d=o.ownPropMetadata(n);return{name:n.name,type:n,selector:void 0!==i.selector?i.selector:null,host:i.host||Wr,propMetadata:d,inputs:i.inputs||pr,outputs:i.outputs||pr,queries:YS(n,d,ZS),lifecycle:{usesOnChanges:o.hasLifecycleHook(n,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!lE(n),exportAs:dE(i.exportAs),providers:i.providers||null,viewQueries:YS(n,d,KS),isStandalone:!!i.standalone,isSignal:!!i.signals,hostDirectives:i.hostDirectives?.map(v=>"function"==typeof v?{directive:v}:v)||null}}function XS(n){const i=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;)!jo(o)&&!Hr(o)&&hE(o)&&iM(o,null),o=Object.getPrototypeOf(o)}function cE(n){return"string"==typeof n?QS(n):be(n)}function uE(n,i){return{propertyName:n,predicate:cE(i.selector),descendants:i.descendants,first:i.first,read:i.read?i.read:null,static:!!i.static,emitDistinctChangesOnly:!!i.emitDistinctChangesOnly}}function YS(n,i,o){const d=[];for(const v in i)if(i.hasOwnProperty(v)){const C=i[v];C.forEach(O=>{if(o(O)){if(!O.selector)throw new Error(`Can't construct a query for the property "${v}" of "${xt(n)}" since the query selector wasn't defined.`);if(C.some(JS))throw new Error("Cannot combine @Input decorators with query decorators");d.push(uE(v,O))}})}return d}function dE(n){return void 0===n?null:QS(n)}function ZS(n){const i=n.ngMetadataName;return"ContentChild"===i||"ContentChildren"===i}function KS(n){const i=n.ngMetadataName;return"ViewChild"===i||"ViewChildren"===i}function JS(n){return"Input"===n.ngMetadataName}function QS(n){return n.split(",").map(i=>i.trim())}const fE=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function hE(n){const i=mm();if(fE.some(d=>i.hasLifecycleHook(n,d)))return!0;const o=i.propMetadata(n);for(const d in o){const v=o[d];for(let C=0;C<v.length;C++){const O=v[C],j=O.ngMetadataName;if(JS(O)||ZS(O)||KS(O)||"Output"===j||"HostBinding"===j||"HostListener"===j)return!0}}return!1}function qS(n,i){let o=null,d=null;Object.defineProperty(n,Rs,{get:()=>{if(null===d){const v=ex(n,i),C=al();d=C.compileFactory(Zc,`ng:///${v.name}/\u0275fac.js`,{name:v.name,type:v.type,typeArgumentCount:0,deps:kl(n),target:C.FactoryTarget.Pipe})}return d},configurable:!1}),Object.defineProperty(n,Ir,{get:()=>{if(null===o){const v=ex(n,i);o=al().compilePipe(Zc,`ng:///${v.name}/\u0275pipe.js`,v)}return o},configurable:!1})}function ex(n,i){return{type:n,name:n.name,pipeName:i.name,pure:void 0===i.pure||i.pure,isStandalone:!!i.standalone}}const tx=Hd("Directive",(n={})=>n,void 0,void 0,(n,i)=>iM(n,i)),pE=Hd("Component",(n={})=>({changeDetection:ho.Default,...n}),tx,void 0,(n,i)=>HS(n,i)),mE=Hd("Pipe",n=>({pure:!0,...n}),void 0,void 0,(n,i)=>qS(n,i)),gE=Bc("Input",n=>n?"string"==typeof n?{alias:n}:n:{}),vE=Bc("Output",n=>({alias:n})),yE=Bc("HostBinding",n=>({hostPropertyName:n})),_E=Bc("HostListener",(n,i)=>({eventName:n,args:i})),bE=Hd("NgModule",n=>n,void 0,void 0,(n,i)=>US(n,i)),nx=new _i("Application Initializer");let Gb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,d)=>{this.resolve=o,this.reject=d}),this.appInits=nt(nx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const v of this.appInits){const C=v();if(M_(C))o.push(C);else if(yb(C)){const O=new Promise((j,ee)=>{C.subscribe({complete:j,error:ee})});o.push(O)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{d()}).catch(v=>{this.reject(v)}),0===o.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ix=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Wb=new _i("LocaleId",{providedIn:"root",factory:()=>nt(Wb,vi.Optional|vi.SkipSelf)||function ME(){return typeof $localize<"u"&&$localize.locale||Hn}()}),SE=new _i("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),xE=new _i("Translations"),CE=new _i("TranslationsFormat");var rx=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Ignore=2]="Ignore",n}(rx||{});let ox=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new F.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sx{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let EE=(()=>{class n{compileModuleSync(o){return new Ub(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),C=Vs(as(o).declarations).reduce((O,j)=>{const ee=Hr(j);return ee&&O.push(new Ya(ee)),O},[]);return new sx(d,C)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ax=new _i("compilerOptions");class wE{}class TE{constructor(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}reset(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}}let H_=new TE;function $b(){return H_}function rM(n){let i=null;return void 0===n||(i=n instanceof bl?Lu(n):n),i}function NE(n){bh(cv(n)),GM(n).forEach(i=>ri(i))}function LE(n,i){const o=n.get(i,null,{self:!0,optional:!0});if(null===o)throw new Error(`Unable to determine instance of ${i} in given injector`);let d=n;n instanceof bl&&(d=Lu(n));const{resolverToTokenToDependencies:v}=$b();let C=v.get(d)?.get?.(i)??[];const O=lx(n);return C=C.map(j=>{const ee=j.flags;j.flags={optional:8==(8&ee),host:1==(1&ee),self:2==(2&ee),skipSelf:4==(4&ee)};for(let me=0;me<O.length;me++){const Ie=O[me];if(0!==me||!j.flags.skipSelf){if(j.flags.host&&Ie instanceof cu)break;if(null!==Ie.get(j.token,null,{self:!0,optional:!0})){if(j.flags.host){null!==O[0].get(j.token,null,{...j.flags,optional:!0})&&(j.providedIn=Ie);break}j.providedIn=Ie;break}if(0===me&&j.flags.self)break}}return j}),{instance:o,dependencies:C}}function zE(n){const i=$b().resolverToProviders.get(n)??[];if(function jE(n){return n instanceof uu&&n.scopes.has("platform")}(n))return i;const o=function kE(n){const{standaloneInjectorToComponent:i}=$b();if(i.has(n))return i.get(n);const o=n.get(Fg,null,{self:!0,optional:!0});return null===o||null===o.instance?null:o.instance.constructor}(n);if(null===o){if(function HE(n){return n instanceof uu&&n.scopes.has("root")}(n))return i;et("Could not determine where injector providers were configured.")}const d=function BE(n){const i=new Map,d=function VE(n,i){return(o,d)=>{if(n.has(o)||n.set(o,[d]),!i.has(d))for(const v of n.keys()){const C=n.get(v);let O=no(d);if(O||(O=no(d.ngModule)),!O)return;const j=C[0];let ee=!1;ad(O.imports,me=>{ee||(ee=me.ngModule===j||me===j,ee&&n.get(v)?.unshift(d))})}i.add(d)}}(i,new Set);return lh(n,d,[],new Set),i}(o);return i.map(v=>{let C=d.get(v.provider)??[o];return!!Hr(o)?.standalone&&(C=[o,...d.get(v.provider)??[]]),{...v,importPath:C}})}function GE(n){return n instanceof bl?function UE(n){const i=Lu(n),{resolverToProviders:o}=$b();return o.get(i)??[]}(n):n instanceof cu?zE(n):void et("getInjectorProviders only supports NodeInjector and EnvironmentInjector")}function lx(n){const i=[n];return oM(n,i),i}function oM(n,i){const o=function WE(n){if(n instanceof uu)return n.parent;let i,o;if(n instanceof bl)i=function Wg(n){return n._tNode}(n),o=Lu(n);else{if(n instanceof Sp)return null;et("getInjectorParent only support injectors of type R3Injector, NodeInjector, NullInjector")}const d=Lc(i,o);if(Uh(d)){const v=Ru(d),C=If(d,o);return new bl(C[Sn].data[v+8],C)}{const C=o[sr].injector?.parent;if(C instanceof bl)return C}return null}(n);if(null===o){if(n instanceof bl){const d=i[0];if(d instanceof bl){const v=function $E(n){let i;n instanceof bl?i=Lu(n):et("getModuleInjectorOfNodeInjector must be called with a NodeInjector");const d=i[sr].parentInjector;return d||et("NodeInjector must have some connection to the module injector tree"),d}(d);null===v&&et("NodeInjector must have some connection to the module injector tree"),i.push(v),oM(v,i)}return i}}else i.push(o),oM(o,i);return i}const cx="ng";let ux=!1;function XE(){ux||(ux=!0,function AE(){H_.reset(),Ss(n=>function DE(n){const{context:i,type:o}=n;0===o?function PE(n,i){const o=rM(n.injector);null===o&&et("An Inject event must be run within an injection context.");const d=H_.resolverToTokenToDependencies;if(d.has(o)||d.set(o,new WeakMap),!function FE(n){return null!==n&&("object"==typeof n||"function"==typeof n||"symbol"==typeof n)}(n.token))return;const v=d.get(o);v.has(n.token)||v.set(n.token,[]);const{token:C,value:O,flags:j}=i;v.get(n.token).push({token:C,value:O,flags:j})}(i,n.service):1===o?function IE(n,i){const{value:o}=i;let d;if(null===rM(n.injector)&&et("An InjectorCreatedInstance event must be run within an injection context."),"object"==typeof o&&(d=o?.constructor),void 0===d||!function OE(n){return!!Hr(n)?.standalone}(d))return;const v=n.injector.get(cu,null,{optional:!0});if(null===v)return;const{standaloneInjectorToComponent:C}=H_;C.has(v)||C.set(v,d)}(i,n.instance):2===o&&function RE(n,i){const{resolverToProviders:o}=H_,d=rM(n?.injector);null===d&&et("A ProviderConfigured event must be run within an injection context."),o.has(d)||o.set(d,[]),o.get(d).push(i)}(i,n.providerRecord)}(n))}(),Kc("\u0275getDependenciesFromInjectable",LE),Kc("\u0275getInjectorProviders",GE),Kc("\u0275getInjectorResolutionPath",lx),Kc("\u0275setProfiler",Ur),Kc("getDirectiveMetadata",SC),Kc("getComponent",H1),Kc("getContext",jM),Kc("getListeners",XM),Kc("getOwningComponent",HM),Kc("getHostElement",G1),Kc("getInjector",WM),Kc("getRootComponents",GM),Kc("getDirectives",$M),Kc("applyChanges",NE))}function Kc(n,i){if((typeof COMPILED>"u"||!COMPILED)&&xi){let d=xi[cx];d||(d=xi[cx]={}),d[n]=i}}const dx=new _i(""),fx=new _i("");let YE=(()=>{class n{constructor(o,d,v){this._ngZone=o,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sM||(px(v),v.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$l.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,v){let C=-1;d&&d>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==C),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:C,updateCb:v})}whenStable(o,d,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,v){return[]}static#e=this.\u0275fac=function(d){return new(d||n)(ht($l),ht(hx),ht(fx))};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac})}return n})(),hx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return sM?.findTestabilityInTree(this,o,d)??null}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function px(n){sM=n}let sM,om=null;const aM=new _i("AllowMultipleToken"),lM=new _i("PlatformDestroyListeners"),cM=new _i("appBootstrapListener");function mx(n,i,o){const d=new Ub(o);return Promise.resolve(d)}function gx(){!function Ue(n){se=n}(()=>{throw new en(600,!1)})}function vx(n){return n.isBoundToModule}class ZE{constructor(i,o){this.name=i,this.token=o}}function yx(n){if(om&&!om.get(aM,!1))throw new en(400,!1);gx(),om=n;const i=n.get(uM);return _x(n),i}function _x(n){n.get(Zm,null)?.forEach(o=>o())}function JE(n){try{const{rootComponent:i,appProviders:o,platformProviders:d}=n,v=function KE(n=[]){if(om)return om;const i=Sx(n);return om=i,gx(),_x(i),i}(d),C=[Dx(),...o||[]],j=new BM({providers:C,parent:v,debugName:"",runEnvironmentInitializers:!1}).injector,ee=j.get($l);return ee.run(()=>{j.resolveInjectorInitializers();const me=j.get(ed,null);let Ie;ee.runOutsideAngular(()=>{Ie=ee.onError.subscribe({next:Ht=>{me.handleError(Ht)}})});const it=()=>j.destroy(),At=v.get(lM);return At.add(it),j.onDestroy(()=>{Ie.unsubscribe(),At.delete(it)}),Cx(me,ee,()=>{const Ht=j.get(Gb);return Ht.runInitializers(),Ht.donePromise.then(()=>{Xc(j.get(Wb,Hn)||Hn);const Jn=j.get(qy);return void 0!==i&&Jn.bootstrap(i),Jn})})})}catch(i){return Promise.reject(i)}}function bx(n,i,o=[]){const d=`Platform: ${i}`,v=new _i(d);return(C=[])=>{let O=Xb();if(!O||O.injector.get(aM,!1)){const j=[...o,...C,{provide:v,useValue:!0}];n?n(j):yx(Sx(j,d))}return Mx()}}function Mx(n){const i=Xb();if(!i)throw new en(401,!1);return i}function Sx(n=[],i){return Mc.create({name:i,providers:[{provide:uh,useValue:"platform"},{provide:lM,useValue:new Set([()=>om=null])},...n]})}function QE(){Xb()?.destroy()}function Xb(){return om?.get(uM)??null}let uM=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const v=function qE(n="zone.js",i){return"noop"===n?new Hv:"zone.js"===n?new $l(i):n}(d?.ngZone,xx({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return v.run(()=>{const C=function _C(n,i,o){return new kb(n,i,o)}(o.moduleType,this.injector,Ax(()=>v)),O=C.injector.get(ed,null);return v.runOutsideAngular(()=>{const j=v.onError.subscribe({next:ee=>{O.handleError(ee)}});C.onDestroy(()=>{Yb(this._modules,C),j.unsubscribe()})}),Cx(O,v,()=>{const j=C.injector.get(Gb);return j.runInitializers(),j.donePromise.then(()=>(Xc(C.injector.get(Wb,Hn)||Hn),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,d=[]){const v=Ex({},d);return mx(0,0,o).then(C=>this.bootstrapModuleFactory(C,v))}_moduleDoBootstrap(o){const d=o.injector.get(qy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(v=>d.bootstrap(v));else{if(!o.instance.ngDoBootstrap)throw new en(-403,!1);o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new en(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const o=this._injector.get(lM,null);o&&(o.forEach(d=>d()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||n)(ht(Mc))};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function xx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function Cx(n,i,o){try{const d=o();return M_(d)?d.catch(v=>{throw i.runOutsideAngular(()=>n.handleError(v)),v}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}function Ex(n,i){return Array.isArray(i)?i.reduce(Ex,n):{...n,...i}}let qy=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(Tx),this.zoneIsStable=nt(Gv),this.componentTypes=[],this.components=[],this.isStable=nt(ox).hasPendingTasks.pipe((0,ge.w)(o=>o?(0,B.of)(!1):this.zoneIsStable),(0,Oe.x)(),q()),this._injector=nt(cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,d){const v=o instanceof Dd;if(!this._injector.get(Gb).done)throw!v&&na(o),new en(405,!1);let O;O=v?o:this._injector.get(wu).resolveComponentFactory(o),this.componentTypes.push(O.componentType);const j=vx(O)?void 0:this._injector.get(Fg),me=O.create(Mc.NULL,[],d||O.selector,j),Ie=me.location.nativeElement,it=me.injector.get(dx,null);return it?.registerApplication(Ie),me.onDestroy(()=>{this.detachView(me.hostView),Yb(this.components,me),it?.unregisterApplication(Ie)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new en(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;Yb(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const d=this._injector.get(cM,[]);d.push(...this._bootstrapListeners),d.forEach(v=>v(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Yb(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new en(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yb(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}const Tx=new _i("",{providedIn:"root",factory:()=>nt(ed).handleError.bind(void 0)});function ew(){const n=nt($l),i=nt(ed);return o=>n.runOutsideAngular(()=>i.handleError(o))}let tw=(()=>{class n{constructor(){this.zone=nt($l),this.applicationRef=nt(qy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=tn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ax(n){return[{provide:$l,useFactory:n},{provide:xu,multi:!0,useFactory:()=>{const i=nt(tw,{optional:!0});return()=>i.initialize()}},{provide:Tx,useFactory:ew},{provide:Gv,useFactory:Wv}]}function Dx(n){return uf([[],Ax(()=>new $l(xx(n)))])}function nw(){return!1}function iw(){}function rw(n){const i=Hf(n);if(!i)throw Px(n);return new Ub(i)}function ow(n){const i=Hf(n);if(!i)throw Px(n);return i}function Px(n){return new Error(`No module with ID ${n} loaded`)}let Ix=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ox}return n})();function Ox(n){return function sw(n,i,o){if(Jr(n)&&!o){const d=sa(n.index,i);return new No(d,d)}return 47&n.type?new No(i[$o],i):null}(ii(),Ot(),16==(16&n))}class Rx extends Ix{}class aw extends Rx{}class lw{constructor(i,o){this.name=i,this.callback=o}}function cw(n){return n.map(i=>i.nativeElement)}class dM{constructor(i){this.nativeNode=i}get parent(){const i=this.nativeNode.parentNode;return i?new G_(i):null}get injector(){return WM(this.nativeNode)}get componentInstance(){const i=this.nativeNode;return i&&(H1(i)||HM(i))}get context(){return H1(this.nativeNode)||jM(this.nativeNode)}get listeners(){return XM(this.nativeNode).filter(i=>"dom"===i.type)}get references(){return function xC(n){const i=Gl(n);if(null===i)return{};if(void 0===i.localRefs){const o=i.lView;if(null===o)return{};i.localRefs=function Dm(n,i){const o=n[Sn].data[i];if(o&&o.localNames){const d={};let v=o.index+1;for(let C=0;C<o.localNames.length;C+=2)d[o.localNames[C]]=n[v],v++;return d}return null}(o,i.nodeIndex)}return i.localRefs||{}}(this.nativeNode)}get providerTokens(){return function MC(n){const i=Gl(n),o=i?i.lView:null;if(null===o)return[];const d=o[Sn],v=d.data[i.nodeIndex],C=[],j=v.directiveEnd;for(let ee=1048575&v.providerIndexes;ee<j;ee++){let me=d.data[ee];EC(me)&&(me=me.type),C.push(me)}return C}(this.nativeNode)}}class G_ extends dM{constructor(i){super(i)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const i=Gl(this.nativeNode),o=i?i.lView:null;return null!==o?o[Sn].data[i.nodeIndex].value:this.nativeNode.nodeName}get properties(){const i=Gl(this.nativeNode),o=i?i.lView:null;if(null===o)return{};const d=o[Sn].data,v=d[i.nodeIndex],C={};return function uw(n,i){if(n){let o=Object.getPrototypeOf(n);const d=Node.prototype;for(;null!==o&&o!==d;){const v=Object.getOwnPropertyDescriptors(o);for(let C in v)if(!C.startsWith("__")&&!C.startsWith("on")){const O=n[C];dw(O)&&(i[C]=O)}o=Object.getPrototypeOf(o)}}}(this.nativeElement,C),function fw(n,i,o,d){let v=i.propertyBindings;if(null!==v)for(let C=0;C<v.length;C++){const O=v[C],ee=d[O].split("\ufffd"),me=ee[0];if(ee.length>1){let Ie=ee[1];for(let it=1;it<ee.length-1;it++)Ie+=an(o[O+it-1])+ee[it+1];n[me]=Ie}else n[me]=o[O]}}(C,v,o,d),C}get attributes(){const i={},o=this.nativeElement;if(!o)return i;const d=Gl(o),v=d?d.lView:null;if(null===v)return{};const C=v[Sn].data[d.nodeIndex].attrs,O=[];if(C){let j=0;for(;j<C.length;){const ee=C[j];if("string"!=typeof ee)break;i[ee]=C[j+1],O.push(ee.toLowerCase()),j+=2}}for(const j of o.attributes)O.includes(j.name)||(i[j.name]=j.value);return i}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const i={},d=this.nativeElement.className;return("string"!=typeof d?d.baseVal.split(" "):d.split(" ")).forEach(C=>i[C]=!0),i}get childNodes(){const i=this.nativeNode.childNodes,o=[];for(let d=0;d<i.length;d++)o.push(e0(i[d]));return o}get children(){const i=this.nativeElement;if(!i)return[];const o=i.children,d=[];for(let v=0;v<o.length;v++)d.push(e0(o[v]));return d}query(i){return this.queryAll(i)[0]||null}queryAll(i){const o=[];return Fx(this,i,o,!0),o}queryAllNodes(i){const o=[];return Fx(this,i,o,!1),o}triggerEventHandler(i,o){const d=this.nativeNode,v=[];this.listeners.forEach(C=>{if(C.name===i){const O=C.callback;O.call(d,o),v.push(O)}}),"function"==typeof d.eventListeners&&d.eventListeners(i).forEach(C=>{if(-1!==C.toString().indexOf("__ngUnwrap__")){const O=C("__ngUnwrap__");return-1===v.indexOf(O)&&O.call(d,o)}})}}function dw(n){return"string"==typeof n||"boolean"==typeof n||"number"==typeof n||null===n}function Fx(n,i,o,d){const v=Gl(n.nativeNode),C=v?v.lView:null;null!==C?Lg(C[Sn].data[v.nodeIndex],C,i,o,d,n.nativeNode):hM(n.nativeNode,i,o,d)}function Lg(n,i,o,d,v,C){const O=function qa(n,i){const o=null===n?-1:n.index;return-1!==o?wr(i[o]):null}(n,i);if(11&n.type){if(fM(O,o,d,v,C),Jr(n)){const ee=sa(n.index,i);ee&&ee[Sn].firstChild&&Lg(ee[Sn].firstChild,ee,o,d,v,C)}else n.child&&Lg(n.child,i,o,d,v,C),O&&hM(O,o,d,v);const j=i[n.index];Xn(j)&&Nx(j,o,d,v,C)}else if(4&n.type){const j=i[n.index];fM(j[De],o,d,v,C),Nx(j,o,d,v,C)}else if(16&n.type){const j=i[$o],me=j[ys].projection[n.projection];if(Array.isArray(me))for(let Ie of me)fM(Ie,o,d,v,C);else if(me){const Ie=j[po];Lg(Ie[Sn].data[me.index],Ie,o,d,v,C)}}else n.child&&Lg(n.child,i,o,d,v,C);if(C!==O){const j=2&n.flags?n.projectionNext:n.next;j&&Lg(j,i,o,d,v,C)}}function Nx(n,i,o,d,v){for(let C=Et;C<n.length;C++){const O=n[C],j=O[Sn].firstChild;j&&Lg(j,O,i,o,d,v)}}function fM(n,i,o,d,v){if(v!==n){const C=e0(n);if(!C)return;(d&&C instanceof G_&&i(C)&&-1===o.indexOf(C)||!d&&i(C)&&-1===o.indexOf(C))&&o.push(C)}}function hM(n,i,o,d){const v=n.childNodes,C=v.length;for(let O=0;O<C;O++){const j=v[O],ee=e0(j);ee&&((d&&ee instanceof G_&&i(ee)&&-1===o.indexOf(ee)||!d&&i(ee)&&-1===o.indexOf(ee))&&o.push(ee),hM(j,i,o,d))}}const mM="__ng_debug__";function e0(n){return n instanceof Node?(n.hasOwnProperty(mM)||(n[mM]=n.nodeType==Node.ELEMENT_NODE?new G_(n):new dM(n)),n[mM]):null}class Lx{constructor(){}supports(i){return $p(i)}create(i){return new kx(i)}}const hw=(n,i)=>i;class kx{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||hw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,d=this._removalsHead,v=0,C=null;for(;o||d;){const O=!d||o&&o.currentIndex<Bx(d,v,C)?o:d,j=Bx(O,v,C),ee=O.currentIndex;if(O===d)v--,d=d._nextRemoved;else if(o=o._next,null==O.previousIndex)v++;else{C||(C=[]);const me=j-v,Ie=ee-v;if(me!=Ie){for(let At=0;At<me;At++){const Ht=At<C.length?C[At]:C[At]=0,Tn=Ht+At;Ie<=Tn&&Tn<me&&(C[At]=Ht+1)}C[O.previousIndex]=Ie-me}}j!==ee&&i(O,j,ee)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!$p(i))throw new en(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let v,C,O,o=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let j=0;j<this.length;j++)C=i[j],O=this._trackByFn(j,C),null!==o&&Object.is(o.trackById,O)?(d&&(o=this._verifyReinsertion(o,C,O,j)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,O,j),d=!0),o=o._next}else v=0,function c_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let d;for(;!(d=o.next()).done;)i(d.value)}}(i,j=>{O=this._trackByFn(v,j),null!==o&&Object.is(o.trackById,O)?(d&&(o=this._verifyReinsertion(o,j,O,v)),Object.is(o.item,j)||this._addIdentityChange(o,j)):(o=this._mismatch(o,j,O,v),d=!0),o=o._next,v++}),this.length=v;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,d,v){let C;return null===i?C=this._itTail:(C=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,C,v)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,v))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,C,v)):i=this._addAfter(new pw(o,d),C,v),i}_verifyReinsertion(i,o,d,v){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==C?i=this._reinsertAfter(C,i._prev,v):i.currentIndex!=v&&(i.currentIndex=v,this._addToMoves(i,v)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const v=i._prevRemoved,C=i._nextRemoved;return null===v?this._removalsHead=C:v._nextRemoved=C,null===C?this._removalsTail=v:C._prevRemoved=v,this._insertAfter(i,o,d),this._addToMoves(i,d),i}_moveAfter(i,o,d){return this._unlink(i),this._insertAfter(i,o,d),this._addToMoves(i,d),i}_addAfter(i,o,d){return this._insertAfter(i,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,d){const v=null===o?this._itHead:o._next;return i._next=v,i._prev=o,null===v?this._itTail=i:v._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ux),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,d=i._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ux),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class pw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const o=i._prevDup,d=i._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class Ux{constructor(){this.map=new Map}put(i){const o=i.trackById;let d=this.map.get(o);d||(d=new mw,this.map.set(o,d)),d.add(i)}get(i,o){const v=this.map.get(i);return v?v.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bx(n,i,o){const d=n.previousIndex;if(null===d)return d;let v=0;return o&&d<o.length&&(v=o[d]),d+i+v}class Vx{constructor(){}supports(i){return i instanceof Map||Od(i)}create(){return new gw}}class gw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Od(i)))throw new en(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,v)=>{if(o&&o.key===v)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const C=this._getOrCreateRecordForKey(v,d);o=this._insertBeforeOrAppend(o,C)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const d=i._prev;return o._next=i,o._prev=d,i._prev=o,d&&(d._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const v=this._records.get(i);this._maybeAddToChanges(v,o);const C=v._prev,O=v._next;return C&&(C._next=O),O&&(O._prev=C),v._next=null,v._prev=null,v}const d=new vw(i);return this._records.set(i,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(d=>o(i[d],d))}}class vw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zx(){return new gM([new Lx])}let gM=(()=>{class n{static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:zx});constructor(o){this.factories=o}static create(o,d){if(null!=d){const v=d.factories.slice();o=o.concat(v)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||zx()),deps:[[n,new ud,new ld]]}}find(o){const d=this.factories.find(v=>v.supports(o));if(null!=d)return d;throw new en(901,!1)}}return n})();function jx(){return new vM([new Vx])}let vM=(()=>{class n{static#e=this.\u0275prov=tn({token:n,providedIn:"root",factory:jx});constructor(o){this.factories=o}static create(o,d){if(d){const v=d.factories.slice();o=o.concat(v)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||jx()),deps:[[n,new ud,new ld]]}}find(o){const d=this.factories.find(v=>v.supports(o));if(d)return d;throw new en(901,!1)}}return n})();const yw=[new Vx],bw=new gM([new Lx]),Mw=new vM(yw),Sw=bx(null,"core",[]);let xw=(()=>{class n{constructor(o){}static#e=this.\u0275fac=function(d){return new(d||n)(ht(qy))};static#t=this.\u0275mod=vl({type:n});static#n=this.\u0275inj=zi({})}return n})();class Cw{constructor(){this.views=[],this.indexByContent=new Map}add(i){const o=JSON.stringify(i);if(!this.indexByContent.has(o)){const d=this.views.length;return this.views.push(i),this.indexByContent.set(o,d),d}return this.indexByContent.get(o)}getAll(){return this.views}}let Ew=0;function Hx(n){return n.ssrId||(n.ssrId="t"+Ew++),n.ssrId}function Gx(n,i,o){const d=[];return St(n,i,o,d),d.length}function ww(n){const i=[];return mn(n,i),i.length}function Wx(n,i){const o=n[Lr];return o&&!o.hasAttribute(jc)?Zb(o,n,i):null}function $x(n,i){const o=lo(n[Lr]),d=Wx(o,i),v=wr(o[Lr]),O=Zb(v,n[po],i);o[Hi].setAttribute(v,ph,`${d}|${O}`)}function Tw(n,i){const o=new Cw,d=new Map,v=n._views;for(const j of v){const ee=eg(j);if(null!==ee){const me={serializedViewCollection:o,corruptedTextNodes:d};Xn(ee)?$x(ee,me):Wx(ee,me),Pw(d,i)}}const C=o.getAll();n.injector.get(Td).set(Ip,C)}function Aw(n,i){const o=[];let d="";for(let v=Et;v<n.length;v++){let O,j,ee,C=n[v];if(nn(C)&&(C=C[Kr],Xn(C))){j=ww(C)+1,$x(C,i);const Ie=lo(C[Lr]);ee={[Dp]:Ie[Sn].ssrId,[Ad]:j}}if(!ee){const Ie=C[Sn];1===Ie.type?(O=Ie.ssrId,j=1):(O=Hx(Ie),j=Gx(Ie,C,Ie.firstChild)),ee={[Dp]:O,[Ad]:j,...Yx(n[v],i)}}const me=JSON.stringify(ee);if(o.length>0&&me===d){const Ie=o[o.length-1];Ie[Ap]??=1,Ie[Ap]++}else d=me,o.push(ee)}return o}function yM(n,i,o){const d=i.index-Kr;n[Pa]??={},n[Pa][d]=f1(i,o)}function Xx(n,i){const o=i.index-Kr;n[Pp]??=[],n[Pp].includes(o)||n[Pp].push(o)}function Yx(n,i){const o={},d=n[Sn];for(let v=Kr;v<d.bindingStartIndex;v++){const C=d.data[v],O=v-Kr;if(C){if(Zx(C,n)&&Iw(C)){Xx(o,C);continue}if(Array.isArray(C.projection))for(const j of C.projection)if(j){if(Array.isArray(j))throw e1(wr(n[v]));!gr(j)&&!Kd(j)&&(Zx(j,n)?Xx(o,j):yM(o,j,n))}if(Xn(n[v])){const j=C.tView;null!==j&&(o[Tp]??={},o[Tp][O]=Hx(j));const ee=n[v][Lr];if(Array.isArray(ee)){const me=wr(ee);me.hasAttribute(jc)||Zb(me,ee,i)}o[mf]??={},o[mf][O]=Aw(n[v],i)}else if(Array.isArray(n[v])){const j=wr(n[v][Lr]);j.hasAttribute(jc)||Zb(j,n[v],i)}else if(8&C.type)o[Jm]??={},o[Jm][O]=Gx(d,n,C.child);else if(16&C.type){let j=C.next;for(;null!==j&&16&j.type;)j=j.next;j&&!Kd(j)&&yM(o,j,n)}else{if(1&C.type){const j=wr(n[v]);""===j.textContent?i.corruptedTextNodes.set(j,"ngetn"):j.nextSibling?.nodeType===Node.TEXT_NODE&&i.corruptedTextNodes.set(j,"ngtns")}C.projectionNext&&C.projectionNext!==C.next&&!Kd(C.projectionNext)&&yM(o,C.projectionNext,n)}}}return o}function Zb(n,i,o){const d=i[Hi];if(function Qo(n){return 32==(32&n[tr])}(i)||function Dw(n){const i=n[co];return!!i?.constructor&&Hr(i.constructor)?.encapsulation===Zr.ShadowDom}(i))return d.setAttribute(n,jc,""),null;{const v=Yx(i,o),C=o.serializedViewCollection.add(v);return d.setAttribute(n,ph,C.toString()),C}}function Pw(n,i){for(const[o,d]of n)o.after(i.createComment(d))}function Iw(n){let i=n;for(;null!=i;){if(Jr(i))return!0;i=i.parent}return!1}function Zx(n,i){return!(16&n.type||!i[n.index]||wr(i[n.index]).isConnected)}let Kx=!1;function Fw(){return uf([{provide:Id,useFactory:()=>{let n=!0;return Mf()&&(n=!!nt(Td,{optional:!0})?.get(Ip,null)),n&&nt(fh).add("hydration"),n}},{provide:xu,useValue:()=>{Mf()&&nt(Id)&&(function Nw(){const n=Mu();let i;for(const o of n.body.childNodes)if(o.nodeType===Node.COMMENT_NODE&&o.textContent?.trim()===Ov){i=o;break}if(!i)throw new en(-507,!1)}(),function Ow(){Kx||(Kx=!0,function T0(){Rv=Qm}(),function v1(){By=mb}(),function yt(){st=ft}(),function y1(){gb=vb}(),function m1(){db=p1}(),function HC(){xS=jC}(),function UC(){yS=kC}(),function dy(){uy=X0}())}())},multi:!0},{provide:gg,useFactory:()=>Mf()&&nt(Id)},{provide:cM,useFactory:()=>{if(Mf()&&nt(Id)){const n=nt(qy);return nt(Mc),()=>{(function Rw(n,i){return n.isStable.pipe((0,Qe.P)(d=>d)).toPromise().then(()=>{})})(n).then(()=>{$l.assertInAngularZone(),function NC(n){const i=n._views;for(const o of i){const d=eg(o);null!==d&&null!==d[Lr]&&(zt(d)?zb(d):(zb(d[Lr]),vS(d)))}}(n)})}}return()=>{}},multi:!0}])}function Lw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function kw(n,i=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?i:Number(n)}function Uw(n){return al().compileDirectiveDeclaration(Zc,`ng:///${n.type.name}/\u0275fac.js`,n)}function Bw(n){YM(n.type,n.decorators,n.ctorParameters??null,n.propDecorators??null)}function Vw(n){return al().compileComponentDeclaration(Zc,`ng:///${n.type.name}/\u0275cmp.js`,n)}function zw(n){return al(function jw(n){switch(n){case Uu.Directive:return"directive";case Uu.Component:return"component";case Uu.Injectable:return"injectable";case Uu.Pipe:return"pipe";case Uu.NgModule:return"NgModule"}}(n.target)).compileFactoryDeclaration(Zc,`ng:///${n.type.name}/\u0275fac.js`,n)}function Hw(n){return al().compileInjectableDeclaration(Zc,`ng:///${n.type.name}/\u0275prov.js`,n)}function Gw(n){return al().compileInjectorDeclaration(Zc,`ng:///${n.type.name}/\u0275inj.js`,n)}function Ww(n){return al().compileNgModuleDeclaration(Zc,`ng:///${n.type.name}/\u0275mod.js`,n)}function $w(n){return al().compilePipeDeclaration(Zc,`ng:///${n.type.name}/\u0275pipe.js`,n)}function Xw(n,i){const o=Hr(n),d=i.elementInjector||hf();return new Ya(o).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}function Yw(n){const i=Hr(n);if(!i)return null;const o=new Ya(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}function Zw(...n){return n.reduce((i,o)=>Object.assign(i,o,{providers:[...i.providers,...o.providers]}),{providers:[]})}},95:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{AbstractControl:()=>Qn,AbstractControlDirective:()=>It,AbstractFormGroupDirective:()=>er,COMPOSITION_BUFFER_MODE:()=>Se,CheckboxControlValueAccessor:()=>Oe,CheckboxRequiredValidator:()=>Ra,ControlContainer:()=>cn,DefaultValueAccessor:()=>Ee,EmailValidator:()=>Xs,FormArray:()=>fn,FormArrayName:()=>Va,FormBuilder:()=>Jr,FormControl:()=>Uo,FormControlDirective:()=>Hr,FormControlName:()=>ma,FormGroup:()=>di,FormGroupDirective:()=>Er,FormGroupName:()=>as,FormRecord:()=>es,FormsModule:()=>gr,MaxLengthValidator:()=>Zl,MaxValidator:()=>$o,MinLengthValidator:()=>Kr,MinValidator:()=>ol,NG_ASYNC_VALIDATORS:()=>be,NG_VALIDATORS:()=>je,NG_VALUE_ACCESSOR:()=>de,NgControl:()=>tn,NgControlStatus:()=>Rn,NgControlStatusGroup:()=>ci,NgForm:()=>aa,NgModel:()=>mr,NgModelGroup:()=>Us,NgSelectOption:()=>la,NonNullableFormBuilder:()=>$r,NumberValueAccessor:()=>Nr,PatternValidator:()=>De,RadioControlValueAccessor:()=>vl,RangeValueAccessor:()=>ta,ReactiveFormsModule:()=>Qo,RequiredValidator:()=>Fl,SelectControlValueAccessor:()=>po,SelectMultipleControlValueAccessor:()=>sr,UntypedFormArray:()=>zt,UntypedFormBuilder:()=>pi,UntypedFormControl:()=>tl,UntypedFormGroup:()=>br,VERSION:()=>nn,Validators:()=>bt,isFormArray:()=>Xn,isFormControl:()=>ks,isFormGroup:()=>jr,isFormRecord:()=>cs,\u0275InternalFormsSharedModule:()=>Et,\u0275NgNoValidate:()=>qs,\u0275NgSelectMultipleOption:()=>ao});var M=_(6689),K=_(6814),G=_(7715),W=_(5592),R=_(7453),y=_(4829),h=_(4564),E=_(8251),P=_(7400),F=_(2714),k=_(7398);let ne=(()=>{class he{constructor(re,Ae){this._renderer=re,this._elementRef=Ae,this.onChange=lt=>{},this.onTouched=()=>{}}setProperty(re,Ae){this._renderer.setProperty(this._elementRef.nativeElement,re,Ae)}registerOnTouched(re){this.onTouched=re}registerOnChange(re){this.onChange=re}setDisabledState(re){this.setProperty("disabled",re)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(M.ElementRef))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he})}return he})(),q=(()=>{class he extends ne{static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,features:[M.\u0275\u0275InheritDefinitionFeature]})}return he})();const de=new M.InjectionToken("NgValueAccessor"),ge={provide:de,useExisting:(0,M.forwardRef)(()=>Oe),multi:!0};let Oe=(()=>{class he extends q{writeValue(re){this.setProperty("checked",re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("change",function(mi){return lt.onChange(mi.target.checked)})("blur",function(){return lt.onTouched()})},features:[M.\u0275\u0275ProvidersFeature([ge]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Qe={provide:de,useExisting:(0,M.forwardRef)(()=>Ee),multi:!0},Se=new M.InjectionToken("CompositionEventMode");let Ee=(()=>{class he extends ne{constructor(re,Ae,lt){super(re,Ae),this._compositionMode=lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rt(){const he=(0,K.\u0275getDOM)()?(0,K.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(he.toLowerCase())}())}writeValue(re){this.setProperty("value",re??"")}_handleInput(re){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(re)}_compositionStart(){this._composing=!0}_compositionEnd(re){this._composing=!1,this._compositionMode&&this.onChange(re)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(Se,8))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("input",function(mi){return lt._handleInput(mi.target.value)})("blur",function(){return lt.onTouched()})("compositionstart",function(){return lt._compositionStart()})("compositionend",function(mi){return lt._compositionEnd(mi.target.value)})},features:[M.\u0275\u0275ProvidersFeature([Qe]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();function Ne(he){return null==he||("string"==typeof he||Array.isArray(he))&&0===he.length}function Ze(he){return null!=he&&"number"==typeof he.length}const je=new M.InjectionToken("NgValidators"),be=new M.InjectionToken("NgAsyncValidators"),qe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(_e){return Nt(_e)}static max(_e){return _t(_e)}static required(_e){return en(_e)}static requiredTrue(_e){return rn(_e)}static email(_e){return an(_e)}static minLength(_e){return xt(_e)}static maxLength(_e){return Zn(_e)}static pattern(_e){return qi(_e)}static nullValidator(_e){return null}static compose(_e){return Pn(_e)}static composeAsync(_e){return Gn(_e)}}function Nt(he){return _e=>{if(Ne(_e.value)||Ne(he))return null;const re=parseFloat(_e.value);return!isNaN(re)&&re<he?{min:{min:he,actual:_e.value}}:null}}function _t(he){return _e=>{if(Ne(_e.value)||Ne(he))return null;const re=parseFloat(_e.value);return!isNaN(re)&&re>he?{max:{max:he,actual:_e.value}}:null}}function en(he){return Ne(he.value)?{required:!0}:null}function rn(he){return!0===he.value?null:{required:!0}}function an(he){return Ne(he.value)||qe.test(he.value)?null:{email:!0}}function xt(he){return _e=>Ne(_e.value)||!Ze(_e.value)?null:_e.value.length<he?{minlength:{requiredLength:he,actualLength:_e.value.length}}:null}function Zn(he){return _e=>Ze(_e.value)&&_e.value.length>he?{maxlength:{requiredLength:he,actualLength:_e.value.length}}:null}function qi(he){if(!he)return Lt;let _e,re;return"string"==typeof he?(re="","^"!==he.charAt(0)&&(re+="^"),re+=he,"$"!==he.charAt(he.length-1)&&(re+="$"),_e=new RegExp(re)):(re=he.toString(),_e=he),Ae=>{if(Ne(Ae.value))return null;const lt=Ae.value;return _e.test(lt)?null:{pattern:{requiredPattern:re,actualValue:lt}}}}function Lt(he){return null}function Rt(he){return null!=he}function Ut(he){return(0,M.\u0275isPromise)(he)?(0,G.D)(he):he}function on(he){let _e={};return he.forEach(re=>{_e=null!=re?{..._e,...re}:_e}),0===Object.keys(_e).length?null:_e}function In(he,_e){return _e.map(re=>re(he))}function $n(he){return he.map(_e=>function _n(he){return!he.validate}(_e)?_e:re=>_e.validate(re))}function Pn(he){if(!he)return null;const _e=he.filter(Rt);return 0==_e.length?null:function(re){return on(In(re,_e))}}function to(he){return null!=he?Pn($n(he)):null}function Gn(he){if(!he)return null;const _e=he.filter(Rt);return 0==_e.length?null:function(re){return function B(...he){const _e=(0,h.jO)(he),{args:re,keys:Ae}=(0,R.D)(he),lt=new W.y(li=>{const{length:mi}=re;if(!mi)return void li.complete();const lr=new Array(mi);let ca=mi,xs=mi;for(let $i=0;$i<mi;$i++){let _s=!1;(0,y.Xf)(re[$i]).subscribe((0,E.x)(li,Or=>{_s||(_s=!0,xs--),lr[$i]=Or},()=>ca--,void 0,()=>{(!ca||!_s)&&(xs||li.next(Ae?(0,F.n)(Ae,lr):lr),li.complete())}))}});return _e?lt.pipe((0,P.Z)(_e)):lt}(In(re,_e).map(Ut)).pipe((0,k.U)(on))}}function wi(he){return null!=he?Gn($n(he)):null}function _r(he,_e){return null===he?[_e]:Array.isArray(he)?[...he,_e]:[he,_e]}function Ai(he){return he._rawValidators}function Yr(he){return he._rawAsyncValidators}function Lo(he){return he?Array.isArray(he)?he:[he]:[]}function dt(he,_e){return Array.isArray(he)?he.includes(_e):he===_e}function et(he,_e){const re=Lo(_e);return Lo(he).forEach(lt=>{dt(re,lt)||re.push(lt)}),re}function Dt(he,_e){return Lo(_e).filter(re=>!dt(he,re))}class It{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(_e){this._rawValidators=_e||[],this._composedValidatorFn=to(this._rawValidators)}_setAsyncValidators(_e){this._rawAsyncValidators=_e||[],this._composedAsyncValidatorFn=wi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(_e){this._onDestroyCallbacks.push(_e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(_e=>_e()),this._onDestroyCallbacks=[]}reset(_e=void 0){this.control&&this.control.reset(_e)}hasError(_e,re){return!!this.control&&this.control.hasError(_e,re)}getError(_e,re){return this.control?this.control.getError(_e,re):null}}class cn extends It{get formDirective(){return null}get path(){return null}}class tn extends It{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br{constructor(_e){this._cd=_e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rn=(()=>{class he extends Br{constructor(re){super(re)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(tn,2))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275classProp("ng-untouched",lt.isUntouched)("ng-touched",lt.isTouched)("ng-pristine",lt.isPristine)("ng-dirty",lt.isDirty)("ng-valid",lt.isValid)("ng-invalid",lt.isInvalid)("ng-pending",lt.isPending)},features:[M.\u0275\u0275InheritDefinitionFeature]})}return he})(),ci=(()=>{class he extends Br{constructor(re){super(re)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,10))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275classProp("ng-untouched",lt.isUntouched)("ng-touched",lt.isTouched)("ng-pristine",lt.isPristine)("ng-dirty",lt.isDirty)("ng-valid",lt.isValid)("ng-invalid",lt.isInvalid)("ng-pending",lt.isPending)("ng-submitted",lt.isSubmitted)},features:[M.\u0275\u0275InheritDefinitionFeature]})}return he})();const ji="VALID",io="INVALID",gs="PENDING",Ss="DISABLED";function ro(he){return(ze(he)?he.validators:he)||null}function Gt(he,_e){return(ze(_e)?_e.asyncValidators:he)||null}function ze(he){return null!=he&&!Array.isArray(he)&&"object"==typeof he}function ct(he,_e,re){const Ae=he.controls;if(!(_e?Object.keys(Ae):Ae).length)throw new M.\u0275RuntimeError(1e3,"");if(!Ae[re])throw new M.\u0275RuntimeError(1001,"")}function Wt(he,_e,re){he._forEachChild((Ae,lt)=>{if(void 0===re[lt])throw new M.\u0275RuntimeError(1002,"")})}class Qn{constructor(_e,re){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(_e),this._assignAsyncValidators(re)}get validator(){return this._composedValidatorFn}set validator(_e){this._rawValidators=this._composedValidatorFn=_e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(_e){this._rawAsyncValidators=this._composedAsyncValidatorFn=_e}get parent(){return this._parent}get valid(){return this.status===ji}get invalid(){return this.status===io}get pending(){return this.status==gs}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(_e){this._assignValidators(_e)}setAsyncValidators(_e){this._assignAsyncValidators(_e)}addValidators(_e){this.setValidators(et(_e,this._rawValidators))}addAsyncValidators(_e){this.setAsyncValidators(et(_e,this._rawAsyncValidators))}removeValidators(_e){this.setValidators(Dt(_e,this._rawValidators))}removeAsyncValidators(_e){this.setAsyncValidators(Dt(_e,this._rawAsyncValidators))}hasValidator(_e){return dt(this._rawValidators,_e)}hasAsyncValidator(_e){return dt(this._rawAsyncValidators,_e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(_e={}){this.touched=!0,this._parent&&!_e.onlySelf&&this._parent.markAsTouched(_e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(_e=>_e.markAllAsTouched())}markAsUntouched(_e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(re=>{re.markAsUntouched({onlySelf:!0})}),this._parent&&!_e.onlySelf&&this._parent._updateTouched(_e)}markAsDirty(_e={}){this.pristine=!1,this._parent&&!_e.onlySelf&&this._parent.markAsDirty(_e)}markAsPristine(_e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(re=>{re.markAsPristine({onlySelf:!0})}),this._parent&&!_e.onlySelf&&this._parent._updatePristine(_e)}markAsPending(_e={}){this.status=gs,!1!==_e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!_e.onlySelf&&this._parent.markAsPending(_e)}disable(_e={}){const re=this._parentMarkedDirty(_e.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(Ae=>{Ae.disable({..._e,onlySelf:!0})}),this._updateValue(),!1!==_e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({..._e,skipPristineCheck:re}),this._onDisabledChange.forEach(Ae=>Ae(!0))}enable(_e={}){const re=this._parentMarkedDirty(_e.onlySelf);this.status=ji,this._forEachChild(Ae=>{Ae.enable({..._e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:_e.emitEvent}),this._updateAncestors({..._e,skipPristineCheck:re}),this._onDisabledChange.forEach(Ae=>Ae(!1))}_updateAncestors(_e){this._parent&&!_e.onlySelf&&(this._parent.updateValueAndValidity(_e),_e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(_e){this._parent=_e}getRawValue(){return this.value}updateValueAndValidity(_e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ji||this.status===gs)&&this._runAsyncValidator(_e.emitEvent)),!1!==_e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!_e.onlySelf&&this._parent.updateValueAndValidity(_e)}_updateTreeValidity(_e={emitEvent:!0}){this._forEachChild(re=>re._updateTreeValidity(_e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:_e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:ji}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(_e){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator=!0;const re=Ut(this.asyncValidator(this));this._asyncValidationSubscription=re.subscribe(Ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ae,{emitEvent:_e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(_e,re={}){this.errors=_e,this._updateControlsErrors(!1!==re.emitEvent)}get(_e){let re=_e;return null==re||(Array.isArray(re)||(re=re.split(".")),0===re.length)?null:re.reduce((Ae,lt)=>Ae&&Ae._find(lt),this)}getError(_e,re){const Ae=re?this.get(re):this;return Ae&&Ae.errors?Ae.errors[_e]:null}hasError(_e,re){return!!this.getError(_e,re)}get root(){let _e=this;for(;_e._parent;)_e=_e._parent;return _e}_updateControlsErrors(_e){this.status=this._calculateStatus(),_e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(_e)}_initObservables(){this.valueChanges=new M.EventEmitter,this.statusChanges=new M.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?io:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(io)?io:ji}_anyControlsHaveStatus(_e){return this._anyControls(re=>re.status===_e)}_anyControlsDirty(){return this._anyControls(_e=>_e.dirty)}_anyControlsTouched(){return this._anyControls(_e=>_e.touched)}_updatePristine(_e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!_e.onlySelf&&this._parent._updatePristine(_e)}_updateTouched(_e={}){this.touched=this._anyControlsTouched(),this._parent&&!_e.onlySelf&&this._parent._updateTouched(_e)}_registerOnCollectionChange(_e){this._onCollectionChange=_e}_setUpdateStrategy(_e){ze(_e)&&null!=_e.updateOn&&(this._updateOn=_e.updateOn)}_parentMarkedDirty(_e){return!_e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(_e){return null}_assignValidators(_e){this._rawValidators=Array.isArray(_e)?_e.slice():_e,this._composedValidatorFn=function Ls(he){return Array.isArray(he)?to(he):he||null}(this._rawValidators)}_assignAsyncValidators(_e){this._rawAsyncValidators=Array.isArray(_e)?_e.slice():_e,this._composedAsyncValidatorFn=function Bt(he){return Array.isArray(he)?wi(he):he||null}(this._rawAsyncValidators)}}class di extends Qn{constructor(_e,re,Ae){super(ro(re),Gt(Ae,re)),this.controls=_e,this._initObservables(),this._setUpdateStrategy(re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(_e,re){return this.controls[_e]?this.controls[_e]:(this.controls[_e]=re,re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange),re)}addControl(_e,re,Ae={}){this.registerControl(_e,re),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}removeControl(_e,re={}){this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),delete this.controls[_e],this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}setControl(_e,re,Ae={}){this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),delete this.controls[_e],re&&this.registerControl(_e,re),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}contains(_e){return this.controls.hasOwnProperty(_e)&&this.controls[_e].enabled}setValue(_e,re={}){Wt(this,0,_e),Object.keys(_e).forEach(Ae=>{ct(this,!0,Ae),this.controls[Ae].setValue(_e[Ae],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re)}patchValue(_e,re={}){null!=_e&&(Object.keys(_e).forEach(Ae=>{const lt=this.controls[Ae];lt&&lt.patchValue(_e[Ae],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re))}reset(_e={},re={}){this._forEachChild((Ae,lt)=>{Ae.reset(_e?_e[lt]:null,{onlySelf:!0,emitEvent:re.emitEvent})}),this._updatePristine(re),this._updateTouched(re),this.updateValueAndValidity(re)}getRawValue(){return this._reduceChildren({},(_e,re,Ae)=>(_e[Ae]=re.getRawValue(),_e))}_syncPendingControls(){let _e=this._reduceChildren(!1,(re,Ae)=>!!Ae._syncPendingControls()||re);return _e&&this.updateValueAndValidity({onlySelf:!0}),_e}_forEachChild(_e){Object.keys(this.controls).forEach(re=>{const Ae=this.controls[re];Ae&&_e(Ae,re)})}_setUpControls(){this._forEachChild(_e=>{_e.setParent(this),_e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(_e){for(const[re,Ae]of Object.entries(this.controls))if(this.contains(re)&&_e(Ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(re,Ae,lt)=>((Ae.enabled||this.disabled)&&(re[lt]=Ae.value),re))}_reduceChildren(_e,re){let Ae=_e;return this._forEachChild((lt,li)=>{Ae=re(Ae,lt,li)}),Ae}_allControlsDisabled(){for(const _e of Object.keys(this.controls))if(this.controls[_e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(_e){return this.controls.hasOwnProperty(_e)?this.controls[_e]:null}}const br=di,jr=he=>he instanceof di;class es extends di{}const cs=he=>he instanceof es,Zi=new M.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>ha}),ha="always";function ko(he,_e){return[..._e.path,he]}function Gr(he,_e,re=ha){Pt(he,_e),_e.valueAccessor.writeValue(he.value),(he.disabled||"always"===re)&&_e.valueAccessor.setDisabledState?.(he.disabled),function bn(he,_e){_e.valueAccessor.registerOnChange(re=>{he._pendingValue=re,he._pendingChange=!0,he._pendingDirty=!0,"change"===he.updateOn&&Ri(he,_e)})}(he,_e),function fi(he,_e){const re=(Ae,lt)=>{_e.valueAccessor.writeValue(Ae),lt&&_e.viewToModelUpdate(Ae)};he.registerOnChange(re),_e._registerOnDestroy(()=>{he._unregisterOnChange(re)})}(he,_e),function Fn(he,_e){_e.valueAccessor.registerOnTouched(()=>{he._pendingTouched=!0,"blur"===he.updateOn&&he._pendingChange&&Ri(he,_e),"submit"!==he.updateOn&&he.markAsTouched()})}(he,_e),function nt(he,_e){if(_e.valueAccessor.setDisabledState){const re=Ae=>{_e.valueAccessor.setDisabledState(Ae)};he.registerOnDisabledChange(re),_e._registerOnDestroy(()=>{he._unregisterOnDisabledChange(re)})}}(he,_e)}function ht(he,_e,re=!0){const Ae=()=>{};_e.valueAccessor&&(_e.valueAccessor.registerOnChange(Ae),_e.valueAccessor.registerOnTouched(Ae)),vn(he,_e),he&&(_e._invokeOnDestroyCallbacks(),he._registerOnCollectionChange(()=>{}))}function ut(he,_e){he.forEach(re=>{re.registerOnValidatorChange&&re.registerOnValidatorChange(_e)})}function Pt(he,_e){const re=Ai(he);null!==_e.validator?he.setValidators(_r(re,_e.validator)):"function"==typeof re&&he.setValidators([re]);const Ae=Yr(he);null!==_e.asyncValidator?he.setAsyncValidators(_r(Ae,_e.asyncValidator)):"function"==typeof Ae&&he.setAsyncValidators([Ae]);const lt=()=>he.updateValueAndValidity();ut(_e._rawValidators,lt),ut(_e._rawAsyncValidators,lt)}function vn(he,_e){let re=!1;if(null!==he){if(null!==_e.validator){const lt=Ai(he);if(Array.isArray(lt)&&lt.length>0){const li=lt.filter(mi=>mi!==_e.validator);li.length!==lt.length&&(re=!0,he.setValidators(li))}}if(null!==_e.asyncValidator){const lt=Yr(he);if(Array.isArray(lt)&&lt.length>0){const li=lt.filter(mi=>mi!==_e.asyncValidator);li.length!==lt.length&&(re=!0,he.setAsyncValidators(li))}}}const Ae=()=>{};return ut(_e._rawValidators,Ae),ut(_e._rawAsyncValidators,Ae),re}function Ri(he,_e){he._pendingDirty&&he.markAsDirty(),he.setValue(he._pendingValue,{emitModelToViewChange:!1}),_e.viewToModelUpdate(he._pendingValue),he._pendingChange=!1}function Mr(he,_e){Pt(he,_e)}function Ir(he,_e){if(!he.hasOwnProperty("model"))return!1;const re=he.model;return!!re.isFirstChange()||!Object.is(_e,re.currentValue)}function Rs(he,_e){he._syncPendingControls(),_e.forEach(re=>{const Ae=re.control;"submit"===Ae.updateOn&&Ae._pendingChange&&(re.viewToModelUpdate(Ae._pendingValue),Ae._pendingChange=!1)})}function Di(he,_e){if(!_e)return null;let re,Ae,lt;return Array.isArray(_e),_e.forEach(li=>{li.constructor===Ee?re=li:function Ts(he){return Object.getPrototypeOf(he.constructor)===q}(li)?Ae=li:lt=li}),lt||Ae||re||null}const Qs={provide:cn,useExisting:(0,M.forwardRef)(()=>aa)},ss=(()=>Promise.resolve())();let aa=(()=>{class he extends cn{constructor(re,Ae,lt){super(),this.callSetDisabledState=lt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new M.EventEmitter,this.form=new di({},to(re),wi(Ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(re){ss.then(()=>{const Ae=this._findContainer(re.path);re.control=Ae.registerControl(re.name,re.control),Gr(re.control,re,this.callSetDisabledState),re.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(re)})}getControl(re){return this.form.get(re.path)}removeControl(re){ss.then(()=>{const Ae=this._findContainer(re.path);Ae&&Ae.removeControl(re.name),this._directives.delete(re)})}addFormGroup(re){ss.then(()=>{const Ae=this._findContainer(re.path),lt=new di({});Mr(lt,re),Ae.registerControl(re.name,lt),lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(re){ss.then(()=>{const Ae=this._findContainer(re.path);Ae&&Ae.removeControl(re.name)})}getFormGroup(re){return this.form.get(re.path)}updateModel(re,Ae){ss.then(()=>{this.form.get(re.path).setValue(Ae)})}setValue(re){this.control.setValue(re)}onSubmit(re){return this.submitted=!0,Rs(this.form,this._directives),this.ngSubmit.emit(re),"dialog"===re?.target?.method}onReset(){this.resetForm()}resetForm(re=void 0){this.form.reset(re),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(re){return re.pop(),re.length?this.form.get(re):this.form}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10),M.\u0275\u0275directiveInject(Zi,8))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("submit",function(mi){return lt.onSubmit(mi)})("reset",function(){return lt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M.\u0275\u0275ProvidersFeature([Qs]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();function vs(he,_e){const re=he.indexOf(_e);re>-1&&he.splice(re,1)}function pa(he){return"object"==typeof he&&null!==he&&2===Object.keys(he).length&&"value"in he&&"disabled"in he}const Uo=class extends Qn{constructor(_e=null,re,Ae){super(ro(re),Gt(Ae,re)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(_e),this._setUpdateStrategy(re),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ze(re)&&(re.nonNullable||re.initialValueIsDefault)&&(this.defaultValue=pa(_e)?_e.value:_e)}setValue(_e,re={}){this.value=this._pendingValue=_e,this._onChange.length&&!1!==re.emitModelToViewChange&&this._onChange.forEach(Ae=>Ae(this.value,!1!==re.emitViewToModelChange)),this.updateValueAndValidity(re)}patchValue(_e,re={}){this.setValue(_e,re)}reset(_e=this.defaultValue,re={}){this._applyFormState(_e),this.markAsPristine(re),this.markAsUntouched(re),this.setValue(this.value,re),this._pendingChange=!1}_updateValue(){}_anyControls(_e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(_e){this._onChange.push(_e)}_unregisterOnChange(_e){vs(this._onChange,_e)}registerOnDisabledChange(_e){this._onDisabledChange.push(_e)}_unregisterOnDisabledChange(_e){vs(this._onDisabledChange,_e)}_forEachChild(_e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(_e){pa(_e)?(this.value=this._pendingValue=_e.value,_e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=_e}},tl=Uo,ks=he=>he instanceof Uo;let er=(()=>{class he extends cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ko(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,features:[M.\u0275\u0275InheritDefinitionFeature]})}return he})();const El={provide:cn,useExisting:(0,M.forwardRef)(()=>Us)};let Us=(()=>{class he extends er{constructor(re,Ae,lt){super(),this.name="",this._parent=re,this._setValidators(Ae),this._setAsyncValidators(lt)}_checkParentType(){}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,5),M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[M.\u0275\u0275ProvidersFeature([El]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const fl={provide:tn,useExisting:(0,M.forwardRef)(()=>mr)},nl=(()=>Promise.resolve())();let mr=(()=>{class he extends tn{constructor(re,Ae,lt,li,mi,lr){super(),this._changeDetectorRef=mi,this.callSetDisabledState=lr,this.control=new Uo,this._registered=!1,this.name="",this.update=new M.EventEmitter,this._parent=re,this._setValidators(Ae),this._setAsyncValidators(lt),this.valueAccessor=Di(0,li)}ngOnChanges(re){if(this._checkForErrors(),!this._registered||"name"in re){if(this._registered&&(this._checkName(),this.formDirective)){const Ae=re.name.previousValue;this.formDirective.removeControl({name:Ae,path:this._getPath(Ae)})}this._setUpControl()}"isDisabled"in re&&this._updateDisabled(re),Ir(re,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(re){this.viewModel=re,this.update.emit(re)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(re){nl.then(()=>{this.control.setValue(re,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(re){const Ae=re.isDisabled.currentValue,lt=0!==Ae&&(0,M.booleanAttribute)(Ae);nl.then(()=>{lt&&!this.control.disabled?this.control.disable():!lt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(re){return this._parent?ko(re,this._parent):[re]}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,9),M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10),M.\u0275\u0275directiveInject(de,10),M.\u0275\u0275directiveInject(M.ChangeDetectorRef,8),M.\u0275\u0275directiveInject(Zi,8))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M.\u0275\u0275ProvidersFeature([fl]),M.\u0275\u0275InheritDefinitionFeature,M.\u0275\u0275NgOnChangesFeature]})}return he})(),qs=(()=>{class he{static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return he})();const ea={provide:de,useExisting:(0,M.forwardRef)(()=>Nr),multi:!0};let Nr=(()=>{class he extends q{writeValue(re){this.setProperty("value",re??"")}registerOnChange(re){this.onChange=Ae=>{re(""==Ae?null:parseFloat(Ae))}}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("input",function(mi){return lt.onChange(mi.target.value)})("blur",function(){return lt.onTouched()})},features:[M.\u0275\u0275ProvidersFeature([ea]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Sa={provide:de,useExisting:(0,M.forwardRef)(()=>vl),multi:!0};let Oa=(()=>{class he{static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:he});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({})}return he})(),so=(()=>{class he{constructor(){this._accessors=[]}add(re,Ae){this._accessors.push([re,Ae])}remove(re){for(let Ae=this._accessors.length-1;Ae>=0;--Ae)if(this._accessors[Ae][1]===re)return void this._accessors.splice(Ae,1)}select(re){this._accessors.forEach(Ae=>{this._isSameGroup(Ae,re)&&Ae[1]!==re&&Ae[1].fireUncheck(re.value)})}_isSameGroup(re,Ae){return!!re[0].control&&re[0]._parent===Ae._control._parent&&re[1].name===Ae.name}static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:Oa})}return he})(),vl=(()=>{class he extends q{constructor(re,Ae,lt,li){super(re,Ae),this._registry=lt,this._injector=li,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,M.inject)(Zi,{optional:!0})??ha}ngOnInit(){this._control=this._injector.get(tn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(re){this._state=re===this.value,this.setProperty("checked",this._state)}registerOnChange(re){this._fn=re,this.onChange=()=>{re(this.value),this._registry.select(this)}}setDisabledState(re){(this.setDisabledStateFired||re||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",re),this.setDisabledStateFired=!0}fireUncheck(re){this.writeValue(re)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(so),M.\u0275\u0275directiveInject(M.Injector))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("change",function(){return lt.onChange()})("blur",function(){return lt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[M.\u0275\u0275ProvidersFeature([Sa]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Ka={provide:de,useExisting:(0,M.forwardRef)(()=>ta),multi:!0};let ta=(()=>{class he extends q{writeValue(re){this.setProperty("value",parseFloat(re))}registerOnChange(re){this.onChange=Ae=>{re(""==Ae?null:parseFloat(Ae))}}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("change",function(mi){return lt.onChange(mi.target.value)})("input",function(mi){return lt.onChange(mi.target.value)})("blur",function(){return lt.onTouched()})},features:[M.\u0275\u0275ProvidersFeature([Ka]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Jo=new M.InjectionToken("NgModelWithFormControlWarning"),Ga={provide:tn,useExisting:(0,M.forwardRef)(()=>Hr)};let Hr=(()=>{class he extends tn{set isDisabled(re){}static#e=this._ngModelWarningSentOnce=!1;constructor(re,Ae,lt,li,mi){super(),this._ngModelWarningConfig=li,this.callSetDisabledState=mi,this.update=new M.EventEmitter,this._ngModelWarningSent=!1,this._setValidators(re),this._setAsyncValidators(Ae),this.valueAccessor=Di(0,lt)}ngOnChanges(re){if(this._isControlChanged(re)){const Ae=re.form.previousValue;Ae&&ht(Ae,this,!1),Gr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ir(re,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ht(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(re){this.viewModel=re,this.update.emit(re)}_isControlChanged(re){return re.hasOwnProperty("form")}static#t=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10),M.\u0275\u0275directiveInject(de,10),M.\u0275\u0275directiveInject(Jo,8),M.\u0275\u0275directiveInject(Zi,8))};static#n=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[M.\u0275\u0275ProvidersFeature([Ga]),M.\u0275\u0275InheritDefinitionFeature,M.\u0275\u0275NgOnChangesFeature]})}return he})();const jo={provide:cn,useExisting:(0,M.forwardRef)(()=>Er)};let Er=(()=>{class he extends cn{constructor(re,Ae,lt){super(),this.callSetDisabledState=lt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M.EventEmitter,this._setValidators(re),this._setAsyncValidators(Ae)}ngOnChanges(re){this._checkFormPresent(),re.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(re){const Ae=this.form.get(re.path);return Gr(Ae,re,this.callSetDisabledState),Ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(re),Ae}getControl(re){return this.form.get(re.path)}removeControl(re){ht(re.control||null,re,!1),function ts(he,_e){const re=he.indexOf(_e);re>-1&&he.splice(re,1)}(this.directives,re)}addFormGroup(re){this._setUpFormContainer(re)}removeFormGroup(re){this._cleanUpFormContainer(re)}getFormGroup(re){return this.form.get(re.path)}addFormArray(re){this._setUpFormContainer(re)}removeFormArray(re){this._cleanUpFormContainer(re)}getFormArray(re){return this.form.get(re.path)}updateModel(re,Ae){this.form.get(re.path).setValue(Ae)}onSubmit(re){return this.submitted=!0,Rs(this.form,this.directives),this.ngSubmit.emit(re),"dialog"===re?.target?.method}onReset(){this.resetForm()}resetForm(re=void 0){this.form.reset(re),this.submitted=!1}_updateDomValue(){this.directives.forEach(re=>{const Ae=re.control,lt=this.form.get(re.path);Ae!==lt&&(ht(Ae||null,re),ks(lt)&&(Gr(lt,re,this.callSetDisabledState),re.control=lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(re){const Ae=this.form.get(re.path);Mr(Ae,re),Ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(re){if(this.form){const Ae=this.form.get(re.path);Ae&&function ho(he,_e){return vn(he,_e)}(Ae,re)&&Ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pt(this.form,this),this._oldForm&&vn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10),M.\u0275\u0275directiveInject(Zi,8))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formGroup",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("submit",function(mi){return lt.onSubmit(mi)})("reset",function(){return lt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M.\u0275\u0275ProvidersFeature([jo]),M.\u0275\u0275InheritDefinitionFeature,M.\u0275\u0275NgOnChangesFeature]})}return he})();const na={provide:cn,useExisting:(0,M.forwardRef)(()=>as)};let as=(()=>{class he extends er{constructor(re,Ae,lt){super(),this.name=null,this._parent=re,this._setValidators(Ae),this._setAsyncValidators(lt)}_checkParentType(){xa(this._parent)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,13),M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[M.\u0275\u0275ProvidersFeature([na]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const ls={provide:cn,useExisting:(0,M.forwardRef)(()=>Va)};let Va=(()=>{class he extends cn{constructor(re,Ae,lt){super(),this.name=null,this._parent=re,this._setValidators(Ae),this._setAsyncValidators(lt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ko(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){xa(this._parent)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,13),M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[M.\u0275\u0275ProvidersFeature([ls]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();function xa(he){return!(he instanceof as||he instanceof Er||he instanceof Va)}const Ws={provide:tn,useExisting:(0,M.forwardRef)(()=>ma)};let ma=(()=>{class he extends tn{set isDisabled(re){}static#e=this._ngModelWarningSentOnce=!1;constructor(re,Ae,lt,li,mi){super(),this._ngModelWarningConfig=mi,this._added=!1,this.name=null,this.update=new M.EventEmitter,this._ngModelWarningSent=!1,this._parent=re,this._setValidators(Ae),this._setAsyncValidators(lt),this.valueAccessor=Di(0,li)}ngOnChanges(re){this._added||this._setUpControl(),Ir(re,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(re){this.viewModel=re,this.update.emit(re)}get path(){return ko(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(cn,13),M.\u0275\u0275directiveInject(je,10),M.\u0275\u0275directiveInject(be,10),M.\u0275\u0275directiveInject(de,10),M.\u0275\u0275directiveInject(Jo,8))};static#n=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[M.\u0275\u0275ProvidersFeature([Ws]),M.\u0275\u0275InheritDefinitionFeature,M.\u0275\u0275NgOnChangesFeature]})}return he})();const Lr={provide:de,useExisting:(0,M.forwardRef)(()=>po),multi:!0};function Sn(he,_e){return null==he?`${_e}`:(_e&&"object"==typeof _e&&(_e="Object"),`${he}: ${_e}`.slice(0,50))}let po=(()=>{class he extends q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(re){this._compareWith=re}writeValue(re){this.value=re;const lt=Sn(this._getOptionId(re),re);this.setProperty("value",lt)}registerOnChange(re){this.onChange=Ae=>{this.value=this._getOptionValue(Ae),re(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(re){for(const Ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ae),re))return Ae;return null}_getOptionValue(re){const Ae=function tr(he){return he.split(":")[0]}(re);return this._optionMap.has(Ae)?this._optionMap.get(Ae):re}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("change",function(mi){return lt.onChange(mi.target.value)})("blur",function(){return lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[M.\u0275\u0275ProvidersFeature([Lr]),M.\u0275\u0275InheritDefinitionFeature]})}return he})(),la=(()=>{class he{constructor(re,Ae,lt){this._element=re,this._renderer=Ae,this._select=lt,this._select&&(this.id=this._select._registerOption())}set ngValue(re){null!=this._select&&(this._select._optionMap.set(this.id,re),this._setElementValue(Sn(this.id,re)),this._select.writeValue(this._select.value))}set value(re){this._setElementValue(re),this._select&&this._select.writeValue(this._select.value)}_setElementValue(re){this._renderer.setProperty(this._element.nativeElement,"value",re)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(po,9))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return he})();const Ol={provide:de,useExisting:(0,M.forwardRef)(()=>sr),multi:!0};function ys(he,_e){return null==he?`${_e}`:("string"==typeof _e&&(_e=`'${_e}'`),_e&&"object"==typeof _e&&(_e="Object"),`${he}: ${_e}`.slice(0,50))}let sr=(()=>{class he extends q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(re){this._compareWith=re}writeValue(re){let Ae;if(this.value=re,Array.isArray(re)){const lt=re.map(li=>this._getOptionId(li));Ae=(li,mi)=>{li._setSelected(lt.indexOf(mi.toString())>-1)}}else Ae=(lt,li)=>{lt._setSelected(!1)};this._optionMap.forEach(Ae)}registerOnChange(re){this.onChange=Ae=>{const lt=[],li=Ae.selectedOptions;if(void 0!==li){const mi=li;for(let lr=0;lr<mi.length;lr++){const xs=this._getOptionValue(mi[lr].value);lt.push(xs)}}else{const mi=Ae.options;for(let lr=0;lr<mi.length;lr++){const ca=mi[lr];if(ca.selected){const xs=this._getOptionValue(ca.value);lt.push(xs)}}}this.value=lt,re(lt)}}_registerOption(re){const Ae=(this._idCounter++).toString();return this._optionMap.set(Ae,re),Ae}_getOptionId(re){for(const Ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ae)._value,re))return Ae;return null}_getOptionValue(re){const Ae=function rl(he){return he.split(":")[0]}(re);return this._optionMap.has(Ae)?this._optionMap.get(Ae)._value:re}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ae,lt){1&Ae&&M.\u0275\u0275listener("change",function(mi){return lt.onChange(mi.target)})("blur",function(){return lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[M.\u0275\u0275ProvidersFeature([Ol]),M.\u0275\u0275InheritDefinitionFeature]})}return he})(),ao=(()=>{class he{constructor(re,Ae,lt){this._element=re,this._renderer=Ae,this._select=lt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(re){null!=this._select&&(this._value=re,this._setElementValue(ys(this.id,re)),this._select.writeValue(this._select.value))}set value(re){this._select?(this._value=re,this._setElementValue(ys(this.id,re)),this._select.writeValue(this._select.value)):this._setElementValue(re)}_setElementValue(re){this._renderer.setProperty(this._element.nativeElement,"value",re)}_setSelected(re){this._renderer.setProperty(this._element.nativeElement,"selected",re)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Ae){return new(Ae||he)(M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(sr,9))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return he})();function Hi(he){return"number"==typeof he?he:parseInt(he,10)}function Xl(he){return"number"==typeof he?he:parseFloat(he)}let $s=(()=>{class he{constructor(){this._validator=Lt}ngOnChanges(re){if(this.inputName in re){const Ae=this.normalizeInput(re[this.inputName].currentValue);this._enabled=this.enabled(Ae),this._validator=this._enabled?this.createValidator(Ae):Lt,this._onChange&&this._onChange()}}validate(re){return this._validator(re)}registerOnValidatorChange(re){this._onChange=re}enabled(re){return null!=re}static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,features:[M.\u0275\u0275NgOnChangesFeature]})}return he})();const Ja={provide:je,useExisting:(0,M.forwardRef)(()=>$o),multi:!0};let $o=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=re=>Xl(re),this.createValidator=re=>_t(re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("max",lt._enabled?lt.max:null)},inputs:{max:"max"},features:[M.\u0275\u0275ProvidersFeature([Ja]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Rl={provide:je,useExisting:(0,M.forwardRef)(()=>ol),multi:!0};let ol=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=re=>Xl(re),this.createValidator=re=>Nt(re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("min",lt._enabled?lt.min:null)},inputs:{min:"min"},features:[M.\u0275\u0275ProvidersFeature([Rl]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const dr={provide:je,useExisting:(0,M.forwardRef)(()=>Fl),multi:!0},hl={provide:je,useExisting:(0,M.forwardRef)(()=>Ra),multi:!0};let Fl=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=M.booleanAttribute,this.createValidator=re=>en}enabled(re){return re}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("required",lt._enabled?"":null)},inputs:{required:"required"},features:[M.\u0275\u0275ProvidersFeature([dr]),M.\u0275\u0275InheritDefinitionFeature]})}return he})(),Ra=(()=>{class he extends Fl{constructor(){super(...arguments),this.createValidator=re=>rn}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("required",lt._enabled?"":null)},features:[M.\u0275\u0275ProvidersFeature([hl]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const wl={provide:je,useExisting:(0,M.forwardRef)(()=>Xs),multi:!0};let Xs=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=M.booleanAttribute,this.createValidator=re=>an}enabled(re){return re}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[M.\u0275\u0275ProvidersFeature([wl]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const pl={provide:je,useExisting:(0,M.forwardRef)(()=>Kr),multi:!0};let Kr=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=re=>Hi(re),this.createValidator=re=>xt(re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("minlength",lt._enabled?lt.minlength:null)},inputs:{minlength:"minlength"},features:[M.\u0275\u0275ProvidersFeature([pl]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const Yl={provide:je,useExisting:(0,M.forwardRef)(()=>Zl),multi:!0};let Zl=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=re=>Hi(re),this.createValidator=re=>Zn(re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("maxlength",lt._enabled?lt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[M.\u0275\u0275ProvidersFeature([Yl]),M.\u0275\u0275InheritDefinitionFeature]})}return he})();const kt={provide:je,useExisting:(0,M.forwardRef)(()=>De),multi:!0};let De=(()=>{class he extends $s{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=re=>re,this.createValidator=re=>qi(re)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:he,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(Ae,lt){2&Ae&&M.\u0275\u0275attribute("pattern",lt._enabled?lt.pattern:null)},inputs:{pattern:"pattern"},features:[M.\u0275\u0275ProvidersFeature([kt]),M.\u0275\u0275InheritDefinitionFeature]})}return he})(),Et=(()=>{class he{static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:he});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({imports:[Oa]})}return he})();class fn extends Qn{constructor(_e,re,Ae){super(ro(re),Gt(Ae,re)),this.controls=_e,this._initObservables(),this._setUpdateStrategy(re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(_e){return this.controls[this._adjustIndex(_e)]}push(_e,re={}){this.controls.push(_e),this._registerControl(_e),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}insert(_e,re,Ae={}){this.controls.splice(_e,0,re),this._registerControl(re),this.updateValueAndValidity({emitEvent:Ae.emitEvent})}removeAt(_e,re={}){let Ae=this._adjustIndex(_e);Ae<0&&(Ae=0),this.controls[Ae]&&this.controls[Ae]._registerOnCollectionChange(()=>{}),this.controls.splice(Ae,1),this.updateValueAndValidity({emitEvent:re.emitEvent})}setControl(_e,re,Ae={}){let lt=this._adjustIndex(_e);lt<0&&(lt=0),this.controls[lt]&&this.controls[lt]._registerOnCollectionChange(()=>{}),this.controls.splice(lt,1),re&&(this.controls.splice(lt,0,re),this._registerControl(re)),this.updateValueAndValidity({emitEvent:Ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(_e,re={}){Wt(this,0,_e),_e.forEach((Ae,lt)=>{ct(this,!1,lt),this.at(lt).setValue(Ae,{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re)}patchValue(_e,re={}){null!=_e&&(_e.forEach((Ae,lt)=>{this.at(lt)&&this.at(lt).patchValue(Ae,{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re))}reset(_e=[],re={}){this._forEachChild((Ae,lt)=>{Ae.reset(_e[lt],{onlySelf:!0,emitEvent:re.emitEvent})}),this._updatePristine(re),this._updateTouched(re),this.updateValueAndValidity(re)}getRawValue(){return this.controls.map(_e=>_e.getRawValue())}clear(_e={}){this.controls.length<1||(this._forEachChild(re=>re._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:_e.emitEvent}))}_adjustIndex(_e){return _e<0?_e+this.length:_e}_syncPendingControls(){let _e=this.controls.reduce((re,Ae)=>!!Ae._syncPendingControls()||re,!1);return _e&&this.updateValueAndValidity({onlySelf:!0}),_e}_forEachChild(_e){this.controls.forEach((re,Ae)=>{_e(re,Ae)})}_updateValue(){this.value=this.controls.filter(_e=>_e.enabled||this.disabled).map(_e=>_e.value)}_anyControls(_e){return this.controls.some(re=>re.enabled&&_e(re))}_setUpControls(){this._forEachChild(_e=>this._registerControl(_e))}_allControlsDisabled(){for(const _e of this.controls)if(_e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(_e){_e.setParent(this),_e._registerOnCollectionChange(this._onCollectionChange)}_find(_e){return this.at(_e)??null}}const zt=fn,Xn=he=>he instanceof fn;function bi(he){return!!he&&(void 0!==he.asyncValidators||void 0!==he.validators||void 0!==he.updateOn)}let Jr=(()=>{class he{constructor(){this.useNonNullable=!1}get nonNullable(){const re=new he;return re.useNonNullable=!0,re}group(re,Ae=null){const lt=this._reduceControls(re);let li={};return bi(Ae)?li=Ae:null!==Ae&&(li.validators=Ae.validator,li.asyncValidators=Ae.asyncValidator),new di(lt,li)}record(re,Ae=null){const lt=this._reduceControls(re);return new es(lt,Ae)}control(re,Ae,lt){let li={};return this.useNonNullable?(bi(Ae)?li=Ae:(li.validators=Ae,li.asyncValidators=lt),new Uo(re,{...li,nonNullable:!0})):new Uo(re,Ae,lt)}array(re,Ae,lt){const li=re.map(mi=>this._createControl(mi));return new fn(li,Ae,lt)}_reduceControls(re){const Ae={};return Object.keys(re).forEach(lt=>{Ae[lt]=this._createControl(re[lt])}),Ae}_createControl(re){return re instanceof Uo||re instanceof Qn?re:Array.isArray(re)?this.control(re[0],re.length>1?re[1]:null,re.length>2?re[2]:null):this.control(re)}static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})(),$r=(()=>{class he{static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:he,factory:function(){return(0,M.inject)(Jr).nonNullable},providedIn:"root"})}return he})(),pi=(()=>{class he extends Jr{group(re,Ae=null){return super.group(re,Ae)}control(re,Ae,lt){return super.control(re,Ae,lt)}array(re,Ae,lt){return super.array(re,Ae,lt)}static#e=this.\u0275fac=function(){let re;return function(lt){return(re||(re=M.\u0275\u0275getInheritedFactory(he)))(lt||he)}}();static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();const nn=new M.Version("16.2.12");let gr=(()=>{class he{static withConfig(re){return{ngModule:he,providers:[{provide:Zi,useValue:re.callSetDisabledState??ha}]}}static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:he});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({imports:[Et]})}return he})(),Qo=(()=>{class he{static withConfig(re){return{ngModule:he,providers:[{provide:Jo,useValue:re.warnOnNgModelWithFormControl??"always"},{provide:Zi,useValue:re.callSetDisabledState??ha}]}}static#e=this.\u0275fac=function(Ae){return new(Ae||he)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:he});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({imports:[Et]})}return he})()},2614:()=>{"use strict";const Ge=":";const Ai=function(dt,...et){if(Ai.translate){const It=Ai.translate(dt,et);dt=It[0],et=It[1]}let Dt=Lo(dt[0],dt.raw[0]);for(let It=1;It<dt.length;It++)Dt+=et[It-1]+Lo(dt[It],dt.raw[It]);return Dt},Yr=":";function Lo(dt,et){return et.charAt(0)===Yr?dt.substring(function Rt(dt,et){for(let Dt=1,It=1;Dt<dt.length;Dt++,It++)if("\\"===et[It])It++;else if(dt[Dt]===Ge)return Dt;throw new Error(`Unterminated $localize metadata block in "${et}".`)}(dt,et)+1):dt}globalThis.$localize=Ai},6593:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{BrowserModule:()=>et,By:()=>So,DomSanitizer:()=>xi,EVENT_MANAGER_PLUGINS:()=>k,EventManager:()=>ne,HAMMER_GESTURE_CONFIG:()=>oo,HAMMER_LOADER:()=>ar,HammerGestureConfig:()=>xo,HammerModule:()=>Ns,Meta:()=>It,REMOVE_STYLES_ON_COMPONENT_DESTROY:()=>Ze,Title:()=>Br,TransferState:()=>Ls,VERSION:()=>Ss,bootstrapApplication:()=>In,createApplication:()=>_n,disableDebugTools:()=>Xi,enableDebugTools:()=>wo,makeStateKey:()=>ro,platformBrowser:()=>Ai,provideClientHydration:()=>gs,provideProtractorTestingSupport:()=>Pn,withNoDomReuse:()=>ki,withNoHttpTransferCache:()=>ji,\u0275BrowserDomAdapter:()=>R,\u0275BrowserGetTestability:()=>F,\u0275DomEventsPlugin:()=>qi,\u0275DomRendererFactory2:()=>bt,\u0275DomSanitizerImpl:()=>Ha,\u0275HammerGesturesPlugin:()=>zr,\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS:()=>_r,\u0275KeyEventsPlugin:()=>on,\u0275SharedStylesHost:()=>ge,\u0275getDOM:()=>K.\u0275getDOM,\u0275initDomAdapter:()=>to});var M=_(6689),K=_(6814),G=_(1474);class W extends K.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R extends W{static makeCurrent(){(0,K.\u0275setRootDomAdapter)(new R)}onAndCancel(Bt,ze,ct){return Bt.addEventListener(ze,ct),()=>{Bt.removeEventListener(ze,ct)}}dispatchEvent(Bt,ze){Bt.dispatchEvent(ze)}remove(Bt){Bt.parentNode&&Bt.parentNode.removeChild(Bt)}createElement(Bt,ze){return(ze=ze||this.getDefaultDocument()).createElement(Bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Bt){return Bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Bt){return Bt instanceof DocumentFragment}getGlobalEventTarget(Bt,ze){return"window"===ze?window:"document"===ze?Bt:"body"===ze?Bt.body:null}getBaseHref(Bt){const ze=function h(){return y=y||document.querySelector("base"),y?y.getAttribute("href"):null}();return null==ze?null:function P(Gt){E=E||document.createElement("a"),E.setAttribute("href",Gt);const Bt=E.pathname;return"/"===Bt.charAt(0)?Bt:`/${Bt}`}(ze)}resetBaseElement(){y=null}getUserAgent(){return window.navigator.userAgent}getCookie(Bt){return(0,K.\u0275parseCookieValue)(document.cookie,Bt)}}let E,y=null;class F{addToWindow(Bt){M.\u0275global.getAngularTestability=(ct,Wt=!0)=>{const Qn=Bt.findTestabilityInTree(ct,Wt);if(null==Qn)throw new M.\u0275RuntimeError(5103,!1);return Qn},M.\u0275global.getAllAngularTestabilities=()=>Bt.getAllTestabilities(),M.\u0275global.getAllAngularRootElements=()=>Bt.getAllRootElements(),M.\u0275global.frameworkStabilizers||(M.\u0275global.frameworkStabilizers=[]),M.\u0275global.frameworkStabilizers.push(ct=>{const Wt=M.\u0275global.getAllAngularTestabilities();let Qn=Wt.length,di=!1;const br=function(jr){di=di||jr,Qn--,0==Qn&&ct(di)};Wt.forEach(jr=>{jr.whenStable(br)})})}findTestabilityInTree(Bt,ze,ct){return null==ze?null:Bt.getTestability(ze)??(ct?(0,K.\u0275getDOM)().isShadowRoot(ze)?this.findTestabilityInTree(Bt,ze.host,!0):this.findTestabilityInTree(Bt,ze.parentElement,!0):null)}}let B=(()=>{class Gt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ct){return new(ct||Gt)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();const k=new M.InjectionToken("EventManagerPlugins");let ne=(()=>{class Gt{constructor(ze,ct){this._zone=ct,this._eventNameToPlugin=new Map,ze.forEach(Wt=>{Wt.manager=this}),this._plugins=ze.slice().reverse()}addEventListener(ze,ct,Wt){return this._findPluginFor(ct).addEventListener(ze,ct,Wt)}getZone(){return this._zone}_findPluginFor(ze){let ct=this._eventNameToPlugin.get(ze);if(ct)return ct;if(ct=this._plugins.find(Qn=>Qn.supports(ze)),!ct)throw new M.\u0275RuntimeError(5101,!1);return this._eventNameToPlugin.set(ze,ct),ct}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(k),M.\u0275\u0275inject(M.NgZone))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();class q{constructor(Bt){this._doc=Bt}}const de="ng-app-id";let ge=(()=>{class Gt{constructor(ze,ct,Wt,Qn={}){this.doc=ze,this.appId=ct,this.nonce=Wt,this.platformId=Qn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,K.isPlatformServer)(Qn),this.resetHostNodes()}addStyles(ze){for(const ct of ze)1===this.changeUsageCount(ct,1)&&this.onStyleAdded(ct)}removeStyles(ze){for(const ct of ze)this.changeUsageCount(ct,-1)<=0&&this.onStyleRemoved(ct)}ngOnDestroy(){const ze=this.styleNodesInDOM;ze&&(ze.forEach(ct=>ct.remove()),ze.clear());for(const ct of this.getAllStyles())this.onStyleRemoved(ct);this.resetHostNodes()}addHost(ze){this.hostNodes.add(ze);for(const ct of this.getAllStyles())this.addStyleToHost(ze,ct)}removeHost(ze){this.hostNodes.delete(ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ze){for(const ct of this.hostNodes)this.addStyleToHost(ct,ze)}onStyleRemoved(ze){const ct=this.styleRef;ct.get(ze)?.elements?.forEach(Wt=>Wt.remove()),ct.delete(ze)}collectServerRenderedStyles(){const ze=this.doc.head?.querySelectorAll(`style[${de}="${this.appId}"]`);if(ze?.length){const ct=new Map;return ze.forEach(Wt=>{null!=Wt.textContent&&ct.set(Wt.textContent,Wt)}),ct}return null}changeUsageCount(ze,ct){const Wt=this.styleRef;if(Wt.has(ze)){const Qn=Wt.get(ze);return Qn.usage+=ct,Qn.usage}return Wt.set(ze,{usage:ct,elements:[]}),ct}getStyleElement(ze,ct){const Wt=this.styleNodesInDOM,Qn=Wt?.get(ct);if(Qn?.parentNode===ze)return Wt.delete(ct),Qn.removeAttribute(de),Qn;{const di=this.doc.createElement("style");return this.nonce&&di.setAttribute("nonce",this.nonce),di.textContent=ct,this.platformIsServer&&di.setAttribute(de,this.appId),di}}addStyleToHost(ze,ct){const Wt=this.getStyleElement(ze,ct);ze.appendChild(Wt);const Qn=this.styleRef,di=Qn.get(ct)?.elements;di?di.push(Wt):Qn.set(ct,{elements:[Wt],usage:1})}resetHostNodes(){const ze=this.hostNodes;ze.clear(),ze.add(this.doc.head)}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT),M.\u0275\u0275inject(M.APP_ID),M.\u0275\u0275inject(M.CSP_NONCE,8),M.\u0275\u0275inject(M.PLATFORM_ID))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();const Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g,Ze=new M.InjectionToken("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function qe(Gt,Bt){return Bt.map(ze=>ze.replace(Qe,Gt))}let bt=(()=>{class Gt{constructor(ze,ct,Wt,Qn,di,br,jr,es=null){this.eventManager=ze,this.sharedStylesHost=ct,this.appId=Wt,this.removeStylesOnCompDestroy=Qn,this.doc=di,this.platformId=br,this.ngZone=jr,this.nonce=es,this.rendererByCompId=new Map,this.platformIsServer=(0,K.isPlatformServer)(br),this.defaultRenderer=new Nt(ze,di,jr,this.platformIsServer)}createRenderer(ze,ct){if(!ze||!ct)return this.defaultRenderer;this.platformIsServer&&ct.encapsulation===M.ViewEncapsulation.ShadowDom&&(ct={...ct,encapsulation:M.ViewEncapsulation.Emulated});const Wt=this.getOrCreateRenderer(ze,ct);return Wt instanceof Zn?Wt.applyToHost(ze):Wt instanceof xt&&Wt.applyStyles(),Wt}getOrCreateRenderer(ze,ct){const Wt=this.rendererByCompId;let Qn=Wt.get(ct.id);if(!Qn){const di=this.doc,br=this.ngZone,jr=this.eventManager,es=this.sharedStylesHost,cs=this.removeStylesOnCompDestroy,Zi=this.platformIsServer;switch(ct.encapsulation){case M.ViewEncapsulation.Emulated:Qn=new Zn(jr,es,ct,this.appId,cs,di,br,Zi);break;case M.ViewEncapsulation.ShadowDom:return new an(jr,es,ze,ct,di,br,this.nonce,Zi);default:Qn=new xt(jr,es,ct,cs,di,br,Zi)}Wt.set(ct.id,Qn)}return Qn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(ne),M.\u0275\u0275inject(ge),M.\u0275\u0275inject(M.APP_ID),M.\u0275\u0275inject(Ze),M.\u0275\u0275inject(K.DOCUMENT),M.\u0275\u0275inject(M.PLATFORM_ID),M.\u0275\u0275inject(M.NgZone),M.\u0275\u0275inject(M.CSP_NONCE))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();class Nt{constructor(Bt,ze,ct,Wt){this.eventManager=Bt,this.doc=ze,this.ngZone=ct,this.platformIsServer=Wt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Bt,ze){return ze?this.doc.createElementNS(Oe[ze]||ze,Bt):this.doc.createElement(Bt)}createComment(Bt){return this.doc.createComment(Bt)}createText(Bt){return this.doc.createTextNode(Bt)}appendChild(Bt,ze){(rn(Bt)?Bt.content:Bt).appendChild(ze)}insertBefore(Bt,ze,ct){Bt&&(rn(Bt)?Bt.content:Bt).insertBefore(ze,ct)}removeChild(Bt,ze){Bt&&Bt.removeChild(ze)}selectRootElement(Bt,ze){let ct="string"==typeof Bt?this.doc.querySelector(Bt):Bt;if(!ct)throw new M.\u0275RuntimeError(-5104,!1);return ze||(ct.textContent=""),ct}parentNode(Bt){return Bt.parentNode}nextSibling(Bt){return Bt.nextSibling}setAttribute(Bt,ze,ct,Wt){if(Wt){ze=Wt+":"+ze;const Qn=Oe[Wt];Qn?Bt.setAttributeNS(Qn,ze,ct):Bt.setAttribute(ze,ct)}else Bt.setAttribute(ze,ct)}removeAttribute(Bt,ze,ct){if(ct){const Wt=Oe[ct];Wt?Bt.removeAttributeNS(Wt,ze):Bt.removeAttribute(`${ct}:${ze}`)}else Bt.removeAttribute(ze)}addClass(Bt,ze){Bt.classList.add(ze)}removeClass(Bt,ze){Bt.classList.remove(ze)}setStyle(Bt,ze,ct,Wt){Wt&(M.RendererStyleFlags2.DashCase|M.RendererStyleFlags2.Important)?Bt.style.setProperty(ze,ct,Wt&M.RendererStyleFlags2.Important?"important":""):Bt.style[ze]=ct}removeStyle(Bt,ze,ct){ct&M.RendererStyleFlags2.DashCase?Bt.style.removeProperty(ze):Bt.style[ze]=""}setProperty(Bt,ze,ct){Bt[ze]=ct}setValue(Bt,ze){Bt.nodeValue=ze}listen(Bt,ze,ct){if("string"==typeof Bt&&!(Bt=(0,K.\u0275getDOM)().getGlobalEventTarget(this.doc,Bt)))throw new Error(`Unsupported event target ${Bt} for event ${ze}`);return this.eventManager.addEventListener(Bt,ze,this.decoratePreventDefault(ct))}decoratePreventDefault(Bt){return ze=>{if("__ngUnwrap__"===ze)return Bt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Bt(ze)):Bt(ze))&&ze.preventDefault()}}}function rn(Gt){return"TEMPLATE"===Gt.tagName&&void 0!==Gt.content}class an extends Nt{constructor(Bt,ze,ct,Wt,Qn,di,br,jr){super(Bt,Qn,di,jr),this.sharedStylesHost=ze,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const es=qe(Wt.id,Wt.styles);for(const cs of es){const Zi=document.createElement("style");br&&Zi.setAttribute("nonce",br),Zi.textContent=cs,this.shadowRoot.appendChild(Zi)}}nodeOrShadowRoot(Bt){return Bt===this.hostEl?this.shadowRoot:Bt}appendChild(Bt,ze){return super.appendChild(this.nodeOrShadowRoot(Bt),ze)}insertBefore(Bt,ze,ct){return super.insertBefore(this.nodeOrShadowRoot(Bt),ze,ct)}removeChild(Bt,ze){return super.removeChild(this.nodeOrShadowRoot(Bt),ze)}parentNode(Bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Bt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xt extends Nt{constructor(Bt,ze,ct,Wt,Qn,di,br,jr){super(Bt,Qn,di,br),this.sharedStylesHost=ze,this.removeStylesOnCompDestroy=Wt,this.styles=jr?qe(jr,ct.styles):ct.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Zn extends xt{constructor(Bt,ze,ct,Wt,Qn,di,br,jr){const es=Wt+"-"+ct.id;super(Bt,ze,ct,Qn,di,br,jr,es),this.contentAttr=function je(Gt){return"_ngcontent-%COMP%".replace(Qe,Gt)}(es),this.hostAttr=function be(Gt){return"_nghost-%COMP%".replace(Qe,Gt)}(es)}applyToHost(Bt){this.applyStyles(),this.setAttribute(Bt,this.hostAttr,"")}createElement(Bt,ze){const ct=super.createElement(Bt,ze);return super.setAttribute(ct,this.contentAttr,""),ct}}let qi=(()=>{class Gt extends q{constructor(ze){super(ze)}supports(ze){return!0}addEventListener(ze,ct,Wt){return ze.addEventListener(ct,Wt,!1),()=>this.removeEventListener(ze,ct,Wt)}removeEventListener(ze,ct,Wt){return ze.removeEventListener(ct,Wt)}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();const Lt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={alt:Gt=>Gt.altKey,control:Gt=>Gt.ctrlKey,meta:Gt=>Gt.metaKey,shift:Gt=>Gt.shiftKey};let on=(()=>{class Gt extends q{constructor(ze){super(ze)}supports(ze){return null!=Gt.parseEventName(ze)}addEventListener(ze,ct,Wt){const Qn=Gt.parseEventName(ct),di=Gt.eventCallback(Qn.fullKey,Wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,K.\u0275getDOM)().onAndCancel(ze,Qn.domEventName,di))}static parseEventName(ze){const ct=ze.toLowerCase().split("."),Wt=ct.shift();if(0===ct.length||"keydown"!==Wt&&"keyup"!==Wt)return null;const Qn=Gt._normalizeKey(ct.pop());let di="",br=ct.indexOf("code");if(br>-1&&(ct.splice(br,1),di="code."),Lt.forEach(es=>{const cs=ct.indexOf(es);cs>-1&&(ct.splice(cs,1),di+=es+".")}),di+=Qn,0!=ct.length||0===Qn.length)return null;const jr={};return jr.domEventName=Wt,jr.fullKey=di,jr}static matchEventFullKeyCode(ze,ct){let Wt=Rt[ze.key]||ze.key,Qn="";return ct.indexOf("code.")>-1&&(Wt=ze.code,Qn="code."),!(null==Wt||!Wt)&&(Wt=Wt.toLowerCase()," "===Wt?Wt="space":"."===Wt&&(Wt="dot"),Lt.forEach(di=>{di!==Wt&&(0,Ut[di])(ze)&&(Qn+=di+".")}),Qn+=Wt,Qn===ct)}static eventCallback(ze,ct,Wt){return Qn=>{Gt.matchEventFullKeyCode(Qn,ze)&&Wt.runGuarded(()=>ct(Qn))}}static _normalizeKey(ze){return"esc"===ze?"escape":ze}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})();function In(Gt,Bt){return(0,M.\u0275internalCreateApplication)({rootComponent:Gt,...$n(Bt)})}function _n(Gt){return(0,M.\u0275internalCreateApplication)($n(Gt))}function $n(Gt){return{appProviders:[...dt,...Gt?.providers??[]],platformProviders:_r}}function Pn(){return[...Lo]}function to(){R.makeCurrent()}const _r=[{provide:M.PLATFORM_ID,useValue:K.\u0275PLATFORM_BROWSER_ID},{provide:M.PLATFORM_INITIALIZER,useValue:to,multi:!0},{provide:K.DOCUMENT,useFactory:function wi(){return(0,M.\u0275setDocument)(document),document},deps:[]}],Ai=(0,M.createPlatformFactory)(M.platformCore,"browser",_r),Yr=new M.InjectionToken(""),Lo=[{provide:M.\u0275TESTABILITY_GETTER,useClass:F,deps:[]},{provide:M.\u0275TESTABILITY,useClass:M.Testability,deps:[M.NgZone,M.TestabilityRegistry,M.\u0275TESTABILITY_GETTER]},{provide:M.Testability,useClass:M.Testability,deps:[M.NgZone,M.TestabilityRegistry,M.\u0275TESTABILITY_GETTER]}],dt=[{provide:M.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:M.ErrorHandler,useFactory:function Gn(){return new M.ErrorHandler},deps:[]},{provide:k,useClass:qi,multi:!0,deps:[K.DOCUMENT,M.NgZone,M.PLATFORM_ID]},{provide:k,useClass:on,multi:!0,deps:[K.DOCUMENT]},bt,ge,ne,{provide:M.RendererFactory2,useExisting:bt},{provide:K.XhrFactory,useClass:B,deps:[]},[]];let et=(()=>{class Gt{constructor(ze){}static withServerTransition(ze){return{ngModule:Gt,providers:[{provide:M.APP_ID,useValue:ze.appId}]}}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(Yr,12))};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:Gt});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({providers:[...dt,...Lo],imports:[K.CommonModule,M.ApplicationModule]})}return Gt})(),It=(()=>{class Gt{constructor(ze){this._doc=ze,this._dom=(0,K.\u0275getDOM)()}addTag(ze,ct=!1){return ze?this._getOrCreateElement(ze,ct):null}addTags(ze,ct=!1){return ze?ze.reduce((Wt,Qn)=>(Qn&&Wt.push(this._getOrCreateElement(Qn,ct)),Wt),[]):[]}getTag(ze){return ze&&this._doc.querySelector(`meta[${ze}]`)||null}getTags(ze){if(!ze)return[];const ct=this._doc.querySelectorAll(`meta[${ze}]`);return ct?[].slice.call(ct):[]}updateTag(ze,ct){if(!ze)return null;ct=ct||this._parseSelector(ze);const Wt=this.getTag(ct);return Wt?this._setMetaElementAttributes(ze,Wt):this._getOrCreateElement(ze,!0)}removeTag(ze){this.removeTagElement(this.getTag(ze))}removeTagElement(ze){ze&&this._dom.remove(ze)}_getOrCreateElement(ze,ct=!1){if(!ct){const di=this._parseSelector(ze),br=this.getTags(di).filter(jr=>this._containsAttributes(ze,jr))[0];if(void 0!==br)return br}const Wt=this._dom.createElement("meta");return this._setMetaElementAttributes(ze,Wt),this._doc.getElementsByTagName("head")[0].appendChild(Wt),Wt}_setMetaElementAttributes(ze,ct){return Object.keys(ze).forEach(Wt=>ct.setAttribute(this._getMetaKeyMap(Wt),ze[Wt])),ct}_parseSelector(ze){const ct=ze.name?"name":"property";return`${ct}="${ze[ct]}"`}_containsAttributes(ze,ct){return Object.keys(ze).every(Wt=>ct.getAttribute(this._getMetaKeyMap(Wt))===ze[Wt])}_getMetaKeyMap(ze){return cn[ze]||ze}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:function(ct){let Wt=null;return Wt=ct?new ct:function Dt(){return new It((0,M.\u0275\u0275inject)(K.DOCUMENT))}(),Wt},providedIn:"root"})}return Gt})();const cn={httpEquiv:"http-equiv"};let Br=(()=>{class Gt{constructor(ze){this._doc=ze}getTitle(){return this._doc.title}setTitle(ze){this._doc.title=ze||""}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:function(ct){let Wt=null;return Wt=ct?new ct:function tn(){return new Br((0,M.\u0275\u0275inject)(K.DOCUMENT))}(),Wt},providedIn:"root"})}return Gt})();function zi(Gt,Bt){(typeof COMPILED>"u"||!COMPILED)&&((M.\u0275global.ng=M.\u0275global.ng||{})[Gt]=Bt)}const oi=typeof window<"u"&&window||{};class Rn{constructor(Bt,ze){this.msPerTick=Bt,this.numTicks=ze}}class ci{constructor(Bt){this.appRef=Bt.injector.get(M.ApplicationRef)}timeChangeDetection(Bt){const ze=Bt&&Bt.record,ct="Change Detection",Wt=null!=oi.console.profile;ze&&Wt&&oi.console.profile(ct);const Qn=Vr();let di=0;for(;di<5||Vr()-Qn<500;)this.appRef.tick(),di++;const br=Vr();ze&&Wt&&oi.console.profileEnd(ct);const jr=(br-Qn)/di;return oi.console.log(`ran ${di} change detection cycles`),oi.console.log(`${jr.toFixed(2)} ms per check`),new Rn(jr,di)}}function Vr(){return oi.performance&&oi.performance.now?oi.performance.now():(new Date).getTime()}const no="profiler";function wo(Gt){return zi(no,new ci(Gt)),Gt}function Xi(){zi(no,null)}class So{static all(){return()=>!0}static css(Bt){return ze=>null!=ze.nativeElement&&function zo(Gt,Bt){return!!(0,K.\u0275getDOM)().isElementNode(Gt)&&(Gt.matches&&Gt.matches(Bt)||Gt.msMatchesSelector&&Gt.msMatchesSelector(Bt)||Gt.webkitMatchesSelector&&Gt.webkitMatchesSelector(Bt))}(ze.nativeElement,Bt)}static directive(Bt){return ze=>-1!==ze.providerTokens.indexOf(Bt)}}const vi={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},oo=new M.InjectionToken("HammerGestureConfig"),ar=new M.InjectionToken("HammerLoader");let xo=(()=>{class Gt{constructor(){this.events=[],this.overrides={}}buildHammer(ze){const ct=new Hammer(ze,this.options);ct.get("pinch").set({enable:!0}),ct.get("rotate").set({enable:!0});for(const Wt in this.overrides)ct.get(Wt).set(this.overrides[Wt]);return ct}static#e=this.\u0275fac=function(ct){return new(ct||Gt)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})(),zr=(()=>{class Gt extends q{constructor(ze,ct,Wt,Qn){super(ze),this._config=ct,this.console=Wt,this.loader=Qn,this._loaderPromise=null}supports(ze){return!(!vi.hasOwnProperty(ze.toLowerCase())&&!this.isCustomEvent(ze)||!window.Hammer&&!this.loader)}addEventListener(ze,ct,Wt){const Qn=this.manager.getZone();if(ct=ct.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||Qn.runOutsideAngular(()=>this.loader());let di=!1,br=()=>{di=!0};return Qn.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?di||(br=this.addEventListener(ze,ct,Wt)):br=()=>{}}).catch(()=>{br=()=>{}})),()=>{br()}}return Qn.runOutsideAngular(()=>{const di=this._config.buildHammer(ze),br=function(jr){Qn.runGuarded(function(){Wt(jr)})};return di.on(ct,br),()=>{di.off(ct,br),"function"==typeof di.destroy&&di.destroy()}})}isCustomEvent(ze){return this._config.events.indexOf(ze)>-1}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT),M.\u0275\u0275inject(oo),M.\u0275\u0275inject(M.\u0275Console),M.\u0275\u0275inject(ar,8))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac})}return Gt})(),Ns=(()=>{class Gt{static#e=this.\u0275fac=function(ct){return new(ct||Gt)};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:Gt});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({providers:[{provide:k,useClass:zr,multi:!0,deps:[K.DOCUMENT,oo,M.\u0275Console,[new M.Optional,ar]]},{provide:oo,useClass:xo,deps:[]}]})}return Gt})(),xi=(()=>{class Gt{static#e=this.\u0275fac=function(ct){return new(ct||Gt)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:function(ct){let Wt=null;return Wt=ct?new(ct||Gt):M.\u0275\u0275inject(Ha),Wt},providedIn:"root"})}return Gt})(),Ha=(()=>{class Gt extends xi{constructor(ze){super(),this._doc=ze}sanitize(ze,ct){if(null==ct)return null;switch(ze){case M.SecurityContext.NONE:return ct;case M.SecurityContext.HTML:return(0,M.\u0275allowSanitizationBypassAndThrow)(ct,"HTML")?(0,M.\u0275unwrapSafeValue)(ct):(0,M.\u0275_sanitizeHtml)(this._doc,String(ct)).toString();case M.SecurityContext.STYLE:return(0,M.\u0275allowSanitizationBypassAndThrow)(ct,"Style")?(0,M.\u0275unwrapSafeValue)(ct):ct;case M.SecurityContext.SCRIPT:if((0,M.\u0275allowSanitizationBypassAndThrow)(ct,"Script"))return(0,M.\u0275unwrapSafeValue)(ct);throw new M.\u0275RuntimeError(5200,!1);case M.SecurityContext.URL:return(0,M.\u0275allowSanitizationBypassAndThrow)(ct,"URL")?(0,M.\u0275unwrapSafeValue)(ct):(0,M.\u0275_sanitizeUrl)(String(ct));case M.SecurityContext.RESOURCE_URL:if((0,M.\u0275allowSanitizationBypassAndThrow)(ct,"ResourceURL"))return(0,M.\u0275unwrapSafeValue)(ct);throw new M.\u0275RuntimeError(5201,!1);default:throw new M.\u0275RuntimeError(5202,!1)}}bypassSecurityTrustHtml(ze){return(0,M.\u0275bypassSanitizationTrustHtml)(ze)}bypassSecurityTrustStyle(ze){return(0,M.\u0275bypassSanitizationTrustStyle)(ze)}bypassSecurityTrustScript(ze){return(0,M.\u0275bypassSanitizationTrustScript)(ze)}bypassSecurityTrustUrl(ze){return(0,M.\u0275bypassSanitizationTrustUrl)(ze)}bypassSecurityTrustResourceUrl(ze){return(0,M.\u0275bypassSanitizationTrustResourceUrl)(ze)}static#e=this.\u0275fac=function(ct){return new(ct||Gt)(M.\u0275\u0275inject(K.DOCUMENT))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:Gt,factory:function(ct){let Wt=null;return Wt=ct?new ct:function Zo(Gt){return new Ha(Gt.get(K.DOCUMENT))}(M.\u0275\u0275inject(M.Injector)),Wt},providedIn:"root"})}return Gt})();function _i(Gt,Bt=[]){return{\u0275kind:Gt,\u0275providers:Bt}}function ki(){return _i(0)}function ji(){return _i(1)}function gs(...Gt){const Bt=[],ze=new Set;for(const{\u0275providers:ct,\u0275kind:Wt}of Gt)ze.add(Wt),ct.length&&Bt.push(ct);return(0,M.makeEnvironmentProviders)([[],ze.has(0)?[]:(0,M.\u0275withDomHydration)(),ze.has(1)?[]:(0,G.\u0275withHttpTransferCache)(),Bt])}const Ss=new M.Version("16.2.12"),ro=M.makeStateKey,Ls=M.TransferState},9689:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{ActivatedRoute:()=>Va,ActivatedRouteSnapshot:()=>ma,ActivationEnd:()=>Sa,ActivationStart:()=>Nr,BaseRouteReuseStrategy:()=>Xa,ChildActivationEnd:()=>ea,ChildActivationStart:()=>qs,ChildrenOutletContexts:()=>ta,DefaultTitleStrategy:()=>Ta,DefaultUrlSerializer:()=>io,GuardsCheckEnd:()=>El,GuardsCheckStart:()=>dl,NavigationCancel:()=>er,NavigationEnd:()=>ks,NavigationError:()=>Io,NavigationSkipped:()=>Ko,NavigationStart:()=>tl,NoPreloading:()=>el,OutletContext:()=>Ka,PRIMARY_OUTLET:()=>It,PreloadAllModules:()=>sa,PreloadingStrategy:()=>va,ROUTER_CONFIGURATION:()=>Wi,ROUTER_INITIALIZER:()=>is,ROUTES:()=>Ui,ResolveEnd:()=>fl,ResolveStart:()=>Us,RouteConfigLoadEnd:()=>mr,RouteConfigLoadStart:()=>nl,RouteReuseStrategy:()=>oa,Router:()=>wr,RouterEvent:()=>Uo,RouterLink:()=>Fr,RouterLinkActive:()=>qa,RouterLinkWithHref:()=>Fr,RouterModule:()=>ii,RouterOutlet:()=>Ol,RouterPreloader:()=>da,RouterState:()=>na,RouterStateSnapshot:()=>Lr,RoutesRecognized:()=>Il,Scroll:()=>il,TitleStrategy:()=>ua,UrlHandlingStrategy:()=>Eo,UrlSegment:()=>Zo,UrlSegmentGroup:()=>xi,UrlSerializer:()=>ji,UrlTree:()=>Ns,VERSION:()=>Ll,convertToParamMap:()=>Br,createUrlTreeFromSnapshot:()=>Fn,defaultUrlMatcher:()=>zi,mapToCanActivate:()=>rs,mapToCanActivateChild:()=>Ks,mapToCanDeactivate:()=>Nl,mapToCanMatch:()=>Da,mapToResolve:()=>sc,provideRouter:()=>We,provideRoutes:()=>ce,withComponentInputBinding:()=>ti,withDebugTracing:()=>Kt,withDisabledInitialNavigation:()=>Ft,withEnabledBlockingInitialNavigation:()=>ot,withHashLocation:()=>En,withInMemoryScrolling:()=>pe,withNavigationErrorHandler:()=>ni,withPreloading:()=>gn,withRouterConfig:()=>Tt,\u0275EmptyOutletComponent:()=>dr,\u0275ROUTER_PROVIDERS:()=>Kn,\u0275afterNextNavigation:()=>nr,\u0275loadChildren:()=>Si});var M=_(6689),K=_(5592),G=_(4674),R=_(7715),y=_(2096),h=_(5619),E=_(7453),P=_(2737),F=_(7400),B=_(4564),k=_(2714),ne=_(8251),q=_(7103);function de(...z){const Q=(0,B.yG)(z),U=(0,B.jO)(z),{args:te,keys:fe}=(0,E.D)(z);if(0===te.length)return(0,R.D)([],Q);const Re=new K.y(function ge(z,Q,U=P.y){return te=>{Oe(Q,()=>{const{length:fe}=z,Re=new Array(fe);let at=fe,Mt=fe;for(let jt=0;jt<fe;jt++)Oe(Q,()=>{const Ei=(0,R.D)(z[jt],Q);let ir=!1;Ei.subscribe((0,ne.x)(te,ps=>{Re[jt]=ps,ir||(ir=!0,Mt--),Mt||te.next(U(Re.slice()))},()=>{--at||te.complete()}))},te)},te)}}(te,Q,fe?at=>(0,k.n)(fe,at):P.y));return U?Re.pipe((0,F.Z)(U)):Re}function Oe(z,Q,U){z?(0,q.f)(U,z,Q):Q()}var Qe=_(6973),rt=_(7537);function Ee(...z){return function Se(){return(0,rt.J)(1)}()((0,R.D)(z,(0,B.yG)(z)))}var Ne=_(4829);function Ze(z){return new K.y(Q=>{(0,Ne.Xf)(z()).subscribe(Q)})}var je=_(8407);function be(z,Q){const U=(0,G.m)(z)?z:()=>z,te=fe=>fe.error(U());return new K.y(Q?fe=>Q.schedule(te,0,fe):te)}var qe=_(6232),bt=_(7394),Nt=_(9360);function _t(){return(0,Nt.e)((z,Q)=>{let U=null;z._refCount++;const te=(0,ne.x)(Q,void 0,void 0,void 0,()=>{if(!z||z._refCount<=0||0<--z._refCount)return void(U=null);const fe=z._connection,Re=U;U=null,fe&&(!Re||fe===Re)&&fe.unsubscribe(),Q.unsubscribe()});z.subscribe(te),te.closed||(U=z.connect())})}class en extends K.y{constructor(Q,U){super(),this.source=Q,this.subjectFactory=U,this._subject=null,this._refCount=0,this._connection=null,(0,Nt.A)(Q)&&(this.lift=Q.lift)}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Q}=this;this._subject=this._connection=null,Q?.unsubscribe()}connect(){let Q=this._connection;if(!Q){Q=this._connection=new bt.w0;const U=this.getSubject();Q.add(this.source.subscribe((0,ne.x)(U,void 0,()=>{this._teardown(),U.complete()},te=>{this._teardown(),U.error(te)},()=>this._teardown()))),Q.closed&&(this._connection=null,Q=bt.w0.EMPTY)}return Q}refCount(){return _t()(this)}}var rn=_(8645),an=_(6814),xt=_(7398),Zn=_(4664),qi=_(8180),Rt=_(2181),Ut=_(1631),on=_(1374),In=_(6328),_n=_(9397);function $n(z){return(0,Nt.e)((Q,U)=>{let Re,te=null,fe=!1;te=Q.subscribe((0,ne.x)(U,void 0,void 0,at=>{Re=(0,Ne.Xf)(z(at,$n(z)(Q))),te?(te.unsubscribe(),te=null,Re.subscribe(U)):fe=!0})),fe&&(te.unsubscribe(),te=null,Re.subscribe(U))})}var Gn=_(3572);function wi(z){return z<=0?()=>qe.E:(0,Nt.e)((Q,U)=>{let te=[];Q.subscribe((0,ne.x)(U,fe=>{te.push(fe),z<te.length&&te.shift()},()=>{for(const fe of te)U.next(fe);U.complete()},void 0,()=>{te=null}))})}var _r=_(3026),Lo=_(4716),dt=_(2420),Dt=_(6593);const It="primary",cn=Symbol("RouteTitle");class tn{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const U=this.params[Q];return Array.isArray(U)?U[0]:U}return null}getAll(Q){if(this.has(Q)){const U=this.params[Q];return Array.isArray(U)?U:[U]}return[]}get keys(){return Object.keys(this.params)}}function Br(z){return new tn(z)}function zi(z,Q,U){const te=U.path.split("/");if(te.length>z.length||"full"===U.pathMatch&&(Q.hasChildren()||te.length<z.length))return null;const fe={};for(let Re=0;Re<te.length;Re++){const at=te[Re],Mt=z[Re];if(at.startsWith(":"))fe[at.substring(1)]=Mt;else if(at!==Mt.path)return null}return{consumed:z.slice(0,te.length),posParams:fe}}function Rn(z,Q){const U=z?Object.keys(z):void 0,te=Q?Object.keys(Q):void 0;if(!U||!te||U.length!=te.length)return!1;let fe;for(let Re=0;Re<U.length;Re++)if(fe=U[Re],!ci(z[fe],Q[fe]))return!1;return!0}function ci(z,Q){if(Array.isArray(z)&&Array.isArray(Q)){if(z.length!==Q.length)return!1;const U=[...z].sort(),te=[...Q].sort();return U.every((fe,Re)=>te[Re]===fe)}return z===Q}function Vr(z){return z.length>0?z[z.length-1]:null}function no(z){return function W(z){return!!z&&(z instanceof K.y||(0,G.m)(z.lift)&&(0,G.m)(z.subscribe))}(z)?z:(0,M.\u0275isPromise)(z)?(0,R.D)(Promise.resolve(z)):(0,y.of)(z)}const wo={exact:function vi(z,Q,U){if(!_i(z.segments,Q.segments)||!zr(z.segments,Q.segments,U)||z.numberOfChildren!==Q.numberOfChildren)return!1;for(const te in Q.children)if(!z.children[te]||!vi(z.children[te],Q.children[te],U))return!1;return!0},subset:ar},Xi={exact:function zo(z,Q){return Rn(z,Q)},subset:function oo(z,Q){return Object.keys(Q).length<=Object.keys(z).length&&Object.keys(Q).every(U=>ci(z[U],Q[U]))},ignored:()=>!0};function So(z,Q,U){return wo[U.paths](z.root,Q.root,U.matrixParams)&&Xi[U.queryParams](z.queryParams,Q.queryParams)&&!("exact"===U.fragment&&z.fragment!==Q.fragment)}function ar(z,Q,U){return xo(z,Q,Q.segments,U)}function xo(z,Q,U,te){if(z.segments.length>U.length){const fe=z.segments.slice(0,U.length);return!(!_i(fe,U)||Q.hasChildren()||!zr(fe,U,te))}if(z.segments.length===U.length){if(!_i(z.segments,U)||!zr(z.segments,U,te))return!1;for(const fe in Q.children)if(!z.children[fe]||!ar(z.children[fe],Q.children[fe],te))return!1;return!0}{const fe=U.slice(0,z.segments.length),Re=U.slice(z.segments.length);return!!(_i(z.segments,fe)&&zr(z.segments,fe,te)&&z.children[It])&&xo(z.children[It],Q,Re,te)}}function zr(z,Q,U){return Q.every((te,fe)=>Xi[U](z[fe].parameters,te.parameters))}class Ns{constructor(Q=new xi([],{}),U={},te=null){this.root=Q,this.queryParams=U,this.fragment=te}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return gs.serialize(this)}}class xi{constructor(Q,U){this.segments=Q,this.children=U,this.parent=null,Object.values(U).forEach(te=>te.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ss(this)}}class Zo{constructor(Q,U){this.path=Q,this.parameters=U}get parameterMap(){return this._parameterMap||(this._parameterMap=Br(this.parameters)),this._parameterMap}toString(){return Qn(this)}}function _i(z,Q){return z.length===Q.length&&z.every((U,te)=>U.path===Q[te].path)}let ji=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:function(){return new io},providedIn:"root"})}return z})();class io{parse(Q){const U=new ut(Q);return new Ns(U.parseRootSegment(),U.parseQueryParams(),U.parseFragment())}serialize(Q){const U=`/${ro(Q.root,!0)}`,te=function br(z){const Q=Object.keys(z).map(U=>{const te=z[U];return Array.isArray(te)?te.map(fe=>`${Gt(U)}=${Gt(fe)}`).join("&"):`${Gt(U)}=${Gt(te)}`}).filter(U=>!!U);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);return`${U}${te}${"string"==typeof Q.fragment?`#${function Bt(z){return encodeURI(z)}(Q.fragment)}`:""}`}}const gs=new io;function Ss(z){return z.segments.map(Q=>Qn(Q)).join("/")}function ro(z,Q){if(!z.hasChildren())return Ss(z);if(Q){const U=z.children[It]?ro(z.children[It],!1):"",te=[];return Object.entries(z.children).forEach(([fe,Re])=>{fe!==It&&te.push(`${fe}:${ro(Re,!1)}`)}),te.length>0?`${U}(${te.join("//")})`:U}{const U=function ki(z,Q){let U=[];return Object.entries(z.children).forEach(([te,fe])=>{te===It&&(U=U.concat(Q(fe,te)))}),Object.entries(z.children).forEach(([te,fe])=>{te!==It&&(U=U.concat(Q(fe,te)))}),U}(z,(te,fe)=>fe===It?[ro(z.children[It],!1)]:[`${fe}:${ro(te,!1)}`]);return 1===Object.keys(z.children).length&&null!=z.children[It]?`${Ss(z)}/${U[0]}`:`${Ss(z)}/(${U.join("//")})`}}function Ls(z){return encodeURIComponent(z).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gt(z){return Ls(z).replace(/%3B/gi,";")}function ze(z){return Ls(z).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(z){return decodeURIComponent(z)}function Wt(z){return ct(z.replace(/\+/g,"%20"))}function Qn(z){return`${ze(z.path)}${function di(z){return Object.keys(z).map(Q=>`;${ze(Q)}=${ze(z[Q])}`).join("")}(z.parameters)}`}const jr=/^[^\/()?;#]+/;function es(z){const Q=z.match(jr);return Q?Q[0]:""}const cs=/^[^\/()?;=#]+/,ha=/^[^=?&#]+/,Gr=/^[^&#]+/;class ut{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xi([],{}):new xi([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let U={};this.peekStartsWith("/(")&&(this.capture("/"),U=this.parseParens(!0));let te={};return this.peekStartsWith("(")&&(te=this.parseParens(!1)),(Q.length>0||Object.keys(U).length>0)&&(te[It]=new xi(Q,U)),te}parseSegment(){const Q=es(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new M.\u0275RuntimeError(4009,!1);return this.capture(Q),new Zo(ct(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const U=function Zi(z){const Q=z.match(cs);return Q?Q[0]:""}(this.remaining);if(!U)return;this.capture(U);let te="";if(this.consumeOptional("=")){const fe=es(this.remaining);fe&&(te=fe,this.capture(te))}Q[ct(U)]=ct(te)}parseQueryParam(Q){const U=function ko(z){const Q=z.match(ha);return Q?Q[0]:""}(this.remaining);if(!U)return;this.capture(U);let te="";if(this.consumeOptional("=")){const at=function ht(z){const Q=z.match(Gr);return Q?Q[0]:""}(this.remaining);at&&(te=at,this.capture(te))}const fe=Wt(U),Re=Wt(te);if(Q.hasOwnProperty(fe)){let at=Q[fe];Array.isArray(at)||(at=[at],Q[fe]=at),at.push(Re)}else Q[fe]=Re}parseParens(Q){const U={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const te=es(this.remaining),fe=this.remaining[te.length];if("/"!==fe&&")"!==fe&&";"!==fe)throw new M.\u0275RuntimeError(4010,!1);let Re;te.indexOf(":")>-1?(Re=te.slice(0,te.indexOf(":")),this.capture(Re),this.capture(":")):Q&&(Re=It);const at=this.parseChildren();U[Re]=1===Object.keys(at).length?at[It]:new xi([],at),this.consumeOptional("//")}return U}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new M.\u0275RuntimeError(4011,!1)}}function nt(z){return z.segments.length>0?new xi([],{[It]:z}):z}function Pt(z){const Q={};for(const te of Object.keys(z.children)){const Re=Pt(z.children[te]);if(te===It&&0===Re.segments.length&&Re.hasChildren())for(const[at,Mt]of Object.entries(Re.children))Q[at]=Mt;else(Re.segments.length>0||Re.hasChildren())&&(Q[te]=Re)}return function vn(z){if(1===z.numberOfChildren&&z.children[It]){const Q=z.children[It];return new xi(z.segments.concat(Q.segments),Q.children)}return z}(new xi(z.segments,Q))}function bn(z){return z instanceof Ns}function Fn(z,Q,U=null,te=null){return fi(Ri(z),Q,U,te)}function Ri(z){let Q;const fe=nt(function U(Re){const at={};for(const jt of Re.children){const Ei=U(jt);at[jt.outlet]=Ei}const Mt=new xi(Re.url,at);return Re===z&&(Q=Mt),Mt}(z.root));return Q??fe}function fi(z,Q,U,te){let fe=z;for(;fe.parent;)fe=fe.parent;if(0===Q.length)return Zr(fe,fe,fe,U,te);const Re=function us(z){if("string"==typeof z[0]&&1===z.length&&"/"===z[0])return new pr(!0,0,z);let Q=0,U=!1;const te=z.reduce((fe,Re,at)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const Mt={};return Object.entries(Re.outlets).forEach(([jt,Ei])=>{Mt[jt]="string"==typeof Ei?Ei.split("/"):Ei}),[...fe,{outlets:Mt}]}if(Re.segmentPath)return[...fe,Re.segmentPath]}return"string"!=typeof Re?[...fe,Re]:0===at?(Re.split("/").forEach((Mt,jt)=>{0==jt&&"."===Mt||(0==jt&&""===Mt?U=!0:".."===Mt?Q++:""!=Mt&&fe.push(Mt))}),fe):[...fe,Re]},[]);return new pr(U,Q,te)}(Q);if(Re.toRoot())return Zr(fe,fe,new xi([],{}),U,te);const at=function Ir(z,Q,U){if(z.isAbsolute)return new Ki(Q,!0,0);if(!U)return new Ki(Q,!1,NaN);if(null===U.parent)return new Ki(U,!0,0);const te=Mr(z.commands[0])?0:1;return function Ts(z,Q,U){let te=z,fe=Q,Re=U;for(;Re>fe;){if(Re-=fe,te=te.parent,!te)throw new M.\u0275RuntimeError(4005,!1);fe=te.segments.length}return new Ki(te,!1,fe-Re)}(U,U.segments.length-1+te,z.numberOfDoubleDots)}(Re,fe,z),Mt=at.processChildren?ts(at.segmentGroup,at.index,Re.commands):Di(at.segmentGroup,at.index,Re.commands);return Zr(fe,at.segmentGroup,Mt,U,te)}function Mr(z){return"object"==typeof z&&null!=z&&!z.outlets&&!z.segmentPath}function ho(z){return"object"==typeof z&&null!=z&&z.outlets}function Zr(z,Q,U,te,fe){let at,Re={};te&&Object.entries(te).forEach(([jt,Ei])=>{Re[jt]=Array.isArray(Ei)?Ei.map(ir=>`${ir}`):`${Ei}`}),at=z===Q?U:Wr(z,Q,U);const Mt=nt(Pt(at));return new Ns(Mt,Re,fe)}function Wr(z,Q,U){const te={};return Object.entries(z.children).forEach(([fe,Re])=>{te[fe]=Re===Q?U:Wr(Re,Q,U)}),new xi(z.segments,te)}class pr{constructor(Q,U,te){if(this.isAbsolute=Q,this.numberOfDoubleDots=U,this.commands=te,Q&&te.length>0&&Mr(te[0]))throw new M.\u0275RuntimeError(4003,!1);const fe=te.find(ho);if(fe&&fe!==Vr(te))throw new M.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ki{constructor(Q,U,te){this.segmentGroup=Q,this.processChildren=U,this.index=te}}function Di(z,Q,U){if(z||(z=new xi([],{})),0===z.segments.length&&z.hasChildren())return ts(z,Q,U);const te=function Ba(z,Q,U){let te=0,fe=Q;const Re={match:!1,pathIndex:0,commandIndex:0};for(;fe<z.segments.length;){if(te>=U.length)return Re;const at=z.segments[fe],Mt=U[te];if(ho(Mt))break;const jt=`${Mt}`,Ei=te<U.length-1?U[te+1]:null;if(fe>0&&void 0===jt)break;if(jt&&Ei&&"object"==typeof Ei&&void 0===Ei.outlets){if(!vs(jt,Ei,at))return Re;te+=2}else{if(!vs(jt,{},at))return Re;te++}fe++}return{match:!0,pathIndex:fe,commandIndex:te}}(z,Q,U),fe=U.slice(te.commandIndex);if(te.match&&te.pathIndex<z.segments.length){const Re=new xi(z.segments.slice(0,te.pathIndex),{});return Re.children[It]=new xi(z.segments.slice(te.pathIndex),z.children),ts(Re,0,fe)}return te.match&&0===fe.length?new xi(z.segments,{}):te.match&&!z.hasChildren()?Qs(z,Q,U):te.match?ts(z,0,fe):Qs(z,Q,U)}function ts(z,Q,U){if(0===U.length)return new xi(z.segments,{});{const te=function Rs(z){return ho(z[0])?z[0].outlets:{[It]:z}}(U),fe={};if(Object.keys(te).some(Re=>Re!==It)&&z.children[It]&&1===z.numberOfChildren&&0===z.children[It].segments.length){const Re=ts(z.children[It],Q,U);return new xi(z.segments,Re.children)}return Object.entries(te).forEach(([Re,at])=>{"string"==typeof at&&(at=[at]),null!==at&&(fe[Re]=Di(z.children[Re],Q,at))}),Object.entries(z.children).forEach(([Re,at])=>{void 0===te[Re]&&(fe[Re]=at)}),new xi(z.segments,fe)}}function Qs(z,Q,U){const te=z.segments.slice(0,Q);let fe=0;for(;fe<U.length;){const Re=U[fe];if(ho(Re)){const jt=ss(Re.outlets);return new xi(te,jt)}if(0===fe&&Mr(U[0])){te.push(new Zo(z.segments[Q].path,aa(U[0]))),fe++;continue}const at=ho(Re)?Re.outlets[It]:`${Re}`,Mt=fe<U.length-1?U[fe+1]:null;at&&Mt&&Mr(Mt)?(te.push(new Zo(at,aa(Mt))),fe+=2):(te.push(new Zo(at,{})),fe++)}return new xi(te,{})}function ss(z){const Q={};return Object.entries(z).forEach(([U,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(Q[U]=Qs(new xi([],{}),0,te))}),Q}function aa(z){const Q={};return Object.entries(z).forEach(([U,te])=>Q[U]=`${te}`),Q}function vs(z,Q,U){return z==U.path&&Rn(Q,U.parameters)}const pa="imperative";class Uo{constructor(Q,U){this.id=Q,this.url=U}}class tl extends Uo{constructor(Q,U,te="imperative",fe=null){super(Q,U),this.type=0,this.navigationTrigger=te,this.restoredState=fe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends Uo{constructor(Q,U,te){super(Q,U),this.urlAfterRedirects=te,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class er extends Uo{constructor(Q,U,te,fe){super(Q,U),this.reason=te,this.code=fe,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ko extends Uo{constructor(Q,U,te,fe){super(Q,U),this.reason=te,this.code=fe,this.type=16}}class Io extends Uo{constructor(Q,U,te,fe){super(Q,U),this.error=te,this.target=fe,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Il extends Uo{constructor(Q,U,te,fe){super(Q,U),this.urlAfterRedirects=te,this.state=fe,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dl extends Uo{constructor(Q,U,te,fe){super(Q,U),this.urlAfterRedirects=te,this.state=fe,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El extends Uo{constructor(Q,U,te,fe,Re){super(Q,U),this.urlAfterRedirects=te,this.state=fe,this.shouldActivate=Re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Us extends Uo{constructor(Q,U,te,fe){super(Q,U),this.urlAfterRedirects=te,this.state=fe,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fl extends Uo{constructor(Q,U,te,fe){super(Q,U),this.urlAfterRedirects=te,this.state=fe,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nl{constructor(Q){this.route=Q,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mr{constructor(Q){this.route=Q,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qs{constructor(Q){this.snapshot=Q,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(Q){this.snapshot=Q,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(Q){this.snapshot=Q,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sa{constructor(Q){this.snapshot=Q,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class il{constructor(Q,U,te){this.routerEvent=Q,this.position=U,this.anchor=te,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Oa{}class so{constructor(Q){this.url=Q}}class Ka{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ta,this.attachRef=null}}let ta=(()=>{class z{constructor(){this.contexts=new Map}onChildOutletCreated(U,te){const fe=this.getOrCreateContext(U);fe.outlet=te,this.contexts.set(U,fe)}onChildOutletDestroyed(U){const te=this.getContext(U);te&&(te.outlet=null,te.attachRef=null)}onOutletDeactivated(){const U=this.contexts;return this.contexts=new Map,U}onOutletReAttached(U){this.contexts=U}getOrCreateContext(U){let te=this.getContext(U);return te||(te=new Ka,this.contexts.set(U,te)),te}getContext(U){return this.contexts.get(U)||null}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();class Jo{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const U=this.pathFromRoot(Q);return U.length>1?U[U.length-2]:null}children(Q){const U=Ga(Q,this._root);return U?U.children.map(te=>te.value):[]}firstChild(Q){const U=Ga(Q,this._root);return U&&U.children.length>0?U.children[0].value:null}siblings(Q){const U=Hr(Q,this._root);return U.length<2?[]:U[U.length-2].children.map(fe=>fe.value).filter(fe=>fe!==Q)}pathFromRoot(Q){return Hr(Q,this._root).map(U=>U.value)}}function Ga(z,Q){if(z===Q.value)return Q;for(const U of Q.children){const te=Ga(z,U);if(te)return te}return null}function Hr(z,Q){if(z===Q.value)return[Q];for(const U of Q.children){const te=Hr(z,U);if(te.length)return te.unshift(Q),te}return[]}class jo{constructor(Q,U){this.value=Q,this.children=U}toString(){return`TreeNode(${this.value})`}}function Er(z){const Q={};return z&&z.children.forEach(U=>Q[U.value.outlet]=U),Q}class na extends Jo{constructor(Q,U){super(Q),this.snapshot=U,Sn(this,Q)}toString(){return this.snapshot.toString()}}function as(z,Q){const U=function ls(z,Q){const at=new ma([],{},{},"",{},It,Q,null,{});return new Lr("",new jo(at,[]))}(0,Q),te=new h.X([new Zo("",{})]),fe=new h.X({}),Re=new h.X({}),at=new h.X({}),Mt=new h.X(""),jt=new Va(te,fe,at,Mt,Re,It,Q,U.root);return jt.snapshot=U.root,new na(new jo(jt,[]),U)}class Va{constructor(Q,U,te,fe,Re,at,Mt,jt){this.urlSubject=Q,this.paramsSubject=U,this.queryParamsSubject=te,this.fragmentSubject=fe,this.dataSubject=Re,this.outlet=at,this.component=Mt,this._futureSnapshot=jt,this.title=this.dataSubject?.pipe((0,xt.U)(Ei=>Ei[cn]))??(0,y.of)(void 0),this.url=Q,this.params=U,this.queryParams=te,this.fragment=fe,this.data=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(Q=>Br(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(Q=>Br(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xa(z,Q="emptyOnly"){const U=z.pathFromRoot;let te=0;if("always"!==Q)for(te=U.length-1;te>=1;){const fe=U[te],Re=U[te-1];if(fe.routeConfig&&""===fe.routeConfig.path)te--;else{if(Re.component)break;te--}}return function Ws(z){return z.reduce((Q,U)=>({params:{...Q.params,...U.params},data:{...Q.data,...U.data},resolve:{...U.data,...Q.resolve,...U.routeConfig?.data,...U._resolvedData}}),{params:{},data:{},resolve:{}})}(U.slice(te))}class ma{get title(){return this.data?.[cn]}constructor(Q,U,te,fe,Re,at,Mt,jt,Ei){this.url=Q,this.params=U,this.queryParams=te,this.fragment=fe,this.data=Re,this.outlet=at,this.component=Mt,this.routeConfig=jt,this._resolve=Ei}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Br(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(te=>te.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lr extends Jo{constructor(Q,U){super(U),this.url=Q,Sn(this,U)}toString(){return tr(this._root)}}function Sn(z,Q){Q.value._routerState=z,Q.children.forEach(U=>Sn(z,U))}function tr(z){const Q=z.children.length>0?` { ${z.children.map(tr).join(", ")} } `:"";return`${z.value}${Q}`}function po(z){if(z.snapshot){const Q=z.snapshot,U=z._futureSnapshot;z.snapshot=U,Rn(Q.queryParams,U.queryParams)||z.queryParamsSubject.next(U.queryParams),Q.fragment!==U.fragment&&z.fragmentSubject.next(U.fragment),Rn(Q.params,U.params)||z.paramsSubject.next(U.params),function oi(z,Q){if(z.length!==Q.length)return!1;for(let U=0;U<z.length;++U)if(!Rn(z[U],Q[U]))return!1;return!0}(Q.url,U.url)||z.urlSubject.next(U.url),Rn(Q.data,U.data)||z.dataSubject.next(U.data)}else z.snapshot=z._futureSnapshot,z.dataSubject.next(z._futureSnapshot.data)}function la(z,Q){const U=Rn(z.params,Q.params)&&function Ha(z,Q){return _i(z,Q)&&z.every((U,te)=>Rn(U.parameters,Q[te].parameters))}(z.url,Q.url);return U&&!(!z.parent!=!Q.parent)&&(!z.parent||la(z.parent,Q.parent))}let Ol=(()=>{class z{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new M.EventEmitter,this.deactivateEvents=new M.EventEmitter,this.attachEvents=new M.EventEmitter,this.detachEvents=new M.EventEmitter,this.parentContexts=(0,M.inject)(ta),this.location=(0,M.inject)(M.ViewContainerRef),this.changeDetector=(0,M.inject)(M.ChangeDetectorRef),this.environmentInjector=(0,M.inject)(M.EnvironmentInjector),this.inputBinder=(0,M.inject)(rl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(U){if(U.name){const{firstChange:te,previousValue:fe}=U.name;if(te)return;this.isTrackedInParentContexts(fe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(fe)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(U){return this.parentContexts.getContext(U)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const U=this.parentContexts.getContext(this.name);U?.route&&(U.attachRef?this.attach(U.attachRef,U.route):this.activateWith(U.route,U.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.\u0275RuntimeError(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.\u0275RuntimeError(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.\u0275RuntimeError(4012,!1);this.location.detach();const U=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(U.instance),U}attach(U,te){this.activated=U,this._activatedRoute=te,this.location.insert(U.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(U.instance)}deactivate(){if(this.activated){const U=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(U)}}activateWith(U,te){if(this.isActivated)throw new M.\u0275RuntimeError(4013,!1);this._activatedRoute=U;const fe=this.location,at=U.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,jt=new ys(U,Mt,fe.injector);this.activated=fe.createComponent(at,{index:fe.length,injector:jt,environmentInjector:te??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:z,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.\u0275\u0275NgOnChangesFeature]})}return z})();class ys{constructor(Q,U,te){this.route=Q,this.childContexts=U,this.parent=te}get(Q,U){return Q===Va?this.route:Q===ta?this.childContexts:this.parent.get(Q,U)}}const rl=new M.InjectionToken("");let co=(()=>{class z{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(U){this.unsubscribeFromRouteData(U),this.subscribeToRouteData(U)}unsubscribeFromRouteData(U){this.outletDataSubscriptions.get(U)?.unsubscribe(),this.outletDataSubscriptions.delete(U)}subscribeToRouteData(U){const{activatedRoute:te}=U,fe=de([te.queryParams,te.params,te.data]).pipe((0,Zn.w)(([Re,at,Mt],jt)=>(Mt={...Re,...at,...Mt},0===jt?(0,y.of)(Mt):Promise.resolve(Mt)))).subscribe(Re=>{if(!U.isActivated||!U.activatedComponentRef||U.activatedRoute!==te||null===te.component)return void this.unsubscribeFromRouteData(U);const at=(0,M.reflectComponentType)(te.component);if(at)for(const{templateName:Mt}of at.inputs)U.activatedComponentRef.setInput(Mt,Re[Mt]);else this.unsubscribeFromRouteData(U)});this.outletDataSubscriptions.set(U,fe)}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac})}return z})();function ao(z,Q,U){if(U&&z.shouldReuseRoute(Q.value,U.value.snapshot)){const te=U.value;te._futureSnapshot=Q.value;const fe=function Hi(z,Q,U){return Q.children.map(te=>{for(const fe of U.children)if(z.shouldReuseRoute(te.value,fe.value.snapshot))return ao(z,te,fe);return ao(z,te)})}(z,Q,U);return new jo(te,fe)}{if(z.shouldAttach(Q.value)){const Re=z.retrieve(Q.value);if(null!==Re){const at=Re.route;return at.value._futureSnapshot=Q.value,at.children=Q.children.map(Mt=>ao(z,Mt)),at}}const te=function Xl(z){return new Va(new h.X(z.url),new h.X(z.params),new h.X(z.queryParams),new h.X(z.fragment),new h.X(z.data),z.outlet,z.component,z)}(Q.value),fe=Q.children.map(Re=>ao(z,Re));return new jo(te,fe)}}const $s="ngNavigationCancelingError";function Ja(z,Q){const{redirectTo:U,navigationBehaviorOptions:te}=bn(Q)?{redirectTo:Q,navigationBehaviorOptions:void 0}:Q,fe=$o(!1,0,Q);return fe.url=U,fe.navigationBehaviorOptions=te,fe}function $o(z,Q,U){const te=new Error("NavigationCancelingError: "+(z||""));return te[$s]=!0,te.cancellationCode=Q,U&&(te.url=U),te}function ol(z){return z&&z[$s]}let dr=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275cmp=M.\u0275\u0275defineComponent({type:z,selectors:[["ng-component"]],standalone:!0,features:[M.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(te,fe){1&te&&M.\u0275\u0275element(0,"router-outlet")},dependencies:[Ol],encapsulation:2})}return z})();function kt(z){const Q=z.children&&z.children.map(kt),U=Q?{...z,children:Q}:{...z};return!U.component&&!U.loadComponent&&(Q||U.loadChildren)&&U.outlet&&U.outlet!==It&&(U.component=dr),U}function De(z){return z.outlet||It}function Ve(z){if(!z)return null;if(z.routeConfig?._injector)return z.routeConfig._injector;for(let Q=z.parent;Q;Q=Q.parent){const U=Q.routeConfig;if(U?._loadedInjector)return U._loadedInjector;if(U?._injector)return U._injector}return null}class fn{constructor(Q,U,te,fe,Re){this.routeReuseStrategy=Q,this.futureState=U,this.currState=te,this.forwardEvent=fe,this.inputBindingEnabled=Re}activate(Q){const U=this.futureState._root,te=this.currState?this.currState._root:null;this.deactivateChildRoutes(U,te,Q),po(this.futureState.root),this.activateChildRoutes(U,te,Q)}deactivateChildRoutes(Q,U,te){const fe=Er(U);Q.children.forEach(Re=>{const at=Re.value.outlet;this.deactivateRoutes(Re,fe[at],te),delete fe[at]}),Object.values(fe).forEach(Re=>{this.deactivateRouteAndItsChildren(Re,te)})}deactivateRoutes(Q,U,te){const fe=Q.value,Re=U?U.value:null;if(fe===Re)if(fe.component){const at=te.getContext(fe.outlet);at&&this.deactivateChildRoutes(Q,U,at.children)}else this.deactivateChildRoutes(Q,U,te);else Re&&this.deactivateRouteAndItsChildren(U,te)}deactivateRouteAndItsChildren(Q,U){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,U):this.deactivateRouteAndOutlet(Q,U)}detachAndStoreRouteSubtree(Q,U){const te=U.getContext(Q.value.outlet),fe=te&&Q.value.component?te.children:U,Re=Er(Q);for(const at of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[at],fe);if(te&&te.outlet){const at=te.outlet.detach(),Mt=te.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:at,route:Q,contexts:Mt})}}deactivateRouteAndOutlet(Q,U){const te=U.getContext(Q.value.outlet),fe=te&&Q.value.component?te.children:U,Re=Er(Q);for(const at of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[at],fe);te&&(te.outlet&&(te.outlet.deactivate(),te.children.onOutletDeactivated()),te.attachRef=null,te.route=null)}activateChildRoutes(Q,U,te){const fe=Er(U);Q.children.forEach(Re=>{this.activateRoutes(Re,fe[Re.value.outlet],te),this.forwardEvent(new Sa(Re.value.snapshot))}),Q.children.length&&this.forwardEvent(new ea(Q.value.snapshot))}activateRoutes(Q,U,te){const fe=Q.value,Re=U?U.value:null;if(po(fe),fe===Re)if(fe.component){const at=te.getOrCreateContext(fe.outlet);this.activateChildRoutes(Q,U,at.children)}else this.activateChildRoutes(Q,U,te);else if(fe.component){const at=te.getOrCreateContext(fe.outlet);if(this.routeReuseStrategy.shouldAttach(fe.snapshot)){const Mt=this.routeReuseStrategy.retrieve(fe.snapshot);this.routeReuseStrategy.store(fe.snapshot,null),at.children.onOutletReAttached(Mt.contexts),at.attachRef=Mt.componentRef,at.route=Mt.route.value,at.outlet&&at.outlet.attach(Mt.componentRef,Mt.route.value),po(Mt.route.value),this.activateChildRoutes(Q,null,at.children)}else{const Mt=Ve(fe.snapshot);at.attachRef=null,at.route=fe,at.injector=Mt,at.outlet&&at.outlet.activateWith(fe,at.injector),this.activateChildRoutes(Q,null,at.children)}}else this.activateChildRoutes(Q,null,te)}}class zt{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class Xn{constructor(Q,U){this.component=Q,this.route=U}}function bi(z,Q,U){const te=z._root;return pi(te,Q?Q._root:null,U,[te.value])}function $r(z,Q){const U=Symbol(),te=Q.get(z,U);return te===U?"function"!=typeof z||(0,M.\u0275isInjectable)(z)?Q.get(z):z:te}function pi(z,Q,U,te,fe={canDeactivateChecks:[],canActivateChecks:[]}){const Re=Er(Q);return z.children.forEach(at=>{(function nn(z,Q,U,te,fe={canDeactivateChecks:[],canActivateChecks:[]}){const Re=z.value,at=Q?Q.value:null,Mt=U?U.getContext(z.value.outlet):null;if(at&&Re.routeConfig===at.routeConfig){const jt=function gr(z,Q,U){if("function"==typeof U)return U(z,Q);switch(U){case"pathParamsChange":return!_i(z.url,Q.url);case"pathParamsOrQueryParamsChange":return!_i(z.url,Q.url)||!Rn(z.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!la(z,Q)||!Rn(z.queryParams,Q.queryParams);default:return!la(z,Q)}}(at,Re,Re.routeConfig.runGuardsAndResolvers);jt?fe.canActivateChecks.push(new zt(te)):(Re.data=at.data,Re._resolvedData=at._resolvedData),pi(z,Q,Re.component?Mt?Mt.children:null:U,te,fe),jt&&Mt&&Mt.outlet&&Mt.outlet.isActivated&&fe.canDeactivateChecks.push(new Xn(Mt.outlet.component,at))}else at&&Qo(Q,Mt,fe),fe.canActivateChecks.push(new zt(te)),pi(z,null,Re.component?Mt?Mt.children:null:U,te,fe)})(at,Re[at.value.outlet],U,te.concat([at.value]),fe),delete Re[at.value.outlet]}),Object.entries(Re).forEach(([at,Mt])=>Qo(Mt,U.getContext(at),fe)),fe}function Qo(z,Q,U){const te=Er(z),fe=z.value;Object.entries(te).forEach(([Re,at])=>{Qo(at,fe.component?Q?Q.children.getContext(Re):null:Q,U)}),U.canDeactivateChecks.push(new Xn(fe.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,fe))}function he(z){return"function"==typeof z}function xs(z){return z instanceof Qe.K||"EmptyError"===z?.name}const $i=Symbol("INITIAL_VALUE");function _s(){return(0,Zn.w)(z=>de(z.map(Q=>Q.pipe((0,qi.q)(1),function Lt(...z){const Q=(0,B.yG)(z);return(0,Nt.e)((U,te)=>{(Q?Ee(z,U,Q):Ee(z,U)).subscribe(te)})}($i)))).pipe((0,xt.U)(Q=>{for(const U of Q)if(!0!==U){if(U===$i)return $i;if(!1===U||U instanceof Ns)return U}return!0}),(0,Rt.h)(Q=>Q!==$i),(0,qi.q)(1)))}function vr(z){return(0,je.z)((0,_n.b)(Q=>{if(bn(Q))throw Ja(0,Q)}),(0,xt.U)(Q=>!0===Q))}class za{constructor(Q){this.segmentGroup=Q||null}}class ln{constructor(Q){this.urlTree=Q}}function Ji(z){return be(new za(z))}function ds(z){return be(new ln(z))}class fs{constructor(Q,U){this.urlSerializer=Q,this.urlTree=U}noMatchError(Q){return new M.\u0275RuntimeError(4002,!1)}lineralizeSegments(Q,U){let te=[],fe=U.root;for(;;){if(te=te.concat(fe.segments),0===fe.numberOfChildren)return(0,y.of)(te);if(fe.numberOfChildren>1||!fe.children[It])return be(new M.\u0275RuntimeError(4e3,!1));fe=fe.children[It]}}applyRedirectCommands(Q,U,te){return this.applyRedirectCreateUrlTree(U,this.urlSerializer.parse(U),Q,te)}applyRedirectCreateUrlTree(Q,U,te,fe){const Re=this.createSegmentGroup(Q,U.root,te,fe);return new Ns(Re,this.createQueryParams(U.queryParams,this.urlTree.queryParams),U.fragment)}createQueryParams(Q,U){const te={};return Object.entries(Q).forEach(([fe,Re])=>{if("string"==typeof Re&&Re.startsWith(":")){const Mt=Re.substring(1);te[fe]=U[Mt]}else te[fe]=Re}),te}createSegmentGroup(Q,U,te,fe){const Re=this.createSegments(Q,U.segments,te,fe);let at={};return Object.entries(U.children).forEach(([Mt,jt])=>{at[Mt]=this.createSegmentGroup(Q,jt,te,fe)}),new xi(Re,at)}createSegments(Q,U,te,fe){return U.map(Re=>Re.path.startsWith(":")?this.findPosParam(Q,Re,fe):this.findOrReturn(Re,te))}findPosParam(Q,U,te){const fe=te[U.path.substring(1)];if(!fe)throw new M.\u0275RuntimeError(4001,!1);return fe}findOrReturn(Q,U){let te=0;for(const fe of U){if(fe.path===Q.path)return U.splice(te),fe;te++}return Q}}const Wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $a(z,Q,U,te,fe){const Re=Na(z,Q,U);return Re.matched?(te=function hl(z,Q){return z.providers&&!z._injector&&(z._injector=(0,M.createEnvironmentInjector)(z.providers,Q,`Route: ${z.path}`)),z._injector??Q}(Q,te),function fr(z,Q,U,te){const fe=Q.canMatch;if(!fe||0===fe.length)return(0,y.of)(!0);const Re=fe.map(at=>{const Mt=$r(at,z);return no(function mi(z){return z&&he(z.canMatch)}(Mt)?Mt.canMatch(Q,U):z.runInContext(()=>Mt(Q,U)))});return(0,y.of)(Re).pipe(_s(),vr())}(te,Q,U).pipe((0,xt.U)(at=>!0===at?Re:{...Wa}))):(0,y.of)(Re)}function Na(z,Q,U){if(""===Q.path)return"full"===Q.pathMatch&&(z.hasChildren()||U.length>0)?{...Wa}:{matched:!0,consumedSegments:[],remainingSegments:U,parameters:{},positionalParamSegments:{}};const fe=(Q.matcher||zi)(U,z,Q);if(!fe)return{...Wa};const Re={};Object.entries(fe.posParams??{}).forEach(([Mt,jt])=>{Re[Mt]=jt.path});const at=fe.consumed.length>0?{...Re,...fe.consumed[fe.consumed.length-1].parameters}:Re;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:U.slice(fe.consumed.length),parameters:at,positionalParamSegments:fe.posParams??{}}}function _o(z,Q,U,te){return U.length>0&&function yl(z,Q,U){return U.some(te=>wa(z,Q,te)&&De(te)!==It)}(z,U,te)?{segmentGroup:new xi(Q,sl(te,new xi(U,z.children))),slicedSegments:[]}:0===U.length&&function sn(z,Q,U){return U.some(te=>wa(z,Q,te))}(z,U,te)?{segmentGroup:new xi(z.segments,Bs(z,0,U,te,z.children)),slicedSegments:U}:{segmentGroup:new xi(z.segments,z.children),slicedSegments:U}}function Bs(z,Q,U,te,fe){const Re={};for(const at of te)if(wa(z,U,at)&&!fe[De(at)]){const Mt=new xi([],{});Re[De(at)]=Mt}return{...fe,...Re}}function sl(z,Q){const U={};U[It]=Q;for(const te of z)if(""===te.path&&De(te)!==It){const fe=new xi([],{});U[De(te)]=fe}return U}function wa(z,Q,U){return(!(z.hasChildren()||Q.length>0)||"full"!==U.pathMatch)&&""===U.path}class Ho{constructor(Q,U,te,fe,Re,at,Mt){this.injector=Q,this.configLoader=U,this.rootComponentType=te,this.config=fe,this.urlTree=Re,this.paramsInheritanceStrategy=at,this.urlSerializer=Mt,this.allowRedirects=!0,this.applyRedirects=new fs(this.urlSerializer,this.urlTree)}noMatchError(Q){return new M.\u0275RuntimeError(4002,!1)}recognize(){const Q=_o(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Q,It).pipe($n(U=>{if(U instanceof ln)return this.allowRedirects=!1,this.urlTree=U.urlTree,this.match(U.urlTree);throw U instanceof za?this.noMatchError(U):U}),(0,xt.U)(U=>{const te=new ma([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),fe=new jo(te,U),Re=new Lr("",fe),at=Fn(te,[],this.urlTree.queryParams,this.urlTree.fragment);return at.queryParams=this.urlTree.queryParams,Re.url=this.urlSerializer.serialize(at),this.inheritParamsAndData(Re._root),{state:Re,tree:at}}))}match(Q){return this.processSegmentGroup(this.injector,this.config,Q.root,It).pipe($n(te=>{throw te instanceof za?this.noMatchError(te):te}))}inheritParamsAndData(Q){const U=Q.value,te=xa(U,this.paramsInheritanceStrategy);U.params=Object.freeze(te.params),U.data=Object.freeze(te.data),Q.children.forEach(fe=>this.inheritParamsAndData(fe))}processSegmentGroup(Q,U,te,fe){return 0===te.segments.length&&te.hasChildren()?this.processChildren(Q,U,te):this.processSegment(Q,U,te,te.segments,fe,!0)}processChildren(Q,U,te){const fe=[];for(const Re of Object.keys(te.children))"primary"===Re?fe.unshift(Re):fe.push(Re);return(0,R.D)(fe).pipe((0,In.b)(Re=>{const at=te.children[Re],Mt=function mt(z,Q){const U=z.filter(te=>De(te)===Q);return U.push(...z.filter(te=>De(te)!==Q)),U}(U,Re);return this.processSegmentGroup(Q,Mt,at,Re)}),function to(z,Q){return(0,Nt.e)(function Pn(z,Q,U,te,fe){return(Re,at)=>{let Mt=U,jt=Q,Ei=0;Re.subscribe((0,ne.x)(at,ir=>{const ps=Ei++;jt=Mt?z(jt,ir,ps):(Mt=!0,ir),te&&at.next(jt)},fe&&(()=>{Mt&&at.next(jt),at.complete()})))}}(z,Q,arguments.length>=2,!0))}((Re,at)=>(Re.push(...at),Re)),(0,Gn.d)(null),function Ai(z,Q){const U=arguments.length>=2;return te=>te.pipe(z?(0,Rt.h)((fe,Re)=>z(fe,Re,te)):P.y,wi(1),U?(0,Gn.d)(Q):(0,_r.T)(()=>new Qe.K))}(),(0,Ut.z)(Re=>{if(null===Re)return Ji(te);const at=ra(Re);return function As(z){z.sort((Q,U)=>Q.value.outlet===It?-1:U.value.outlet===It?1:Q.value.outlet.localeCompare(U.value.outlet))}(at),(0,y.of)(at)}))}processSegment(Q,U,te,fe,Re,at){return(0,R.D)(U).pipe((0,In.b)(Mt=>this.processSegmentAgainstRoute(Mt._injector??Q,U,Mt,te,fe,Re,at).pipe($n(jt=>{if(jt instanceof za)return(0,y.of)(null);throw jt}))),(0,on.P)(Mt=>!!Mt),$n(Mt=>{if(xs(Mt))return function Qr(z,Q,U){return 0===Q.length&&!z.children[U]}(te,fe,Re)?(0,y.of)([]):Ji(te);throw Mt}))}processSegmentAgainstRoute(Q,U,te,fe,Re,at,Mt){return function Tl(z,Q,U,te){return!!(De(z)===te||te!==It&&wa(Q,U,z))&&("**"===z.path||Na(Q,z,U).matched)}(te,fe,Re,at)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(Q,fe,te,Re,at,Mt):Mt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,fe,U,te,Re,at):Ji(fe):Ji(fe)}expandSegmentAgainstRouteUsingRedirect(Q,U,te,fe,Re,at){return"**"===fe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,te,fe,at):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,U,te,fe,Re,at)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,U,te,fe){const Re=this.applyRedirects.applyRedirectCommands([],te.redirectTo,{});return te.redirectTo.startsWith("/")?ds(Re):this.applyRedirects.lineralizeSegments(te,Re).pipe((0,Ut.z)(at=>{const Mt=new xi(at,{});return this.processSegment(Q,U,Mt,at,fe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,U,te,fe,Re,at){const{matched:Mt,consumedSegments:jt,remainingSegments:Ei,positionalParamSegments:ir}=Na(U,fe,Re);if(!Mt)return Ji(U);const ps=this.applyRedirects.applyRedirectCommands(jt,fe.redirectTo,ir);return fe.redirectTo.startsWith("/")?ds(ps):this.applyRedirects.lineralizeSegments(fe,ps).pipe((0,Ut.z)(Bo=>this.processSegment(Q,te,U,Bo.concat(Ei),at,!1)))}matchSegmentAgainstRoute(Q,U,te,fe,Re,at){let Mt;if("**"===te.path){const jt=fe.length>0?Vr(fe).parameters:{},Ei=new ma(fe,jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ce(te),De(te),te.component??te._loadedComponent??null,te,se(te));Mt=(0,y.of)({snapshot:Ei,consumedSegments:[],remainingSegments:[]}),U.children={}}else Mt=$a(U,te,fe,Q).pipe((0,xt.U)(({matched:jt,consumedSegments:Ei,remainingSegments:ir,parameters:ps})=>jt?{snapshot:new ma(Ei,ps,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ce(te),De(te),te.component??te._loadedComponent??null,te,se(te)),consumedSegments:Ei,remainingSegments:ir}:null));return Mt.pipe((0,Zn.w)(jt=>null===jt?Ji(U):this.getChildConfig(Q=te._injector??Q,te,fe).pipe((0,Zn.w)(({routes:Ei})=>{const ir=te._loadedInjector??Q,{snapshot:ps,consumedSegments:Bo,remainingSegments:Tc}=jt,{segmentGroup:ya,slicedSegments:gc}=_o(U,Bo,Tc,Ei);if(0===gc.length&&ya.hasChildren())return this.processChildren(ir,Ei,ya).pipe((0,xt.U)(La=>null===La?null:[new jo(ps,La)]));if(0===Ei.length&&0===gc.length)return(0,y.of)([new jo(ps,[])]);const Af=De(te)===Re;return this.processSegment(ir,Ei,ya,gc,Af?It:Re,!0).pipe((0,xt.U)(La=>[new jo(ps,La)]))}))))}getChildConfig(Q,U,te){return U.children?(0,y.of)({routes:U.children,injector:Q}):U.loadChildren?void 0!==U._loadedRoutes?(0,y.of)({routes:U._loadedRoutes,injector:U._loadedInjector}):function Yt(z,Q,U,te){const fe=Q.canLoad;if(void 0===fe||0===fe.length)return(0,y.of)(!0);const Re=fe.map(at=>{const Mt=$r(at,z);return no(function re(z){return z&&he(z.canLoad)}(Mt)?Mt.canLoad(Q,U):z.runInContext(()=>Mt(Q,U)))});return(0,y.of)(Re).pipe(_s(),vr())}(Q,U,te).pipe((0,Ut.z)(fe=>fe?this.configLoader.loadChildren(Q,U).pipe((0,_n.b)(Re=>{U._loadedRoutes=Re.routes,U._loadedInjector=Re.injector})):function Qa(z){return be($o(!1,3))}())):(0,y.of)({routes:[],injector:Q})}}function ml(z){const Q=z.value.routeConfig;return Q&&""===Q.path}function ra(z){const Q=[],U=new Set;for(const te of z){if(!ml(te)){Q.push(te);continue}const fe=Q.find(Re=>te.value.routeConfig===Re.value.routeConfig);void 0!==fe?(fe.children.push(...te.children),U.add(fe)):Q.push(te)}for(const te of U){const fe=ra(te.children);Q.push(new jo(te.value,fe))}return Q.filter(te=>!U.has(te))}function Ce(z){return z.data||{}}function se(z){return z.resolve||{}}function Co(z){return"string"==typeof z.title||null===z.title}function mo(z){return(0,Zn.w)(Q=>{const U=z(Q);return U?(0,R.D)(U).pipe((0,xt.U)(()=>Q)):(0,y.of)(Q)})}const Ui=new M.InjectionToken("ROUTES");let Je=(()=>{class z{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.inject)(M.Compiler)}loadComponent(U){if(this.componentLoaders.get(U))return this.componentLoaders.get(U);if(U._loadedComponent)return(0,y.of)(U._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(U);const te=no(U.loadComponent()).pipe((0,xt.U)(Xo),(0,_n.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(U),U._loadedComponent=Re}),(0,Lo.x)(()=>{this.componentLoaders.delete(U)})),fe=new en(te,()=>new rn.x).pipe(_t());return this.componentLoaders.set(U,fe),fe}loadChildren(U,te){if(this.childrenLoaders.get(te))return this.childrenLoaders.get(te);if(te._loadedRoutes)return(0,y.of)({routes:te._loadedRoutes,injector:te._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(te);const Re=Si(te,this.compiler,U,this.onLoadEndListener).pipe((0,Lo.x)(()=>{this.childrenLoaders.delete(te)})),at=new en(Re,()=>new rn.x).pipe(_t());return this.childrenLoaders.set(te,at),at}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function Si(z,Q,U,te){return no(z.loadChildren()).pipe((0,xt.U)(Xo),(0,Ut.z)(fe=>fe instanceof M.NgModuleFactory||Array.isArray(fe)?(0,y.of)(fe):(0,R.D)(Q.compileModuleAsync(fe))),(0,xt.U)(fe=>{te&&te(z);let Re,at;return Array.isArray(fe)?at=fe:(Re=fe.create(U).injector,at=Re.get(Ui,[],{optional:!0,self:!0}).flat()),{routes:at.map(kt),injector:Re}}))}function Xo(z){return function Es(z){return z&&"object"==typeof z&&"default"in z}(z)?z.default:z}let To=(()=>{class z{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rn.x,this.transitionAbortSubject=new rn.x,this.configLoader=(0,M.inject)(Je),this.environmentInjector=(0,M.inject)(M.EnvironmentInjector),this.urlSerializer=(0,M.inject)(ji),this.rootContexts=(0,M.inject)(ta),this.inputBindingEnabled=null!==(0,M.inject)(rl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=fe=>this.events.next(new mr(fe)),this.configLoader.onLoadStartListener=fe=>this.events.next(new nl(fe))}complete(){this.transitions?.complete()}handleNavigationRequest(U){const te=++this.navigationId;this.transitions?.next({...this.transitions.value,...U,id:te})}setupNavigations(U,te,fe){return this.transitions=new h.X({id:0,currentUrlTree:te,currentRawUrl:te,currentBrowserUrl:te,extractedUrl:U.urlHandlingStrategy.extract(te),urlAfterRedirects:U.urlHandlingStrategy.extract(te),rawUrl:te,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:fe.snapshot,targetSnapshot:null,currentRouterState:fe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Rt.h)(Re=>0!==Re.id),(0,xt.U)(Re=>({...Re,extractedUrl:U.urlHandlingStrategy.extract(Re.rawUrl)})),(0,Zn.w)(Re=>{this.currentTransition=Re;let at=!1,Mt=!1;return(0,y.of)(Re).pipe((0,_n.b)(jt=>{this.currentNavigation={id:jt.id,initialUrl:jt.rawUrl,extractedUrl:jt.extractedUrl,trigger:jt.source,extras:jt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Zn.w)(jt=>{const Ei=jt.currentBrowserUrl.toString(),ir=!U.navigated||jt.extractedUrl.toString()!==Ei||Ei!==jt.currentUrlTree.toString();if(!ir&&"reload"!==(jt.extras.onSameUrlNavigation??U.onSameUrlNavigation)){const Bo="";return this.events.next(new Ko(jt.id,this.urlSerializer.serialize(jt.rawUrl),Bo,0)),jt.resolve(null),qe.E}if(U.urlHandlingStrategy.shouldProcessUrl(jt.rawUrl))return(0,y.of)(jt).pipe((0,Zn.w)(Bo=>{const Tc=this.transitions?.getValue();return this.events.next(new tl(Bo.id,this.urlSerializer.serialize(Bo.extractedUrl),Bo.source,Bo.restoredState)),Tc!==this.transitions?.getValue()?qe.E:Promise.resolve(Bo)}),function ve(z,Q,U,te,fe,Re){return(0,Ut.z)(at=>function hs(z,Q,U,te,fe,Re,at="emptyOnly"){return new Ho(z,Q,U,te,fe,at,Re).recognize()}(z,Q,U,te,at.extractedUrl,fe,Re).pipe((0,xt.U)(({state:Mt,tree:jt})=>({...at,targetSnapshot:Mt,urlAfterRedirects:jt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,U.config,this.urlSerializer,U.paramsInheritanceStrategy),(0,_n.b)(Bo=>{Re.targetSnapshot=Bo.targetSnapshot,Re.urlAfterRedirects=Bo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Bo.urlAfterRedirects};const Tc=new Il(Bo.id,this.urlSerializer.serialize(Bo.extractedUrl),this.urlSerializer.serialize(Bo.urlAfterRedirects),Bo.targetSnapshot);this.events.next(Tc)}));if(ir&&U.urlHandlingStrategy.shouldProcessUrl(jt.currentRawUrl)){const{id:Bo,extractedUrl:Tc,source:ya,restoredState:gc,extras:Af}=jt,La=new tl(Bo,this.urlSerializer.serialize(Tc),ya,gc);this.events.next(La);const Al=as(0,this.rootComponentType).snapshot;return this.currentTransition=Re={...jt,targetSnapshot:Al,urlAfterRedirects:Tc,extras:{...Af,skipLocationChange:!1,replaceUrl:!1}},(0,y.of)(Re)}{const Bo="";return this.events.next(new Ko(jt.id,this.urlSerializer.serialize(jt.extractedUrl),Bo,1)),jt.resolve(null),qe.E}}),(0,_n.b)(jt=>{const Ei=new dl(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Ei)}),(0,xt.U)(jt=>(this.currentTransition=Re={...jt,guards:bi(jt.targetSnapshot,jt.currentSnapshot,this.rootContexts)},Re)),function Or(z,Q){return(0,Ut.z)(U=>{const{targetSnapshot:te,currentSnapshot:fe,guards:{canActivateChecks:Re,canDeactivateChecks:at}}=U;return 0===at.length&&0===Re.length?(0,y.of)({...U,guardsResult:!0}):function Ca(z,Q,U,te){return(0,R.D)(z).pipe((0,Ut.z)(fe=>function ga(z,Q,U,te,fe){const Re=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,y.of)(!0);const at=Re.map(Mt=>{const jt=Ve(Q)??fe,Ei=$r(Mt,jt);return no(function li(z){return z&&he(z.canDeactivate)}(Ei)?Ei.canDeactivate(z,Q,U,te):jt.runInContext(()=>Ei(z,Q,U,te))).pipe((0,on.P)())});return(0,y.of)(at).pipe(_s())}(fe.component,fe.route,U,Q,te)),(0,on.P)(fe=>!0!==fe,!0))}(at,te,fe,z).pipe((0,Ut.z)(Mt=>Mt&&function _e(z){return"boolean"==typeof z}(Mt)?function ia(z,Q,U,te){return(0,R.D)(Q).pipe((0,In.b)(fe=>Ee(function bs(z,Q){return null!==z&&Q&&Q(new qs(z)),(0,y.of)(!0)}(fe.route.parent,te),function Fa(z,Q){return null!==z&&Q&&Q(new Nr(z)),(0,y.of)(!0)}(fe.route,te),function Ea(z,Q,U){const te=Q[Q.length-1],Re=Q.slice(0,Q.length-1).reverse().map(at=>function Jr(z){const Q=z.routeConfig?z.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:z,guards:Q}:null}(at)).filter(at=>null!==at).map(at=>Ze(()=>{const Mt=at.guards.map(jt=>{const Ei=Ve(at.node)??U,ir=$r(jt,Ei);return no(function lt(z){return z&&he(z.canActivateChild)}(ir)?ir.canActivateChild(te,z):Ei.runInContext(()=>ir(te,z))).pipe((0,on.P)())});return(0,y.of)(Mt).pipe(_s())}));return(0,y.of)(Re).pipe(_s())}(z,fe.path,U),function Cs(z,Q,U){const te=Q.routeConfig?Q.routeConfig.canActivate:null;if(!te||0===te.length)return(0,y.of)(!0);const fe=te.map(Re=>Ze(()=>{const at=Ve(Q)??U,Mt=$r(Re,at);return no(function Ae(z){return z&&he(z.canActivate)}(Mt)?Mt.canActivate(Q,z):at.runInContext(()=>Mt(Q,z))).pipe((0,on.P)())}));return(0,y.of)(fe).pipe(_s())}(z,fe.route,U))),(0,on.P)(fe=>!0!==fe,!0))}(te,Re,z,Q):(0,y.of)(Mt)),(0,xt.U)(Mt=>({...U,guardsResult:Mt})))})}(this.environmentInjector,jt=>this.events.next(jt)),(0,_n.b)(jt=>{if(Re.guardsResult=jt.guardsResult,bn(jt.guardsResult))throw Ja(0,jt.guardsResult);const Ei=new El(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot,!!jt.guardsResult);this.events.next(Ei)}),(0,Rt.h)(jt=>!!jt.guardsResult||(this.cancelNavigationTransition(jt,"",3),!1)),mo(jt=>{if(jt.guards.canActivateChecks.length)return(0,y.of)(jt).pipe((0,_n.b)(Ei=>{const ir=new Us(Ei.id,this.urlSerializer.serialize(Ei.extractedUrl),this.urlSerializer.serialize(Ei.urlAfterRedirects),Ei.targetSnapshot);this.events.next(ir)}),(0,Zn.w)(Ei=>{let ir=!1;return(0,y.of)(Ei).pipe(function Ue(z,Q){return(0,Ut.z)(U=>{const{targetSnapshot:te,guards:{canActivateChecks:fe}}=U;if(!fe.length)return(0,y.of)(U);let Re=0;return(0,R.D)(fe).pipe((0,In.b)(at=>function Xt(z,Q,U,te){const fe=z.routeConfig,Re=z._resolve;return void 0!==fe?.title&&!Co(fe)&&(Re[cn]=fe.title),function Qt(z,Q,U,te){const fe=function Mi(z){return[...Object.keys(z),...Object.getOwnPropertySymbols(z)]}(z);if(0===fe.length)return(0,y.of)({});const Re={};return(0,R.D)(fe).pipe((0,Ut.z)(at=>function Oo(z,Q,U,te){const fe=Ve(Q)??te,Re=$r(z,fe);return no(Re.resolve?Re.resolve(Q,U):fe.runInContext(()=>Re(Q,U)))}(z[at],Q,U,te).pipe((0,on.P)(),(0,_n.b)(Mt=>{Re[at]=Mt}))),wi(1),function Yr(z){return(0,xt.U)(()=>z)}(Re),$n(at=>xs(at)?qe.E:be(at)))}(Re,z,Q,te).pipe((0,xt.U)(at=>(z._resolvedData=at,z.data=xa(z,U).resolve,fe&&Co(fe)&&(z.data[cn]=fe.title),null)))}(at.route,te,z,Q)),(0,_n.b)(()=>Re++),wi(1),(0,Ut.z)(at=>Re===fe.length?(0,y.of)(U):qe.E))})}(U.paramsInheritanceStrategy,this.environmentInjector),(0,_n.b)({next:()=>ir=!0,complete:()=>{ir||this.cancelNavigationTransition(Ei,"",2)}}))}),(0,_n.b)(Ei=>{const ir=new fl(Ei.id,this.urlSerializer.serialize(Ei.extractedUrl),this.urlSerializer.serialize(Ei.urlAfterRedirects),Ei.targetSnapshot);this.events.next(ir)}))}),mo(jt=>{const Ei=ir=>{const ps=[];ir.routeConfig?.loadComponent&&!ir.routeConfig._loadedComponent&&ps.push(this.configLoader.loadComponent(ir.routeConfig).pipe((0,_n.b)(Bo=>{ir.component=Bo}),(0,xt.U)(()=>{})));for(const Bo of ir.children)ps.push(...Ei(Bo));return ps};return de(Ei(jt.targetSnapshot.root)).pipe((0,Gn.d)(),(0,qi.q)(1))}),mo(()=>this.afterPreactivation()),(0,xt.U)(jt=>{const Ei=function sr(z,Q,U){const te=ao(z,Q._root,U?U._root:void 0);return new na(te,Q)}(U.routeReuseStrategy,jt.targetSnapshot,jt.currentRouterState);return this.currentTransition=Re={...jt,targetRouterState:Ei},Re}),(0,_n.b)(()=>{this.events.next(new Oa)}),((z,Q,U,te)=>(0,xt.U)(fe=>(new fn(Q,fe.targetRouterState,fe.currentRouterState,U,te).activate(z),fe)))(this.rootContexts,U.routeReuseStrategy,jt=>this.events.next(jt),this.inputBindingEnabled),(0,qi.q)(1),(0,_n.b)({next:jt=>{at=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ks(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects))),U.titleStrategy?.updateTitle(jt.targetRouterState.snapshot),jt.resolve(!0)},complete:()=>{at=!0}}),function et(z){return(0,Nt.e)((Q,U)=>{(0,Ne.Xf)(z).subscribe((0,ne.x)(U,()=>U.complete(),dt.Z)),!U.closed&&Q.subscribe(U)})}(this.transitionAbortSubject.pipe((0,_n.b)(jt=>{throw jt}))),(0,Lo.x)(()=>{at||Mt||this.cancelNavigationTransition(Re,"",1),this.currentNavigation?.id===Re.id&&(this.currentNavigation=null)}),$n(jt=>{if(Mt=!0,ol(jt))this.events.next(new er(Re.id,this.urlSerializer.serialize(Re.extractedUrl),jt.message,jt.cancellationCode)),function Rl(z){return ol(z)&&bn(z.url)}(jt)?this.events.next(new so(jt.url)):Re.resolve(!1);else{this.events.next(new Io(Re.id,this.urlSerializer.serialize(Re.extractedUrl),jt,Re.targetSnapshot??void 0));try{Re.resolve(U.errorHandler(jt))}catch(Ei){Re.reject(Ei)}}return qe.E}))}))}cancelNavigationTransition(U,te,fe){const Re=new er(U.id,this.urlSerializer.serialize(U.extractedUrl),te,fe);this.events.next(Re),U.resolve(!1)}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function uo(z){return z!==pa}let ua=(()=>{class z{buildTitle(U){let te,fe=U.root;for(;void 0!==fe;)te=this.getResolvedTitleForRoute(fe)??te,fe=fe.children.find(Re=>Re.outlet===It);return te}getResolvedTitleForRoute(U){return U.data[cn]}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:function(){return(0,M.inject)(Ta)},providedIn:"root"})}return z})(),Ta=(()=>{class z extends ua{constructor(U){super(),this.title=U}updateTitle(U){const te=this.buildTitle(U);void 0!==te&&this.title.setTitle(te)}static#e=this.\u0275fac=function(te){return new(te||z)(M.\u0275\u0275inject(Dt.Title))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),oa=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:function(){return(0,M.inject)(Rr)},providedIn:"root"})}return z})();class Xa{shouldDetach(Q){return!1}store(Q,U){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,U){return Q.routeConfig===U.routeConfig}}let Rr=(()=>{class z extends Xa{static#e=this.\u0275fac=function(){let U;return function(fe){return(U||(U=M.\u0275\u0275getInheritedFactory(z)))(fe||z)}}();static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Wi=new M.InjectionToken("",{providedIn:"root",factory:()=>({})});let Eo=(()=>{class z{static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:function(){return(0,M.inject)(hi)},providedIn:"root"})}return z})(),hi=(()=>{class z{shouldProcessUrl(U){return!0}extract(U){return U}merge(U,te){return U}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();var kr=function(z){return z[z.COMPLETE=0]="COMPLETE",z[z.FAILED=1]="FAILED",z[z.REDIRECTING=2]="REDIRECTING",z}(kr||{});function nr(z,Q){z.events.pipe((0,Rt.h)(U=>U instanceof ks||U instanceof er||U instanceof Io||U instanceof Ko),(0,xt.U)(U=>U instanceof ks||U instanceof Ko?kr.COMPLETE:U instanceof er&&(0===U.code||1===U.code)?kr.REDIRECTING:kr.FAILED),(0,Rt.h)(U=>U!==kr.REDIRECTING),(0,qi.q)(1)).subscribe(()=>{Q()})}function Ur(z){throw z}function ns(z,Q,U){return Q.parse("/")}const Ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class z{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,M.inject)(M.\u0275Console),this.isNgZoneEnabled=!1,this._events=new rn.x,this.options=(0,M.inject)(Wi,{optional:!0})||{},this.pendingTasks=(0,M.inject)(M.\u0275InitialRenderPendingTasks),this.errorHandler=this.options.errorHandler||Ur,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ns,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,M.inject)(Eo),this.routeReuseStrategy=(0,M.inject)(oa),this.titleStrategy=(0,M.inject)(ua),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,M.inject)(Ui,{optional:!0})?.flat()??[],this.navigationTransitions=(0,M.inject)(To),this.urlSerializer=(0,M.inject)(ji),this.location=(0,M.inject)(an.Location),this.componentInputBindingEnabled=!!(0,M.inject)(rl,{optional:!0}),this.eventsSubscription=new bt.w0,this.isNgZoneEnabled=(0,M.inject)(M.NgZone)instanceof M.NgZone&&M.NgZone.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ns,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=as(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(U=>{this.lastSuccessfulId=U.id,this.currentPageId=this.browserPageId},U=>{this.console.warn(`Unhandled Navigation Error: ${U}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const U=this.navigationTransitions.events.subscribe(te=>{try{const{currentTransition:fe}=this.navigationTransitions;if(null===fe)return void(Ao(te)&&this._events.next(te));if(te instanceof tl)uo(fe.source)&&(this.browserUrlTree=fe.extractedUrl);else if(te instanceof Ko)this.rawUrlTree=fe.rawUrl;else if(te instanceof Il){if("eager"===this.urlUpdateStrategy){if(!fe.extras.skipLocationChange){const Re=this.urlHandlingStrategy.merge(fe.urlAfterRedirects,fe.rawUrl);this.setBrowserUrl(Re,fe)}this.browserUrlTree=fe.urlAfterRedirects}}else if(te instanceof Oa)this.currentUrlTree=fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(fe.urlAfterRedirects,fe.rawUrl),this.routerState=fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,fe),this.browserUrlTree=fe.urlAfterRedirects);else if(te instanceof er)0!==te.code&&1!==te.code&&(this.navigated=!0),(3===te.code||2===te.code)&&this.restoreHistory(fe);else if(te instanceof so){const Re=this.urlHandlingStrategy.merge(te.url,fe.currentRawUrl),at={skipLocationChange:fe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uo(fe.source)};this.scheduleNavigation(Re,pa,null,at,{resolve:fe.resolve,reject:fe.reject,promise:fe.promise})}te instanceof Io&&this.restoreHistory(fe,!0),te instanceof ks&&(this.navigated=!0),Ao(te)&&this._events.next(te)}catch(fe){this.navigationTransitions.transitionAbortSubject.next(fe)}});this.eventsSubscription.add(U)}resetRootComponentType(U){this.routerState.root.component=U,this.navigationTransitions.rootComponentType=U}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const U=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pa,U)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(U=>{const te="popstate"===U.type?"popstate":"hashchange";"popstate"===te&&setTimeout(()=>{this.navigateToSyncWithBrowser(U.url,te,U.state)},0)}))}navigateToSyncWithBrowser(U,te,fe){const Re={replaceUrl:!0},at=fe?.navigationId?fe:null;if(fe){const jt={...fe};delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(Re.state=jt)}const Mt=this.parseUrl(U);this.scheduleNavigation(Mt,te,at,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(U){this.config=U.map(kt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(U,te={}){const{relativeTo:fe,queryParams:Re,fragment:at,queryParamsHandling:Mt,preserveFragment:jt}=te,Ei=jt?this.currentUrlTree.fragment:at;let ps,ir=null;switch(Mt){case"merge":ir={...this.currentUrlTree.queryParams,...Re};break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=Re||null}null!==ir&&(ir=this.removeEmptyProps(ir));try{ps=Ri(fe?fe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof U[0]||!U[0].startsWith("/"))&&(U=[]),ps=this.currentUrlTree.root}return fi(ps,U,ir,Ei??null)}navigateByUrl(U,te={skipLocationChange:!1}){const fe=bn(U)?U:this.parseUrl(U),Re=this.urlHandlingStrategy.merge(fe,this.rawUrlTree);return this.scheduleNavigation(Re,pa,null,te)}navigate(U,te={skipLocationChange:!1}){return function lo(z){for(let Q=0;Q<z.length;Q++)if(null==z[Q])throw new M.\u0275RuntimeError(4008,!1)}(U),this.navigateByUrl(this.createUrlTree(U,te),te)}serializeUrl(U){return this.urlSerializer.serialize(U)}parseUrl(U){let te;try{te=this.urlSerializer.parse(U)}catch(fe){te=this.malformedUriErrorHandler(fe,this.urlSerializer,U)}return te}isActive(U,te){let fe;if(fe=!0===te?{...Ro}:!1===te?{...Ds}:te,bn(U))return So(this.currentUrlTree,U,fe);const Re=this.parseUrl(U);return So(this.currentUrlTree,Re,fe)}removeEmptyProps(U){return Object.keys(U).reduce((te,fe)=>{const Re=U[fe];return null!=Re&&(te[fe]=Re),te},{})}scheduleNavigation(U,te,fe,Re,at){if(this.disposed)return Promise.resolve(!1);let Mt,jt,Ei;at?(Mt=at.resolve,jt=at.reject,Ei=at.promise):Ei=new Promise((ps,Bo)=>{Mt=ps,jt=Bo});const ir=this.pendingTasks.add();return nr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ir))}),this.navigationTransitions.handleNavigationRequest({source:te,restoredState:fe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:U,extras:Re,resolve:Mt,reject:jt,promise:Ei,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ei.catch(ps=>Promise.reject(ps))}setBrowserUrl(U,te){const fe=this.urlSerializer.serialize(U);if(this.location.isCurrentPathEqualTo(fe)||te.extras.replaceUrl){const at={...te.extras.state,...this.generateNgRouterState(te.id,this.browserPageId)};this.location.replaceState(fe,"",at)}else{const Re={...te.extras.state,...this.generateNgRouterState(te.id,this.browserPageId+1)};this.location.go(fe,"",Re)}}restoreHistory(U,te=!1){if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-this.browserPageId;0!==Re?this.location.historyGo(Re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Re&&(this.resetState(U),this.browserUrlTree=U.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(te&&this.resetState(U),this.resetUrlToCurrentUrlTree())}resetState(U){this.routerState=U.currentRouterState,this.currentUrlTree=U.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,U.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(U,te){return"computed"===this.canceledNavigationResolution?{navigationId:U,\u0275routerPageId:te}:{navigationId:U}}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function Ao(z){return!(z instanceof Oa||z instanceof so)}let Fr=(()=>{class z{constructor(U,te,fe,Re,at,Mt){this.router=U,this.route=te,this.tabIndexAttribute=fe,this.renderer=Re,this.el=at,this.locationStrategy=Mt,this.href=null,this.commands=null,this.onChanges=new rn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const jt=at.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===jt||"area"===jt,this.isAnchorElement?this.subscription=U.events.subscribe(Ei=>{Ei instanceof ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(U){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",U)}ngOnChanges(U){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(U){null!=U?(this.commands=Array.isArray(U)?U:[U],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(U,te,fe,Re,at){return!!(null===this.urlTree||this.isAnchorElement&&(0!==U||te||fe||Re||at||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const U=null===this.href?null:(0,M.\u0275\u0275sanitizeUrlOrResourceUrl)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",U)}applyAttributeValue(U,te){const fe=this.renderer,Re=this.el.nativeElement;null!==te?fe.setAttribute(Re,U,te):fe.removeAttribute(Re,U)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(te){return new(te||z)(M.\u0275\u0275directiveInject(wr),M.\u0275\u0275directiveInject(Va),M.\u0275\u0275injectAttribute("tabindex"),M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(an.LocationStrategy))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:z,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(te,fe){1&te&&M.\u0275\u0275listener("click",function(at){return fe.onClick(at.button,at.ctrlKey,at.shiftKey,at.altKey,at.metaKey)}),2&te&&M.\u0275\u0275attribute("target",fe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",M.booleanAttribute],skipLocationChange:["skipLocationChange","skipLocationChange",M.booleanAttribute],replaceUrl:["replaceUrl","replaceUrl",M.booleanAttribute],routerLink:"routerLink"},standalone:!0,features:[M.\u0275\u0275InputTransformsFeature,M.\u0275\u0275NgOnChangesFeature]})}return z})(),qa=(()=>{class z{get isActive(){return this._isActive}constructor(U,te,fe,Re,at){this.router=U,this.element=te,this.renderer=fe,this.cdr=Re,this.link=at,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new M.EventEmitter,this.routerEventsSubscription=U.events.subscribe(Mt=>{Mt instanceof ks&&this.update()})}ngAfterContentInit(){(0,y.of)(this.links.changes,(0,y.of)(null)).pipe((0,rt.J)()).subscribe(U=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const U=[...this.links.toArray(),this.link].filter(te=>!!te).map(te=>te.onChanges);this.linkInputChangesSubscription=(0,R.D)(U).pipe((0,rt.J)()).subscribe(te=>{this._isActive!==this.isLinkActive(this.router)(te)&&this.update()})}set routerLinkActive(U){const te=Array.isArray(U)?U:U.split(" ");this.classes=te.filter(fe=>!!fe)}ngOnChanges(U){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const U=this.hasActiveLinks();this._isActive!==U&&(this._isActive=U,this.cdr.markForCheck(),this.classes.forEach(te=>{U?this.renderer.addClass(this.element.nativeElement,te):this.renderer.removeClass(this.element.nativeElement,te)}),U&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(U))})}isLinkActive(U){const te=function Ms(z){return!!z.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return fe=>!!fe.urlTree&&U.isActive(fe.urlTree,te)}hasActiveLinks(){const U=this.isLinkActive(this.router);return this.link&&U(this.link)||this.links.some(U)}static#e=this.\u0275fac=function(te){return new(te||z)(M.\u0275\u0275directiveInject(wr),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.Renderer2),M.\u0275\u0275directiveInject(M.ChangeDetectorRef),M.\u0275\u0275directiveInject(Fr,8))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:z,selectors:[["","routerLinkActive",""]],contentQueries:function(te,fe,Re){if(1&te&&M.\u0275\u0275contentQuery(Re,Fr,5),2&te){let at;M.\u0275\u0275queryRefresh(at=M.\u0275\u0275loadQuery())&&(fe.links=at)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[M.\u0275\u0275NgOnChangesFeature]})}return z})();class va{}let sa=(()=>{class z{preload(U,te){return te().pipe($n(()=>(0,y.of)(null)))}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),el=(()=>{class z{preload(U,te){return(0,y.of)(null)}static#e=this.\u0275fac=function(te){return new(te||z)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),da=(()=>{class z{constructor(U,te,fe,Re,at){this.router=U,this.injector=fe,this.preloadingStrategy=Re,this.loader=at}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rt.h)(U=>U instanceof ks),(0,In.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(U,te){const fe=[];for(const Re of te){Re.providers&&!Re._injector&&(Re._injector=(0,M.createEnvironmentInjector)(Re.providers,U,`Route: ${Re.path}`));const at=Re._injector??U,Mt=Re._loadedInjector??at;(Re.loadChildren&&!Re._loadedRoutes&&void 0===Re.canLoad||Re.loadComponent&&!Re._loadedComponent)&&fe.push(this.preloadConfig(at,Re)),(Re.children||Re._loadedRoutes)&&fe.push(this.processRoutes(Mt,Re.children??Re._loadedRoutes))}return(0,R.D)(fe).pipe((0,rt.J)())}preloadConfig(U,te){return this.preloadingStrategy.preload(te,()=>{let fe;fe=te.loadChildren&&void 0===te.canLoad?this.loader.loadChildren(U,te):(0,y.of)(null);const Re=fe.pipe((0,Ut.z)(at=>null===at?(0,y.of)(void 0):(te._loadedRoutes=at.routes,te._loadedInjector=at.injector,this.processRoutes(at.injector??U,at.routes))));if(te.loadComponent&&!te._loadedComponent){const at=this.loader.loadComponent(te);return(0,R.D)([Re,at]).pipe((0,rt.J)())}return Re})}static#e=this.\u0275fac=function(te){return new(te||z)(M.\u0275\u0275inject(wr),M.\u0275\u0275inject(M.Compiler),M.\u0275\u0275inject(M.EnvironmentInjector),M.\u0275\u0275inject(va),M.\u0275\u0275inject(Je))};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Bi=new M.InjectionToken("");let Zs=(()=>{class z{constructor(U,te,fe,Re,at={}){this.urlSerializer=U,this.transitions=te,this.viewportScroller=fe,this.zone=Re,this.options=at,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},at.scrollPositionRestoration=at.scrollPositionRestoration||"disabled",at.anchorScrolling=at.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(U=>{U instanceof tl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=U.navigationTrigger,this.restoredId=U.restoredState?U.restoredState.navigationId:0):U instanceof ks?(this.lastId=U.id,this.scheduleScrollEvent(U,this.urlSerializer.parse(U.urlAfterRedirects).fragment)):U instanceof Ko&&0===U.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(U,this.urlSerializer.parse(U.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(U=>{U instanceof il&&(U.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(U.position):U.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(U.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(U,te){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new il(U,"popstate"===this.lastSource?this.store[this.restoredId]:null,te))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){M.\u0275\u0275invalidFactory()};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac})}return z})();function We(z,...Q){return(0,M.makeEnvironmentProviders)([{provide:Ui,multi:!0,useValue:z},[],{provide:Va,useFactory:T,deps:[wr]},{provide:M.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:xe},Q.map(U=>U.\u0275providers)])}function T(z){return z.routerState.root}function L(z,Q){return{\u0275kind:z,\u0275providers:Q}}function ce(z){return[{provide:Ui,multi:!0,useValue:z},[]]}function pe(z={}){return L(4,[{provide:Bi,useFactory:()=>{const U=(0,M.inject)(an.ViewportScroller),te=(0,M.inject)(M.NgZone),fe=(0,M.inject)(To),Re=(0,M.inject)(ji);return new Zs(Re,fe,U,te,z)}}])}function xe(){const z=(0,M.inject)(M.Injector);return Q=>{const U=z.get(M.ApplicationRef);if(Q!==U.components[0])return;const te=z.get(wr),fe=z.get(Be);1===z.get(Ke)&&te.initialNavigation(),z.get(qt,null,M.InjectFlags.Optional)?.setUpPreloading(),z.get(Bi,null,M.InjectFlags.Optional)?.init(),te.resetRootComponentType(U.componentTypes[0]),fe.closed||(fe.next(),fe.complete(),fe.unsubscribe())}}const Be=new M.InjectionToken("",{factory:()=>new rn.x}),Ke=new M.InjectionToken("",{providedIn:"root",factory:()=>1});function ot(){return L(2,[{provide:Ke,useValue:0},{provide:M.APP_INITIALIZER,multi:!0,deps:[M.Injector],useFactory:Q=>{const U=Q.get(an.LOCATION_INITIALIZED,Promise.resolve());return()=>U.then(()=>new Promise(te=>{const fe=Q.get(wr),Re=Q.get(Be);nr(fe,()=>{te(!0)}),Q.get(To).afterPreactivation=()=>(te(!0),Re.closed?(0,y.of)(void 0):Re),fe.initialNavigation()}))}}])}function Ft(){return L(3,[{provide:M.APP_INITIALIZER,multi:!0,useFactory:()=>{const Q=(0,M.inject)(wr);return()=>{Q.setUpLocationChangeListener()}}},{provide:Ke,useValue:2}])}function Kt(){let z=[];return z=[],L(1,z)}const qt=new M.InjectionToken("");function gn(z){return L(0,[{provide:qt,useExisting:da},{provide:va,useExisting:z}])}function Tt(z){return L(5,[{provide:Wi,useValue:z}])}function En(){return L(5,[{provide:an.LocationStrategy,useClass:an.HashLocationStrategy}])}function ni(z){return L(7,[{provide:M.ENVIRONMENT_INITIALIZER,multi:!0,useValue:()=>{const U=(0,M.inject)(M.EnvironmentInjector);(0,M.inject)(wr).events.subscribe(te=>{te instanceof Io&&U.runInContext(()=>z(te))})}}])}function ti(){return L(8,[co,{provide:rl,useExisting:co}])}const On=new M.InjectionToken("ROUTER_FORROOT_GUARD"),Kn=[an.Location,{provide:ji,useClass:io},wr,ta,{provide:Va,useFactory:T,deps:[wr]},Je,[]];function Fi(){return new M.NgProbeToken("Router",wr)}let ii=(()=>{class z{constructor(U){}static forRoot(U,te){return{ngModule:z,providers:[Kn,[],{provide:Ui,multi:!0,useValue:U},{provide:On,useFactory:qr,deps:[[wr,new M.Optional,new M.SkipSelf]]},{provide:Wi,useValue:te||{}},te?.useHash?{provide:an.LocationStrategy,useClass:an.HashLocationStrategy}:{provide:an.LocationStrategy,useClass:an.PathLocationStrategy},{provide:Bi,useFactory:()=>{const z=(0,M.inject)(an.ViewportScroller),Q=(0,M.inject)(M.NgZone),U=(0,M.inject)(Wi),te=(0,M.inject)(To),fe=(0,M.inject)(ji);return U.scrollOffset&&z.setOffset(U.scrollOffset),new Zs(fe,te,z,Q,U)}},te?.preloadingStrategy?gn(te.preloadingStrategy).\u0275providers:[],{provide:M.NgProbeToken,multi:!0,useFactory:Fi},te?.initialNavigation?Ps(te):[],te?.bindToComponentInputs?ti().\u0275providers:[],[{provide:is,useFactory:xe},{provide:M.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:is}]]}}static forChild(U){return{ngModule:z,providers:[{provide:Ui,multi:!0,useValue:U}]}}static#e=this.\u0275fac=function(te){return new(te||z)(M.\u0275\u0275inject(On,8))};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:z});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({})}return z})();function qr(z){return"guarded"}function Ps(z){return["disabled"===z.initialNavigation?Ft().\u0275providers:[],"enabledBlocking"===z.initialNavigation?ot().\u0275providers:[]]}const is=new M.InjectionToken("");function Da(z){return z.map(Q=>(...U)=>(0,M.inject)(Q).canMatch(...U))}function rs(z){return z.map(Q=>(...U)=>(0,M.inject)(Q).canActivate(...U))}function Ks(z){return z.map(Q=>(...U)=>(0,M.inject)(Q).canActivateChild(...U))}function Nl(z){return z.map(Q=>(...U)=>(0,M.inject)(Q).canDeactivate(...U))}function sc(z){return(...Q)=>(0,M.inject)(z).resolve(...Q)}const Ll=new M.Version("16.2.12")},3185:(Ge,u,_)=>{"use strict";_.r(u),_.d(u,{BaseChartDirective:()=>s_,NgChartsConfiguration:()=>Hp,NgChartsModule:()=>Sy,ThemeService:()=>_y,baseColors:()=>by});var M=_(6689);function K(a){return a+.5|0}const G=(a,l,s)=>Math.max(Math.min(a,s),l);function W(a){return G(K(2.55*a),0,255)}function y(a){return G(K(255*a),0,255)}function h(a){return G(K(a/2.55)/100,0,1)}function E(a){return G(K(100*a),0,100)}const P={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F=[..."0123456789ABCDEF"],B=a=>F[15&a],k=a=>F[(240&a)>>4]+F[15&a],ne=a=>(240&a)>>4==(15&a);const Qe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rt(a,l,s){const f=l*Math.min(s,1-s),g=(S,w=(S+a/30)%12)=>s-f*Math.max(Math.min(w-3,9-w,1),-1);return[g(0),g(8),g(4)]}function Se(a,l,s){const f=(g,S=(g+a/60)%6)=>s-s*l*Math.max(Math.min(S,4-S,1),0);return[f(5),f(3),f(1)]}function Ee(a,l,s){const f=rt(a,1,.5);let g;for(l+s>1&&(g=1/(l+s),l*=g,s*=g),g=0;g<3;g++)f[g]*=1-l-s,f[g]+=l;return f}function Ze(a){const s=a.r/255,f=a.g/255,g=a.b/255,S=Math.max(s,f,g),w=Math.min(s,f,g),D=(S+w)/2;let N,J,ue;return S!==w&&(ue=S-w,J=D>.5?ue/(2-S-w):ue/(S+w),N=function Ne(a,l,s,f,g){return a===g?(l-s)/f+(l<s?6:0):l===g?(s-a)/f+2:(a-l)/f+4}(s,f,g,ue,S),N=60*N+.5),[0|N,J||0,D]}function je(a,l,s,f){return(Array.isArray(l)?a(l[0],l[1],l[2]):a(l,s,f)).map(y)}function be(a,l,s){return je(rt,a,l,s)}function Nt(a){return(a%360+360)%360}const an={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let qi;const Rt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,In=a=>a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055,_n=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function Pn(a,l,s){if(a){let f=Ze(a);f[l]=Math.max(0,Math.min(f[l]+f[l]*s,0===l?360:1)),f=be(f),a.r=f[0],a.g=f[1],a.b=f[2]}}function to(a,l){return a&&Object.assign(l||{},a)}function Gn(a){var l={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(l={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(l.a=y(a[3]))):(l=to(a,{r:0,g:0,b:0,a:1})).a=y(l.a),l}function wi(a){return"r"===a.charAt(0)?function Ut(a){const l=Rt.exec(a);let f,g,S,s=255;if(l){if(l[7]!==f){const w=+l[7];s=l[8]?W(w):G(255*w,0,255)}return f=+l[1],g=+l[3],S=+l[5],f=255&(l[2]?W(f):G(f,0,255)),g=255&(l[4]?W(g):G(g,0,255)),S=255&(l[6]?W(S):G(S,0,255)),{r:f,g,b:S,a:s}}}(a):function _t(a){const l=Qe.exec(a);let f,s=255;if(!l)return;l[5]!==f&&(s=l[6]?W(+l[5]):y(+l[5]));const g=Nt(+l[2]),S=+l[3]/100,w=+l[4]/100;return f="hwb"===l[1]?function qe(a,l,s){return je(Ee,a,l,s)}(g,S,w):"hsv"===l[1]?function bt(a,l,s){return je(Se,a,l,s)}(g,S,w):be(g,S,w),{r:f[0],g:f[1],b:f[2],a:s}}(a)}class _r{constructor(l){if(l instanceof _r)return l;const s=typeof l;let f;"object"===s?f=Gn(l):"string"===s&&(f=function de(a){var s,l=a.length;return"#"===a[0]&&(4===l||5===l?s={r:255&17*P[a[1]],g:255&17*P[a[2]],b:255&17*P[a[3]],a:5===l?17*P[a[4]]:255}:(7===l||9===l)&&(s={r:P[a[1]]<<4|P[a[2]],g:P[a[3]]<<4|P[a[4]],b:P[a[5]]<<4|P[a[6]],a:9===l?P[a[7]]<<4|P[a[8]]:255})),s}(l)||function Lt(a){qi||(qi=function Zn(){const a={},l=Object.keys(xt),s=Object.keys(an);let f,g,S,w,D;for(f=0;f<l.length;f++){for(w=D=l[f],g=0;g<s.length;g++)S=s[g],D=D.replace(S,an[S]);S=parseInt(xt[w],16),a[D]=[S>>16&255,S>>8&255,255&S]}return a}(),qi.transparent=[0,0,0,0]);const l=qi[a.toLowerCase()];return l&&{r:l[0],g:l[1],b:l[2],a:4===l.length?l[3]:255}}(l)||wi(l)),this._rgb=f,this._valid=!!f}get valid(){return this._valid}get rgb(){var l=to(this._rgb);return l&&(l.a=h(l.a)),l}set rgb(l){this._rgb=Gn(l)}rgbString(){return this._valid?function on(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${h(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Oe(a){var l=(a=>ne(a.r)&&ne(a.g)&&ne(a.b)&&ne(a.a))(a)?B:k;return a?"#"+l(a.r)+l(a.g)+l(a.b)+((a,l)=>a<255?l(a):"")(a.a,l):void 0}(this._rgb):void 0}hslString(){return this._valid?function rn(a){if(!a)return;const l=Ze(a),s=l[0],f=E(l[1]),g=E(l[2]);return a.a<255?`hsla(${s}, ${f}%, ${g}%, ${h(a.a)})`:`hsl(${s}, ${f}%, ${g}%)`}(this._rgb):void 0}mix(l,s){if(l){const f=this.rgb,g=l.rgb;let S;const w=s===S?.5:s,D=2*w-1,N=f.a-g.a,J=((D*N==-1?D:(D+N)/(1+D*N))+1)/2;S=1-J,f.r=255&J*f.r+S*g.r+.5,f.g=255&J*f.g+S*g.g+.5,f.b=255&J*f.b+S*g.b+.5,f.a=w*f.a+(1-w)*g.a,this.rgb=f}return this}interpolate(l,s){return l&&(this._rgb=function $n(a,l,s){const f=_n(h(a.r)),g=_n(h(a.g)),S=_n(h(a.b));return{r:y(In(f+s*(_n(h(l.r))-f))),g:y(In(g+s*(_n(h(l.g))-g))),b:y(In(S+s*(_n(h(l.b))-S))),a:a.a+s*(l.a-a.a)}}(this._rgb,l._rgb,s)),this}clone(){return new _r(this.rgb)}alpha(l){return this._rgb.a=y(l),this}clearer(l){return this._rgb.a*=1-l,this}greyscale(){const l=this._rgb,s=K(.3*l.r+.59*l.g+.11*l.b);return l.r=l.g=l.b=s,this}opaquer(l){return this._rgb.a*=1+l,this}negate(){const l=this._rgb;return l.r=255-l.r,l.g=255-l.g,l.b=255-l.b,this}lighten(l){return Pn(this._rgb,2,l),this}darken(l){return Pn(this._rgb,2,-l),this}saturate(l){return Pn(this._rgb,1,l),this}desaturate(l){return Pn(this._rgb,1,-l),this}rotate(l){return function en(a,l){var s=Ze(a);s[0]=Nt(s[0]+l),s=be(s),a.r=s[0],a.g=s[1],a.b=s[2]}(this._rgb,l),this}}function Yr(){}const Lo=(()=>{let a=0;return()=>a++})();function dt(a){return null==a}function et(a){if(Array.isArray&&Array.isArray(a))return!0;const l=Object.prototype.toString.call(a);return"[object"===l.slice(0,7)&&"Array]"===l.slice(-6)}function Dt(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}function It(a){return("number"==typeof a||a instanceof Number)&&isFinite(+a)}function cn(a,l){return It(a)?a:l}function tn(a,l){return typeof a>"u"?l:a}const zi=(a,l)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*l:+a;function oi(a,l,s){if(a&&"function"==typeof a.call)return a.apply(s,l)}function Rn(a,l,s,f){let g,S,w;if(et(a))if(S=a.length,f)for(g=S-1;g>=0;g--)l.call(s,a[g],g);else for(g=0;g<S;g++)l.call(s,a[g],g);else if(Dt(a))for(w=Object.keys(a),S=w.length,g=0;g<S;g++)l.call(s,a[w[g]],w[g])}function ci(a,l){let s,f,g,S;if(!a||!l||a.length!==l.length)return!1;for(s=0,f=a.length;s<f;++s)if(g=a[s],S=l[s],g.datasetIndex!==S.datasetIndex||g.index!==S.index)return!1;return!0}function Vr(a){if(et(a))return a.map(Vr);if(Dt(a)){const l=Object.create(null),s=Object.keys(a),f=s.length;let g=0;for(;g<f;++g)l[s[g]]=Vr(a[s[g]]);return l}return a}function no(a){return-1===["__proto__","prototype","constructor"].indexOf(a)}function wo(a,l,s,f){if(!no(a))return;const g=l[a],S=s[a];Dt(g)&&Dt(S)?Xi(g,S,f):l[a]=Vr(S)}function Xi(a,l,s){const f=et(l)?l:[l],g=f.length;if(!Dt(a))return a;const S=(s=s||{}).merger||wo;let w;for(let D=0;D<g;++D){if(w=f[D],!Dt(w))continue;const N=Object.keys(w);for(let J=0,ue=N.length;J<ue;++J)S(N[J],a,w,s)}return a}function So(a,l){return Xi(a,l,{merger:zo})}function zo(a,l,s){if(!no(a))return;const f=l[a],g=s[a];Dt(f)&&Dt(g)?So(f,g):Object.prototype.hasOwnProperty.call(l,a)||(l[a]=Vr(g))}const oo={"":a=>a,x:a=>a.x,y:a=>a.y};function zr(a,l){return(oo[l]||(oo[l]=function xo(a){const l=function ar(a){const l=a.split("."),s=[];let f="";for(const g of l)f+=g,f.endsWith("\\")?f=f.slice(0,-1)+".":(s.push(f),f="");return s}(a);return s=>{for(const f of l){if(""===f)break;s=s&&s[f]}return s}}(l)))(a)}function Ns(a){return a.charAt(0).toUpperCase()+a.slice(1)}const xi=a=>typeof a<"u",Zo=a=>"function"==typeof a,Ha=(a,l)=>{if(a.size!==l.size)return!1;for(const s of a)if(!l.has(s))return!1;return!0},ki=Math.PI,ji=2*ki,io=ji+ki,gs=Number.POSITIVE_INFINITY,Ss=ki/180,ro=ki/2,Ls=ki/4,Gt=2*ki/3,Bt=Math.log10,ze=Math.sign;function ct(a,l,s){return Math.abs(a-l)<s}function Wt(a){const l=Math.round(a);a=ct(a,l,a/1e3)?l:a;const s=Math.pow(10,Math.floor(Bt(a))),f=a/s;return(f<=1?1:f<=2?2:f<=5?5:10)*s}function br(a){return!function di(a){return"symbol"==typeof a||"object"==typeof a&&null!==a&&!(Symbol.toPrimitive in a||"toString"in a||"valueOf"in a)}(a)&&!isNaN(parseFloat(a))&&isFinite(a)}function es(a,l,s){let f,g,S;for(f=0,g=a.length;f<g;f++)S=a[f][s],isNaN(S)||(l.min=Math.min(l.min,S),l.max=Math.max(l.max,S))}function cs(a){return a*(ki/180)}function Zi(a){return a*(180/ki)}function ha(a){if(!It(a))return;let l=1,s=0;for(;Math.round(a*l)/l!==a;)l*=10,s++;return s}function ko(a,l){const s=l.x-a.x,f=l.y-a.y,g=Math.sqrt(s*s+f*f);let S=Math.atan2(f,s);return S<-.5*ki&&(S+=ji),{angle:S,distance:g}}function Gr(a,l){return Math.sqrt(Math.pow(l.x-a.x,2)+Math.pow(l.y-a.y,2))}function ht(a,l){return(a-l+io)%ji-ki}function ut(a){return(a%ji+ji)%ji}function nt(a,l,s,f){const g=ut(a),S=ut(l),w=ut(s),D=ut(S-g),N=ut(w-g),J=ut(g-S),ue=ut(g-w);return g===S||g===w||f&&S===w||D>N&&J<ue}function Pt(a,l,s){return Math.max(l,Math.min(s,a))}function bn(a,l,s,f=1e-6){return a>=Math.min(l,s)-f&&a<=Math.max(l,s)+f}function Fn(a,l,s){s=s||(w=>a[w]<l);let S,f=a.length-1,g=0;for(;f-g>1;)S=g+f>>1,s(S)?g=S:f=S;return{lo:g,hi:f}}const Ri=(a,l,s,f)=>Fn(a,s,f?g=>{const S=a[g][l];return S<s||S===s&&a[g+1][l]===s}:g=>a[g][l]<s),fi=(a,l,s)=>Fn(a,s,f=>a[f][l]>=s),ho=["push","pop","shift","splice","unshift"];function Wr(a,l){const s=a._chartjs;if(!s)return;const f=s.listeners,g=f.indexOf(l);-1!==g&&f.splice(g,1),!(f.length>0)&&(ho.forEach(S=>{delete a[S]}),delete a._chartjs)}function pr(a){const l=new Set(a);return l.size===a.length?a:Array.from(l)}const Ki=typeof window>"u"?function(a){return a()}:window.requestAnimationFrame;function Ir(a,l){let s=[],f=!1;return function(...g){s=g,f||(f=!0,Ki.call(window,()=>{f=!1,a.apply(l,s)}))}}const Rs=a=>"start"===a?"left":"end"===a?"right":"center",Di=(a,l,s)=>"start"===a?l:"end"===a?s:(l+s)/2;function Ba(a,l,s){const f=l.length;let g=0,S=f;if(a._sorted){const{iScale:w,vScale:D,_parsed:N}=a,J=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null,ue=w.axis,{min:Me,max:Le,minDefined:Xe,maxDefined:gt}=w.getUserBounds();if(Xe){if(g=Math.min(Ri(N,ue,Me).lo,s?f:Ri(l,ue,w.getPixelForValue(Me)).lo),J){const vt=N.slice(0,g+1).reverse().findIndex(St=>!dt(St[D.axis]));g-=Math.max(0,vt)}g=Pt(g,0,f-1)}if(gt){let vt=Math.max(Ri(N,w.axis,Le,!0).hi+1,s?0:Ri(l,ue,w.getPixelForValue(Le),!0).hi+1);if(J){const St=N.slice(vt-1).findIndex(mn=>!dt(mn[D.axis]));vt+=Math.max(0,St)}S=Pt(vt,g,f)-g}else S=f-g}return{start:g,count:S}}function Qs(a){const{xScale:l,yScale:s,_scaleRanges:f}=a,g={xmin:l.min,xmax:l.max,ymin:s.min,ymax:s.max};if(!f)return a._scaleRanges=g,!0;const S=f.xmin!==l.min||f.xmax!==l.max||f.ymin!==s.min||f.ymax!==s.max;return Object.assign(f,g),S}const ss=a=>0===a||1===a,aa=(a,l,s)=>-Math.pow(2,10*(a-=1))*Math.sin((a-l)*ji/s),vs=(a,l,s)=>Math.pow(2,-10*a)*Math.sin((a-l)*ji/s)+1,pa={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>1-Math.cos(a*ro),easeOutSine:a=>Math.sin(a*ro),easeInOutSine:a=>-.5*(Math.cos(ki*a)-1),easeInExpo:a=>0===a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1===a?1:1-Math.pow(2,-10*a),easeInOutExpo:a=>ss(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(2-Math.pow(2,-10*(2*a-1))),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>ss(a)?a:aa(a,.075,.3),easeOutElastic:a=>ss(a)?a:vs(a,.075,.3),easeInOutElastic:a=>ss(a)?a:a<.5?.5*aa(2*a,.1125,.45):.5+.5*vs(2*a-1,.1125,.45),easeInBack:a=>a*a*(2.70158*a-1.70158),easeOutBack:a=>(a-=1)*a*(2.70158*a+1.70158)+1,easeInOutBack(a){let l=1.70158;return(a/=.5)<1?a*a*((1+(l*=1.525))*a-l)*.5:.5*((a-=2)*a*((1+(l*=1.525))*a+l)+2)},easeInBounce:a=>1-pa.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>a<.5?.5*pa.easeInBounce(2*a):.5*pa.easeOutBounce(2*a-1)+.5};function Uo(a){if(a&&"object"==typeof a){const l=a.toString();return"[object CanvasPattern]"===l||"[object CanvasGradient]"===l}return!1}function tl(a){return Uo(a)?a:new _r(a)}function ks(a){return Uo(a)?a:new _r(a).saturate(.5).darken(.1).hexString()}const er=["x","y","borderWidth","radius","tension"],Ko=["color","borderColor","backgroundColor"],dl=new Map;function Us(a,l,s){return function El(a,l){l=l||{};const s=a+JSON.stringify(l);let f=dl.get(s);return f||(f=new Intl.NumberFormat(a,l),dl.set(s,f)),f}(l,s).format(a)}const fl={values:a=>et(a)?a:""+a,numeric(a,l,s){if(0===a)return"0";const f=this.chart.options.locale;let g,S=a;if(s.length>1){const J=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(J<1e-4||J>1e15)&&(g="scientific"),S=function nl(a,l){let s=l.length>3?l[2].value-l[1].value:l[1].value-l[0].value;return Math.abs(s)>=1&&a!==Math.floor(a)&&(s=a-Math.floor(a)),s}(a,s)}const w=Bt(Math.abs(S)),D=isNaN(w)?1:Math.max(Math.min(-1*Math.floor(w),20),0),N={notation:g,minimumFractionDigits:D,maximumFractionDigits:D};return Object.assign(N,this.options.ticks.format),Us(a,f,N)},logarithmic(a,l,s){if(0===a)return"0";const f=s[l].significand||a/Math.pow(10,Math.floor(Bt(a)));return[1,2,3,5,10,15].includes(f)||l>.8*s.length?fl.numeric.call(this,a,l,s):""}};var mr={formatters:fl};const ea=Object.create(null),Nr=Object.create(null);function Sa(a,l){if(!l)return a;const s=l.split(".");for(let f=0,g=s.length;f<g;++f){const S=s[f];a=a[S]||(a[S]=Object.create(null))}return a}function il(a,l,s){return"string"==typeof l?Xi(Sa(a,l),s):Xi(Sa(a,""),l)}class Oa{constructor(l,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=f=>f.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(f,g)=>ks(g.backgroundColor),this.hoverBorderColor=(f,g)=>ks(g.borderColor),this.hoverColor=(f,g)=>ks(g.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(l),this.apply(s)}set(l,s){return il(this,l,s)}get(l){return Sa(this,l)}describe(l,s){return il(Nr,l,s)}override(l,s){return il(ea,l,s)}route(l,s,f,g){const S=Sa(this,l),w=Sa(this,f),D="_"+s;Object.defineProperties(S,{[D]:{value:S[s],writable:!0},[s]:{enumerable:!0,get(){const N=this[D],J=w[g];return Dt(N)?Object.assign({},J,N):tn(N,J)},set(N){this[D]=N}}})}apply(l){l.forEach(s=>s(this))}}var so=new Oa({_scriptable:a=>!a.startsWith("on"),_indexable:a=>"events"!==a,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Io(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:l=>"onProgress"!==l&&"onComplete"!==l&&"fn"!==l}),a.set("animations",{colors:{type:"color",properties:Ko},numbers:{type:"number",properties:er}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:l=>0|l}}}})},function Il(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function qs(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(l,s)=>s.lineWidth,tickColor:(l,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:l=>!l.startsWith("before")&&!l.startsWith("after")&&"callback"!==l&&"parser"!==l,_indexable:l=>"borderDash"!==l&&"tickBorderDash"!==l&&"dash"!==l}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:l=>"backdropPadding"!==l&&"callback"!==l,_indexable:l=>"backdropPadding"!==l})}]);function Ka(a,l,s,f,g){let S=l[g];return S||(S=l[g]=a.measureText(g).width,s.push(g)),S>f&&(f=S),f}function ta(a,l,s,f){let g=(f=f||{}).data=f.data||{},S=f.garbageCollect=f.garbageCollect||[];f.font!==l&&(g=f.data={},S=f.garbageCollect=[],f.font=l),a.save(),a.font=l;let w=0;const D=s.length;let N,J,ue,Me,Le;for(N=0;N<D;N++)if(Me=s[N],null==Me||et(Me)){if(et(Me))for(J=0,ue=Me.length;J<ue;J++)Le=Me[J],null!=Le&&!et(Le)&&(w=Ka(a,g,S,w,Le))}else w=Ka(a,g,S,w,Me);a.restore();const Xe=S.length/2;if(Xe>s.length){for(N=0;N<Xe;N++)delete g[S[N]];S.splice(0,Xe)}return w}function Jo(a,l,s){const f=a.currentDevicePixelRatio,g=0!==s?Math.max(s/2,.5):0;return Math.round((l-g)*f)/f+g}function Ga(a,l){!l&&!a||((l=l||a.getContext("2d")).save(),l.resetTransform(),l.clearRect(0,0,a.width,a.height),l.restore())}function Hr(a,l,s,f){jo(a,l,s,f,null)}function jo(a,l,s,f,g){let S,w,D,N,J,ue,Me,Le;const Xe=l.pointStyle,gt=l.rotation,vt=l.radius;let St=(gt||0)*Ss;if(Xe&&"object"==typeof Xe&&(S=Xe.toString(),"[object HTMLImageElement]"===S||"[object HTMLCanvasElement]"===S))return a.save(),a.translate(s,f),a.rotate(St),a.drawImage(Xe,-Xe.width/2,-Xe.height/2,Xe.width,Xe.height),void a.restore();if(!(isNaN(vt)||vt<=0)){switch(a.beginPath(),Xe){default:g?a.ellipse(s,f,g/2,vt,0,0,ji):a.arc(s,f,vt,0,ji),a.closePath();break;case"triangle":ue=g?g/2:vt,a.moveTo(s+Math.sin(St)*ue,f-Math.cos(St)*vt),St+=Gt,a.lineTo(s+Math.sin(St)*ue,f-Math.cos(St)*vt),St+=Gt,a.lineTo(s+Math.sin(St)*ue,f-Math.cos(St)*vt),a.closePath();break;case"rectRounded":J=.516*vt,N=vt-J,w=Math.cos(St+Ls)*N,Me=Math.cos(St+Ls)*(g?g/2-J:N),D=Math.sin(St+Ls)*N,Le=Math.sin(St+Ls)*(g?g/2-J:N),a.arc(s-Me,f-D,J,St-ki,St-ro),a.arc(s+Le,f-w,J,St-ro,St),a.arc(s+Me,f+D,J,St,St+ro),a.arc(s-Le,f+w,J,St+ro,St+ki),a.closePath();break;case"rect":if(!gt){N=Math.SQRT1_2*vt,ue=g?g/2:N,a.rect(s-ue,f-N,2*ue,2*N);break}St+=Ls;case"rectRot":Me=Math.cos(St)*(g?g/2:vt),w=Math.cos(St)*vt,D=Math.sin(St)*vt,Le=Math.sin(St)*(g?g/2:vt),a.moveTo(s-Me,f-D),a.lineTo(s+Le,f-w),a.lineTo(s+Me,f+D),a.lineTo(s-Le,f+w),a.closePath();break;case"crossRot":St+=Ls;case"cross":Me=Math.cos(St)*(g?g/2:vt),w=Math.cos(St)*vt,D=Math.sin(St)*vt,Le=Math.sin(St)*(g?g/2:vt),a.moveTo(s-Me,f-D),a.lineTo(s+Me,f+D),a.moveTo(s+Le,f-w),a.lineTo(s-Le,f+w);break;case"star":Me=Math.cos(St)*(g?g/2:vt),w=Math.cos(St)*vt,D=Math.sin(St)*vt,Le=Math.sin(St)*(g?g/2:vt),a.moveTo(s-Me,f-D),a.lineTo(s+Me,f+D),a.moveTo(s+Le,f-w),a.lineTo(s-Le,f+w),St+=Ls,Me=Math.cos(St)*(g?g/2:vt),w=Math.cos(St)*vt,D=Math.sin(St)*vt,Le=Math.sin(St)*(g?g/2:vt),a.moveTo(s-Me,f-D),a.lineTo(s+Me,f+D),a.moveTo(s+Le,f-w),a.lineTo(s-Le,f+w);break;case"line":w=g?g/2:Math.cos(St)*vt,D=Math.sin(St)*vt,a.moveTo(s-w,f-D),a.lineTo(s+w,f+D);break;case"dash":a.moveTo(s,f),a.lineTo(s+Math.cos(St)*(g?g/2:vt),f+Math.sin(St)*vt);break;case!1:a.closePath()}a.fill(),l.borderWidth>0&&a.stroke()}}function Er(a,l,s){return s=s||.5,!l||a&&a.x>l.left-s&&a.x<l.right+s&&a.y>l.top-s&&a.y<l.bottom+s}function na(a,l){a.save(),a.beginPath(),a.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),a.clip()}function as(a){a.restore()}function ls(a,l,s,f,g){if(!l)return a.lineTo(s.x,s.y);if("middle"===g){const S=(l.x+s.x)/2;a.lineTo(S,l.y),a.lineTo(S,s.y)}else"after"===g!=!!f?a.lineTo(l.x,s.y):a.lineTo(s.x,l.y);a.lineTo(s.x,s.y)}function Va(a,l,s,f){if(!l)return a.lineTo(s.x,s.y);a.bezierCurveTo(f?l.cp1x:l.cp2x,f?l.cp1y:l.cp2y,f?s.cp2x:s.cp1x,f?s.cp2y:s.cp1y,s.x,s.y)}function Ws(a,l,s,f,g){if(g.strikethrough||g.underline){const S=a.measureText(f),w=l-S.actualBoundingBoxLeft,D=l+S.actualBoundingBoxRight,J=s+S.actualBoundingBoxDescent,ue=g.strikethrough?(s-S.actualBoundingBoxAscent+J)/2:J;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=g.decorationWidth||2,a.moveTo(w,ue),a.lineTo(D,ue),a.stroke()}}function ma(a,l){const s=a.fillStyle;a.fillStyle=l.color,a.fillRect(l.left,l.top,l.width,l.height),a.fillStyle=s}function Lr(a,l,s,f,g,S={}){const w=et(l)?l:[l],D=S.strokeWidth>0&&""!==S.strokeColor;let N,J;for(a.save(),a.font=g.string,function xa(a,l){l.translation&&a.translate(l.translation[0],l.translation[1]),dt(l.rotation)||a.rotate(l.rotation),l.color&&(a.fillStyle=l.color),l.textAlign&&(a.textAlign=l.textAlign),l.textBaseline&&(a.textBaseline=l.textBaseline)}(a,S),N=0;N<w.length;++N)J=w[N],S.backdrop&&ma(a,S.backdrop),D&&(S.strokeColor&&(a.strokeStyle=S.strokeColor),dt(S.strokeWidth)||(a.lineWidth=S.strokeWidth),a.strokeText(J,s,f,S.maxWidth)),a.fillText(J,s,f,S.maxWidth),Ws(a,s,f,J,S),f+=Number(g.lineHeight);a.restore()}function Sn(a,l){const{x:s,y:f,w:g,h:S,radius:w}=l;a.arc(s+w.topLeft,f+w.topLeft,w.topLeft,1.5*ki,ki,!0),a.lineTo(s,f+S-w.bottomLeft),a.arc(s+w.bottomLeft,f+S-w.bottomLeft,w.bottomLeft,ki,ro,!0),a.lineTo(s+g-w.bottomRight,f+S),a.arc(s+g-w.bottomRight,f+S-w.bottomRight,w.bottomRight,ro,0,!0),a.lineTo(s+g,f+w.topRight),a.arc(s+g-w.topRight,f+w.topRight,w.topRight,0,-ro,!0),a.lineTo(s+w.topLeft,f)}const tr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,po=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function la(a,l){const s=(""+a).match(tr);if(!s||"normal"===s[1])return 1.2*l;switch(a=+s[2],s[3]){case"px":return a;case"%":a/=100}return l*a}const Ol=a=>+a||0;function ys(a,l){const s={},f=Dt(l),g=f?Object.keys(l):l,S=Dt(a)?f?w=>tn(a[w],a[l[w]]):w=>a[w]:()=>a;for(const w of g)s[w]=Ol(S(w));return s}function rl(a){return ys(a,{top:"y",right:"x",bottom:"y",left:"x"})}function co(a){return ys(a,["topLeft","topRight","bottomLeft","bottomRight"])}function sr(a){const l=rl(a);return l.width=l.left+l.right,l.height=l.top+l.bottom,l}function ao(a,l){let s=tn((a=a||{}).size,(l=l||so.font).size);"string"==typeof s&&(s=parseInt(s,10));let f=tn(a.style,l.style);f&&!(""+f).match(po)&&(console.warn('Invalid font style specified: "'+f+'"'),f=void 0);const g={family:tn(a.family,l.family),lineHeight:la(tn(a.lineHeight,l.lineHeight),s),size:s,style:f,weight:tn(a.weight,l.weight),string:""};return g.string=function vl(a){return!a||dt(a.size)||dt(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}(g),g}function Hi(a,l,s,f){let S,w,D,g=!0;for(S=0,w=a.length;S<w;++S)if(D=a[S],void 0!==D&&(void 0!==l&&"function"==typeof D&&(D=D(l),g=!1),void 0!==s&&et(D)&&(D=D[s%D.length],g=!1),void 0!==D))return f&&!g&&(f.cacheable=!1),D}function $s(a,l){return Object.assign(Object.create(a),l)}function Ja(a,l=[""],s,f,g=(()=>a[0])){const S=s||a;typeof f>"u"&&(f=mt("_fallback",a));const w={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:S,_fallback:f,_getTarget:g,override:D=>Ja([D,...a],l,S,f)};return new Proxy(w,{deleteProperty:(D,N)=>(delete D[N],delete D._keys,delete a[0][N],!0),get:(D,N)=>hl(D,N,()=>function De(a,l,s,f){let g;for(const S of l)if(g=mt(ol(S,a),s),typeof g<"u")return dr(a,g)?Yl(s,f,a,g):g}(N,l,a,D)),getOwnPropertyDescriptor:(D,N)=>Reflect.getOwnPropertyDescriptor(D._scopes[0],N),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(D,N)=>Ve(D).includes(N),ownKeys:D=>Ve(D),set(D,N,J){const ue=D._storage||(D._storage=g());return D[N]=ue[N]=J,delete D._keys,!0}})}function $o(a,l,s,f){const g={_cacheable:!1,_proxy:a,_context:l,_subProxy:s,_stack:new Set,_descriptors:Rl(a,f),setContext:S=>$o(a,S,s,f),override:S=>$o(a.override(S),l,s,f)};return new Proxy(g,{deleteProperty:(S,w)=>(delete S[w],delete a[w],!0),get:(S,w,D)=>hl(S,w,()=>function Fl(a,l,s){const{_proxy:f,_context:g,_subProxy:S,_descriptors:w}=a;let D=f[l];return Zo(D)&&w.isScriptable(l)&&(D=function Ra(a,l,s,f){const{_proxy:g,_context:S,_subProxy:w,_stack:D}=s;if(D.has(a))throw new Error("Recursion detected: "+Array.from(D).join("->")+"->"+a);D.add(a);let N=l(S,w||f);return D.delete(a),dr(a,N)&&(N=Yl(g._scopes,g,a,N)),N}(l,D,a,s)),et(D)&&D.length&&(D=function wl(a,l,s,f){const{_proxy:g,_context:S,_subProxy:w,_descriptors:D}=s;if(typeof S.index<"u"&&f(a))return l[S.index%l.length];if(Dt(l[0])){const N=l,J=g._scopes.filter(ue=>ue!==N);l=[];for(const ue of N){const Me=Yl(J,g,a,ue);l.push($o(Me,S,w&&w[a],D))}}return l}(l,D,a,w.isIndexable)),dr(l,D)&&(D=$o(D,g,S&&S[l],w)),D}(S,w,D)),getOwnPropertyDescriptor:(S,w)=>S._descriptors.allKeys?Reflect.has(a,w)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,w),getPrototypeOf:()=>Reflect.getPrototypeOf(a),has:(S,w)=>Reflect.has(a,w),ownKeys:()=>Reflect.ownKeys(a),set:(S,w,D)=>(a[w]=D,delete S[w],!0)})}function Rl(a,l={scriptable:!0,indexable:!0}){const{_scriptable:s=l.scriptable,_indexable:f=l.indexable,_allKeys:g=l.allKeys}=a;return{allKeys:g,scriptable:s,indexable:f,isScriptable:Zo(s)?s:()=>s,isIndexable:Zo(f)?f:()=>f}}const ol=(a,l)=>a?a+Ns(l):l,dr=(a,l)=>Dt(l)&&"adapters"!==a&&(null===Object.getPrototypeOf(l)||l.constructor===Object);function hl(a,l,s){if(Object.prototype.hasOwnProperty.call(a,l)||"constructor"===l)return a[l];const f=s();return a[l]=f,f}function Xs(a,l,s){return Zo(a)?a(l,s):a}const pl=(a,l)=>!0===a?l:"string"==typeof a?zr(l,a):void 0;function Kr(a,l,s,f,g){for(const S of l){const w=pl(s,S);if(w){a.add(w);const D=Xs(w._fallback,s,g);if(typeof D<"u"&&D!==s&&D!==f)return D}else if(!1===w&&typeof f<"u"&&s!==f)return null}return!1}function Yl(a,l,s,f){const g=l._rootScopes,S=Xs(l._fallback,s,f),w=[...a,...g],D=new Set;D.add(f);let N=Zl(D,w,s,S||s,f);return!(null===N||typeof S<"u"&&S!==s&&(N=Zl(D,w,S,N,f),null===N))&&Ja(Array.from(D),[""],g,S,()=>function kt(a,l,s){const f=a._getTarget();l in f||(f[l]={});const g=f[l];return et(g)&&Dt(s)?s:g||{}}(l,s,f))}function Zl(a,l,s,f,g){for(;s;)s=Kr(a,l,s,f,g);return s}function mt(a,l){for(const s of l){if(!s)continue;const f=s[a];if(typeof f<"u")return f}}function Ve(a){let l=a._keys;return l||(l=a._keys=function $e(a){const l=new Set;for(const s of a)for(const f of Object.keys(s).filter(g=>!g.startsWith("_")))l.add(f);return Array.from(l)}(a._scopes)),l}function Et(a,l,s,f){const{iScale:g}=a,{key:S="r"}=this._parsing,w=new Array(f);let D,N,J,ue;for(D=0,N=f;D<N;++D)J=D+s,ue=l[J],w[D]={r:g.parse(zr(ue,S),J)};return w}const fn=Number.EPSILON||1e-14,zt=(a,l)=>l<a.length&&!a[l].skip&&a[l],Xn=a=>"x"===a?"y":"x";function bi(a,l,s,f){const g=a.skip?l:a,S=l,w=s.skip?l:s,D=Gr(S,g),N=Gr(w,S);let J=D/(D+N),ue=N/(D+N);J=isNaN(J)?0:J,ue=isNaN(ue)?0:ue;const Me=f*J,Le=f*ue;return{previous:{x:S.x-Me*(w.x-g.x),y:S.y-Me*(w.y-g.y)},next:{x:S.x+Le*(w.x-g.x),y:S.y+Le*(w.y-g.y)}}}function nn(a,l,s){return Math.max(Math.min(a,s),l)}function Qo(a,l,s,f,g){let S,w,D,N;if(l.spanGaps&&(a=a.filter(J=>!J.skip)),"monotone"===l.cubicInterpolationMode)!function pi(a,l="x"){const s=Xn(l),f=a.length,g=Array(f).fill(0),S=Array(f);let w,D,N,J=zt(a,0);for(w=0;w<f;++w)if(D=N,N=J,J=zt(a,w+1),N){if(J){const ue=J[l]-N[l];g[w]=0!==ue?(J[s]-N[s])/ue:0}S[w]=D?J?ze(g[w-1])!==ze(g[w])?0:(g[w-1]+g[w])/2:g[w-1]:g[w]}(function Jr(a,l,s){const f=a.length;let g,S,w,D,N,J=zt(a,0);for(let ue=0;ue<f-1;++ue)if(N=J,J=zt(a,ue+1),N&&J){if(ct(l[ue],0,fn)){s[ue]=s[ue+1]=0;continue}g=s[ue]/l[ue],S=s[ue+1]/l[ue],D=Math.pow(g,2)+Math.pow(S,2),!(D<=9)&&(w=3/Math.sqrt(D),s[ue]=g*w*l[ue],s[ue+1]=S*w*l[ue])}})(a,g,S),function $r(a,l,s="x"){const f=Xn(s),g=a.length;let S,w,D,N=zt(a,0);for(let J=0;J<g;++J){if(w=D,D=N,N=zt(a,J+1),!D)continue;const ue=D[s],Me=D[f];w&&(S=(ue-w[s])/3,D[`cp1${s}`]=ue-S,D[`cp1${f}`]=Me-S*l[J]),N&&(S=(N[s]-ue)/3,D[`cp2${s}`]=ue+S,D[`cp2${f}`]=Me+S*l[J])}}(a,S,l)}(a,g);else{let J=f?a[a.length-1]:a[0];for(S=0,w=a.length;S<w;++S)D=a[S],N=bi(J,D,a[Math.min(S+1,w-(f?0:1))%w],l.tension),D.cp1x=N.previous.x,D.cp1y=N.previous.y,D.cp2x=N.next.x,D.cp2y=N.next.y,J=D}l.capBezierPoints&&function gr(a,l){let s,f,g,S,w,D=Er(a[0],l);for(s=0,f=a.length;s<f;++s)w=S,S=D,D=s<f-1&&Er(a[s+1],l),S&&(g=a[s],w&&(g.cp1x=nn(g.cp1x,l.left,l.right),g.cp1y=nn(g.cp1y,l.top,l.bottom)),D&&(g.cp2x=nn(g.cp2x,l.left,l.right),g.cp2y=nn(g.cp2y,l.top,l.bottom)))}(a,s)}function he(){return typeof window<"u"&&typeof document<"u"}function _e(a){let l=a.parentNode;return l&&"[object ShadowRoot]"===l.toString()&&(l=l.host),l}function re(a,l,s){let f;return"string"==typeof a?(f=parseInt(a,10),-1!==a.indexOf("%")&&(f=f/100*l.parentNode[s])):f=a,f}const Ae=a=>a.ownerDocument.defaultView.getComputedStyle(a,null),li=["top","right","bottom","left"];function mi(a,l,s){const f={};s=s?"-"+s:"";for(let g=0;g<4;g++){const S=li[g];f[S]=parseFloat(a[l+"-"+S+s])||0}return f.width=f.left+f.right,f.height=f.top+f.bottom,f}const lr=(a,l,s)=>(a>0||l>0)&&(!s||!s.shadowRoot);function xs(a,l){if("native"in a)return a;const{canvas:s,currentDevicePixelRatio:f}=l,g=Ae(s),S="border-box"===g.boxSizing,w=mi(g,"padding"),D=mi(g,"border","width"),{x:N,y:J,box:ue}=function ca(a,l){const s=a.touches,f=s&&s.length?s[0]:a,{offsetX:g,offsetY:S}=f;let D,N,w=!1;if(lr(g,S,a.target))D=g,N=S;else{const J=l.getBoundingClientRect();D=f.clientX-J.left,N=f.clientY-J.top,w=!0}return{x:D,y:N,box:w}}(a,s),Me=w.left+(ue&&D.left),Le=w.top+(ue&&D.top);let{width:Xe,height:gt}=l;return S&&(Xe-=w.width+D.width,gt-=w.height+D.height),{x:Math.round((N-Me)/Xe*s.width/f),y:Math.round((J-Le)/gt*s.height/f)}}const _s=a=>Math.round(10*a)/10;function Ca(a,l,s){const f=l||1,g=Math.floor(a.height*f),S=Math.floor(a.width*f);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const w=a.canvas;return w.style&&(s||!w.style.height&&!w.style.width)&&(w.style.height=`${a.height}px`,w.style.width=`${a.width}px`),(a.currentDevicePixelRatio!==f||w.height!==g||w.width!==S)&&(a.currentDevicePixelRatio=f,w.height=g,w.width=S,a.ctx.setTransform(f,0,0,f,0,0),!0)}const ia=function(){let a=!1;try{const l={get passive(){return a=!0,!1}};he()&&(window.addEventListener("test",null,l),window.removeEventListener("test",null,l))}catch{}return a}();function Fa(a,l){const s=function lt(a,l){return Ae(a).getPropertyValue(l)}(a,l),f=s&&s.match(/^(\d+)(\.\d+)?px$/);return f?+f[1]:void 0}function bs(a,l,s,f){return{x:a.x+s*(l.x-a.x),y:a.y+s*(l.y-a.y)}}function Cs(a,l,s,f){return{x:a.x+s*(l.x-a.x),y:"middle"===f?s<.5?a.y:l.y:"after"===f?s<1?a.y:l.y:s>0?l.y:a.y}}function Ea(a,l,s,f){const g={x:a.cp2x,y:a.cp2y},S={x:l.cp1x,y:l.cp1y},w=bs(a,g,s),D=bs(g,S,s),N=bs(S,l,s),J=bs(w,D,s),ue=bs(D,N,s);return bs(J,ue,s)}function vr(a,l,s){return a?function(a,l){return{x:s=>a+a+l-s,setWidth(s){l=s},textAlign:s=>"center"===s?s:"right"===s?"left":"right",xPlus:(s,f)=>s-f,leftForLtr:(s,f)=>s-f}}(l,s):{x:a=>a,setWidth(a){},textAlign:a=>a,xPlus:(a,l)=>a+l,leftForLtr:(a,l)=>a}}function fr(a,l){let s,f;("ltr"===l||"rtl"===l)&&(s=a.canvas.style,f=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",l,"important"),a.prevTextDirection=f)}function za(a,l){void 0!==l&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",l[0],l[1]))}function ln(a){return"angle"===a?{between:nt,compare:ht,normalize:ut}:{between:bn,compare:(l,s)=>l-s,normalize:l=>l}}function Ji({start:a,end:l,count:s,loop:f,style:g}){return{start:a%s,end:l%s,loop:f&&(l-a+1)%s==0,style:g}}function Ys(a,l,s){if(!s)return[a];const{property:f,start:g,end:S}=s,w=l.length,{compare:D,between:N,normalize:J}=ln(f),{start:ue,end:Me,loop:Le,style:Xe}=function ds(a,l,s){const{property:f,start:g,end:S}=s,{between:w,normalize:D}=ln(f),N=l.length;let Le,Xe,{start:J,end:ue,loop:Me}=a;if(Me){for(J+=N,ue+=N,Le=0,Xe=N;Le<Xe&&w(D(l[J%N][f]),g,S);++Le)J--,ue--;J%=N,ue%=N}return ue<J&&(ue+=N),{start:J,end:ue,loop:Me,style:a.style}}(a,l,s),gt=[];let mn,dn,qn,vt=!1,St=null;for(let Ci=ue,Ar=ue;Ci<=Me;++Ci)dn=l[Ci%w],!dn.skip&&(mn=J(dn[f]),mn!==qn&&(vt=N(mn,g,S),null===St&&(vt||N(g,qn,mn)&&0!==D(g,qn))&&(St=0===D(mn,g)?Ci:Ar),null!==St&&(!vt||0===D(S,mn)||N(S,qn,mn))&&(gt.push(Ji({start:St,end:Ci,loop:Le,count:w,style:Xe})),St=null),Ar=Ci,qn=mn));return null!==St&&gt.push(Ji({start:St,end:Me,loop:Le,count:w,style:Xe})),gt}function Qa(a,l){const s=[],f=a.segments;for(let g=0;g<f.length;g++){const S=Ys(f[g],a.points,l);S.length&&s.push(...S)}return s}function Bs(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function sl(a,l){if(!l)return!1;const s=[],f=function(g,S){return Uo(S)?(s.includes(S)||s.push(S),s.indexOf(S)):S};return JSON.stringify(a,f)!==JSON.stringify(l,f)}class yl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,s,f,g){const w=s.duration;s.listeners[g].forEach(D=>D({chart:l,initial:s.initial,numSteps:w,currentStep:Math.min(f-s.start,w)}))}_refresh(){this._request||(this._running=!0,this._request=Ki.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let s=0;this._charts.forEach((f,g)=>{if(!f.running||!f.items.length)return;const S=f.items;let N,w=S.length-1,D=!1;for(;w>=0;--w)N=S[w],N._active?(N._total>f.duration&&(f.duration=N._total),N.tick(l),D=!0):(S[w]=S[S.length-1],S.pop());D&&(g.draw(),this._notify(g,f,l,"progress")),S.length||(f.running=!1,this._notify(g,f,l,"complete"),f.initial=!1),s+=S.length}),this._lastDate=l,0===s&&(this._running=!1)}_getAnims(l){const s=this._charts;let f=s.get(l);return f||(f={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(l,f)),f}listen(l,s,f){this._getAnims(l).listeners[s].push(f)}add(l,s){!s||!s.length||this._getAnims(l).items.push(...s)}has(l){return this._getAnims(l).items.length>0}start(l){const s=this._charts.get(l);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((f,g)=>Math.max(f,g._duration),0),this._refresh())}running(l){if(!this._running)return!1;const s=this._charts.get(l);return!(!s||!s.running||!s.items.length)}stop(l){const s=this._charts.get(l);if(!s||!s.items.length)return;const f=s.items;let g=f.length-1;for(;g>=0;--g)f[g].cancel();s.items=[],this._notify(l,s,Date.now(),"complete")}remove(l){return this._charts.delete(l)}}var sn=new yl;const wa="transparent",Tl={boolean:(a,l,s)=>s>.5?l:a,color(a,l,s){const f=tl(a||wa),g=f.valid&&tl(l||wa);return g&&g.valid?g.mix(f,s).hexString():l},number:(a,l,s)=>a+(l-a)*s};class Qr{constructor(l,s,f,g){const S=s[f];g=Hi([l.to,g,S,l.from]);const w=Hi([l.from,S,g]);this._active=!0,this._fn=l.fn||Tl[l.type||typeof w],this._easing=pa[l.easing]||pa.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=s,this._prop=f,this._from=w,this._to=g,this._promises=void 0}active(){return this._active}update(l,s,f){if(this._active){this._notify(!1);const g=this._target[this._prop],S=f-this._start,w=this._duration-S;this._start=f,this._duration=Math.floor(Math.max(w,l.duration)),this._total+=S,this._loop=!!l.loop,this._to=Hi([l.to,s,g,l.from]),this._from=Hi([l.from,g,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const s=l-this._start,f=this._duration,g=this._prop,S=this._from,w=this._loop,D=this._to;let N;if(this._active=S!==D&&(w||s<f),!this._active)return this._target[g]=D,void this._notify(!0);s<0?this._target[g]=S:(N=s/f%2,N=w&&N>1?2-N:N,N=this._easing(Math.min(1,Math.max(0,N))),this._target[g]=this._fn(S,D,N))}wait(){const l=this._promises||(this._promises=[]);return new Promise((s,f)=>{l.push({res:s,rej:f})})}_notify(l){const s=l?"res":"rej",f=this._promises||[];for(let g=0;g<f.length;g++)f[g][s]()}}class hs{constructor(l,s){this._chart=l,this._properties=new Map,this.configure(s)}configure(l){if(!Dt(l))return;const s=Object.keys(so.animation),f=this._properties;Object.getOwnPropertyNames(l).forEach(g=>{const S=l[g];if(!Dt(S))return;const w={};for(const D of s)w[D]=S[D];(et(S.properties)&&S.properties||[g]).forEach(D=>{(D===g||!f.has(D))&&f.set(D,w)})})}_animateOptions(l,s){const f=s.options,g=function As(a,l){if(!l)return;let s=a.options;if(s)return s.$shared&&(a.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;a.options=l}(l,f);if(!g)return[];const S=this._createAnimations(g,f);return f.$shared&&function Ho(a,l){const s=[],f=Object.keys(l);for(let g=0;g<f.length;g++){const S=a[f[g]];S&&S.active()&&s.push(S.wait())}return Promise.all(s)}(l.options.$animations,f).then(()=>{l.options=f},()=>{}),S}_createAnimations(l,s){const f=this._properties,g=[],S=l.$animations||(l.$animations={}),w=Object.keys(s),D=Date.now();let N;for(N=w.length-1;N>=0;--N){const J=w[N];if("$"===J.charAt(0))continue;if("options"===J){g.push(...this._animateOptions(l,s));continue}const ue=s[J];let Me=S[J];const Le=f.get(J);if(Me){if(Le&&Me.active()){Me.update(Le,ue,D);continue}Me.cancel()}Le&&Le.duration?(S[J]=Me=new Qr(Le,l,J,ue),g.push(Me)):l[J]=ue}return g}update(l,s){if(0===this._properties.size)return void Object.assign(l,s);const f=this._createAnimations(l,s);return f.length?(sn.add(this._chart,f),!0):void 0}}function ml(a,l){const s=a&&a.options||{},f=s.reverse,g=void 0===s.min?l:0,S=void 0===s.max?l:0;return{start:f?S:g,end:f?g:S}}function Ce(a,l){const s=[],f=a._getSortedDatasetMetas(l);let g,S;for(g=0,S=f.length;g<S;++g)s.push(f[g].index);return s}function se(a,l,s,f={}){const g=a.keys,S="single"===f.mode;let w,D,N,J;if(null===l)return;let ue=!1;for(w=0,D=g.length;w<D;++w){if(N=+g[w],N===s){if(ue=!0,f.all)continue;break}J=a.values[N],It(J)&&(S||0===l||ze(l)===ze(J))&&(l+=J)}return ue||f.all?l:0}function Ue(a,l){const s=a&&a.options.stacked;return s||void 0===s&&void 0!==l.stack}function Mi(a,l,s){const f=a[l]||(a[l]={});return f[s]||(f[s]={})}function Oo(a,l,s,f){for(const g of l.getMatchingVisibleMetas(f).reverse()){const S=a[g.index];if(s&&S>0||!s&&S<0)return g.index}return null}function Co(a,l){const{chart:s,_cachedMeta:f}=a,g=s._stacks||(s._stacks={}),{iScale:S,vScale:w,index:D}=f,N=S.axis,J=w.axis,ue=function Xt(a,l,s){return`${a.id}.${l.id}.${s.stack||s.type}`}(S,w,f),Me=l.length;let Le;for(let Xe=0;Xe<Me;++Xe){const gt=l[Xe],{[N]:vt,[J]:St}=gt;Le=(gt._stacks||(gt._stacks={}))[J]=Mi(g,ue,vt),Le[D]=St,Le._top=Oo(Le,w,!0,f.type),Le._bottom=Oo(Le,w,!1,f.type),(Le._visualValues||(Le._visualValues={}))[D]=St}}function mo(a,l){const s=a.scales;return Object.keys(s).filter(f=>s[f].axis===l).shift()}function Si(a,l){const s=a.controller.index,f=a.vScale&&a.vScale.axis;if(f){l=l||a._parsed;for(const g of l){const S=g._stacks;if(!S||void 0===S[f]||void 0===S[f][s])return;delete S[f][s],void 0!==S[f]._visualValues&&void 0!==S[f]._visualValues[s]&&delete S[f]._visualValues[s]}}}const Es=a=>"reset"===a||"none"===a,Xo=(a,l)=>l?a:Object.assign({},a);let uo=(()=>class a{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,f){this.chart=s,this._ctx=s.ctx,this.index=f,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Ue(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Si(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,f=this._cachedMeta,g=this.getDataset(),S=(Le,Xe,gt,vt)=>"x"===Le?Xe:"r"===Le?vt:gt,w=f.xAxisID=tn(g.xAxisID,mo(s,"x")),D=f.yAxisID=tn(g.yAxisID,mo(s,"y")),N=f.rAxisID=tn(g.rAxisID,mo(s,"r")),J=f.indexAxis,ue=f.iAxisID=S(J,w,D,N),Me=f.vAxisID=S(J,D,w,N);f.xScale=this.getScaleForId(w),f.yScale=this.getScaleForId(D),f.rScale=this.getScaleForId(N),f.iScale=this.getScaleForId(ue),f.vScale=this.getScaleForId(Me)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const f=this._cachedMeta;return s===f.iScale?f.vScale:f.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&Wr(this._data,this),s._stacked&&Si(s)}_dataCheck(){const s=this.getDataset(),f=s.data||(s.data=[]),g=this._data;if(Dt(f))this._data=function ve(a,l){const{iScale:s,vScale:f}=l,g="x"===s.axis?"x":"y",S="x"===f.axis?"x":"y",w=Object.keys(a),D=new Array(w.length);let N,J,ue;for(N=0,J=w.length;N<J;++N)ue=w[N],D[N]={[g]:ue,[S]:a[ue]};return D}(f,this._cachedMeta);else if(g!==f){if(g){Wr(g,this);const S=this._cachedMeta;Si(S),S._parsed=[]}f&&Object.isExtensible(f)&&function Zr(a,l){a._chartjs?a._chartjs.listeners.push(l):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),ho.forEach(s=>{const f="_onData"+Ns(s),g=a[s];Object.defineProperty(a,s,{configurable:!0,enumerable:!1,value(...S){const w=g.apply(this,S);return a._chartjs.listeners.forEach(D=>{"function"==typeof D[f]&&D[f](...S)}),w}})}))}(f,this),this._syncList=[],this._data=f}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const f=this._cachedMeta,g=this.getDataset();let S=!1;this._dataCheck();const w=f._stacked;f._stacked=Ue(f.vScale,f),f.stack!==g.stack&&(S=!0,Si(f),f.stack=g.stack),this._resyncElements(s),(S||w!==f._stacked)&&(Co(this,f._parsed),f._stacked=Ue(f.vScale,f))}configure(){const s=this.chart.config,f=s.datasetScopeKeys(this._type),g=s.getOptionScopes(this.getDataset(),f,!0);this.options=s.createResolver(g,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,f){const{_cachedMeta:g,_data:S}=this,{iScale:w,_stacked:D}=g,N=w.axis;let Me,Le,Xe,J=0===s&&f===S.length||g._sorted,ue=s>0&&g._parsed[s-1];if(!1===this._parsing)g._parsed=S,g._sorted=!0,Xe=S;else{Xe=et(S[s])?this.parseArrayData(g,S,s,f):Dt(S[s])?this.parseObjectData(g,S,s,f):this.parsePrimitiveData(g,S,s,f);const gt=()=>null===Le[N]||ue&&Le[N]<ue[N];for(Me=0;Me<f;++Me)g._parsed[Me+s]=Le=Xe[Me],J&&(gt()&&(J=!1),ue=Le);g._sorted=J}D&&Co(this,Xe)}parsePrimitiveData(s,f,g,S){const{iScale:w,vScale:D}=s,N=w.axis,J=D.axis,ue=w.getLabels(),Me=w===D,Le=new Array(S);let Xe,gt,vt;for(Xe=0,gt=S;Xe<gt;++Xe)vt=Xe+g,Le[Xe]={[N]:Me||w.parse(ue[vt],vt),[J]:D.parse(f[vt],vt)};return Le}parseArrayData(s,f,g,S){const{xScale:w,yScale:D}=s,N=new Array(S);let J,ue,Me,Le;for(J=0,ue=S;J<ue;++J)Me=J+g,Le=f[Me],N[J]={x:w.parse(Le[0],Me),y:D.parse(Le[1],Me)};return N}parseObjectData(s,f,g,S){const{xScale:w,yScale:D}=s,{xAxisKey:N="x",yAxisKey:J="y"}=this._parsing,ue=new Array(S);let Me,Le,Xe,gt;for(Me=0,Le=S;Me<Le;++Me)Xe=Me+g,gt=f[Xe],ue[Me]={x:w.parse(zr(gt,N),Xe),y:D.parse(zr(gt,J),Xe)};return ue}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,f,g){const w=this._cachedMeta,D=f[s.axis];return se({keys:Ce(this.chart,!0),values:f._stacks[s.axis]._visualValues},D,w.index,{mode:g})}updateRangeFromParsed(s,f,g,S){const w=g[f.axis];let D=null===w?NaN:w;const N=S&&g._stacks[f.axis];S&&N&&(S.values=N,D=se(S,w,this._cachedMeta.index)),s.min=Math.min(s.min,D),s.max=Math.max(s.max,D)}getMinMax(s,f){const g=this._cachedMeta,S=g._parsed,w=g._sorted&&s===g.iScale,D=S.length,N=this._getOtherScale(s),J=((a,l,s)=>a&&!l.hidden&&l._stacked&&{keys:Ce(this.chart,!0),values:null})(f,g),ue={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Me,max:Le}=function Qt(a){const{min:l,max:s,minDefined:f,maxDefined:g}=a.getUserBounds();return{min:f?l:Number.NEGATIVE_INFINITY,max:g?s:Number.POSITIVE_INFINITY}}(N);let Xe,gt;function vt(){gt=S[Xe];const St=gt[N.axis];return!It(gt[s.axis])||Me>St||Le<St}for(Xe=0;Xe<D&&(vt()||(this.updateRangeFromParsed(ue,s,gt,J),!w));++Xe);if(w)for(Xe=D-1;Xe>=0;--Xe)if(!vt()){this.updateRangeFromParsed(ue,s,gt,J);break}return ue}getAllParsedValues(s){const f=this._cachedMeta._parsed,g=[];let S,w,D;for(S=0,w=f.length;S<w;++S)D=f[S][s.axis],It(D)&&g.push(D);return g}getMaxOverflow(){return!1}getLabelAndValue(s){const f=this._cachedMeta,g=f.iScale,S=f.vScale,w=this.getParsed(s);return{label:g?""+g.getLabelForValue(w[g.axis]):"",value:S?""+S.getLabelForValue(w[S.axis]):""}}_update(s){const f=this._cachedMeta;this.update(s||"default"),f._clip=function $(a){let l,s,f,g;return Dt(a)?(l=a.top,s=a.right,f=a.bottom,g=a.left):l=s=f=g=a,{top:l,right:s,bottom:f,left:g,disabled:!1===a}}(tn(this.options.clip,function ra(a,l,s){if(!1===s)return!1;const f=ml(a,s),g=ml(l,s);return{top:g.end,right:f.end,bottom:g.start,left:f.start}}(f.xScale,f.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,g=this._cachedMeta,S=g.data||[],w=this.chart.chartArea,D=[],N=this._drawStart||0,J=this._drawCount||S.length-N,ue=this.options.drawActiveElementsOnTop;let Me;for(g.dataset&&g.dataset.draw(s,w,N,J),Me=N;Me<N+J;++Me){const Le=S[Me];Le.hidden||(Le.active&&ue?D.push(Le):Le.draw(s,w))}for(Me=0;Me<D.length;++Me)D[Me].draw(s,w)}getStyle(s,f){const g=f?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(g):this.resolveDataElementOptions(s||0,g)}getContext(s,f,g){const S=this.getDataset();let w;if(s>=0&&s<this._cachedMeta.data.length){const D=this._cachedMeta.data[s];w=D.$context||(D.$context=function Je(a,l,s){return $s(a,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:s,index:l,mode:"default",type:"data"})}(this.getContext(),s,D)),w.parsed=this.getParsed(s),w.raw=S.data[s],w.index=w.dataIndex=s}else w=this.$context||(this.$context=function Ui(a,l){return $s(a,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),w.dataset=S,w.index=w.datasetIndex=this.index;return w.active=!!f,w.mode=g,w}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,f){return this._resolveElementOptions(this.dataElementType.id,f,s)}_resolveElementOptions(s,f="default",g){const S="active"===f,w=this._cachedDataOpts,D=s+"-"+f,N=w[D],J=this.enableOptionSharing&&xi(g);if(N)return Xo(N,J);const ue=this.chart.config,Me=ue.datasetElementScopeKeys(this._type,s),Le=S?[`${s}Hover`,"hover",s,""]:[s,""],Xe=ue.getOptionScopes(this.getDataset(),Me),gt=Object.keys(so.elements[s]),St=ue.resolveNamedOptions(Xe,gt,()=>this.getContext(g,S,f),Le);return St.$shared&&(St.$shared=J,w[D]=Object.freeze(Xo(St,J))),St}_resolveAnimations(s,f,g){const S=this.chart,w=this._cachedDataOpts,D=`animation-${f}`,N=w[D];if(N)return N;let J;if(!1!==S.options.animation){const Me=this.chart.config,Le=Me.datasetAnimationScopeKeys(this._type,f),Xe=Me.getOptionScopes(this.getDataset(),Le);J=Me.createResolver(Xe,this.getContext(s,g,f))}const ue=new hs(S,J&&J.animations);return J&&J._cacheable&&(w[D]=Object.freeze(ue)),ue}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,f){return!f||Es(s)||this.chart._animationsDisabled}_getSharedOptions(s,f){const g=this.resolveDataElementOptions(s,f),S=this._sharedOptions,w=this.getSharedOptions(g),D=this.includeOptions(f,w)||w!==S;return this.updateSharedOptions(w,f,g),{sharedOptions:w,includeOptions:D}}updateElement(s,f,g,S){Es(S)?Object.assign(s,g):this._resolveAnimations(f,S).update(s,g)}updateSharedOptions(s,f,g){s&&!Es(f)&&this._resolveAnimations(void 0,f).update(s,g)}_setStyle(s,f,g,S){s.active=S;const w=this.getStyle(f,S);this._resolveAnimations(f,g,S).update(s,{options:!S&&this.getSharedOptions(w)||w})}removeHoverStyle(s,f,g){this._setStyle(s,g,"active",!1)}setHoverStyle(s,f,g){this._setStyle(s,g,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const f=this._data,g=this._cachedMeta.data;for(const[N,J,ue]of this._syncList)this[N](J,ue);this._syncList=[];const S=g.length,w=f.length,D=Math.min(w,S);D&&this.parse(0,D),w>S?this._insertElements(S,w-S,s):w<S&&this._removeElements(w,S-w)}_insertElements(s,f,g=!0){const S=this._cachedMeta,w=S.data,D=s+f;let N;const J=ue=>{for(ue.length+=f,N=ue.length-1;N>=D;N--)ue[N]=ue[N-f]};for(J(w),N=s;N<D;++N)w[N]=new this.dataElementType;this._parsing&&J(S._parsed),this.parse(s,f),g&&this.updateElements(w,s,f,"reset")}updateElements(s,f,g,S){}_removeElements(s,f){const g=this._cachedMeta;if(this._parsing){const S=g._parsed.splice(s,f);g._stacked&&Si(g,S)}g.data.splice(s,f)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[f,g,S]=s;this[f](g,S)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,f){f&&this._sync(["_removeElements",s,f]);const g=arguments.length-2;g&&this._sync(["_insertElements",s,g])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function Ta(a){const l=a.iScale,s=function ua(a,l){if(!a._cache.$bar){const s=a.getMatchingVisibleMetas(l);let f=[];for(let g=0,S=s.length;g<S;g++)f=f.concat(s[g].controller.getAllParsedValues(a));a._cache.$bar=pr(f.sort((g,S)=>g-S))}return a._cache.$bar}(l,a.type);let g,S,w,D,f=l._length;const N=()=>{32767===w||-32768===w||(xi(D)&&(f=Math.min(f,Math.abs(w-D)||f)),D=w)};for(g=0,S=s.length;g<S;++g)w=l.getPixelForValue(s[g]),N();for(D=void 0,g=0,S=l.ticks.length;g<S;++g)w=l.getPixelForTick(g),N();return f}function Wi(a,l,s,f){return et(a)?function Rr(a,l,s,f){const g=s.parse(a[0],f),S=s.parse(a[1],f),w=Math.min(g,S),D=Math.max(g,S);let N=w,J=D;Math.abs(w)>Math.abs(D)&&(N=D,J=w),l[s.axis]=J,l._custom={barStart:N,barEnd:J,start:g,end:S,min:w,max:D}}(a,l,s,f):l[s.axis]=s.parse(a,f),l}function Eo(a,l,s,f){const g=a.iScale,S=a.vScale,w=g.getLabels(),D=g===S,N=[];let J,ue,Me,Le;for(J=s,ue=s+f;J<ue;++J)Le=l[J],Me={},Me[g.axis]=D||g.parse(w[J],J),N.push(Wi(Le,Me,S,J));return N}function hi(a){return a&&void 0!==a.barStart&&void 0!==a.barEnd}function Ur(a,l,s,f){let g=l.borderSkipped;const S={};if(!g)return void(a.borderSkipped=S);if(!0===g)return void(a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:w,end:D,reverse:N,top:J,bottom:ue}=function nr(a){let l,s,f,g,S;return a.horizontal?(l=a.base>a.x,s="left",f="right"):(l=a.base<a.y,s="bottom",f="top"),l?(g="end",S="start"):(g="start",S="end"),{start:s,end:f,reverse:l,top:g,bottom:S}}(a);"middle"===g&&s&&(a.enableBorderRadius=!0,(s._top||0)===f?g=J:(s._bottom||0)===f?g=ue:(S[ns(ue,w,D,N)]=!0,g=J)),S[ns(g,w,D,N)]=!0,a.borderSkipped=S}function ns(a,l,s,f){return f?(a=function Ro(a,l,s){return a===l?s:a===s?l:a}(a,l,s),a=Ds(a,s,l)):a=Ds(a,l,s),a}function Ds(a,l,s){return"start"===a?l:"end"===a?s:a}function wr(a,{inflateAmount:l},s){a.inflateAmount="auto"===l?1===s?.33:0:l}let lo=(()=>class a extends uo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,f,g,S){return Eo(s,f,g,S)}parseArrayData(s,f,g,S){return Eo(s,f,g,S)}parseObjectData(s,f,g,S){const{iScale:w,vScale:D}=s,{xAxisKey:N="x",yAxisKey:J="y"}=this._parsing,ue="x"===w.axis?N:J,Me="x"===D.axis?N:J,Le=[];let Xe,gt,vt,St;for(Xe=g,gt=g+S;Xe<gt;++Xe)St=f[Xe],vt={},vt[w.axis]=w.parse(zr(St,ue),Xe),Le.push(Wi(zr(St,Me),vt,D,Xe));return Le}updateRangeFromParsed(s,f,g,S){super.updateRangeFromParsed(s,f,g,S);const w=g._custom;w&&f===this._cachedMeta.vScale&&(s.min=Math.min(s.min,w.min),s.max=Math.max(s.max,w.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const f=this._cachedMeta,{iScale:g,vScale:S}=f,w=this.getParsed(s),D=w._custom,N=hi(D)?"["+D.start+", "+D.end+"]":""+S.getLabelForValue(w[S.axis]);return{label:""+g.getLabelForValue(w[g.axis]),value:N}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const f=this._cachedMeta;this.updateElements(f.data,0,f.data.length,s)}updateElements(s,f,g,S){const w="reset"===S,{index:D,_cachedMeta:{vScale:N}}=this,J=N.getBasePixel(),ue=N.isHorizontal(),Me=this._getRuler(),{sharedOptions:Le,includeOptions:Xe}=this._getSharedOptions(f,S);for(let gt=f;gt<f+g;gt++){const vt=this.getParsed(gt),St=w||dt(vt[N.axis])?{base:J,head:J}:this._calculateBarValuePixels(gt),mn=this._calculateBarIndexPixels(gt,Me),dn=(vt._stacks||{})[N.axis],qn={horizontal:ue,base:St.base,enableBorderRadius:!dn||hi(vt._custom)||D===dn._top||D===dn._bottom,x:ue?St.head:mn.center,y:ue?mn.center:St.head,height:ue?mn.size:Math.abs(St.size),width:ue?Math.abs(St.size):mn.size};Xe&&(qn.options=Le||this.resolveDataElementOptions(gt,s[gt].active?"active":S));const ri=qn.options||s[gt].options;Ur(qn,ri,dn,D),wr(qn,ri,Me.ratio),this.updateElement(s[gt],gt,qn,S)}}_getStacks(s,f){const{iScale:g}=this._cachedMeta,S=g.getMatchingVisibleMetas(this._type).filter(Me=>Me.controller.options.grouped),w=g.options.stacked,D=[],N=this._cachedMeta.controller.getParsed(f),J=N&&N[g.axis],ue=Me=>{const Le=Me._parsed.find(gt=>gt[g.axis]===J),Xe=Le&&Le[Me.vScale.axis];if(dt(Xe)||isNaN(Xe))return!0};for(const Me of S)if((void 0===f||!ue(Me))&&((!1===w||-1===D.indexOf(Me.stack)||void 0===w&&void 0===Me.stack)&&D.push(Me.stack),Me.index===s))break;return D.length||D.push(void 0),D}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,f,g){const S=this._getStacks(s,g),w=void 0!==f?S.indexOf(f):-1;return-1===w?S.length-1:w}_getRuler(){const s=this.options,f=this._cachedMeta,g=f.iScale,S=[];let w,D;for(w=0,D=f.data.length;w<D;++w)S.push(g.getPixelForValue(this.getParsed(w)[g.axis],w));const N=s.barThickness;return{min:N||Ta(f),pixels:S,start:g._startPixel,end:g._endPixel,stackCount:this._getStackCount(),scale:g,grouped:s.grouped,ratio:N?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:f,_stacked:g,index:S},options:{base:w,minBarLength:D}}=this,N=w||0,J=this.getParsed(s),ue=J._custom,Me=hi(ue);let vt,St,Le=J[f.axis],Xe=0,gt=g?this.applyStack(f,J,g):Le;gt!==Le&&(Xe=gt-Le,gt=Le),Me&&(Le=ue.barStart,gt=ue.barEnd-ue.barStart,0!==Le&&ze(Le)!==ze(ue.barEnd)&&(Xe=0),Xe+=Le);const mn=dt(w)||Me?Xe:w;let dn=f.getPixelForValue(mn);if(vt=this.chart.getDataVisibility(s)?f.getPixelForValue(Xe+gt):dn,St=vt-dn,Math.abs(St)<D){St=function kr(a,l,s){return 0!==a?ze(a):(l.isHorizontal()?1:-1)*(l.min>=s?1:-1)}(St,f,N)*D,Le===N&&(dn-=St/2);const qn=f.getPixelForDecimal(0),ri=f.getPixelForDecimal(1),Bn=Math.min(qn,ri),ei=Math.max(qn,ri);dn=Math.max(Math.min(dn,ei),Bn),vt=dn+St,g&&!Me&&(J._stacks[f.axis]._visualValues[S]=f.getValueForPixel(vt)-f.getValueForPixel(dn))}if(dn===f.getPixelForValue(N)){const qn=ze(St)*f.getLineWidthForValue(N)/2;dn+=qn,St-=qn}return{size:St,base:dn,head:vt,center:vt+St/2}}_calculateBarIndexPixels(s,f){const g=f.scale,S=this.options,w=S.skipNull,D=tn(S.maxBarThickness,1/0);let N,J;if(f.grouped){const ue=w?this._getStackCount(s):f.stackCount,Me="flex"===S.barThickness?function Xa(a,l,s,f){const g=l.pixels,S=g[a];let w=a>0?g[a-1]:null,D=a<g.length-1?g[a+1]:null;const N=s.categoryPercentage;null===w&&(w=S-(null===D?l.end-l.start:D-S)),null===D&&(D=S+S-w);const J=S-(S-Math.min(w,D))/2*N;return{chunk:Math.abs(D-w)/2*N/f,ratio:s.barPercentage,start:J}}(s,f,S,ue):function oa(a,l,s,f){const g=s.barThickness;let S,w;return dt(g)?(S=l.min*s.categoryPercentage,w=s.barPercentage):(S=g*f,w=1),{chunk:S/f,ratio:w,start:l.pixels[a]-S/2}}(s,f,S,ue),Le=this._getStackIndex(this.index,this._cachedMeta.stack,w?s:void 0);N=Me.start+Me.chunk*Le+Me.chunk/2,J=Math.min(D,Me.chunk*Me.ratio)}else N=g.getPixelForValue(this.getParsed(s)[g.axis],s),J=Math.min(D,f.min*f.ratio);return{base:N-J/2,head:N+J/2,center:N,size:J}}draw(){const s=this._cachedMeta,f=s.vScale,g=s.data,S=g.length;let w=0;for(;w<S;++w)null!==this.getParsed(w)[f.axis]&&!g[w].hidden&&g[w].draw(this._ctx)}})(),Ao=(()=>class a extends uo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,f,g,S){const w=super.parsePrimitiveData(s,f,g,S);for(let D=0;D<w.length;D++)w[D]._custom=this.resolveDataElementOptions(D+g).radius;return w}parseArrayData(s,f,g,S){const w=super.parseArrayData(s,f,g,S);for(let D=0;D<w.length;D++)w[D]._custom=tn(f[g+D][2],this.resolveDataElementOptions(D+g).radius);return w}parseObjectData(s,f,g,S){const w=super.parseObjectData(s,f,g,S);for(let D=0;D<w.length;D++){const N=f[g+D];w[D]._custom=tn(N&&N.r&&+N.r,this.resolveDataElementOptions(D+g).radius)}return w}getMaxOverflow(){const s=this._cachedMeta.data;let f=0;for(let g=s.length-1;g>=0;--g)f=Math.max(f,s[g].size(this.resolveDataElementOptions(g))/2);return f>0&&f}getLabelAndValue(s){const f=this._cachedMeta,g=this.chart.data.labels||[],{xScale:S,yScale:w}=f,D=this.getParsed(s),N=S.getLabelForValue(D.x),J=w.getLabelForValue(D.y),ue=D._custom;return{label:g[s]||"",value:"("+N+", "+J+(ue?", "+ue:"")+")"}}update(s){const f=this._cachedMeta.data;this.updateElements(f,0,f.length,s)}updateElements(s,f,g,S){const w="reset"===S,{iScale:D,vScale:N}=this._cachedMeta,{sharedOptions:J,includeOptions:ue}=this._getSharedOptions(f,S),Me=D.axis,Le=N.axis;for(let Xe=f;Xe<f+g;Xe++){const gt=s[Xe],vt=!w&&this.getParsed(Xe),St={},mn=St[Me]=w?D.getPixelForDecimal(.5):D.getPixelForValue(vt[Me]),dn=St[Le]=w?N.getBasePixel():N.getPixelForValue(vt[Le]);St.skip=isNaN(mn)||isNaN(dn),ue&&(St.options=J||this.resolveDataElementOptions(Xe,gt.active?"active":S),w&&(St.options.radius=0)),this.updateElement(gt,Xe,St,S)}}resolveDataElementOptions(s,f){const g=this.getParsed(s);let S=super.resolveDataElementOptions(s,f);S.$shared&&(S=Object.assign({},S,{$shared:!1}));const w=S.radius;return"active"!==f&&(S.radius=0),S.radius+=tn(g&&g._custom,w),S}})(),qa=(()=>class a extends uo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>"spacing"!==s,_indexable:s=>"spacing"!==s&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const f=s.data;if(f.labels.length&&f.datasets.length){const{labels:{pointStyle:g,color:S}}=s.legend.options;return f.labels.map((w,D)=>{const J=s.getDatasetMeta(0).controller.getStyle(D);return{text:w,fillStyle:J.backgroundColor,strokeStyle:J.borderColor,fontColor:S,lineWidth:J.borderWidth,pointStyle:g,hidden:!s.getDataVisibility(D),index:D}})}return[]}},onClick(s,f,g){g.chart.toggleDataVisibility(f.index),g.chart.update()}}}};constructor(s,f){super(s,f),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,f){const g=this.getDataset().data,S=this._cachedMeta;if(!1===this._parsing)S._parsed=g;else{let D,N,w=J=>+g[J];if(Dt(g[s])){const{key:J="value"}=this._parsing;w=ue=>+zr(g[ue],J)}for(D=s,N=s+f;D<N;++D)S._parsed[D]=w(D)}}_getRotation(){return cs(this.options.rotation-90)}_getCircumference(){return cs(this.options.circumference)}_getRotationExtents(){let s=ji,f=-ji;for(let g=0;g<this.chart.data.datasets.length;++g)if(this.chart.isDatasetVisible(g)&&this.chart.getDatasetMeta(g).type===this._type){const S=this.chart.getDatasetMeta(g).controller,w=S._getRotation(),D=S._getCircumference();s=Math.min(s,w),f=Math.max(f,w+D)}return{rotation:s,circumference:f-s}}update(s){const f=this.chart,{chartArea:g}=f,S=this._cachedMeta,w=S.data,D=this.getMaxBorderWidth()+this.getMaxOffset(w)+this.options.spacing,N=Math.max((Math.min(g.width,g.height)-D)/2,0),J=Math.min(((a,l)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100:+a/l)(this.options.cutout,N),1),ue=this._getRingWeight(this.index),{circumference:Me,rotation:Le}=this._getRotationExtents(),{ratioX:Xe,ratioY:gt,offsetX:vt,offsetY:St}=function Fr(a,l,s){let f=1,g=1,S=0,w=0;if(l<ji){const D=a,N=D+l,J=Math.cos(D),ue=Math.sin(D),Me=Math.cos(N),Le=Math.sin(N),Xe=(qn,ri,Bn)=>nt(qn,D,N,!0)?1:Math.max(ri,ri*s,Bn,Bn*s),gt=(qn,ri,Bn)=>nt(qn,D,N,!0)?-1:Math.min(ri,ri*s,Bn,Bn*s),vt=Xe(0,J,Me),St=Xe(ro,ue,Le),mn=gt(ki,J,Me),dn=gt(ki+ro,ue,Le);f=(vt-mn)/2,g=(St-dn)/2,S=-(vt+mn)/2,w=-(St+dn)/2}return{ratioX:f,ratioY:g,offsetX:S,offsetY:w}}(Le,Me,J),qn=Math.max(Math.min((g.width-D)/Xe,(g.height-D)/gt)/2,0),ri=zi(this.options.radius,qn),ei=(ri-Math.max(ri*J,0))/this._getVisibleDatasetWeightTotal();this.offsetX=vt*ri,this.offsetY=St*ri,S.total=this.calculateTotal(),this.outerRadius=ri-ei*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ei*ue,0),this.updateElements(w,0,w.length,s)}_circumference(s,f){const g=this.options,S=this._cachedMeta,w=this._getCircumference();return f&&g.animation.animateRotate||!this.chart.getDataVisibility(s)||null===S._parsed[s]||S.data[s].hidden?0:this.calculateCircumference(S._parsed[s]*w/ji)}updateElements(s,f,g,S){const w="reset"===S,D=this.chart,N=D.chartArea,Me=(N.left+N.right)/2,Le=(N.top+N.bottom)/2,Xe=w&&D.options.animation.animateScale,gt=Xe?0:this.innerRadius,vt=Xe?0:this.outerRadius,{sharedOptions:St,includeOptions:mn}=this._getSharedOptions(f,S);let qn,dn=this._getRotation();for(qn=0;qn<f;++qn)dn+=this._circumference(qn,w);for(qn=f;qn<f+g;++qn){const ri=this._circumference(qn,w),Bn=s[qn],ei={x:Me+this.offsetX,y:Le+this.offsetY,startAngle:dn,endAngle:dn+ri,circumference:ri,outerRadius:vt,innerRadius:gt};mn&&(ei.options=St||this.resolveDataElementOptions(qn,Bn.active?"active":S)),dn+=ri,this.updateElement(Bn,qn,ei,S)}}calculateTotal(){const s=this._cachedMeta,f=s.data;let S,g=0;for(S=0;S<f.length;S++){const w=s._parsed[S];null!==w&&!isNaN(w)&&this.chart.getDataVisibility(S)&&!f[S].hidden&&(g+=Math.abs(w))}return g}calculateCircumference(s){const f=this._cachedMeta.total;return f>0&&!isNaN(s)?ji*(Math.abs(s)/f):0}getLabelAndValue(s){const g=this.chart,S=g.data.labels||[],w=Us(this._cachedMeta._parsed[s],g.options.locale);return{label:S[s]||"",value:w}}getMaxBorderWidth(s){let f=0;const g=this.chart;let S,w,D,N,J;if(!s)for(S=0,w=g.data.datasets.length;S<w;++S)if(g.isDatasetVisible(S)){D=g.getDatasetMeta(S),s=D.data,N=D.controller;break}if(!s)return 0;for(S=0,w=s.length;S<w;++S)J=N.resolveDataElementOptions(S),"inner"!==J.borderAlign&&(f=Math.max(f,J.borderWidth||0,J.hoverBorderWidth||0));return f}getMaxOffset(s){let f=0;for(let g=0,S=s.length;g<S;++g){const w=this.resolveDataElementOptions(g);f=Math.max(f,w.offset||0,w.hoverOffset||0)}return f}_getRingWeightOffset(s){let f=0;for(let g=0;g<s;++g)this.chart.isDatasetVisible(g)&&(f+=this._getRingWeight(g));return f}_getRingWeight(s){return Math.max(tn(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Ms=(()=>class a extends uo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const f=this._cachedMeta,{dataset:g,data:S=[],_dataset:w}=f,D=this.chart._animationsDisabled;let{start:N,count:J}=Ba(f,S,D);this._drawStart=N,this._drawCount=J,Qs(f)&&(N=0,J=S.length),g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!w._decimated,g.points=S;const ue=this.resolveDatasetElementOptions(s);this.options.showLine||(ue.borderWidth=0),ue.segment=this.options.segment,this.updateElement(g,void 0,{animated:!D,options:ue},s),this.updateElements(S,N,J,s)}updateElements(s,f,g,S){const w="reset"===S,{iScale:D,vScale:N,_stacked:J,_dataset:ue}=this._cachedMeta,{sharedOptions:Me,includeOptions:Le}=this._getSharedOptions(f,S),Xe=D.axis,gt=N.axis,{spanGaps:vt,segment:St}=this.options,mn=br(vt)?vt:Number.POSITIVE_INFINITY,dn=this.chart._animationsDisabled||w||"none"===S,qn=f+g,ri=s.length;let Bn=f>0&&this.getParsed(f-1);for(let ei=0;ei<ri;++ei){const Qi=s[ei],Ci=dn?Qi:{};if(ei<f||ei>=qn){Ci.skip=!0;continue}const Ar=this.getParsed(ei),os=dt(Ar[gt]),No=Ci[Xe]=D.getPixelForValue(Ar[Xe],ei),Is=Ci[gt]=w||os?N.getBasePixel():N.getPixelForValue(J?this.applyStack(N,Ar,J):Ar[gt],ei);Ci.skip=isNaN(No)||isNaN(Is)||os,Ci.stop=ei>0&&Math.abs(Ar[Xe]-Bn[Xe])>mn,St&&(Ci.parsed=Ar,Ci.raw=ue.data[ei]),Le&&(Ci.options=Me||this.resolveDataElementOptions(ei,Qi.active?"active":S)),dn||this.updateElement(Qi,ei,Ci,S),Bn=Ar}}getMaxOverflow(){const s=this._cachedMeta,f=s.dataset,g=f.options&&f.options.borderWidth||0,S=s.data||[];if(!S.length)return g;const w=S[0].size(this.resolveDataElementOptions(0)),D=S[S.length-1].size(this.resolveDataElementOptions(S.length-1));return Math.max(g,w,D)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}})(),va=(()=>class a extends uo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const f=s.data;if(f.labels.length&&f.datasets.length){const{labels:{pointStyle:g,color:S}}=s.legend.options;return f.labels.map((w,D)=>{const J=s.getDatasetMeta(0).controller.getStyle(D);return{text:w,fillStyle:J.backgroundColor,strokeStyle:J.borderColor,fontColor:S,lineWidth:J.borderWidth,pointStyle:g,hidden:!s.getDataVisibility(D),index:D}})}return[]}},onClick(s,f,g){g.chart.toggleDataVisibility(f.index),g.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(s,f){super(s,f),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const g=this.chart,S=g.data.labels||[],w=Us(this._cachedMeta._parsed[s].r,g.options.locale);return{label:S[s]||"",value:w}}parseObjectData(s,f,g,S){return Et.bind(this)(s,f,g,S)}update(s){const f=this._cachedMeta.data;this._updateRadius(),this.updateElements(f,0,f.length,s)}getMinMax(){const f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((g,S)=>{const w=this.getParsed(S).r;!isNaN(w)&&this.chart.getDataVisibility(S)&&(w<f.min&&(f.min=w),w>f.max&&(f.max=w))}),f}_updateRadius(){const s=this.chart,f=s.chartArea,g=s.options,S=Math.min(f.right-f.left,f.bottom-f.top),w=Math.max(S/2,0),N=(w-Math.max(g.cutoutPercentage?w/100*g.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=w-N*this.index,this.innerRadius=this.outerRadius-N}updateElements(s,f,g,S){const w="reset"===S,D=this.chart,J=D.options.animation,ue=this._cachedMeta.rScale,Me=ue.xCenter,Le=ue.yCenter,Xe=ue.getIndexAngle(0)-.5*ki;let vt,gt=Xe;const St=360/this.countVisibleElements();for(vt=0;vt<f;++vt)gt+=this._computeAngle(vt,S,St);for(vt=f;vt<f+g;vt++){const mn=s[vt];let dn=gt,qn=gt+this._computeAngle(vt,S,St),ri=D.getDataVisibility(vt)?ue.getDistanceFromCenterForValue(this.getParsed(vt).r):0;gt=qn,w&&(J.animateScale&&(ri=0),J.animateRotate&&(dn=qn=Xe));const Bn={x:Me,y:Le,innerRadius:0,outerRadius:ri,startAngle:dn,endAngle:qn,options:this.resolveDataElementOptions(vt,mn.active?"active":S)};this.updateElement(mn,vt,Bn,S)}}countVisibleElements(){let f=0;return this._cachedMeta.data.forEach((g,S)=>{!isNaN(this.getParsed(S).r)&&this.chart.getDataVisibility(S)&&f++}),f}_computeAngle(s,f,g){return this.chart.getDataVisibility(s)?cs(this.resolveDataElementOptions(s,f).angle||g):0}})();var Bi=Object.freeze({__proto__:null,BarController:lo,BubbleController:Ao,DoughnutController:qa,LineController:Ms,PieController:(()=>class a extends qa{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:va,RadarController:(()=>class a extends uo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(s){const f=this._cachedMeta.vScale,g=this.getParsed(s);return{label:f.getLabels()[s],value:""+f.getLabelForValue(g[f.axis])}}parseObjectData(s,f,g,S){return Et.bind(this)(s,f,g,S)}update(s){const f=this._cachedMeta,g=f.dataset,S=f.data||[],w=f.iScale.getLabels();if(g.points=S,"resize"!==s){const D=this.resolveDatasetElementOptions(s);this.options.showLine||(D.borderWidth=0),this.updateElement(g,void 0,{_loop:!0,_fullLoop:w.length===S.length,options:D},s)}this.updateElements(S,0,S.length,s)}updateElements(s,f,g,S){const w=this._cachedMeta.rScale,D="reset"===S;for(let N=f;N<f+g;N++){const J=s[N],ue=this.resolveDataElementOptions(N,J.active?"active":S),Me=w.getPointPositionForValue(N,this.getParsed(N).r),Le=D?w.xCenter:Me.x,Xe=D?w.yCenter:Me.y,gt={x:Le,y:Xe,angle:Me.angle,skip:isNaN(Le)||isNaN(Xe),options:ue};this.updateElement(J,N,gt,S)}}})(),ScatterController:(()=>class a extends uo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(s){const f=this._cachedMeta,g=this.chart.data.labels||[],{xScale:S,yScale:w}=f,D=this.getParsed(s),N=S.getLabelForValue(D.x),J=w.getLabelForValue(D.y);return{label:g[s]||"",value:"("+N+", "+J+")"}}update(s){const f=this._cachedMeta,{data:g=[]}=f,S=this.chart._animationsDisabled;let{start:w,count:D}=Ba(f,g,S);if(this._drawStart=w,this._drawCount=D,Qs(f)&&(w=0,D=g.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:N,_dataset:J}=f;N._chart=this.chart,N._datasetIndex=this.index,N._decimated=!!J._decimated,N.points=g;const ue=this.resolveDatasetElementOptions(s);ue.segment=this.options.segment,this.updateElement(N,void 0,{animated:!S,options:ue},s)}else this.datasetElementType&&(delete f.dataset,this.datasetElementType=!1);this.updateElements(g,w,D,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,f,g,S){const w="reset"===S,{iScale:D,vScale:N,_stacked:J,_dataset:ue}=this._cachedMeta,Me=this.resolveDataElementOptions(f,S),Le=this.getSharedOptions(Me),Xe=this.includeOptions(S,Le),gt=D.axis,vt=N.axis,{spanGaps:St,segment:mn}=this.options,dn=br(St)?St:Number.POSITIVE_INFINITY,qn=this.chart._animationsDisabled||w||"none"===S;let ri=f>0&&this.getParsed(f-1);for(let Bn=f;Bn<f+g;++Bn){const ei=s[Bn],Qi=this.getParsed(Bn),Ci=qn?ei:{},Ar=dt(Qi[vt]),os=Ci[gt]=D.getPixelForValue(Qi[gt],Bn),No=Ci[vt]=w||Ar?N.getBasePixel():N.getPixelForValue(J?this.applyStack(N,Qi,J):Qi[vt],Bn);Ci.skip=isNaN(os)||isNaN(No)||Ar,Ci.stop=Bn>0&&Math.abs(Qi[gt]-ri[gt])>dn,mn&&(Ci.parsed=Qi,Ci.raw=ue.data[Bn]),Xe&&(Ci.options=Le||this.resolveDataElementOptions(Bn,ei.active?"active":S)),qn||this.updateElement(ei,Bn,Ci,S),ri=Qi}this.updateSharedOptions(Le,S,Me)}getMaxOverflow(){const s=this._cachedMeta,f=s.data||[];if(!this.options.showLine){let N=0;for(let J=f.length-1;J>=0;--J)N=Math.max(N,f[J].size(this.resolveDataElementOptions(J))/2);return N>0&&N}const g=s.dataset,S=g.options&&g.options.borderWidth||0;if(!f.length)return S;const w=f[0].size(this.resolveDataElementOptions(0)),D=f[f.length-1].size(this.resolveDataElementOptions(f.length-1));return Math.max(S,w,D)/2}})()});function Zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class We{static override(l){Object.assign(We.prototype,l)}options;constructor(l){this.options=l||{}}init(){}formats(){return Zs()}parse(){return Zs()}format(){return Zs()}add(){return Zs()}diff(){return Zs()}startOf(){return Zs()}endOf(){return Zs()}}var T__date=We;function L(a,l,s,f){const{controller:g,data:S,_sorted:w}=a,D=g._cachedMeta.iScale,N=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null;if(D&&l===D.axis&&"r"!==l&&w&&S.length){const J=D._reversePixels?fi:Ri;if(!f){const ue=J(S,l,s);if(N){const{vScale:Me}=g._cachedMeta,{_parsed:Le}=a,Xe=Le.slice(0,ue.lo+1).reverse().findIndex(vt=>!dt(vt[Me.axis]));ue.lo-=Math.max(0,Xe);const gt=Le.slice(ue.hi).findIndex(vt=>!dt(vt[Me.axis]));ue.hi+=Math.max(0,gt)}return ue}if(g._sharedOptions){const ue=S[0],Me="function"==typeof ue.getRange&&ue.getRange(l);if(Me){const Le=J(S,l,s-Me),Xe=J(S,l,s+Me);return{lo:Le.lo,hi:Xe.hi}}}}return{lo:0,hi:S.length-1}}function V(a,l,s,f,g){const S=a.getSortedVisibleDatasetMetas(),w=s[l];for(let D=0,N=S.length;D<N;++D){const{index:J,data:ue}=S[D],{lo:Me,hi:Le}=L(S[D],l,w,g);for(let Xe=Me;Xe<=Le;++Xe){const gt=ue[Xe];gt.skip||f(gt,J,Xe)}}}function ce(a,l,s,f,g){const S=[];return!g&&!a.isPointInArea(l)||V(a,s,l,function(D,N,J){!g&&!Er(D,a.chartArea,0)||D.inRange(l.x,l.y,f)&&S.push({element:D,datasetIndex:N,index:J})},!0),S}function Be(a,l,s,f,g,S){return S||a.isPointInArea(l)?"r"!==s||f?function xe(a,l,s,f,g,S){let w=[];const D=function X(a){const l=-1!==a.indexOf("x"),s=-1!==a.indexOf("y");return function(f,g){const S=l?Math.abs(f.x-g.x):0,w=s?Math.abs(f.y-g.y):0;return Math.sqrt(Math.pow(S,2)+Math.pow(w,2))}}(s);let N=Number.POSITIVE_INFINITY;return V(a,s,l,function J(ue,Me,Le){const Xe=ue.inRange(l.x,l.y,g);if(f&&!Xe)return;const gt=ue.getCenterPoint(g);if(!S&&!a.isPointInArea(gt)&&!Xe)return;const St=D(l,gt);St<N?(w=[{element:ue,datasetIndex:Me,index:Le}],N=St):St===N&&w.push({element:ue,datasetIndex:Me,index:Le})}),w}(a,l,s,f,g,S):function pe(a,l,s,f){let g=[];return V(a,s,l,function S(w,D,N){const{startAngle:J,endAngle:ue}=w.getProps(["startAngle","endAngle"],f),{angle:Me}=ko(w,{x:l.x,y:l.y});nt(Me,J,ue)&&g.push({element:w,datasetIndex:D,index:N})}),g}(a,l,s,g):[]}function Ke(a,l,s,f,g){const S=[],w="x"===s?"inXRange":"inYRange";let D=!1;return V(a,s,l,(N,J,ue)=>{N[w]&&N[w](l[s],g)&&(S.push({element:N,datasetIndex:J,index:ue}),D=D||N.inRange(l.x,l.y,g))}),f&&!D?[]:S}var ot={evaluateInteractionItems:V,modes:{index(a,l,s,f){const g=xs(l,a),S=s.axis||"x",w=s.includeInvisible||!1,D=s.intersect?ce(a,g,S,f,w):Be(a,g,S,!1,f,w),N=[];return D.length?(a.getSortedVisibleDatasetMetas().forEach(J=>{const ue=D[0].index,Me=J.data[ue];Me&&!Me.skip&&N.push({element:Me,datasetIndex:J.index,index:ue})}),N):[]},dataset(a,l,s,f){const g=xs(l,a),S=s.axis||"xy",w=s.includeInvisible||!1;let D=s.intersect?ce(a,g,S,f,w):Be(a,g,S,!1,f,w);if(D.length>0){const N=D[0].datasetIndex,J=a.getDatasetMeta(N).data;D=[];for(let ue=0;ue<J.length;++ue)D.push({element:J[ue],datasetIndex:N,index:ue})}return D},point:(a,l,s,f)=>ce(a,xs(l,a),s.axis||"xy",f,s.includeInvisible||!1),nearest:(a,l,s,f)=>Be(a,xs(l,a),s.axis||"xy",s.intersect,f,s.includeInvisible||!1),x:(a,l,s,f)=>Ke(a,xs(l,a),"x",s.intersect,f),y:(a,l,s,f)=>Ke(a,xs(l,a),"y",s.intersect,f)}};const Ft=["left","top","right","bottom"];function Kt(a,l){return a.filter(s=>s.pos===l)}function qt(a,l){return a.filter(s=>-1===Ft.indexOf(s.pos)&&s.box.axis===l)}function gn(a,l){return a.sort((s,f)=>{const g=l?f:s,S=l?s:f;return g.weight===S.weight?g.index-S.index:g.weight-S.weight})}function Ot(a,l,s,f){return Math.max(a[s],l[s])+Math.max(a[f],l[f])}function On(a,l){a.top=Math.max(a.top,l.top),a.left=Math.max(a.left,l.left),a.bottom=Math.max(a.bottom,l.bottom),a.right=Math.max(a.right,l.right)}function Kn(a,l,s,f){const{pos:g,box:S}=s,w=a.maxPadding;if(!Dt(g)){s.size&&(a[g]-=s.size);const Me=f[s.stack]||{size:0,count:1};Me.size=Math.max(Me.size,s.horizontal?S.height:S.width),s.size=Me.size/Me.count,a[g]+=s.size}S.getPadding&&On(w,S.getPadding());const D=Math.max(0,l.outerWidth-Ot(w,a,"left","right")),N=Math.max(0,l.outerHeight-Ot(w,a,"top","bottom")),J=D!==a.w,ue=N!==a.h;return a.w=D,a.h=N,s.horizontal?{same:J,other:ue}:{same:ue,other:J}}function ii(a,l){const s=l.maxPadding;return function f(g){const S={left:0,top:0,right:0,bottom:0};return g.forEach(w=>{S[w]=Math.max(l[w],s[w])}),S}(a?["left","right"]:["top","bottom"])}function Ti(a,l,s,f){const g=[];let S,w,D,N,J,ue;for(S=0,w=a.length,J=0;S<w;++S){D=a[S],N=D.box,N.update(D.width||l.w,D.height||l.h,ii(D.horizontal,l));const{same:Me,other:Le}=Kn(l,s,D,f);J|=Me&&g.length,ue=ue||Le,N.fullSize||g.push(D)}return J&&Ti(g,l,s,f)||ue}function Nn(a,l,s,f,g){a.top=s,a.left=l,a.right=l+f,a.bottom=s+g,a.width=f,a.height=g}function Xr(a,l,s,f){const g=s.padding;let{x:S,y:w}=l;for(const D of a){const N=D.box,J=f[D.stack]||{count:1,placed:0,weight:1},ue=D.stackWeight/J.weight||1;if(D.horizontal){const Me=l.w*ue,Le=J.size||N.height;xi(J.start)&&(w=J.start),N.fullSize?Nn(N,g.left,w,s.outerWidth-g.right-g.left,Le):Nn(N,l.left+J.placed,w,Me,Le),J.start=w,J.placed+=Me,w=N.bottom}else{const Me=l.h*ue,Le=J.size||N.width;xi(J.start)&&(S=J.start),N.fullSize?Nn(N,S,g.top,Le,s.outerHeight-g.bottom-g.top):Nn(N,S,l.top+J.placed,Le,Me),J.start=S,J.placed+=Me,S=N.right}}l.x=S,l.y=w}var qr={addBox(a,l){a.boxes||(a.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(s){l.draw(s)}}]},a.boxes.push(l)},removeBox(a,l){const s=a.boxes?a.boxes.indexOf(l):-1;-1!==s&&a.boxes.splice(s,1)},configure(a,l,s){l.fullSize=s.fullSize,l.position=s.position,l.weight=s.weight},update(a,l,s,f){if(!a)return;const g=sr(a.options.layout.padding),S=Math.max(l-g.width,0),w=Math.max(s-g.height,0),D=function ti(a){const l=function Tt(a){const l=[];let s,f,g,S,w,D;for(s=0,f=(a||[]).length;s<f;++s)g=a[s],({position:S,options:{stack:w,stackWeight:D=1}}=g),l.push({index:s,box:g,pos:S,horizontal:g.isHorizontal(),weight:g.weight,stack:w&&S+w,stackWeight:D});return l}(a),s=gn(l.filter(J=>J.box.fullSize),!0),f=gn(Kt(l,"left"),!0),g=gn(Kt(l,"right")),S=gn(Kt(l,"top"),!0),w=gn(Kt(l,"bottom")),D=qt(l,"x"),N=qt(l,"y");return{fullSize:s,leftAndTop:f.concat(S),rightAndBottom:g.concat(N).concat(w).concat(D),chartArea:Kt(l,"chartArea"),vertical:f.concat(g).concat(N),horizontal:S.concat(w).concat(D)}}(a.boxes),N=D.vertical,J=D.horizontal;Rn(a.boxes,vt=>{"function"==typeof vt.beforeLayout&&vt.beforeLayout()});const ue=N.reduce((vt,St)=>St.box.options&&!1===St.box.options.display?vt:vt+1,0)||1,Me=Object.freeze({outerWidth:l,outerHeight:s,padding:g,availableWidth:S,availableHeight:w,vBoxMaxWidth:S/2/ue,hBoxMaxHeight:w/2}),Le=Object.assign({},g);On(Le,sr(f));const Xe=Object.assign({maxPadding:Le,w:S,h:w,x:g.left,y:g.top},g),gt=function ni(a,l){const s=function En(a){const l={};for(const s of a){const{stack:f,pos:g,stackWeight:S}=s;if(!f||!Ft.includes(g))continue;const w=l[f]||(l[f]={count:0,placed:0,weight:0,size:0});w.count++,w.weight+=S}return l}(a),{vBoxMaxWidth:f,hBoxMaxHeight:g}=l;let S,w,D;for(S=0,w=a.length;S<w;++S){D=a[S];const{fullSize:N}=D.box,J=s[D.stack],ue=J&&D.stackWeight/J.weight;D.horizontal?(D.width=ue?ue*f:N&&l.availableWidth,D.height=g):(D.width=f,D.height=ue?ue*g:N&&l.availableHeight)}return s}(N.concat(J),Me);Ti(D.fullSize,Xe,Me,gt),Ti(N,Xe,Me,gt),Ti(J,Xe,Me,gt)&&Ti(N,Xe,Me,gt),function Fi(a){const l=a.maxPadding;function s(f){const g=Math.max(l[f]-a[f],0);return a[f]+=g,g}a.y+=s("top"),a.x+=s("left"),s("right"),s("bottom")}(Xe),Xr(D.leftAndTop,Xe,Me,gt),Xe.x+=Xe.w,Xe.y+=Xe.h,Xr(D.rightAndBottom,Xe,Me,gt),a.chartArea={left:Xe.left,top:Xe.top,right:Xe.left+Xe.w,bottom:Xe.top+Xe.h,height:Xe.h,width:Xe.w},Rn(D.chartArea,vt=>{const St=vt.box;Object.assign(St,a.chartArea),St.update(Xe.w,Xe.h,{left:0,top:0,right:0,bottom:0})})}};class Ps{acquireContext(l,s){}releaseContext(l){return!1}addEventListener(l,s,f){}removeEventListener(l,s,f){}getDevicePixelRatio(){return 1}getMaximumSize(l,s,f,g){return s=Math.max(0,s||l.width),f=f||l.height,{width:s,height:Math.max(0,g?Math.floor(s/g):f)}}isAttached(l){return!0}updateConfig(l){}}class is extends Ps{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const Aa="$chartjs",Da={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rs=a=>null===a||""===a,Nl=!!ia&&{passive:!0};function Ll(a,l,s){a&&a.canvas&&a.canvas.removeEventListener(l,s,Nl)}function Q(a,l){for(const s of a)if(s===l||s.contains(l))return!0}function U(a,l,s){const f=a.canvas,g=new MutationObserver(S=>{let w=!1;for(const D of S)w=w||Q(D.addedNodes,f),w=w&&!Q(D.removedNodes,f);w&&s()});return g.observe(document,{childList:!0,subtree:!0}),g}function te(a,l,s){const f=a.canvas,g=new MutationObserver(S=>{let w=!1;for(const D of S)w=w||Q(D.removedNodes,f),w=w&&!Q(D.addedNodes,f);w&&s()});return g.observe(document,{childList:!0,subtree:!0}),g}const fe=new Map;let Re=0;function at(){const a=window.devicePixelRatio;a!==Re&&(Re=a,fe.forEach((l,s)=>{s.currentDevicePixelRatio!==a&&l()}))}function Ei(a,l,s){const f=a.canvas,g=f&&_e(f);if(!g)return;const S=Ir((D,N)=>{const J=g.clientWidth;s(D,N),J<g.clientWidth&&s()},window),w=new ResizeObserver(D=>{const N=D[0],J=N.contentRect.width,ue=N.contentRect.height;0===J&&0===ue||S(J,ue)});return w.observe(g),function Mt(a,l){fe.size||window.addEventListener("resize",at),fe.set(a,l)}(a,S),w}function ir(a,l,s){s&&s.disconnect(),"resize"===l&&function jt(a){fe.delete(a),fe.size||window.removeEventListener("resize",at)}(a)}function ps(a,l,s){const f=a.canvas,g=Ir(S=>{null!==a.ctx&&s(function z(a,l){const s=Da[a.type]||a.type,{x:f,y:g}=xs(a,l);return{type:s,chart:l,native:a,x:void 0!==f?f:null,y:void 0!==g?g:null}}(S,a))},a);return function sc(a,l,s){a&&a.addEventListener(l,s,Nl)}(f,l,g),g}class Bo extends Ps{acquireContext(l,s){const f=l&&l.getContext&&l.getContext("2d");return f&&f.canvas===l?(function Ks(a,l){const s=a.style,f=a.getAttribute("height"),g=a.getAttribute("width");if(a[Aa]={initial:{height:f,width:g,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",rs(g)){const S=Fa(a,"width");void 0!==S&&(a.width=S)}if(rs(f))if(""===a.style.height)a.height=a.width/(l||2);else{const S=Fa(a,"height");void 0!==S&&(a.height=S)}}(l,s),f):null}releaseContext(l){const s=l.canvas;if(!s[Aa])return!1;const f=s[Aa].initial;["height","width"].forEach(S=>{const w=f[S];dt(w)?s.removeAttribute(S):s.setAttribute(S,w)});const g=f.style||{};return Object.keys(g).forEach(S=>{s.style[S]=g[S]}),s.width=s.width,delete s[Aa],!0}addEventListener(l,s,f){this.removeEventListener(l,s),(l.$proxies||(l.$proxies={}))[s]=({attach:U,detach:te,resize:Ei}[s]||ps)(l,s,f)}removeEventListener(l,s){const f=l.$proxies||(l.$proxies={}),g=f[s];g&&(({attach:ir,detach:ir,resize:ir}[s]||Ll)(l,s,g),f[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,s,f,g){return function Or(a,l,s,f){const g=Ae(a),S=mi(g,"margin"),w=re(g.maxWidth,a,"clientWidth")||gs,D=re(g.maxHeight,a,"clientHeight")||gs,N=function $i(a,l,s){let f,g;if(void 0===l||void 0===s){const S=a&&_e(a);if(S){const w=S.getBoundingClientRect(),D=Ae(S),N=mi(D,"border","width"),J=mi(D,"padding");l=w.width-J.width-N.width,s=w.height-J.height-N.height,f=re(D.maxWidth,S,"clientWidth"),g=re(D.maxHeight,S,"clientHeight")}else l=a.clientWidth,s=a.clientHeight}return{width:l,height:s,maxWidth:f||gs,maxHeight:g||gs}}(a,l,s);let{width:J,height:ue}=N;if("content-box"===g.boxSizing){const Le=mi(g,"border","width"),Xe=mi(g,"padding");J-=Xe.width+Le.width,ue-=Xe.height+Le.height}return J=Math.max(0,J-S.width),ue=Math.max(0,f?J/f:ue-S.height),J=_s(Math.min(J,w,N.maxWidth)),ue=_s(Math.min(ue,D,N.maxHeight)),J&&!ue&&(ue=_s(J/2)),(void 0!==l||void 0!==s)&&f&&N.height&&ue>N.height&&(ue=N.height,J=_s(Math.floor(ue*f))),{width:J,height:ue}}(l,s,f,g)}isAttached(l){const s=l&&_e(l);return!(!s||!s.isConnected)}}class ya{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(l){const{x:s,y:f}=this.getProps(["x","y"],l);return{x:s,y:f}}hasValue(){return br(this.x)&&br(this.y)}getProps(l,s){const f=this.$animations;if(!s||!f)return this;const g={};return l.forEach(S=>{g[S]=f[S]&&f[S].active()?f[S]._to:this[S]}),g}}function eo(a,l,s,f,g){const S=tn(f,0),w=Math.min(tn(g,a.length),a.length);let N,J,ue,D=0;for(s=Math.ceil(s),g&&(N=g-f,s=N/Math.floor(N/s)),ue=S;ue<0;)D++,ue=Math.round(S+D*s);for(J=Math.max(S,0);J<w;J++)J===ue&&(l.push(a[J]),D++,ue=Math.round(S+D*s))}const sm=(a,l,s)=>"top"===l||"left"===l?a[l]+s:a[l]-s,Bg=(a,l)=>Math.min(l||a,a);function Df(a,l){const s=[],f=a.length/l,g=a.length;let S=0;for(;S<g;S+=f)s.push(a[Math.floor(S)]);return s}function Vg(a,l,s){const f=a.ticks.length,g=Math.min(l,f-1),S=a._startPixel,w=a._endPixel,D=1e-6;let J,N=a.getPixelForTick(g);if(!(s&&(J=1===f?Math.max(N-S,w-N):0===l?(a.getPixelForTick(1)-N)/2:(N-a.getPixelForTick(g-1))/2,N+=g<l?J:-J,N<S-D||N>w+D)))return N}function Ac(a){return a.drawTicks?a.tickLength:0}function Sr(a,l){if(!a.display)return 0;const s=ao(a.font,l),f=sr(a.padding);return(et(a.text)?a.text.length:1)*s.lineHeight+f.height}function Nd(a,l,s){let f=Rs(a);return(s&&"right"!==l||!s&&"right"===l)&&(f=(a=>"left"===a?"right":"right"===a?"left":a)(f)),f}class Dl extends ya{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,s){return l}getUserBounds(){let{_userMin:l,_userMax:s,_suggestedMin:f,_suggestedMax:g}=this;return l=cn(l,Number.POSITIVE_INFINITY),s=cn(s,Number.NEGATIVE_INFINITY),f=cn(f,Number.POSITIVE_INFINITY),g=cn(g,Number.NEGATIVE_INFINITY),{min:cn(l,f),max:cn(s,g),minDefined:It(l),maxDefined:It(s)}}getMinMax(l){let w,{min:s,max:f,minDefined:g,maxDefined:S}=this.getUserBounds();if(g&&S)return{min:s,max:f};const D=this.getMatchingVisibleMetas();for(let N=0,J=D.length;N<J;++N)w=D[N].controller.getMinMax(this,l),g||(s=Math.min(s,w.min)),S||(f=Math.max(f,w.max));return s=S&&s>f?f:s,f=g&&s>f?s:f,{min:cn(s,cn(f,s)),max:cn(f,cn(s,f))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}getLabelItems(l=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(l))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oi(this.options.beforeUpdate,[this])}update(l,s,f){const{beginAtZero:g,grace:S,ticks:w}=this.options,D=w.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=s,this._margins=f=Object.assign({left:0,right:0,top:0,bottom:0},f),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+f.left+f.right:this.height+f.top+f.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Xl(a,l,s){const{min:f,max:g}=a,S=zi(l,(g-f)/2),w=(D,N)=>s&&0===D?0:D+N;return{min:w(f,-Math.abs(S)),max:w(g,S)}}(this,S,g),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const N=D<this.ticks.length;this._convertTicksToLabels(N?Df(this.ticks,D):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),w.display&&(w.autoSkip||"auto"===w.source)&&(this.ticks=function gc(a,l){const s=a.options.ticks,f=function Af(a){const l=a.options.offset,s=a._tickSize();return Math.floor(Math.min(a._length/s+(l?0:1),a._maxLength/s))}(a),g=Math.min(s.maxTicksLimit||f,f),S=s.major.enabled?function Al(a){const l=[];let s,f;for(s=0,f=a.length;s<f;s++)a[s].major&&l.push(s);return l}(l):[],w=S.length,D=S[0],N=S[w-1],J=[];if(w>g)return function id(a,l,s,f){let w,g=0,S=s[0];for(f=Math.ceil(f),w=0;w<a.length;w++)w===S&&(l.push(a[w]),g++,S=s[g*f])}(l,J,S,w/g),J;const ue=function La(a,l,s){const f=function kg(a){const l=a.length;let s,f;if(l<2)return!1;for(f=a[0],s=1;s<l;++s)if(a[s]-a[s-1]!==f)return!1;return f}(a),g=l.length/s;if(!f)return Math.max(g,1);const S=function Qn(a){const l=[],s=Math.sqrt(a);let f;for(f=1;f<s;f++)a%f==0&&(l.push(f),l.push(a/f));return s===(0|s)&&l.push(s),l.sort((g,S)=>g-S).pop(),l}(f);for(let w=0,D=S.length-1;w<D;w++){const N=S[w];if(N>g)return N}return Math.max(g,1)}(S,l,g);if(w>0){let Me,Le;const Xe=w>1?Math.round((N-D)/(w-1)):null;for(eo(l,J,ue,dt(Xe)?0:D-Xe,D),Me=0,Le=w-1;Me<Le;Me++)eo(l,J,ue,S[Me],S[Me+1]);return eo(l,J,ue,N,dt(Xe)?l.length:N+Xe),J}return eo(l,J,ue),J}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),N&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,f,l=this.options.reverse;this.isHorizontal()?(s=this.left,f=this.right):(s=this.top,f=this.bottom,l=!l),this._startPixel=s,this._endPixel=f,this._reversePixels=l,this._length=f-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oi(this.options.afterUpdate,[this])}beforeSetDimensions(){oi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oi(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),oi(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const s=this.options.ticks;let f,g,S;for(f=0,g=l.length;f<g;f++)S=l[f],S.label=oi(s.callback,[S.value,f,l],this)}afterTickToLabelConversion(){oi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,s=l.ticks,f=Bg(this.ticks.length,l.ticks.maxTicksLimit),g=s.minRotation||0,S=s.maxRotation;let D,N,J,w=g;if(!this._isVisible()||!s.display||g>=S||f<=1||!this.isHorizontal())return void(this.labelRotation=g);const ue=this._getLabelSizes(),Me=ue.widest.width,Le=ue.highest.height,Xe=Pt(this.chart.width-Me,0,this.maxWidth);D=l.offset?this.maxWidth/f:Xe/(f-1),Me+6>D&&(D=Xe/(f-(l.offset?.5:1)),N=this.maxHeight-Ac(l.grid)-s.padding-Sr(l.title,this.chart.options.font),J=Math.sqrt(Me*Me+Le*Le),w=Zi(Math.min(Math.asin(Pt((ue.highest.height+6)/D,-1,1)),Math.asin(Pt(N/J,-1,1))-Math.asin(Pt(Le/J,-1,1)))),w=Math.max(g,Math.min(S,w))),this.labelRotation=w}afterCalculateLabelRotation(){oi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oi(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:s,options:{ticks:f,title:g,grid:S}}=this,w=this._isVisible(),D=this.isHorizontal();if(w){const N=Sr(g,s.options.font);if(D?(l.width=this.maxWidth,l.height=Ac(S)+N):(l.height=this.maxHeight,l.width=Ac(S)+N),f.display&&this.ticks.length){const{first:J,last:ue,widest:Me,highest:Le}=this._getLabelSizes(),Xe=2*f.padding,gt=cs(this.labelRotation),vt=Math.cos(gt),St=Math.sin(gt);D?l.height=Math.min(this.maxHeight,l.height+(f.mirror?0:St*Me.width+vt*Le.height)+Xe):l.width=Math.min(this.maxWidth,l.width+(f.mirror?0:vt*Me.width+St*Le.height)+Xe),this._calculatePadding(J,ue,St,vt)}}this._handleMargins(),D?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,s,f,g){const{ticks:{align:S,padding:w},position:D}=this.options,N=0!==this.labelRotation,J="top"!==D&&"x"===this.axis;if(this.isHorizontal()){const ue=this.getPixelForTick(0)-this.left,Me=this.right-this.getPixelForTick(this.ticks.length-1);let Le=0,Xe=0;N?J?(Le=g*l.width,Xe=f*s.height):(Le=f*l.height,Xe=g*s.width):"start"===S?Xe=s.width:"end"===S?Le=l.width:"inner"!==S&&(Le=l.width/2,Xe=s.width/2),this.paddingLeft=Math.max((Le-ue+w)*this.width/(this.width-ue),0),this.paddingRight=Math.max((Xe-Me+w)*this.width/(this.width-Me),0)}else{let ue=s.height/2,Me=l.height/2;"start"===S?(ue=0,Me=l.height):"end"===S&&(ue=s.height,Me=0),this.paddingTop=ue+w,this.paddingBottom=Me+w}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oi(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:s}=this.options;return"top"===s||"bottom"===s||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let s,f;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),s=0,f=l.length;s<f;s++)dt(l[s].label)&&(l.splice(s,1),f--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const s=this.options.ticks.sampleSize;let f=this.ticks;s<f.length&&(f=Df(f,s)),this._labelSizes=l=this._computeLabelSizes(f,f.length,this.options.ticks.maxTicksLimit)}return l}_computeLabelSizes(l,s,f){const{ctx:g,_longestTextCache:S}=this,w=[],D=[],N=Math.floor(s/Bg(s,f));let Me,Le,Xe,gt,vt,St,mn,dn,qn,ri,Bn,J=0,ue=0;for(Me=0;Me<s;Me+=N){if(gt=l[Me].label,vt=this._resolveTickFontOptions(Me),g.font=St=vt.string,mn=S[St]=S[St]||{data:{},gc:[]},dn=vt.lineHeight,qn=ri=0,dt(gt)||et(gt)){if(et(gt))for(Le=0,Xe=gt.length;Le<Xe;++Le)Bn=gt[Le],!dt(Bn)&&!et(Bn)&&(qn=Ka(g,mn.data,mn.gc,qn,Bn),ri+=dn)}else qn=Ka(g,mn.data,mn.gc,qn,gt),ri=dn;w.push(qn),D.push(ri),J=Math.max(qn,J),ue=Math.max(ri,ue)}!function Fd(a,l){Rn(a,s=>{const f=s.gc,g=f.length/2;let S;if(g>l){for(S=0;S<g;++S)delete s.data[f[S]];f.splice(0,g)}})}(S,s);const ei=w.indexOf(J),Qi=D.indexOf(ue),Ci=Ar=>({width:w[Ar]||0,height:D[Ar]||0});return{first:Ci(0),last:Ci(s-1),widest:Ci(ei),highest:Ci(Qi),widths:w,heights:D}}getLabelForValue(l){return l}getPixelForValue(l,s){return NaN}getValueForPixel(l){}getPixelForTick(l){const s=this.ticks;return l<0||l>s.length-1?null:this.getPixelForValue(s[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const s=this._startPixel+l*this._length;return function vn(a){return Pt(a,-32768,32767)}(this._alignToPixels?Jo(this.chart,s,0):s)}getDecimalForPixel(l){const s=(l-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:s}=this;return l<0&&s<0?s:l>0&&s>0?l:0}getContext(l){const s=this.ticks||[];if(l>=0&&l<s.length){const f=s[l];return f.$context||(f.$context=function ac(a,l,s){return $s(a,{tick:s,index:l,type:"tick"})}(this.getContext(),l,f))}return this.$context||(this.$context=function Fh(a,l){return $s(a,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,s=cs(this.labelRotation),f=Math.abs(Math.cos(s)),g=Math.abs(Math.sin(s)),S=this._getLabelSizes(),w=l.autoSkipPadding||0,D=S?S.widest.width+w:0,N=S?S.highest.height+w:0;return this.isHorizontal()?N*f>D*g?D/f:N/g:N*g<D*f?N/f:D/g}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const s=this.axis,f=this.chart,g=this.options,{grid:S,position:w,border:D}=g,N=S.offset,J=this.isHorizontal(),Me=this.ticks.length+(N?1:0),Le=Ac(S),Xe=[],gt=D.setContext(this.getContext()),vt=gt.display?gt.width:0,St=vt/2,mn=function(ul){return Jo(f,ul,vt)};let dn,qn,ri,Bn,ei,Qi,Ci,Ar,os,No,Is,Ql;if("top"===w)dn=mn(this.bottom),Qi=this.bottom-Le,Ar=dn-St,No=mn(l.top)+St,Ql=l.bottom;else if("bottom"===w)dn=mn(this.top),No=l.top,Ql=mn(l.bottom)-St,Qi=dn+St,Ar=this.top+Le;else if("left"===w)dn=mn(this.right),ei=this.right-Le,Ci=dn-St,os=mn(l.left)+St,Is=l.right;else if("right"===w)dn=mn(this.left),os=l.left,Is=mn(l.right)-St,ei=dn+St,Ci=this.left+Le;else if("x"===s){if("center"===w)dn=mn((l.top+l.bottom)/2+.5);else if(Dt(w)){const ul=Object.keys(w)[0];dn=mn(this.chart.scales[ul].getPixelForValue(w[ul]))}No=l.top,Ql=l.bottom,Qi=dn+St,Ar=Qi+Le}else if("y"===s){if("center"===w)dn=mn((l.left+l.right)/2);else if(Dt(w)){const ul=Object.keys(w)[0];dn=mn(this.chart.scales[ul].getPixelForValue(w[ul]))}ei=dn-St,Ci=ei-Le,os=l.left,Is=l.right}const xc=tn(g.ticks.maxTicksLimit,Me),ka=Math.max(1,Math.ceil(Me/xc));for(qn=0;qn<Me;qn+=ka){const ul=this.getContext(qn),Ya=S.setContext(ul),$c=D.setContext(ul),uc=Ya.lineWidth,Sh=Ya.color,Cg=$c.dash||[],xh=$c.dashOffset,Gp=Ya.tickWidth,Cf=Ya.tickColor,Ch=Ya.tickBorderDash||[],bo=Ya.tickBorderDashOffset;ri=Vg(this,qn,N),void 0!==ri&&(Bn=Jo(f,ri,uc),J?ei=Ci=os=Is=Bn:Qi=Ar=No=Ql=Bn,Xe.push({tx1:ei,ty1:Qi,tx2:Ci,ty2:Ar,x1:os,y1:No,x2:Is,y2:Ql,width:uc,color:Sh,borderDash:Cg,borderDashOffset:xh,tickWidth:Gp,tickColor:Cf,tickBorderDash:Ch,tickBorderDashOffset:bo}))}return this._ticksLength=Me,this._borderValue=dn,Xe}_computeLabelItems(l){const s=this.axis,f=this.options,{position:g,ticks:S}=f,w=this.isHorizontal(),D=this.ticks,{align:N,crossAlign:J,padding:ue,mirror:Me}=S,Le=Ac(f.grid),Xe=Le+ue,gt=Me?-ue:Xe,vt=-cs(this.labelRotation),St=[];let mn,dn,qn,ri,Bn,ei,Qi,Ci,Ar,os,No,Is,Ql="middle";if("top"===g)ei=this.bottom-gt,Qi=this._getXAxisLabelAlignment();else if("bottom"===g)ei=this.top+gt,Qi=this._getXAxisLabelAlignment();else if("left"===g){const ka=this._getYAxisLabelAlignment(Le);Qi=ka.textAlign,Bn=ka.x}else if("right"===g){const ka=this._getYAxisLabelAlignment(Le);Qi=ka.textAlign,Bn=ka.x}else if("x"===s){if("center"===g)ei=(l.top+l.bottom)/2+Xe;else if(Dt(g)){const ka=Object.keys(g)[0];ei=this.chart.scales[ka].getPixelForValue(g[ka])+Xe}Qi=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===g)Bn=(l.left+l.right)/2-Xe;else if(Dt(g)){const ka=Object.keys(g)[0];Bn=this.chart.scales[ka].getPixelForValue(g[ka])}Qi=this._getYAxisLabelAlignment(Le).textAlign}"y"===s&&("start"===N?Ql="top":"end"===N&&(Ql="bottom"));const xc=this._getLabelSizes();for(mn=0,dn=D.length;mn<dn;++mn){qn=D[mn],ri=qn.label;const ka=S.setContext(this.getContext(mn));Ci=this.getPixelForTick(mn)+S.labelOffset,Ar=this._resolveTickFontOptions(mn),os=Ar.lineHeight,No=et(ri)?ri.length:1;const ul=No/2,Ya=ka.color,$c=ka.textStrokeColor,uc=ka.textStrokeWidth;let Cg,Sh=Qi;if(w?(Bn=Ci,"inner"===Qi&&(Sh=mn===dn-1?this.options.reverse?"left":"right":0===mn?this.options.reverse?"right":"left":"center"),Is="top"===g?"near"===J||0!==vt?-No*os+os/2:"center"===J?-xc.highest.height/2-ul*os+os:os/2-xc.highest.height:"near"===J||0!==vt?os/2:"center"===J?xc.highest.height/2-ul*os:xc.highest.height-No*os,Me&&(Is*=-1),0!==vt&&!ka.showLabelBackdrop&&(Bn+=os/2*Math.sin(vt))):(ei=Ci,Is=(1-No)*os/2),ka.showLabelBackdrop){const xh=sr(ka.backdropPadding),Gp=xc.heights[mn],Cf=xc.widths[mn];let Ch=Is-xh.top,bo=0-xh.left;switch(Ql){case"middle":Ch-=Gp/2;break;case"bottom":Ch-=Gp}switch(Qi){case"center":bo-=Cf/2;break;case"right":bo-=Cf;break;case"inner":mn===dn-1?bo-=Cf:mn>0&&(bo-=Cf/2)}Cg={left:bo,top:Ch,width:Cf+xh.width,height:Gp+xh.height,color:ka.backdropColor}}St.push({label:ri,font:Ar,textOffset:Is,options:{rotation:vt,color:Ya,strokeColor:$c,strokeWidth:uc,textAlign:Sh,textBaseline:Ql,translation:[Bn,ei],backdrop:Cg}})}return St}_getXAxisLabelAlignment(){const{position:l,ticks:s}=this.options;if(-cs(this.labelRotation))return"top"===l?"left":"right";let g="center";return"start"===s.align?g="left":"end"===s.align?g="right":"inner"===s.align&&(g="inner"),g}_getYAxisLabelAlignment(l){const{position:s,ticks:{crossAlign:f,mirror:g,padding:S}}=this.options,D=l+S,N=this._getLabelSizes().widest.width;let J,ue;return"left"===s?g?(ue=this.right+S,"near"===f?J="left":"center"===f?(J="center",ue+=N/2):(J="right",ue+=N)):(ue=this.right-D,"near"===f?J="right":"center"===f?(J="center",ue-=N/2):(J="left",ue=this.left)):"right"===s?g?(ue=this.left+S,"near"===f?J="right":"center"===f?(J="center",ue-=N/2):(J="left",ue-=N)):(ue=this.left+D,"near"===f?J="left":"center"===f?(J="center",ue+=N/2):(J="right",ue=this.right)):J="right",{textAlign:J,x:ue}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:s},left:f,top:g,width:S,height:w}=this;s&&(l.save(),l.fillStyle=s,l.fillRect(f,g,S,w),l.restore())}getLineWidthForValue(l){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const g=this.ticks.findIndex(S=>S.value===l);return g>=0?s.setContext(this.getContext(g)).lineWidth:0}drawGrid(l){const s=this.options.grid,f=this.ctx,g=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let S,w;const D=(N,J,ue)=>{!ue.width||!ue.color||(f.save(),f.lineWidth=ue.width,f.strokeStyle=ue.color,f.setLineDash(ue.borderDash||[]),f.lineDashOffset=ue.borderDashOffset,f.beginPath(),f.moveTo(N.x,N.y),f.lineTo(J.x,J.y),f.stroke(),f.restore())};if(s.display)for(S=0,w=g.length;S<w;++S){const N=g[S];s.drawOnChartArea&&D({x:N.x1,y:N.y1},{x:N.x2,y:N.y2},N),s.drawTicks&&D({x:N.tx1,y:N.ty1},{x:N.tx2,y:N.ty2},{color:N.tickColor,width:N.tickWidth,borderDash:N.tickBorderDash,borderDashOffset:N.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:s,options:{border:f,grid:g}}=this,S=f.setContext(this.getContext()),w=f.display?S.width:0;if(!w)return;const D=g.setContext(this.getContext(0)).lineWidth,N=this._borderValue;let J,ue,Me,Le;this.isHorizontal()?(J=Jo(l,this.left,w)-w/2,ue=Jo(l,this.right,D)+D/2,Me=Le=N):(Me=Jo(l,this.top,w)-w/2,Le=Jo(l,this.bottom,D)+D/2,J=ue=N),s.save(),s.lineWidth=S.width,s.strokeStyle=S.color,s.beginPath(),s.moveTo(J,Me),s.lineTo(ue,Le),s.stroke(),s.restore()}drawLabels(l){if(!this.options.ticks.display)return;const f=this.ctx,g=this._computeLabelArea();g&&na(f,g);const S=this.getLabelItems(l);for(const w of S)Lr(f,w.label,0,w.textOffset,w.font,w.options);g&&as(f)}drawTitle(){const{ctx:l,options:{position:s,title:f,reverse:g}}=this;if(!f.display)return;const S=ao(f.font),w=sr(f.padding),D=f.align;let N=S.lineHeight/2;"bottom"===s||"center"===s||Dt(s)?(N+=w.bottom,et(f.text)&&(N+=S.lineHeight*(f.text.length-1))):N+=w.top;const{titleX:J,titleY:ue,maxWidth:Me,rotation:Le}=function Ou(a,l,s,f){const{top:g,left:S,bottom:w,right:D,chart:N}=a,{chartArea:J,scales:ue}=N;let Le,Xe,gt,Me=0;const vt=w-g,St=D-S;if(a.isHorizontal()){if(Xe=Di(f,S,D),Dt(s)){const mn=Object.keys(s)[0];gt=ue[mn].getPixelForValue(s[mn])+vt-l}else gt="center"===s?(J.bottom+J.top)/2+vt-l:sm(a,s,l);Le=D-S}else{if(Dt(s)){const mn=Object.keys(s)[0];Xe=ue[mn].getPixelForValue(s[mn])-St+l}else Xe="center"===s?(J.left+J.right)/2-St+l:sm(a,s,l);gt=Di(f,w,g),Me="left"===s?-ro:ro}return{titleX:Xe,titleY:gt,maxWidth:Le,rotation:Me}}(this,N,s,D);Lr(l,f.text,0,0,S,{color:f.color,maxWidth:Me,rotation:Le,textAlign:Nd(D,s,g),textBaseline:"middle",translation:[J,ue]})}draw(l){this._isVisible()&&(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,s=l.ticks&&l.ticks.z||0,f=tn(l.grid&&l.grid.z,-1),g=tn(l.border&&l.border.z,0);return this._isVisible()&&this.draw===Dl.prototype.draw?[{z:f,draw:S=>{this.drawBackground(),this.drawGrid(S),this.drawTitle()}},{z:g,draw:()=>{this.drawBorder()}},{z:s,draw:S=>{this.drawLabels(S)}}]:[{z:s,draw:S=>{this.draw(S)}}]}getMatchingVisibleMetas(l){const s=this.chart.getSortedVisibleDatasetMetas(),f=this.axis+"AxisID",g=[];let S,w;for(S=0,w=s.length;S<w;++S){const D=s[S];D[f]===this.id&&(!l||D.type===l)&&g.push(D)}return g}_resolveTickFontOptions(l){return ao(this.options.ticks.setContext(this.getContext(l)).font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class gu{constructor(l,s,f){this.type=l,this.scope=s,this.override=f,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const s=Object.getPrototypeOf(l);let f;(function Ld(a){return"id"in a&&"defaults"in a})(s)&&(f=this.register(s));const g=this.items,S=l.id,w=this.scope+"."+S;if(!S)throw new Error("class does not have id: "+l);return S in g||(g[S]=l,function Bl(a,l,s){const f=Xi(Object.create(null),[s?so.get(s):{},so.get(l),a.defaults]);so.set(l,f),a.defaultRoutes&&function Do(a,l){Object.keys(l).forEach(s=>{const f=s.split("."),g=f.pop(),S=[a].concat(f).join("."),w=l[s].split("."),D=w.pop(),N=w.join(".");so.route(S,g,N,D)})}(l,a.defaultRoutes),a.descriptors&&so.describe(l,a.descriptors)}(l,w,f),this.override&&so.override(l.id,l.overrides)),w}get(l){return this.items[l]}unregister(l){const s=this.items,f=l.id,g=this.scope;f in s&&delete s[f],g&&f in so[g]&&(delete so[g][f],this.override&&delete ea[f])}}class rd{constructor(){this.controllers=new gu(uo,"datasets",!0),this.elements=new gu(ya,"elements"),this.plugins=new gu(Object,"plugins"),this.scales=new gu(Dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,s,f){[...s].forEach(g=>{const S=f||this._getRegistryForType(g);f||S.isForType(g)||S===this.plugins&&g.id?this._exec(l,S,g):Rn(g,w=>{const D=f||this._getRegistryForType(w);this._exec(l,D,w)})})}_exec(l,s,f){const g=Ns(l);oi(f["before"+g],[],f),s[l](f),oi(f["after"+g],[],f)}_getRegistryForType(l){for(let s=0;s<this._typedRegistries.length;s++){const f=this._typedRegistries[s];if(f.isForType(l))return f}return this.plugins}_get(l,s,f){const g=s.get(l);if(void 0===g)throw new Error('"'+l+'" is not a registered '+f+".");return g}}var Dc=new rd;class Nh{constructor(){this._init=[]}notify(l,s,f,g){"beforeInit"===s&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const S=g?this._descriptors(l).filter(g):this._descriptors(l),w=this._notify(S,l,s,f);return"afterDestroy"===s&&(this._notify(S,l,"stop"),this._notify(this._init,l,"uninstall")),w}_notify(l,s,f,g){g=g||{};for(const S of l){const w=S.plugin;if(!1===oi(w[f],[s,g,S.options],w)&&g.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),s}_createDescriptors(l,s){const f=l&&l.config,g=tn(f.options&&f.options.plugins,{}),S=function am(a){const l={},s=[],f=Object.keys(Dc.plugins.items);for(let S=0;S<f.length;S++)s.push(Dc.getPlugin(f[S]));const g=a.plugins||[];for(let S=0;S<g.length;S++){const w=g[S];-1===s.indexOf(w)&&(s.push(w),l[w.id]=!0)}return{plugins:s,localIds:l}}(f);return!1!==g||s?function kh(a,{plugins:l,localIds:s},f,g){const S=[],w=a.getContext();for(const D of l){const N=D.id,J=Lh(f[N],g);null!==J&&S.push({plugin:D,options:zg(a.config,{plugin:D,local:s[N]},J,w)})}return S}(l,S,g,s):[]}_notifyStateChanges(l){const s=this._oldCache||[],f=this._cache,g=(S,w)=>S.filter(D=>!w.some(N=>D.plugin.id===N.plugin.id));this._notify(g(s,f),l,"stop"),this._notify(g(f,s),l,"start")}}function Lh(a,l){return l||!1!==a?!0===a?{}:a:null}function zg(a,{plugin:l,local:s},f,g){const S=a.pluginScopeKeys(l),w=a.getOptionScopes(f,S);return s&&l.defaults&&w.push(l.defaults),a.createResolver(w,g,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pf(a,l){return((l.datasets||{})[a]||{}).indexAxis||l.indexAxis||(so.datasets[a]||{}).indexAxis||"x"}function _l(a){if("x"===a||"y"===a||"r"===a)return a}function If(a){return"top"===a||"bottom"===a?"x":"left"===a||"right"===a?"y":void 0}function Fu(a,...l){if(_l(a))return a;for(const s of l){const f=s.axis||If(s.position)||a.length>1&&_l(a[0].toLowerCase());if(f)return f}throw new Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function Fc(a,l,s){if(s[l+"AxisID"]===a)return{axis:l}}function lm(a){const l=a.options||(a.options={});l.plugins=tn(l.plugins,{}),l.scales=function tc(a,l){const s=ea[a.type]||{scales:{}},f=l.scales||{},g=Pf(a.type,l),S=Object.create(null);return Object.keys(f).forEach(w=>{const D=f[w];if(!Dt(D))return console.error(`Invalid scale configuration for scale: ${w}`);if(D._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${w}`);const N=Fu(w,D,function Of(a,l){if(l.data&&l.data.datasets){const s=l.data.datasets.filter(f=>f.xAxisID===a||f.yAxisID===a);if(s.length)return Fc(a,"x",s[0])||Fc(a,"y",s[0])}return{}}(w,a),so.scales[D.type]),J=function Ru(a,l){return a===l?"_index_":"_value_"}(N,g),ue=s.scales||{};S[w]=So(Object.create(null),[{axis:N},D,ue[N],ue[J]])}),a.data.datasets.forEach(w=>{const D=w.type||a.type,N=w.indexAxis||Pf(D,l),ue=(ea[D]||{}).scales||{};Object.keys(ue).forEach(Me=>{const Le=function Uh(a,l){let s=a;return"_index_"===a?s=l:"_value_"===a&&(s="x"===l?"y":"x"),s}(Me,N),Xe=w[Le+"AxisID"]||Le;S[Xe]=S[Xe]||Object.create(null),So(S[Xe],[{axis:Le},f[Xe],ue[Me]])})}),Object.keys(S).forEach(w=>{const D=S[w];So(D,[so.scales[D.type],so.scale])}),S}(a,l)}function cm(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}const jg=new Map,Rf=new Set;function nc(a,l){let s=jg.get(a);return s||(s=l(),jg.set(a,s),Rf.add(s)),s}const vu=(a,l,s)=>{const f=zr(l,s);void 0!==f&&a.add(f)};class Lc{constructor(l){this._config=function Nc(a){return(a=a||{}).data=cm(a.data),lm(a),a}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=cm(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),lm(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return nc(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,s){return nc(`${l}.transition.${s}`,()=>[[`datasets.${l}.transitions.${s}`,`transitions.${s}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,s){return nc(`${l}-${s}`,()=>[[`datasets.${l}.elements.${s}`,`datasets.${l}`,`elements.${s}`,""]])}pluginScopeKeys(l){const s=l.id;return nc(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,s){const f=this._scopeCache;let g=f.get(l);return(!g||s)&&(g=new Map,f.set(l,g)),g}getOptionScopes(l,s,f){const{options:g,type:S}=this,w=this._cachedScopes(l,f),D=w.get(s);if(D)return D;const N=new Set;s.forEach(ue=>{l&&(N.add(l),ue.forEach(Me=>vu(N,l,Me))),ue.forEach(Me=>vu(N,g,Me)),ue.forEach(Me=>vu(N,ea[S]||{},Me)),ue.forEach(Me=>vu(N,so,Me)),ue.forEach(Me=>vu(N,Nr,Me))});const J=Array.from(N);return 0===J.length&&J.push(Object.create(null)),Rf.has(s)&&w.set(s,J),J}chartOptionScopes(){const{options:l,type:s}=this;return[l,ea[s]||{},so.datasets[s]||{},{type:s},so,Nr]}resolveNamedOptions(l,s,f,g=[""]){const S={$shared:!0},{resolver:w,subPrefixes:D}=Ff(this._resolverCache,l,g);let N=w;(function Vl(a,l){const{isScriptable:s,isIndexable:f}=Rl(a);for(const g of l){const S=s(g),w=f(g),D=(w||S)&&a[g];if(S&&(Zo(D)||Hg(D))||w&&et(D))return!0}return!1})(w,s)&&(S.$shared=!1,N=$o(w,f=Zo(f)?f():f,this.createResolver(l,f,D)));for(const J of s)S[J]=N[J];return S}createResolver(l,s,f=[""],g){const{resolver:S}=Ff(this._resolverCache,l,f);return Dt(s)?$o(S,s,void 0,g):S}}function Ff(a,l,s){let f=a.get(l);f||(f=new Map,a.set(l,f));const g=s.join();let S=f.get(g);return S||(S={resolver:Ja(l,s),subPrefixes:s.filter(D=>!D.toLowerCase().includes("hover"))},f.set(g,S)),S}const Hg=a=>Dt(a)&&Object.getOwnPropertyNames(a).some(l=>Zo(a[l])),sd=["top","bottom","left","right","chartArea"];function Bh(a,l){return"top"===a||"bottom"===a||-1===sd.indexOf(a)&&"x"===l}function kd(a,l){return function(s,f){return s[a]===f[a]?s[l]-f[l]:s[a]-f[a]}}function Ud(a){const l=a.chart,s=l.options.animation;l.notifyPlugins("afterRender"),oi(s&&s.onComplete,[a],l)}function Pc(a){const l=a.chart,s=l.options.animation;oi(s&&s.onProgress,[a],l)}function Gg(a){return he()&&"string"==typeof a?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const Nu={},Bd=a=>{const l=Gg(a);return Object.values(Nu).filter(s=>s.canvas===l).pop()};function Lu(a,l,s){const f=Object.keys(a);for(const g of f){const S=+g;if(S>=l){const w=a[g];delete a[g],(s>0||S>l)&&(a[S+s]=w)}}}function bl(a,l,s){return a.options.clip?a[s]:l[s]}let kc=(()=>class a{static defaults=so;static instances=Nu;static overrides=ea;static registry=Dc;static version="4.4.8";static getChart=Bd;static register(...s){Dc.add(...s),Vd()}static unregister(...s){Dc.remove(...s),Vd()}constructor(s,f){const g=this.config=new Lc(f),S=Gg(s),w=Bd(S);if(w)throw new Error("Canvas is already in use. Chart with ID '"+w.id+"' must be destroyed before the canvas with ID '"+w.canvas.id+"' can be reused.");const D=g.createResolver(g.chartOptionScopes(),this.getContext());this.platform=new(g.platform||function Tc(a){return!he()||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas?is:Bo}(S)),this.platform.updateConfig(g);const N=this.platform.acquireContext(S,D.aspectRatio),J=N&&N.canvas,ue=J&&J.height,Me=J&&J.width;this.id=Lo(),this.ctx=N,this.canvas=J,this.width=Me,this.height=ue,this._options=D,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Ts(a,l){let s;return function(...f){return l?(clearTimeout(s),s=setTimeout(a,l,f)):a.apply(this,f),l}}(Le=>this.update(Le),D.resizeDelay||0),this._dataChanges=[],Nu[this.id]=this,N&&J?(sn.listen(this,"complete",Ud),sn.listen(this,"progress",Pc),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:f},width:g,height:S,_aspectRatio:w}=this;return dt(s)?f&&w?w:S?g/S:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Dc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ca(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ga(this.canvas,this.ctx),this}stop(){return sn.stop(this),this}resize(s,f){sn.running(this)?this._resizeBeforeDraw={width:s,height:f}:this._resize(s,f)}_resize(s,f){const g=this.options,D=this.platform.getMaximumSize(this.canvas,s,f,g.maintainAspectRatio&&this.aspectRatio),N=g.devicePixelRatio||this.platform.getDevicePixelRatio(),J=this.width?"resize":"attach";this.width=D.width,this.height=D.height,this._aspectRatio=this.aspectRatio,Ca(this,N,!0)&&(this.notifyPlugins("resize",{size:D}),oi(g.onResize,[this,D],this),this.attached&&this._doResize(J)&&this.render())}ensureScalesHaveIDs(){Rn(this.options.scales||{},(g,S)=>{g.id=S})}buildOrUpdateScales(){const s=this.options,f=s.scales,g=this.scales,S=Object.keys(g).reduce((D,N)=>(D[N]=!1,D),{});let w=[];f&&(w=w.concat(Object.keys(f).map(D=>{const N=f[D],J=Fu(D,N),ue="r"===J,Me="x"===J;return{options:N,dposition:ue?"chartArea":Me?"bottom":"left",dtype:ue?"radialLinear":Me?"category":"linear"}}))),Rn(w,D=>{const N=D.options,J=N.id,ue=Fu(J,N),Me=tn(N.type,D.dtype);(void 0===N.position||Bh(N.position,ue)!==Bh(D.dposition))&&(N.position=D.dposition),S[J]=!0;let Le=null;J in g&&g[J].type===Me?Le=g[J]:(Le=new(Dc.getScale(Me))({id:J,type:Me,ctx:this.ctx,chart:this}),g[Le.id]=Le),Le.init(N,s)}),Rn(S,(D,N)=>{D||delete g[N]}),Rn(g,D=>{qr.configure(this,D,D.options),qr.addBox(this,D)})}_updateMetasets(){const s=this._metasets,f=this.data.datasets.length,g=s.length;if(s.sort((S,w)=>S.index-w.index),g>f){for(let S=f;S<g;++S)this._destroyDatasetMeta(S);s.splice(f,g-f)}this._sortedMetasets=s.slice(0).sort(kd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:f}}=this;s.length>f.length&&delete this._stacks,s.forEach((g,S)=>{0===f.filter(w=>w===g._dataset).length&&this._destroyDatasetMeta(S)})}buildOrUpdateControllers(){const s=[],f=this.data.datasets;let g,S;for(this._removeUnreferencedMetasets(),g=0,S=f.length;g<S;g++){const w=f[g];let D=this.getDatasetMeta(g);const N=w.type||this.config.type;if(D.type&&D.type!==N&&(this._destroyDatasetMeta(g),D=this.getDatasetMeta(g)),D.type=N,D.indexAxis=w.indexAxis||Pf(N,this.options),D.order=w.order||0,D.index=g,D.label=""+w.label,D.visible=this.isDatasetVisible(g),D.controller)D.controller.updateIndex(g),D.controller.linkScales();else{const J=Dc.getController(N),{datasetElementType:ue,dataElementType:Me}=so.datasets[N];Object.assign(J,{dataElementType:Dc.getElement(Me),datasetElementType:ue&&Dc.getElement(ue)}),D.controller=new J(this,g),s.push(D.controller)}}return this._updateMetasets(),s}_resetElements(){Rn(this.data.datasets,(s,f)=>{this.getDatasetMeta(f).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const f=this.config;f.update();const g=this._options=f.createResolver(f.chartOptionScopes(),this.getContext()),S=this._animationsDisabled=!g.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const w=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let D=0;for(let ue=0,Me=this.data.datasets.length;ue<Me;ue++){const{controller:Le}=this.getDatasetMeta(ue),Xe=!S&&-1===w.indexOf(Le);Le.buildOrUpdateElements(Xe),D=Math.max(+Le.getMaxOverflow(),D)}D=this._minPadding=g.layout.autoPadding?D:0,this._updateLayout(D),S||Rn(w,ue=>{ue.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(kd("z","_idx"));const{_active:N,_lastEvent:J}=this;J?this._eventHandler(J,!0):N.length&&this._updateHoverStyles(N,N,!0),this.render()}_updateScales(){Rn(this.scales,s=>{qr.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,f=new Set(Object.keys(this._listeners)),g=new Set(s.events);(!Ha(f,g)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,f=this._getUniformDataChanges()||[];for(const{method:g,start:S,count:w}of f)Lu(s,S,"_removeElements"===g?-w:w)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const f=this.data.datasets.length,g=w=>new Set(s.filter(D=>D[0]===w).map((D,N)=>N+","+D.splice(1).join(","))),S=g(0);for(let w=1;w<f;w++)if(!Ha(S,g(w)))return;return Array.from(S).map(w=>w.split(",")).map(w=>({method:w[1],start:+w[2],count:+w[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qr.update(this,this.width,this.height,s);const f=this.chartArea,g=f.width<=0||f.height<=0;this._layers=[],Rn(this.boxes,S=>{g&&"chartArea"===S.position||(S.configure&&S.configure(),this._layers.push(...S._layers()))},this),this._layers.forEach((S,w)=>{S._idx=w}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let f=0,g=this.data.datasets.length;f<g;++f)this.getDatasetMeta(f).controller.configure();for(let f=0,g=this.data.datasets.length;f<g;++f)this._updateDataset(f,Zo(s)?s({datasetIndex:f}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,f){const g=this.getDatasetMeta(s),S={meta:g,index:s,mode:f,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",S)&&(g.controller._update(f),S.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",S))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(sn.has(this)?this.attached&&!sn.running(this)&&sn.start(this):(this.draw(),Ud({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:g,height:S}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(g,S)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const f=this._layers;for(s=0;s<f.length&&f[s].z<=0;++s)f[s].draw(this.chartArea);for(this._drawDatasets();s<f.length;++s)f[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const f=this._sortedMetasets,g=[];let S,w;for(S=0,w=f.length;S<w;++S){const D=f[S];(!s||D.visible)&&g.push(D)}return g}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let f=s.length-1;f>=0;--f)this._drawDataset(s[f]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const f=this.ctx,g=s._clip,S=!g.disabled,w=function lc(a,l){const{xScale:s,yScale:f}=a;return s&&f?{left:bl(s,l,"left"),right:bl(s,l,"right"),top:bl(f,l,"top"),bottom:bl(f,l,"bottom")}:l}(s,this.chartArea),D={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",D)&&(S&&na(f,{left:!1===g.left?0:w.left-g.left,right:!1===g.right?this.width:w.right+g.right,top:!1===g.top?0:w.top-g.top,bottom:!1===g.bottom?this.height:w.bottom+g.bottom}),s.controller.draw(),S&&as(f),D.cancelable=!1,this.notifyPlugins("afterDatasetDraw",D))}isPointInArea(s){return Er(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,f,g,S){const w=ot.modes[f];return"function"==typeof w?w(this,s,g,S):[]}getDatasetMeta(s){const f=this.data.datasets[s],g=this._metasets;let S=g.filter(w=>w&&w._dataset===f).pop();return S||(S={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:f&&f.order||0,index:s,_dataset:f,_parsed:[],_sorted:!1},g.push(S)),S}getContext(){return this.$context||(this.$context=$s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const f=this.data.datasets[s];if(!f)return!1;const g=this.getDatasetMeta(s);return"boolean"==typeof g.hidden?!g.hidden:!f.hidden}setDatasetVisibility(s,f){this.getDatasetMeta(s).hidden=!f}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,f,g){const S=g?"show":"hide",w=this.getDatasetMeta(s),D=w.controller._resolveAnimations(void 0,S);xi(f)?(w.data[f].hidden=!g,this.update()):(this.setDatasetVisibility(s,g),D.update(w,{visible:g}),this.update(N=>N.datasetIndex===s?S:void 0))}hide(s,f){this._updateVisibility(s,f,!1)}show(s,f){this._updateVisibility(s,f,!0)}_destroyDatasetMeta(s){const f=this._metasets[s];f&&f.controller&&f.controller._destroy(),delete this._metasets[s]}_stop(){let s,f;for(this.stop(),sn.remove(this),s=0,f=this.data.datasets.length;s<f;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:f}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),Ga(s,f),this.platform.releaseContext(f),this.canvas=null,this.ctx=null),delete Nu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,f=this.platform,g=(w,D)=>{f.addEventListener(this,w,D),s[w]=D},S=(w,D,N)=>{w.offsetX=D,w.offsetY=N,this._eventHandler(w)};Rn(this.options.events,w=>g(w,S))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,f=this.platform,g=(J,ue)=>{f.addEventListener(this,J,ue),s[J]=ue},S=(J,ue)=>{s[J]&&(f.removeEventListener(this,J,ue),delete s[J])},w=(J,ue)=>{this.canvas&&this.resize(J,ue)};let D;const N=()=>{S("attach",N),this.attached=!0,this.resize(),g("resize",w),g("detach",D)};D=()=>{this.attached=!1,S("resize",w),this._stop(),this._resize(0,0),g("attach",N)},f.isAttached(this.canvas)?N():D()}unbindEvents(){Rn(this._listeners,(s,f)=>{this.platform.removeEventListener(this,f,s)}),this._listeners={},Rn(this._responsiveListeners,(s,f)=>{this.platform.removeEventListener(this,f,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,f,g){const S=g?"set":"remove";let w,D,N,J;for("dataset"===f&&(w=this.getDatasetMeta(s[0].datasetIndex),w.controller["_"+S+"DatasetHoverStyle"]()),N=0,J=s.length;N<J;++N){D=s[N];const ue=D&&this.getDatasetMeta(D.datasetIndex).controller;ue&&ue[S+"HoverStyle"](D.element,D.datasetIndex,D.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const f=this._active||[],g=s.map(({datasetIndex:w,index:D})=>{const N=this.getDatasetMeta(w);if(!N)throw new Error("No dataset found at index "+w);return{datasetIndex:w,element:N.data[D],index:D}});!ci(g,f)&&(this._active=g,this._lastEvent=null,this._updateHoverStyles(g,f))}notifyPlugins(s,f,g){return this._plugins.notify(this,s,f,g)}isPluginEnabled(s){return 1===this._plugins._cache.filter(f=>f.plugin.id===s).length}_updateHoverStyles(s,f,g){const S=this.options.hover,w=(J,ue)=>J.filter(Me=>!ue.some(Le=>Me.datasetIndex===Le.datasetIndex&&Me.index===Le.index)),D=w(f,s),N=g?s:w(s,f);D.length&&this.updateHoverStyle(D,S.mode,!1),N.length&&S.mode&&this.updateHoverStyle(N,S.mode,!0)}_eventHandler(s,f){const g={event:s,replay:f,cancelable:!0,inChartArea:this.isPointInArea(s)},S=D=>(D.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",g,S))return;const w=this._handleEvent(s,f,g.inChartArea);return g.cancelable=!1,this.notifyPlugins("afterEvent",g,S),(w||g.changed)&&this.render(),this}_handleEvent(s,f,g){const{_active:S=[],options:w}=this,N=this._getActiveElements(s,S,g,f),J=function _i(a){return"mouseup"===a.type||"click"===a.type||"contextmenu"===a.type}(s),ue=function Wg(a,l,s,f){return s&&"mouseout"!==a.type?f?l:a:null}(s,this._lastEvent,g,J);g&&(this._lastEvent=null,oi(w.onHover,[s,N,this],this),J&&oi(w.onClick,[s,N,this],this));const Me=!ci(N,S);return(Me||f)&&(this._active=N,this._updateHoverStyles(N,S,f)),this._lastEvent=ue,Me}_getActiveElements(s,f,g,S){if("mouseout"===s.type)return[];if(!g)return f;const w=this.options.hover;return this.getElementsAtEventForMode(s,w.mode,w,S)}})();function Vd(){return Rn(kc.instances,a=>a._plugins.invalidate())}function ic(a,l,s,f){return{x:s+a*Math.cos(l),y:f+a*Math.sin(l)}}function fc(a,l,s,f,g,S){const{x:w,y:D,startAngle:N,pixelMargin:J,innerRadius:ue}=l,Me=Math.max(l.outerRadius+f+s-J,0),Le=ue>0?ue+f+s+J:0;let Xe=0;const gt=g-N;if(f){const Ya=((ue>0?ue-f:0)+(Me>0?Me-f:0))/2;Xe=(gt-(0!==Ya?gt*Ya/(Ya+f):gt))/2}const St=(gt-Math.max(.001,gt*Me-s/ki)/Me)/2,mn=N+St+Xe,dn=g-St-Xe,{outerStart:qn,outerEnd:ri,innerStart:Bn,innerEnd:ei}=function ku(a,l,s,f){const g=function jd(a){return ys(a,["outerStart","outerEnd","innerStart","innerEnd"])}(a.options.borderRadius),S=(s-l)/2,w=Math.min(S,f*l/2),D=N=>{const J=(s-Math.min(S,N))*f/2;return Pt(N,0,Math.min(S,J))};return{outerStart:D(g.outerStart),outerEnd:D(g.outerEnd),innerStart:Pt(g.innerStart,0,w),innerEnd:Pt(g.innerEnd,0,w)}}(l,Le,Me,dn-mn),Qi=Me-qn,Ci=Me-ri,Ar=mn+qn/Qi,os=dn-ri/Ci,No=Le+Bn,Is=Le+ei,Ql=mn+Bn/No,xc=dn-ei/Is;if(a.beginPath(),S){const ka=(Ar+os)/2;if(a.arc(w,D,Me,Ar,ka),a.arc(w,D,Me,ka,os),ri>0){const uc=ic(Ci,os,w,D);a.arc(uc.x,uc.y,ri,os,dn+ro)}const ul=ic(Is,dn,w,D);if(a.lineTo(ul.x,ul.y),ei>0){const uc=ic(Is,xc,w,D);a.arc(uc.x,uc.y,ei,dn+ro,xc+Math.PI)}const Ya=(dn-ei/Le+(mn+Bn/Le))/2;if(a.arc(w,D,Le,dn-ei/Le,Ya,!0),a.arc(w,D,Le,Ya,mn+Bn/Le,!0),Bn>0){const uc=ic(No,Ql,w,D);a.arc(uc.x,uc.y,Bn,Ql+Math.PI,mn-ro)}const $c=ic(Qi,mn,w,D);if(a.lineTo($c.x,$c.y),qn>0){const uc=ic(Qi,Ar,w,D);a.arc(uc.x,uc.y,qn,mn-ro,Ar)}}else{a.moveTo(w,D);const ka=Math.cos(Ar)*Me+w,ul=Math.sin(Ar)*Me+D;a.lineTo(ka,ul);const Ya=Math.cos(os)*Me+w,$c=Math.sin(os)*Me+D;a.lineTo(Ya,$c)}a.closePath()}function Uc(a,l,s=l){a.lineCap=tn(s.borderCapStyle,l.borderCapStyle),a.setLineDash(tn(s.borderDash,l.borderDash)),a.lineDashOffset=tn(s.borderDashOffset,l.borderDashOffset),a.lineJoin=tn(s.borderJoinStyle,l.borderJoinStyle),a.lineWidth=tn(s.borderWidth,l.borderWidth),a.strokeStyle=tn(s.borderColor,l.borderColor)}function Bc(a,l,s){a.lineTo(s.x,s.y)}function Nf(a,l,s={}){const f=a.length,{start:g=0,end:S=f-1}=s,{start:w,end:D}=l,N=Math.max(g,w),J=Math.min(S,D);return{count:f,start:N,loop:l.loop,ilen:J<N&&!(g<w&&S<w||g>D&&S>D)?f+J-N:J-N}}function Wd(a,l,s,f){const{points:g,options:S}=l,{count:w,start:D,loop:N,ilen:J}=Nf(g,s,f),ue=function um(a){return a.stepped?ls:a.tension||"monotone"===a.cubicInterpolationMode?Va:Bc}(S);let Xe,gt,vt,{move:Me=!0,reverse:Le}=f||{};for(Xe=0;Xe<=J;++Xe)gt=g[(D+(Le?J-Xe:Xe))%w],!gt.skip&&(Me?(a.moveTo(gt.x,gt.y),Me=!1):ue(a,vt,gt,Le,S.stepped),vt=gt);return N&&(gt=g[(D+(Le?J:0))%w],ue(a,vt,gt,Le,S.stepped)),!!N}function $g(a,l,s,f){const g=l.points,{count:S,start:w,ilen:D}=Nf(g,s,f),{move:N=!0,reverse:J}=f||{};let Le,Xe,gt,vt,St,mn,ue=0,Me=0;const dn=ri=>(w+(J?D-ri:ri))%S,qn=()=>{vt!==St&&(a.lineTo(ue,St),a.lineTo(ue,vt),a.lineTo(ue,mn))};for(N&&(Xe=g[dn(0)],a.moveTo(Xe.x,Xe.y)),Le=0;Le<=D;++Le){if(Xe=g[dn(Le)],Xe.skip)continue;const ri=Xe.x,Bn=Xe.y,ei=0|ri;ei===gt?(Bn<vt?vt=Bn:Bn>St&&(St=Bn),ue=(Me*ue+ri)/++Me):(qn(),a.lineTo(ri,Bn),gt=ei,Me=0,vt=St=Bn),mn=Bn}qn()}function $d(a){const l=a.options;return a._decimated||a._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?Wd:$g}const Yg="function"==typeof Path2D;let al=(()=>class a extends ya{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s&&"fill"!==s};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,f){const g=this.options;!g.tension&&"monotone"!==g.cubicInterpolationMode||g.stepped||this._pointsUpdated||(Qo(this._points,g,s,g.spanGaps?this._loop:this._fullLoop,f),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function $a(a,l){const s=a.points,f=a.options.spanGaps,g=s.length;if(!g)return[];const S=!!a._loop,{start:w,end:D}=function fs(a,l,s,f){let g=0,S=l-1;if(s&&!f)for(;g<l&&!a[g].skip;)g++;for(;g<l&&a[g].skip;)g++;for(g%=l,s&&(S+=g);S>g&&a[S%l].skip;)S--;return S%=l,{start:g,end:S}}(s,g,S,f);return function Na(a,l,s,f){return f&&f.setContext&&s?function _o(a,l,s,f){const g=a._chart.getContext(),S=Bs(a.options),{_datasetIndex:w,options:{spanGaps:D}}=a,N=s.length,J=[];let ue=S,Me=l[0].start,Le=Me;function Xe(gt,vt,St,mn){const dn=D?-1:1;if(gt!==vt){for(gt+=N;s[gt%N].skip;)gt-=dn;for(;s[vt%N].skip;)vt+=dn;gt%N!=vt%N&&(J.push({start:gt%N,end:vt%N,loop:St,style:mn}),ue=mn,Me=vt%N)}}for(const gt of l){Me=D?Me:gt.start;let St,vt=s[Me%N];for(Le=Me+1;Le<=gt.end;Le++){const mn=s[Le%N];St=Bs(f.setContext($s(g,{type:"segment",p0:vt,p1:mn,p0DataIndex:(Le-1)%N,p1DataIndex:Le%N,datasetIndex:w}))),sl(St,ue)&&Xe(Me,Le-1,gt.loop,ue),vt=mn,ue=St}Me<Le-1&&Xe(Me,Le-1,gt.loop,ue)}return J}(a,l,s,f):l}(a,!0===f?[{start:w,end:D,loop:S}]:function Wa(a,l,s,f){const g=a.length,S=[];let N,w=l,D=a[l];for(N=l+1;N<=s;++N){const J=a[N%g];J.skip||J.stop?D.skip||(S.push({start:l%g,end:(N-1)%g,loop:f=!1}),l=w=J.stop?N:null):(w=N,D.skip&&(l=N)),D=J}return null!==w&&S.push({start:l%g,end:w%g,loop:f}),S}(s,w,D<w?D+g:D,!!a._fullLoop&&0===w&&D===g-1),s,l)}(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,g=s.length;return g&&this.points[s[g-1].end]}interpolate(s,f){const g=this.options,S=s[f],w=this.points,D=Qa(this,{property:f,start:S,end:S});if(!D.length)return;const N=[],J=function Vh(a){return a.stepped?Cs:a.tension||"monotone"===a.cubicInterpolationMode?Ea:bs}(g);let ue,Me;for(ue=0,Me=D.length;ue<Me;++ue){const{start:Le,end:Xe}=D[ue],gt=w[Le],vt=w[Xe];if(gt===vt){N.push(gt);continue}const mn=J(gt,vt,Math.abs((S-gt[f])/(vt[f]-gt[f])),g.stepped);mn[f]=s[f],N.push(mn)}return 1===N.length?N[0]:N}pathSegment(s,f,g){return $d(this)(s,this,f,g)}path(s,f,g){const S=this.segments,w=$d(this);let D=this._loop;f=f||0,g=g||this.points.length-f;for(const N of S)D&=w(s,this,N,{start:f,end:f+g-1});return!!D}draw(s,f,g,S){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function Zg(a,l,s,f){Yg&&!l.options.segment?function Xg(a,l,s,f){let g=l._path;g||(g=l._path=new Path2D,l.path(g,s,f)&&g.closePath()),Uc(a,l.options),a.stroke(g)}(a,l,s,f):function Uu(a,l,s,f){const{segments:g,options:S}=l,w=$d(l);for(const D of g)Uc(a,S,D.style),a.beginPath(),w(a,l,D,{start:s,end:s+f-1})&&a.closePath(),a.stroke()}(a,l,s,f)}(s,this,g,S),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function dm(a,l,s,f){const g=a.options,{[s]:S}=a.getProps([s],f);return Math.abs(l-S)<g.radius+g.hitRadius}let Xd=(()=>class a extends ya{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,f,g){const S=this.options,{x:w,y:D}=this.getProps(["x","y"],g);return Math.pow(s-w,2)+Math.pow(f-D,2)<Math.pow(S.hitRadius+S.radius,2)}inXRange(s,f){return dm(this,s,"x",f)}inYRange(s,f){return dm(this,s,"y",f)}getCenterPoint(s){const{x:f,y:g}=this.getProps(["x","y"],s);return{x:f,y:g}}size(s){let f=(s=s||this.options||{}).radius||0;return f=Math.max(f,f&&s.hoverRadius||0),2*(f+(f&&s.borderWidth||0))}draw(s,f){const g=this.options;this.skip||g.radius<.1||!Er(this,f,this.size(g)/2)||(s.strokeStyle=g.borderColor,s.lineWidth=g.borderWidth,s.fillStyle=g.backgroundColor,Hr(s,g,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}})();function Lf(a,l){const{x:s,y:f,base:g,width:S,height:w}=a.getProps(["x","y","base","width","height"],l);let D,N,J,ue,Me;return a.horizontal?(Me=w/2,D=Math.min(s,g),N=Math.max(s,g),J=f-Me,ue=f+Me):(Me=S/2,D=s-Me,N=s+Me,J=Math.min(f,g),ue=Math.max(f,g)),{left:D,top:J,right:N,bottom:ue}}function Ml(a,l,s,f){return a?0:Pt(l,s,f)}function yu(a,l,s,f){const g=null===l,S=null===s,D=a&&!(g&&S)&&Lf(a,f);return D&&(g||bn(l,D.left,D.right))&&(S||bn(s,D.top,D.bottom))}function n0(a,l){a.rect(l.x,l.y,l.w,l.h)}function fm(a,l,s={}){const f=a.x!==s.x?-l:0,g=a.y!==s.y?-l:0;return{x:a.x+f,y:a.y+g,w:a.w+((a.x+a.w!==s.x+s.w?l:0)-f),h:a.h+((a.y+a.h!==s.y+s.h?l:0)-g),radius:a.radius}}var zl=Object.freeze({__proto__:null,ArcElement:class Gd extends ya{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:l=>"borderDash"!==l};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(l){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,s,f){const g=this.getProps(["x","y"],f),{angle:S,distance:w}=ko(g,{x:l,y:s}),{startAngle:D,endAngle:N,innerRadius:J,outerRadius:ue,circumference:Me}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],f),Le=(this.options.spacing+this.options.borderWidth)/2,Xe=tn(Me,N-D),gt=nt(S,D,N)&&D!==N,vt=Xe>=ji||gt,St=bn(w,J+Le,ue+Le);return vt&&St}getCenterPoint(l){const{x:s,y:f,startAngle:g,endAngle:S,innerRadius:w,outerRadius:D}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],l),{offset:N,spacing:J}=this.options,ue=(g+S)/2,Me=(w+D+J+N)/2;return{x:s+Math.cos(ue)*Me,y:f+Math.sin(ue)*Me}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:s,circumference:f}=this,g=(s.offset||0)/4,S=(s.spacing||0)/2,w=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=f>ji?Math.floor(f/ji):0,0===f||this.innerRadius<0||this.outerRadius<0)return;l.save();const D=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(D)*g,Math.sin(D)*g);const J=g*(1-Math.sin(Math.min(ki,f||0)));l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,function Jc(a,l,s,f,g){const{fullCircles:S,startAngle:w,circumference:D}=l;let N=l.endAngle;if(S){fc(a,l,s,f,N,g);for(let J=0;J<S;++J)a.fill();isNaN(D)||(N=w+(D%ji||ji))}fc(a,l,s,f,N,g),a.fill()}(l,this,J,S,w),function Hd(a,l,s,f,g){const{fullCircles:S,startAngle:w,circumference:D,options:N}=l,{borderWidth:J,borderJoinStyle:ue,borderDash:Me,borderDashOffset:Le}=N,Xe="inner"===N.borderAlign;if(!J)return;a.setLineDash(Me||[]),a.lineDashOffset=Le,Xe?(a.lineWidth=2*J,a.lineJoin=ue||"round"):(a.lineWidth=J,a.lineJoin=ue||"bevel");let gt=l.endAngle;if(S){fc(a,l,s,f,gt,g);for(let vt=0;vt<S;++vt)a.stroke();isNaN(D)||(gt=w+(D%ji||ji))}Xe&&function zd(a,l,s){const{startAngle:f,pixelMargin:g,x:S,y:w,outerRadius:D,innerRadius:N}=l;let J=g/D;a.beginPath(),a.arc(S,w,D,f-J,s+J),N>g?(J=g/N,a.arc(S,w,N,s+J,f-J,!0)):a.arc(S,w,g,s+ro,f-ro),a.closePath(),a.clip()}(a,l,gt),S||(fc(a,l,s,f,gt,g),a.stroke())}(l,this,J,S,w),l.restore()}},BarElement:class hm extends ya{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:s,options:{borderColor:f,backgroundColor:g}}=this,{inner:S,outer:w}=function kf(a){const l=Lf(a),s=l.right-l.left,f=l.bottom-l.top,g=function ad(a,l,s){const g=a.borderSkipped,S=rl(a.options.borderWidth);return{t:Ml(g.top,S.top,0,s),r:Ml(g.right,S.right,0,l),b:Ml(g.bottom,S.bottom,0,s),l:Ml(g.left,S.left,0,l)}}(a,s/2,f/2),S=function zh(a,l,s){const{enableBorderRadius:f}=a.getProps(["enableBorderRadius"]),g=a.options.borderRadius,S=co(g),w=Math.min(l,s),D=a.borderSkipped,N=f||Dt(g);return{topLeft:Ml(!N||D.top||D.left,S.topLeft,0,w),topRight:Ml(!N||D.top||D.right,S.topRight,0,w),bottomLeft:Ml(!N||D.bottom||D.left,S.bottomLeft,0,w),bottomRight:Ml(!N||D.bottom||D.right,S.bottomRight,0,w)}}(a,s/2,f/2);return{outer:{x:l.left,y:l.top,w:s,h:f,radius:S},inner:{x:l.left+g.l,y:l.top+g.t,w:s-g.l-g.r,h:f-g.t-g.b,radius:{topLeft:Math.max(0,S.topLeft-Math.max(g.t,g.l)),topRight:Math.max(0,S.topRight-Math.max(g.t,g.r)),bottomLeft:Math.max(0,S.bottomLeft-Math.max(g.b,g.l)),bottomRight:Math.max(0,S.bottomRight-Math.max(g.b,g.r))}}}}(this),D=function Qc(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}(w.radius)?Sn:n0;l.save(),(w.w!==S.w||w.h!==S.h)&&(l.beginPath(),D(l,fm(w,s,S)),l.clip(),D(l,fm(S,-s,w)),l.fillStyle=f,l.fill("evenodd")),l.beginPath(),D(l,fm(S,s)),l.fillStyle=g,l.fill(),l.restore()}inRange(l,s,f){return yu(this,l,s,f)}inXRange(l,s){return yu(this,l,null,s)}inYRange(l,s){return yu(this,null,l,s)}getCenterPoint(l){const{x:s,y:f,base:g,horizontal:S}=this.getProps(["x","y","base","horizontal"],l);return{x:S?(s+g)/2:s,y:S?f:(f+g)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}},LineElement:al,PointElement:Xd});const qc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Bu=qc.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function jh(a){return qc[a%qc.length]}function Hh(a){return Bu[a%Bu.length]}function Gh(a){let l;for(l in a)if(a[l].borderColor||a[l].backgroundColor)return!0;return!1}var Vc={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,l,s){if(!s.enabled)return;const{data:{datasets:f},options:g}=a.config,{elements:S}=g,w=Gh(f)||function Jg(a){return a&&(a.borderColor||a.backgroundColor)}(g)||S&&Gh(S)||function pm(){return"rgba(0,0,0,0.1)"!==so.borderColor||"rgba(0,0,0,0.1)"!==so.backgroundColor}();if(!s.forceOverride&&w)return;const D=function Kg(a){let l=0;return(s,f)=>{const g=a.getDatasetMeta(f).controller;g instanceof qa?l=function Uf(a,l){return a.backgroundColor=a.data.map(()=>jh(l++)),l}(s,l):g instanceof va?l=function Bf(a,l){return a.backgroundColor=a.data.map(()=>Hh(l++)),l}(s,l):g&&(l=function i0(a,l){return a.borderColor=jh(l),a.backgroundColor=Hh(l),++l}(s,l))}}(a);f.forEach(D)}};function cd(a){if(a._decimated){const l=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:l})}}function ud(a){a.data.datasets.forEach(l=>{cd(l)})}var qg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,l,s)=>{if(!s.enabled)return void ud(a);const f=a.width;a.data.datasets.forEach((g,S)=>{const{_data:w,indexAxis:D}=g,N=a.getDatasetMeta(S),J=w||g.data;if("y"===Hi([D,a.options.indexAxis])||!N.controller.supportsDecimation)return;const ue=a.scales[N.xAxisID];if("linear"!==ue.type&&"time"!==ue.type||a.options.parsing)return;let gt,{start:Me,count:Le}=function Qg(a,l){const s=l.length;let g,f=0;const{iScale:S}=a,{min:w,max:D,minDefined:N,maxDefined:J}=S.getUserBounds();return N&&(f=Pt(Ri(l,S.axis,w).lo,0,s-1)),g=J?Pt(Ri(l,S.axis,D).hi+1,f,s)-f:s-f,{start:f,count:g}}(N,J);if(Le<=(s.threshold||4*f))cd(g);else{switch(dt(w)&&(g._data=J,delete g.data,Object.defineProperty(g,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(vt){this._data=vt}})),s.algorithm){case"lttb":gt=function Vu(a,l,s,f,g){const S=g.samples||f;if(S>=s)return a.slice(l,l+s);const w=[],D=(s-2)/(S-2);let N=0;const J=l+s-1;let Me,Le,Xe,gt,vt,ue=l;for(w[N++]=a[ue],Me=0;Me<S-2;Me++){let dn,St=0,mn=0;const qn=Math.floor((Me+1)*D)+1+l,ri=Math.min(Math.floor((Me+2)*D)+1,s)+l,Bn=ri-qn;for(dn=qn;dn<ri;dn++)St+=a[dn].x,mn+=a[dn].y;St/=Bn,mn/=Bn;const ei=Math.floor(Me*D)+1+l,Qi=Math.min(Math.floor((Me+1)*D)+1,s)+l,{x:Ci,y:Ar}=a[ue];for(Xe=gt=-1,dn=ei;dn<Qi;dn++)gt=.5*Math.abs((Ci-St)*(a[dn].y-Ar)-(Ci-a[dn].x)*(mn-Ar)),gt>Xe&&(Xe=gt,Le=a[dn],vt=dn);w[N++]=Le,ue=vt}return w[N++]=a[J],w}(J,Me,Le,f,s);break;case"min-max":gt=function ld(a,l,s,f){let w,D,N,J,ue,Me,Le,Xe,gt,vt,g=0,S=0;const St=[],dn=a[l].x,ri=a[l+s-1].x-dn;for(w=l;w<l+s;++w){D=a[w],N=(D.x-dn)/ri*f,J=D.y;const Bn=0|N;if(Bn===ue)J<gt?(gt=J,Me=w):J>vt&&(vt=J,Le=w),g=(S*g+D.x)/++S;else{const ei=w-1;if(!dt(Me)&&!dt(Le)){const Qi=Math.min(Me,Le),Ci=Math.max(Me,Le);Qi!==Xe&&Qi!==ei&&St.push({...a[Qi],x:g}),Ci!==Xe&&Ci!==ei&&St.push({...a[Ci],x:g})}w>0&&ei!==Xe&&St.push(a[ei]),St.push(D),ue=Bn,S=0,gt=vt=J,Me=Le=Xe=w}}return St}(J,Me,Le,f);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}g._decimated=gt}})},destroy(a){ud(a)}};function kl(a,l,s,f){if(f)return;let g=l[a],S=s[a];return"angle"===a&&(g=ut(g),S=ut(S)),{property:a,start:g,end:S}}function Vf(a,l,s){for(;l>a;l--){const f=s[l];if(!isNaN(f.x)&&!isNaN(f.y))break}return l}function Yd(a,l,s,f){return a&&l?f(a[s],l[s]):a?a[s]:l?l[s]:0}function vc(a,l){let s=[],f=!1;return et(a)?(f=!0,s=a):s=function ev(a,l){const{x:s=null,y:f=null}=a||{},g=l.points,S=[];return l.segments.forEach(({start:w,end:D})=>{D=Vf(w,D,g);const N=g[w],J=g[D];null!==f?(S.push({x:N.x,y:f}),S.push({x:J.x,y:f})):null!==s&&(S.push({x:s,y:N.y}),S.push({x:s,y:J.y}))}),S}(a,l),s.length?new al({points:s,options:{tension:0},_loop:f,_fullLoop:f}):null}function eu(a){return a&&!1!==a.fill}function tv(a,l,s){let g=a[l].fill;const S=[l];let w;if(!s)return g;for(;!1!==g&&-1===S.indexOf(g);){if(!It(g))return g;if(w=a[g],!w)return!1;if(w.visible)return g;S.push(g),g=w.fill}return!1}function W_(a,l,s){const f=function r0(a){const l=a.options,s=l.fill;let f=tn(s&&s.target,s);return void 0===f&&(f=!!l.backgroundColor),!1!==f&&null!==f&&(!0===f?"origin":f)}(a);if(Dt(f))return!isNaN(f.value)&&f;let g=parseFloat(f);return It(g)&&Math.floor(g)===g?function Wh(a,l,s,f){return("-"===a||"+"===a)&&(s=l+s),!(s===l||s<0||s>=f)&&s}(f[0],l,g,s):["origin","start","end","stack","shape"].indexOf(f)>=0&&f}function jl(a,l,s){const f=[];for(let g=0;g<s.length;g++){const S=s[g],{first:w,last:D,point:N}=zf(S,l,"x");if(!(!N||w&&D))if(w)f.unshift(N);else if(a.push(N),!D)break}a.push(...f)}function zf(a,l,s){const f=a.interpolate(l,s);if(!f)return{};const g=f[s],S=a.segments,w=a.points;let D=!1,N=!1;for(let J=0;J<S.length;J++){const ue=S[J],Me=w[ue.start][s],Le=w[ue.end][s];if(bn(g,Me,Le)){D=g===Me,N=g===Le;break}}return{first:D,last:N,point:f}}class jf{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,s,f){const{x:g,y:S,radius:w}=this;return l.arc(g,S,w,(s=s||{start:0,end:ji}).end,s.start,!0),!f.bounds}interpolate(l){const{x:s,y:f,radius:g}=this,S=l.angle;return{x:s+Math.cos(S)*g,y:f+Math.sin(S)*g,angle:S}}}function zc(a,l,s){const f=function $h(a){const{chart:l,fill:s,line:f}=a;if(It(s))return function Xh(a,l){const s=a.getDatasetMeta(l);return s&&a.isDatasetVisible(l)?s.dataset:null}(l,s);if("stack"===s)return function dd(a){const{scale:l,index:s,line:f}=a,g=[],S=f.segments,w=f.points,D=function nv(a,l){const s=[],f=a.getMatchingVisibleMetas("line");for(let g=0;g<f.length;g++){const S=f[g];if(S.index===l)break;S.hidden||s.unshift(S.dataset)}return s}(l,s);D.push(vc({x:null,y:l.bottom},f));for(let N=0;N<S.length;N++){const J=S[N];for(let ue=J.start;ue<=J.end;ue++)jl(g,w[ue],D)}return new al({points:g,options:{}})}(a);if("shape"===s)return!0;const g=function Hf(a){return(a.scale||{}).getPointPositionForValue?function ym(a){const{scale:l,fill:s}=a,f=l.options,g=l.getLabels().length,S=f.reverse?l.max:l.min,w=function gm(a,l,s){let f;return f="start"===a?s:"end"===a?l.options.reverse?l.min:l.max:Dt(a)?a.value:l.getBaseValue(),f}(s,l,S),D=[];if(f.grid.circular){const N=l.getPointPositionForValue(0,S);return new jf({x:N.x,y:N.y,radius:l.getDistanceFromCenterForValue(w)})}for(let N=0;N<g;++N)D.push(l.getPointPositionForValue(N,w));return D}(a):function vm(a){const{scale:l={},fill:s}=a,f=function Kl(a,l){let s=null;return"start"===a?s=l.bottom:"end"===a?s=l.top:Dt(a)?s=l.getPixelForValue(a.value):l.getBasePixel&&(s=l.getBasePixel()),s}(s,l);if(It(f)){const g=l.isHorizontal();return{x:g?f:null,y:g?null:f}}return null}(a)}(a);return g instanceof jf?g:vc(g,f)}(l),{line:g,scale:S,axis:w}=l,D=g.options,N=D.fill,J=D.backgroundColor,{above:ue=J,below:Me=J}=N||{};f&&g.points.length&&(na(a,s),function Zd(a,l){const{line:s,target:f,above:g,below:S,area:w,scale:D}=l,N=s._loop?"angle":l.axis;a.save(),"x"===N&&S!==g&&(_m(a,f,w.top),bm(a,{line:s,target:f,color:g,scale:D,property:N}),a.restore(),a.save(),_m(a,f,w.bottom)),bm(a,{line:s,target:f,color:S,scale:D,property:N}),a.restore()}(a,{line:g,target:f,above:ue,below:Me,area:s,scale:S,axis:w}),as(a))}function _m(a,l,s){const{segments:f,points:g}=l;let S=!0,w=!1;a.beginPath();for(const D of f){const{start:N,end:J}=D,ue=g[N],Me=g[Vf(N,J,g)];S?(a.moveTo(ue.x,ue.y),S=!1):(a.lineTo(ue.x,s),a.lineTo(ue.x,ue.y)),w=!!l.pathSegment(a,D,{move:w}),w?a.closePath():a.lineTo(Me.x,s)}a.lineTo(l.first().x,s),a.closePath(),a.clip()}function bm(a,l){const{line:s,target:f,property:g,color:S,scale:w}=l,D=function mm(a,l,s){const f=a.segments,g=a.points,S=l.points,w=[];for(const D of f){let{start:N,end:J}=D;J=Vf(N,J,g);const ue=kl(s,g[N],g[J],D.loop);if(!l.segments){w.push({source:D,target:ue,start:g[N],end:g[J]});continue}const Me=Qa(l,ue);for(const Le of Me){const Xe=kl(s,S[Le.start],S[Le.end],Le.loop),gt=Ys(D,g,Xe);for(const vt of gt)w.push({source:vt,target:Le,start:{[s]:Yd(ue,Xe,"start",Math.max)},end:{[s]:Yd(ue,Xe,"end",Math.min)}})}}return w}(s,f,g);for(const{source:N,target:J,start:ue,end:Me}of D){const{style:{backgroundColor:Le=S}={}}=N,Xe=!0!==f;a.save(),a.fillStyle=Le,Ic(a,w,Xe&&kl(g,ue,Me)),a.beginPath();const gt=!!s.pathSegment(a,N);let vt;if(Xe){gt?a.closePath():Mm(a,f,Me,g);const St=!!f.pathSegment(a,J,{move:gt,reverse:!0});vt=gt&&St,vt||Mm(a,f,ue,g)}a.closePath(),a.fill(vt?"evenodd":"nonzero"),a.restore()}}function Ic(a,l,s){const{top:f,bottom:g}=l.chart.chartArea,{property:S,start:w,end:D}=s||{};"x"===S&&(a.beginPath(),a.rect(w,f,D-w,g-f),a.clip())}function Mm(a,l,s,f){const g=l.interpolate(s,f);g&&a.lineTo(g.x,g.y)}var Sm={id:"filler",afterDatasetsUpdate(a,l,s){const f=(a.data.datasets||[]).length,g=[];let S,w,D,N;for(w=0;w<f;++w)S=a.getDatasetMeta(w),D=S.dataset,N=null,D&&D.options&&D instanceof al&&(N={visible:a.isDatasetVisible(w),index:w,fill:W_(D,w,f),chart:a,axis:S.controller.options.indexAxis,scale:S.vScale,line:D}),S.$filler=N,g.push(N);for(w=0;w<f;++w)N=g[w],N&&!1!==N.fill&&(N.fill=tv(g,w,s.propagate))},beforeDraw(a,l,s){const f="beforeDraw"===s.drawTime,g=a.getSortedVisibleDatasetMetas(),S=a.chartArea;for(let w=g.length-1;w>=0;--w){const D=g[w].$filler;D&&(D.line.updateControlPoints(S,D.axis),f&&D.fill&&zc(a.ctx,D,S))}},beforeDatasetsDraw(a,l,s){if("beforeDatasetsDraw"!==s.drawTime)return;const f=a.getSortedVisibleDatasetMetas();for(let g=f.length-1;g>=0;--g){const S=f[g].$filler;eu(S)&&zc(a.ctx,S,a.chartArea)}},beforeDatasetDraw(a,l,s){const f=l.meta.$filler;!eu(f)||"beforeDatasetDraw"!==s.drawTime||zc(a.ctx,f,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const iv=(a,l)=>{let{boxHeight:s=l,boxWidth:f=l}=a;return a.usePointStyle&&(s=Math.min(s,l),f=a.pointStyleWidth||Math.min(f,l)),{boxWidth:f,boxHeight:s,itemHeight:Math.max(l,s)}};class Yh extends ya{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s,f){this.maxWidth=l,this.maxHeight=s,this._margins=f,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let s=oi(l.generateLabels,[this.chart],this)||[];l.filter&&(s=s.filter(f=>l.filter(f,this.chart.data))),l.sort&&(s=s.sort((f,g)=>l.sort(f,g,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:l,ctx:s}=this;if(!l.display)return void(this.width=this.height=0);const f=l.labels,g=ao(f.font),S=g.size,w=this._computeTitleHeight(),{boxWidth:D,itemHeight:N}=iv(f,S);let J,ue;s.font=g.string,this.isHorizontal()?(J=this.maxWidth,ue=this._fitRows(w,S,D,N)+10):(ue=this.maxHeight,J=this._fitCols(w,g,D,N)+10),this.width=Math.min(J,l.maxWidth||this.maxWidth),this.height=Math.min(ue,l.maxHeight||this.maxHeight)}_fitRows(l,s,f,g){const{ctx:S,maxWidth:w,options:{labels:{padding:D}}}=this,N=this.legendHitBoxes=[],J=this.lineWidths=[0],ue=g+D;let Me=l;S.textAlign="left",S.textBaseline="middle";let Le=-1,Xe=-ue;return this.legendItems.forEach((gt,vt)=>{const St=f+s/2+S.measureText(gt.text).width;(0===vt||J[J.length-1]+St+2*D>w)&&(Me+=ue,J[J.length-(vt>0?0:1)]=0,Xe+=ue,Le++),N[vt]={left:0,top:Xe,row:Le,width:St,height:g},J[J.length-1]+=St+D}),Me}_fitCols(l,s,f,g){const{ctx:S,maxHeight:w,options:{labels:{padding:D}}}=this,N=this.legendHitBoxes=[],J=this.columnSizes=[],ue=w-l;let Me=D,Le=0,Xe=0,gt=0,vt=0;return this.legendItems.forEach((St,mn)=>{const{itemWidth:dn,itemHeight:qn}=function Zh(a,l,s,f,g){const S=function Gf(a,l,s,f){let g=a.text;return g&&"string"!=typeof g&&(g=g.reduce((S,w)=>S.length>w.length?S:w)),l+s.size/2+f.measureText(g).width}(f,a,l,s),w=function Wf(a,l,s){let f=a;return"string"!=typeof l.text&&(f=Kh(l,s)),f}(g,f,l.lineHeight);return{itemWidth:S,itemHeight:w}}(f,s,S,St,g);mn>0&&Xe+qn+2*D>ue&&(Me+=Le+D,J.push({width:Le,height:Xe}),gt+=Le+D,vt++,Le=Xe=0),N[mn]={left:gt,top:Xe,col:vt,width:dn,height:qn},Le=Math.max(Le,dn),Xe+=qn+D}),Me+=Le,J.push({width:Le,height:Xe}),Me}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:f,labels:{padding:g},rtl:S}}=this,w=vr(S,this.left,this.width);if(this.isHorizontal()){let D=0,N=Di(f,this.left+g,this.right-this.lineWidths[D]);for(const J of s)D!==J.row&&(D=J.row,N=Di(f,this.left+g,this.right-this.lineWidths[D])),J.top+=this.top+l+g,J.left=w.leftForLtr(w.x(N),J.width),N+=J.width+g}else{let D=0,N=Di(f,this.top+l+g,this.bottom-this.columnSizes[D].height);for(const J of s)J.col!==D&&(D=J.col,N=Di(f,this.top+l+g,this.bottom-this.columnSizes[D].height)),J.top=N,J.left+=this.left+g,J.left=w.leftForLtr(w.x(J.left),J.width),N+=J.height+g}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;na(l,this),this._draw(),as(l)}}_draw(){const{options:l,columnSizes:s,lineWidths:f,ctx:g}=this,{align:S,labels:w}=l,D=so.color,N=vr(l.rtl,this.left,this.width),J=ao(w.font),{padding:ue}=w,Me=J.size,Le=Me/2;let Xe;this.drawTitle(),g.textAlign=N.textAlign("left"),g.textBaseline="middle",g.lineWidth=.5,g.font=J.string;const{boxWidth:gt,boxHeight:vt,itemHeight:St}=iv(w,Me),qn=this.isHorizontal(),ri=this._computeTitleHeight();Xe=qn?{x:Di(S,this.left+ue,this.right-f[0]),y:this.top+ue+ri,line:0}:{x:this.left+ue,y:Di(S,this.top+ri+ue,this.bottom-s[0].height),line:0},fr(this.ctx,l.textDirection);const Bn=St+ue;this.legendItems.forEach((ei,Qi)=>{g.strokeStyle=ei.fontColor,g.fillStyle=ei.fontColor;const Ci=g.measureText(ei.text).width,Ar=N.textAlign(ei.textAlign||(ei.textAlign=w.textAlign)),os=gt+Le+Ci;let No=Xe.x,Is=Xe.y;N.setWidth(this.width),qn?Qi>0&&No+os+ue>this.right&&(Is=Xe.y+=Bn,Xe.line++,No=Xe.x=Di(S,this.left+ue,this.right-f[Xe.line])):Qi>0&&Is+Bn>this.bottom&&(No=Xe.x=No+s[Xe.line].width+ue,Xe.line++,Is=Xe.y=Di(S,this.top+ri+ue,this.bottom-s[Xe.line].height)),function(ei,Qi,Ci){if(isNaN(gt)||gt<=0||isNaN(vt)||vt<0)return;g.save();const Ar=tn(Ci.lineWidth,1);if(g.fillStyle=tn(Ci.fillStyle,D),g.lineCap=tn(Ci.lineCap,"butt"),g.lineDashOffset=tn(Ci.lineDashOffset,0),g.lineJoin=tn(Ci.lineJoin,"miter"),g.lineWidth=Ar,g.strokeStyle=tn(Ci.strokeStyle,D),g.setLineDash(tn(Ci.lineDash,[])),w.usePointStyle){const os={radius:vt*Math.SQRT2/2,pointStyle:Ci.pointStyle,rotation:Ci.rotation,borderWidth:Ar},No=N.xPlus(ei,gt/2);jo(g,os,No,Qi+Le,w.pointStyleWidth&&gt)}else{const os=Qi+Math.max((Me-vt)/2,0),No=N.leftForLtr(ei,gt),Is=co(Ci.borderRadius);g.beginPath(),Object.values(Is).some(Ql=>0!==Ql)?Sn(g,{x:No,y:os,w:gt,h:vt,radius:Is}):g.rect(No,os,gt,vt),g.fill(),0!==Ar&&g.stroke()}g.restore()}(N.x(No),Is,ei),No=((a,l,s,f)=>a===(f?"left":"right")?s:"center"===a?(l+s)/2:l)(Ar,No+gt+Le,qn?No+os:this.right,l.rtl),function(ei,Qi,Ci){Lr(g,Ci.text,ei,Qi+St/2,J,{strikethrough:Ci.hidden,textAlign:N.textAlign(Ci.textAlign)})}(N.x(No),Is,ei),qn?Xe.x+=os+ue:Xe.y+="string"!=typeof ei.text?Kh(ei,J.lineHeight)+ue:Bn}),za(this.ctx,l.textDirection)}drawTitle(){const l=this.options,s=l.title,f=ao(s.font),g=sr(s.padding);if(!s.display)return;const S=vr(l.rtl,this.left,this.width),w=this.ctx,D=s.position,J=g.top+f.size/2;let ue,Me=this.left,Le=this.width;if(this.isHorizontal())Le=Math.max(...this.lineWidths),ue=this.top+J,Me=Di(l.align,Me,this.right-Le);else{const gt=this.columnSizes.reduce((vt,St)=>Math.max(vt,St.height),0);ue=J+Di(l.align,this.top,this.bottom-gt-l.labels.padding-this._computeTitleHeight())}const Xe=Di(D,Me,Me+Le);w.textAlign=S.textAlign(Rs(D)),w.textBaseline="middle",w.strokeStyle=s.color,w.fillStyle=s.color,w.font=f.string,Lr(w,s.text,Xe,ue,f)}_computeTitleHeight(){const l=this.options.title,s=ao(l.font),f=sr(l.padding);return l.display?s.lineHeight+f.height:0}_getLegendItemAt(l,s){let f,g,S;if(bn(l,this.left,this.right)&&bn(s,this.top,this.bottom))for(S=this.legendHitBoxes,f=0;f<S.length;++f)if(g=S[f],bn(l,g.left,g.left+g.width)&&bn(s,g.top,g.top+g.height))return this.legendItems[f];return null}handleEvent(l){const s=this.options;if(!function ov(a,l){return!(("mousemove"!==a&&"mouseout"!==a||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==a&&"mouseup"!==a))}(l.type,s))return;const f=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const g=this._hoveredItem,S=((a,l)=>null!==a&&null!==l&&a.datasetIndex===l.datasetIndex&&a.index===l.index)(g,f);g&&!S&&oi(s.onLeave,[l,g,this],this),this._hoveredItem=f,f&&!S&&oi(s.onHover,[l,f,this],this)}else f&&oi(s.onClick,[l,f,this],this)}}function Kh(a,l){return l*(a.text?a.text.length:0)}var sv={id:"legend",_element:Yh,start(a,l,s){const f=a.legend=new Yh({ctx:a.ctx,options:s,chart:a});qr.configure(a,f,s),qr.addBox(a,f)},stop(a){qr.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,l,s){const f=a.legend;qr.configure(a,f,s),f.options=s},afterUpdate(a){const l=a.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(a,l){l.replay||a.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,l,s){const f=l.datasetIndex,g=s.chart;g.isDatasetVisible(f)?(g.hide(f),l.hidden=!0):(g.show(f),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const l=a.data.datasets,{labels:{usePointStyle:s,pointStyle:f,textAlign:g,color:S,useBorderRadius:w,borderRadius:D}}=a.legend.options;return a._getSortedDatasetMetas().map(N=>{const J=N.controller.getStyle(s?0:void 0),ue=sr(J.borderWidth);return{text:l[N.index].label,fillStyle:J.backgroundColor,fontColor:S,hidden:!N.visible,lineCap:J.borderCapStyle,lineDash:J.borderDash,lineDashOffset:J.borderDashOffset,lineJoin:J.borderJoinStyle,lineWidth:(ue.width+ue.height)/4,strokeStyle:J.borderColor,pointStyle:f||J.pointStyle,rotation:J.rotation,textAlign:g||J.textAlign,borderRadius:w&&(D||J.borderRadius),datasetIndex:N.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class jc extends ya{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s){const f=this.options;if(this.left=0,this.top=0,!f.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=s;const g=et(f.text)?f.text.length:1;this._padding=sr(f.padding);const S=g*ao(f.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=S:this.width=S}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:s,left:f,bottom:g,right:S,options:w}=this,D=w.align;let J,ue,Me,N=0;return this.isHorizontal()?(ue=Di(D,f,S),Me=s+l,J=S-f):("left"===w.position?(ue=f+l,Me=Di(D,g,s),N=-.5*ki):(ue=S-l,Me=Di(D,s,g),N=.5*ki),J=g-s),{titleX:ue,titleY:Me,maxWidth:J,rotation:N}}draw(){const l=this.ctx,s=this.options;if(!s.display)return;const f=ao(s.font),S=f.lineHeight/2+this._padding.top,{titleX:w,titleY:D,maxWidth:N,rotation:J}=this._drawArgs(S);Lr(l,s.text,0,0,f,{color:s.color,maxWidth:N,rotation:J,textAlign:Rs(s.align),textBaseline:"middle",translation:[w,D]})}}var lv={id:"title",_element:jc,start(a,l,s){!function av(a,l){const s=new jc({ctx:a.ctx,options:l,chart:a});qr.configure(a,s,l),qr.addBox(a,s),a.titleBlock=s}(a,s)},stop(a){qr.removeBox(a,a.titleBlock),delete a.titleBlock},beforeUpdate(a,l,s){const f=a.titleBlock;qr.configure(a,f,s),f.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fd=new WeakMap;var Kd={id:"subtitle",start(a,l,s){const f=new jc({ctx:a.ctx,options:s,chart:a});qr.configure(a,f,s),qr.addBox(a,f),fd.set(a,f)},stop(a){qr.removeBox(a,fd.get(a)),fd.delete(a)},beforeUpdate(a,l,s){const f=fd.get(a);qr.configure(a,f,s),f.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hl={average(a){if(!a.length)return!1;let l,s,f=new Set,g=0,S=0;for(l=0,s=a.length;l<s;++l){const D=a[l].element;if(D&&D.hasValue()){const N=D.tooltipPosition();f.add(N.x),g+=N.y,++S}}return 0!==S&&0!==f.size&&{x:[...f].reduce((D,N)=>D+N)/f.size,y:g/S}},nearest(a,l){if(!a.length)return!1;let S,w,D,s=l.x,f=l.y,g=Number.POSITIVE_INFINITY;for(S=0,w=a.length;S<w;++S){const N=a[S].element;if(N&&N.hasValue()){const ue=Gr(l,N.getCenterPoint());ue<g&&(g=ue,D=N)}}if(D){const N=D.tooltipPosition();s=N.x,f=N.y}return{x:s,y:f}}};function yc(a,l){return l&&(et(l)?Array.prototype.push.apply(a,l):a.push(l)),a}function tu(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function xm(a,l){const{element:s,datasetIndex:f,index:g}=l,S=a.getDatasetMeta(f).controller,{label:w,value:D}=S.getLabelAndValue(g);return{chart:a,label:w,parsed:S.getParsed(g),raw:a.data.datasets[f].data[g],formattedValue:D,dataset:S.getDataset(),dataIndex:g,datasetIndex:f,element:s}}function Jd(a,l){const s=a.chart.ctx,{body:f,footer:g,title:S}=a,{boxWidth:w,boxHeight:D}=l,N=ao(l.bodyFont),J=ao(l.titleFont),ue=ao(l.footerFont),Me=S.length,Le=g.length,Xe=f.length,gt=sr(l.padding);let vt=gt.height,St=0,mn=f.reduce((ri,Bn)=>ri+Bn.before.length+Bn.lines.length+Bn.after.length,0);mn+=a.beforeBody.length+a.afterBody.length,Me&&(vt+=Me*J.lineHeight+(Me-1)*l.titleSpacing+l.titleMarginBottom),mn&&(vt+=Xe*(l.displayColors?Math.max(D,N.lineHeight):N.lineHeight)+(mn-Xe)*N.lineHeight+(mn-1)*l.bodySpacing),Le&&(vt+=l.footerMarginTop+Le*ue.lineHeight+(Le-1)*l.footerSpacing);let dn=0;const qn=function(ri){St=Math.max(St,s.measureText(ri).width+dn)};return s.save(),s.font=J.string,Rn(a.title,qn),s.font=N.string,Rn(a.beforeBody.concat(a.afterBody),qn),dn=l.displayColors?w+2+l.boxPadding:0,Rn(f,ri=>{Rn(ri.before,qn),Rn(ri.lines,qn),Rn(ri.after,qn)}),dn=0,s.font=ue.string,Rn(a.footer,qn),s.restore(),St+=gt.width,{width:St,height:vt}}function Em(a,l,s,f){const{x:g,width:S}=s,{width:w,chartArea:{left:D,right:N}}=a;let J="center";return"center"===f?J=g<=(D+N)/2?"left":"right":g<=S/2?J="left":g>=w-S/2&&(J="right"),function Cm(a,l,s,f){const{x:g,width:S}=f,w=s.caretSize+s.caretPadding;if("left"===a&&g+S+w>l.width||"right"===a&&g-S-w<0)return!0}(J,a,l,s)&&(J="center"),J}function wm(a,l,s){const f=s.yAlign||l.yAlign||function $f(a,l){const{y:s,height:f}=l;return s<f/2?"top":s>a.height-f/2?"bottom":"center"}(a,s);return{xAlign:s.xAlign||l.xAlign||Em(a,l,s,f),yAlign:f}}function Am(a,l,s,f){const{caretSize:g,caretPadding:S,cornerRadius:w}=a,{xAlign:D,yAlign:N}=s,J=g+S,{topLeft:ue,topRight:Me,bottomLeft:Le,bottomRight:Xe}=co(w);let gt=function Tm(a,l){let{x:s,width:f}=a;return"right"===l?s-=f:"center"===l&&(s-=f/2),s}(l,D);const vt=function o0(a,l,s){let{y:f,height:g}=a;return"top"===l?f+=s:f-="bottom"===l?g+s:g/2,f}(l,N,J);return"center"===N?"left"===D?gt+=J:"right"===D&&(gt-=J):"left"===D?gt-=Math.max(ue,Le)+g:"right"===D&&(gt+=Math.max(Me,Xe)+g),{x:Pt(gt,0,f.width-l.width),y:Pt(vt,0,f.height-l.height)}}function Gl(a,l,s){const f=sr(s.padding);return"center"===l?a.x+a.width/2:"right"===l?a.x+a.width-f.right:a.x+f.left}function zu(a){return yc([],tu(a))}function Jh(a,l){const s=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return s?a.override(s):a}const Jl={beforeTitle:Yr,title(a){if(a.length>0){const l=a[0],s=l.chart.data.labels,f=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(f>0&&l.dataIndex<f)return s[l.dataIndex]}return""},afterTitle:Yr,beforeBody:Yr,beforeLabel:Yr,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let l=a.dataset.label||"";l&&(l+=": ");const s=a.formattedValue;return dt(s)||(l+=s),l},labelColor(a){const s=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const s=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Yr,afterBody:Yr,beforeFooter:Yr,footer:Yr,afterFooter:Yr};function Wl(a,l,s,f){const g=a[l].call(s,f);return typeof g>"u"?Jl[l].call(s,f):g}let hd=(()=>class a extends ya{static positioners=Hl;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const f=this.chart,g=this.options.setContext(this.getContext()),S=g.enabled&&f.options.animation&&g.animations,w=new hs(this.chart,S);return S._cacheable&&(this._cachedAnimations=Object.freeze(w)),w}getContext(){return this.$context||(this.$context=function cv(a,l,s){return $s(a,{tooltip:l,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,f){const{callbacks:g}=f,S=Wl(g,"beforeTitle",this,s),w=Wl(g,"title",this,s),D=Wl(g,"afterTitle",this,s);let N=[];return N=yc(N,tu(S)),N=yc(N,tu(w)),N=yc(N,tu(D)),N}getBeforeBody(s,f){return zu(Wl(f.callbacks,"beforeBody",this,s))}getBody(s,f){const{callbacks:g}=f,S=[];return Rn(s,w=>{const D={before:[],lines:[],after:[]},N=Jh(g,w);yc(D.before,tu(Wl(N,"beforeLabel",this,w))),yc(D.lines,Wl(N,"label",this,w)),yc(D.after,tu(Wl(N,"afterLabel",this,w))),S.push(D)}),S}getAfterBody(s,f){return zu(Wl(f.callbacks,"afterBody",this,s))}getFooter(s,f){const{callbacks:g}=f,S=Wl(g,"beforeFooter",this,s),w=Wl(g,"footer",this,s),D=Wl(g,"afterFooter",this,s);let N=[];return N=yc(N,tu(S)),N=yc(N,tu(w)),N=yc(N,tu(D)),N}_createItems(s){const f=this._active,g=this.chart.data,S=[],w=[],D=[];let J,ue,N=[];for(J=0,ue=f.length;J<ue;++J)N.push(xm(this.chart,f[J]));return s.filter&&(N=N.filter((Me,Le,Xe)=>s.filter(Me,Le,Xe,g))),s.itemSort&&(N=N.sort((Me,Le)=>s.itemSort(Me,Le,g))),Rn(N,Me=>{const Le=Jh(s.callbacks,Me);S.push(Wl(Le,"labelColor",this,Me)),w.push(Wl(Le,"labelPointStyle",this,Me)),D.push(Wl(Le,"labelTextColor",this,Me))}),this.labelColors=S,this.labelPointStyles=w,this.labelTextColors=D,this.dataPoints=N,N}update(s,f){const g=this.options.setContext(this.getContext()),S=this._active;let w,D=[];if(S.length){const N=Hl[g.position].call(this,S,this._eventPosition);D=this._createItems(g),this.title=this.getTitle(D,g),this.beforeBody=this.getBeforeBody(D,g),this.body=this.getBody(D,g),this.afterBody=this.getAfterBody(D,g),this.footer=this.getFooter(D,g);const J=this._size=Jd(this,g),ue=Object.assign({},N,J),Me=wm(this.chart,g,ue),Le=Am(g,ue,Me,this.chart);this.xAlign=Me.xAlign,this.yAlign=Me.yAlign,w={opacity:1,x:Le.x,y:Le.y,width:J.width,height:J.height,caretX:N.x,caretY:N.y}}else 0!==this.opacity&&(w={opacity:0});this._tooltipItems=D,this.$context=void 0,w&&this._resolveAnimations().update(this,w),s&&g.external&&g.external.call(this,{chart:this.chart,tooltip:this,replay:f})}drawCaret(s,f,g,S){const w=this.getCaretPosition(s,g,S);f.lineTo(w.x1,w.y1),f.lineTo(w.x2,w.y2),f.lineTo(w.x3,w.y3)}getCaretPosition(s,f,g){const{xAlign:S,yAlign:w}=this,{caretSize:D,cornerRadius:N}=g,{topLeft:J,topRight:ue,bottomLeft:Me,bottomRight:Le}=co(N),{x:Xe,y:gt}=s,{width:vt,height:St}=f;let mn,dn,qn,ri,Bn,ei;return"center"===w?(Bn=gt+St/2,"left"===S?(mn=Xe,dn=mn-D,ri=Bn+D,ei=Bn-D):(mn=Xe+vt,dn=mn+D,ri=Bn-D,ei=Bn+D),qn=mn):(dn="left"===S?Xe+Math.max(J,Me)+D:"right"===S?Xe+vt-Math.max(ue,Le)-D:this.caretX,"top"===w?(ri=gt,Bn=ri-D,mn=dn-D,qn=dn+D):(ri=gt+St,Bn=ri+D,mn=dn+D,qn=dn-D),ei=ri),{x1:mn,x2:dn,x3:qn,y1:ri,y2:Bn,y3:ei}}drawTitle(s,f,g){const S=this.title,w=S.length;let D,N,J;if(w){const ue=vr(g.rtl,this.x,this.width);for(s.x=Gl(this,g.titleAlign,g),f.textAlign=ue.textAlign(g.titleAlign),f.textBaseline="middle",D=ao(g.titleFont),N=g.titleSpacing,f.fillStyle=g.titleColor,f.font=D.string,J=0;J<w;++J)f.fillText(S[J],ue.x(s.x),s.y+D.lineHeight/2),s.y+=D.lineHeight+N,J+1===w&&(s.y+=g.titleMarginBottom-N)}}_drawColorBox(s,f,g,S,w){const D=this.labelColors[g],N=this.labelPointStyles[g],{boxHeight:J,boxWidth:ue}=w,Me=ao(w.bodyFont),Le=Gl(this,"left",w),Xe=S.x(Le),vt=f.y+(J<Me.lineHeight?(Me.lineHeight-J)/2:0);if(w.usePointStyle){const St={radius:Math.min(ue,J)/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:1},mn=S.leftForLtr(Xe,ue)+ue/2,dn=vt+J/2;s.strokeStyle=w.multiKeyBackground,s.fillStyle=w.multiKeyBackground,Hr(s,St,mn,dn),s.strokeStyle=D.borderColor,s.fillStyle=D.backgroundColor,Hr(s,St,mn,dn)}else{s.lineWidth=Dt(D.borderWidth)?Math.max(...Object.values(D.borderWidth)):D.borderWidth||1,s.strokeStyle=D.borderColor,s.setLineDash(D.borderDash||[]),s.lineDashOffset=D.borderDashOffset||0;const St=S.leftForLtr(Xe,ue),mn=S.leftForLtr(S.xPlus(Xe,1),ue-2),dn=co(D.borderRadius);Object.values(dn).some(qn=>0!==qn)?(s.beginPath(),s.fillStyle=w.multiKeyBackground,Sn(s,{x:St,y:vt,w:ue,h:J,radius:dn}),s.fill(),s.stroke(),s.fillStyle=D.backgroundColor,s.beginPath(),Sn(s,{x:mn,y:vt+1,w:ue-2,h:J-2,radius:dn}),s.fill()):(s.fillStyle=w.multiKeyBackground,s.fillRect(St,vt,ue,J),s.strokeRect(St,vt,ue,J),s.fillStyle=D.backgroundColor,s.fillRect(mn,vt+1,ue-2,J-2))}s.fillStyle=this.labelTextColors[g]}drawBody(s,f,g){const{body:S}=this,{bodySpacing:w,bodyAlign:D,displayColors:N,boxHeight:J,boxWidth:ue,boxPadding:Me}=g,Le=ao(g.bodyFont);let Xe=Le.lineHeight,gt=0;const vt=vr(g.rtl,this.x,this.width),St=function(Ar){f.fillText(Ar,vt.x(s.x+gt),s.y+Xe/2),s.y+=Xe+w},mn=vt.textAlign(D);let dn,qn,ri,Bn,ei,Qi,Ci;for(f.textAlign=D,f.textBaseline="middle",f.font=Le.string,s.x=Gl(this,mn,g),f.fillStyle=g.bodyColor,Rn(this.beforeBody,St),gt=N&&"right"!==mn?"center"===D?ue/2+Me:ue+2+Me:0,Bn=0,Qi=S.length;Bn<Qi;++Bn){for(dn=S[Bn],qn=this.labelTextColors[Bn],f.fillStyle=qn,Rn(dn.before,St),ri=dn.lines,N&&ri.length&&(this._drawColorBox(f,s,Bn,vt,g),Xe=Math.max(Le.lineHeight,J)),ei=0,Ci=ri.length;ei<Ci;++ei)St(ri[ei]),Xe=Le.lineHeight;Rn(dn.after,St)}gt=0,Xe=Le.lineHeight,Rn(this.afterBody,St),s.y-=w}drawFooter(s,f,g){const S=this.footer,w=S.length;let D,N;if(w){const J=vr(g.rtl,this.x,this.width);for(s.x=Gl(this,g.footerAlign,g),s.y+=g.footerMarginTop,f.textAlign=J.textAlign(g.footerAlign),f.textBaseline="middle",D=ao(g.footerFont),f.fillStyle=g.footerColor,f.font=D.string,N=0;N<w;++N)f.fillText(S[N],J.x(s.x),s.y+D.lineHeight/2),s.y+=D.lineHeight+g.footerSpacing}}drawBackground(s,f,g,S){const{xAlign:w,yAlign:D}=this,{x:N,y:J}=s,{width:ue,height:Me}=g,{topLeft:Le,topRight:Xe,bottomLeft:gt,bottomRight:vt}=co(S.cornerRadius);f.fillStyle=S.backgroundColor,f.strokeStyle=S.borderColor,f.lineWidth=S.borderWidth,f.beginPath(),f.moveTo(N+Le,J),"top"===D&&this.drawCaret(s,f,g,S),f.lineTo(N+ue-Xe,J),f.quadraticCurveTo(N+ue,J,N+ue,J+Xe),"center"===D&&"right"===w&&this.drawCaret(s,f,g,S),f.lineTo(N+ue,J+Me-vt),f.quadraticCurveTo(N+ue,J+Me,N+ue-vt,J+Me),"bottom"===D&&this.drawCaret(s,f,g,S),f.lineTo(N+gt,J+Me),f.quadraticCurveTo(N,J+Me,N,J+Me-gt),"center"===D&&"left"===w&&this.drawCaret(s,f,g,S),f.lineTo(N,J+Le),f.quadraticCurveTo(N,J,N+Le,J),f.closePath(),f.fill(),S.borderWidth>0&&f.stroke()}_updateAnimationTarget(s){const f=this.chart,g=this.$animations,S=g&&g.x,w=g&&g.y;if(S||w){const D=Hl[s.position].call(this,this._active,this._eventPosition);if(!D)return;const N=this._size=Jd(this,s),J=Object.assign({},D,this._size),ue=wm(f,s,J),Me=Am(s,J,ue,f);(S._to!==Me.x||w._to!==Me.y)&&(this.xAlign=ue.xAlign,this.yAlign=ue.yAlign,this.width=N.width,this.height=N.height,this.caretX=D.x,this.caretY=D.y,this._resolveAnimations().update(this,Me))}}_willRender(){return!!this.opacity}draw(s){const f=this.options.setContext(this.getContext());let g=this.opacity;if(!g)return;this._updateAnimationTarget(f);const S={width:this.width,height:this.height},w={x:this.x,y:this.y};g=Math.abs(g)<.001?0:g;const D=sr(f.padding);f.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=g,this.drawBackground(w,s,S,f),fr(s,f.textDirection),w.y+=D.top,this.drawTitle(w,s,f),this.drawBody(w,s,f),this.drawFooter(w,s,f),za(s,f.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,f){const g=this._active,S=s.map(({datasetIndex:N,index:J})=>{const ue=this.chart.getDatasetMeta(N);if(!ue)throw new Error("Cannot find a dataset at index "+N);return{datasetIndex:N,element:ue.data[J],index:J}}),w=!ci(g,S),D=this._positionChanged(S,f);(w||D)&&(this._active=S,this._eventPosition=f,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,f,g=!0){if(f&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const S=this.options,w=this._active||[],D=this._getActiveElements(s,w,f,g),N=this._positionChanged(D,s),J=f||!ci(D,w)||N;return J&&(this._active=D,(S.enabled||S.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,f))),J}_getActiveElements(s,f,g,S){const w=this.options;if("mouseout"===s.type)return[];if(!S)return f.filter(N=>this.chart.data.datasets[N.datasetIndex]&&void 0!==this.chart.getDatasetMeta(N.datasetIndex).controller.getParsed(N.index));const D=this.chart.getElementsAtEventForMode(s,w.mode,w,g);return w.reverse&&D.reverse(),D}_positionChanged(s,f){const{caretX:g,caretY:S,options:w}=this,D=Hl[w.position].call(this,s,f);return!1!==D&&(g!==D.x||S!==D.y)}})();var Qh={id:"tooltip",_element:hd,positioners:Hl,afterInit(a,l,s){s&&(a.tooltip=new hd({chart:a,options:s}))},beforeUpdate(a,l,s){a.tooltip&&a.tooltip.initialize(s)},reset(a,l,s){a.tooltip&&a.tooltip.initialize(s)},afterDraw(a){const l=a.tooltip;if(l&&l._willRender()){const s={tooltip:l};if(!1===a.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;l.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",s)}},afterEvent(a,l){a.tooltip&&a.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,l)=>l.bodyFont.size,boxWidth:(a,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},uv=Object.freeze({__proto__:null,Colors:Vc,Decimation:qg,Filler:Sm,Legend:sv,SubTitle:Kd,Title:lv,Tooltip:Qh});function tp(a){const l=this.getLabels();return a>=0&&a<l.length?l[a]:a}let np=(()=>class a extends Dl{static id="category";static defaults={ticks:{callback:tp}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const f=this._addedLabels;if(f.length){const g=this.getLabels();for(const{index:S,label:w}of f)g[S]===w&&g.splice(S,1);this._addedLabels=[]}super.init(s)}parse(s,f){if(dt(s))return null;const g=this.getLabels();return((a,l)=>null===a?null:Pt(Math.round(a),0,l))(f=isFinite(f)&&g[f]===s?f:function dv(a,l,s,f){const g=a.indexOf(l);return-1===g?((a,l,s,f)=>("string"==typeof l?(s=a.push(l)-1,f.unshift({index:s,label:l})):isNaN(l)&&(s=null),s))(a,l,s,f):g!==a.lastIndexOf(l)?s:g}(g,s,tn(f,s),this._addedLabels),g.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:f}=this.getUserBounds();let{min:g,max:S}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(g=0),f||(S=this.getLabels().length-1)),this.min=g,this.max=S}buildTicks(){const s=this.min,f=this.max,g=this.options.offset,S=[];let w=this.getLabels();w=0===s&&f===w.length-1?w:w.slice(s,f+1),this._valueRange=Math.max(w.length-(g?0:1),1),this._startValue=this.min-(g?.5:0);for(let D=s;D<=f;D++)S.push({value:D});return S}getLabelForValue(s){return tp.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const f=this.ticks;return s<0||s>f.length-1?null:this.getPixelForValue(f[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}})();function Dm(a,l,{horizontal:s,minRotation:f}){const g=cs(f),S=(s?Math.sin(g):Math.cos(g))||.001;return Math.min(l/S,.75*l*(""+a).length)}class nu extends Dl{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,s){return dt(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:s,maxDefined:f}=this.getUserBounds();let{min:g,max:S}=this;const w=N=>g=s?g:N,D=N=>S=f?S:N;if(l){const N=ze(g),J=ze(S);N<0&&J<0?D(0):N>0&&J>0&&w(0)}if(g===S){let N=0===S?1:Math.abs(.05*S);D(S+N),l||w(g-N)}this.min=g,this.max=S}getTickLimit(){const l=this.options.ticks;let g,{maxTicksLimit:s,stepSize:f}=l;return f?(g=Math.ceil(this.max/f)-Math.floor(this.min/f)+1,g>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${f} would result generating up to ${g} ticks. Limiting to 1000.`),g=1e3)):(g=this.computeTickLimit(),s=s||11),s&&(g=Math.min(s,g)),g}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,s=l.ticks;let f=this.getTickLimit();f=Math.max(2,f);const w=function ip(a,l){const s=[],{bounds:g,step:S,min:w,max:D,precision:N,count:J,maxTicks:ue,maxDigits:Me,includeBounds:Le}=a,Xe=S||1,gt=ue-1,{min:vt,max:St}=l,mn=!dt(w),dn=!dt(D),qn=!dt(J),ri=(St-vt)/(Me+1);let ei,Qi,Ci,Ar,Bn=Wt((St-vt)/gt/Xe)*Xe;if(Bn<1e-14&&!mn&&!dn)return[{value:vt},{value:St}];Ar=Math.ceil(St/Bn)-Math.floor(vt/Bn),Ar>gt&&(Bn=Wt(Ar*Bn/gt/Xe)*Xe),dt(N)||(ei=Math.pow(10,N),Bn=Math.ceil(Bn*ei)/ei),"ticks"===g?(Qi=Math.floor(vt/Bn)*Bn,Ci=Math.ceil(St/Bn)*Bn):(Qi=vt,Ci=St),mn&&dn&&S&&function jr(a,l){const s=Math.round(a);return s-l<=a&&s+l>=a}((D-w)/S,Bn/1e3)?(Ar=Math.round(Math.min((D-w)/Bn,ue)),Bn=(D-w)/Ar,Qi=w,Ci=D):qn?(Qi=mn?w:Qi,Ci=dn?D:Ci,Ar=J-1,Bn=(Ci-Qi)/Ar):(Ar=(Ci-Qi)/Bn,Ar=ct(Ar,Math.round(Ar),Bn/1e3)?Math.round(Ar):Math.ceil(Ar));const os=Math.max(ha(Bn),ha(Qi));ei=Math.pow(10,dt(N)?os:N),Qi=Math.round(Qi*ei)/ei,Ci=Math.round(Ci*ei)/ei;let No=0;for(mn&&(Le&&Qi!==w?(s.push({value:w}),Qi<w&&No++,ct(Math.round((Qi+No*Bn)*ei)/ei,w,Dm(w,ri,a))&&No++):Qi<w&&No++);No<Ar;++No){const Is=Math.round((Qi+No*Bn)*ei)/ei;if(dn&&Is>D)break;s.push({value:Is})}return dn&&Le&&Ci!==D?s.length&&ct(s[s.length-1].value,D,Dm(D,ri,a))?s[s.length-1].value=D:s.push({value:D}):(!dn||Ci===D)&&s.push({value:Ci}),s}({maxTicks:f,bounds:l.bounds,min:l.min,max:l.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===l.bounds&&es(w,this,"value"),l.reverse?(w.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),w}configure(){const l=this.ticks;let s=this.min,f=this.max;if(super.configure(),this.options.offset&&l.length){const g=(f-s)/Math.max(l.length-1,1)/2;s-=g,f+=g}this._startValue=s,this._endValue=f,this._valueRange=f-s}getLabelForValue(l){return Us(l,this.chart.options.locale,this.options.ticks.format)}}const ju=a=>Math.floor(Bt(a)),hc=(a,l)=>Math.pow(10,ju(a)+l);function md(a){return a/Math.pow(10,ju(a))==1}function Xf(a,l,s){const f=Math.pow(10,s),g=Math.floor(a/f);return Math.ceil(l/f)-g}function Hc(a){const l=a.ticks;if(l.display&&a.display){const s=sr(l.backdropPadding);return tn(l.font&&l.font.size,so.font.size)+s.height}return 0}function Qd(a,l,s){return s=et(s)?s:[s],{w:ta(a,l.string,s),h:s.length*l.lineHeight}}function qd(a,l,s,f,g){return a===f||a===g?{start:l-s/2,end:l+s/2}:a<f||a>g?{start:l-s,end:l}:{start:l,end:l+s}}function iu(a,l,s,f,g){const S=Math.abs(Math.sin(s)),w=Math.abs(Math.cos(s));let D=0,N=0;f.start<l.l?(D=(l.l-f.start)/S,a.l=Math.min(a.l,l.l-D)):f.end>l.r&&(D=(f.end-l.r)/S,a.r=Math.max(a.r,l.r+D)),g.start<l.t?(N=(l.t-g.start)/w,a.t=Math.min(a.t,l.t-N)):g.end>l.b&&(N=(g.end-l.b)/w,a.b=Math.max(a.b,l.b+N))}function s0(a,l,s){const f=a.drawingArea,{extra:g,additionalAngle:S,padding:w,size:D}=s,N=a.getPointPosition(l,f+g+w,S),J=Math.round(Zi(ut(N.angle+ro))),ue=function l0(a,l,s){return 90===s||270===s?a-=l/2:(s>270||s<90)&&(a-=l),a}(N.y,D.h,J),Me=function Kf(a){return 0===a||180===a?"center":a<180?"left":"right"}(J),Le=function a0(a,l,s){return"right"===s?a-=l:"center"===s&&(a-=l/2),a}(N.x,D.w,Me);return{visible:!0,x:N.x,y:ue,textAlign:Me,left:Le,top:ue,right:Le+D.w,bottom:ue+D.h}}function fv(a,l){if(!l)return!0;const{left:s,top:f,right:g,bottom:S}=a;return!(Er({x:s,y:f},l)||Er({x:s,y:S},l)||Er({x:g,y:f},l)||Er({x:g,y:S},l))}function hv(a,l,s){const{left:f,top:g,right:S,bottom:w}=s,{backdropColor:D}=l;if(!dt(D)){const N=co(l.borderRadius),J=sr(l.backdropPadding);a.fillStyle=D;const ue=f-J.left,Me=g-J.top,Le=S-f+J.width,Xe=w-g+J.height;Object.values(N).some(gt=>0!==gt)?(a.beginPath(),Sn(a,{x:ue,y:Me,w:Le,h:Xe,radius:N}),a.fill()):a.fillRect(ue,Me,Le,Xe)}}function sp(a,l,s,f){const{ctx:g}=a;if(s)g.arc(a.xCenter,a.yCenter,l,0,ji);else{let S=a.getPointPosition(0,l);g.moveTo(S.x,S.y);for(let w=1;w<f;w++)S=a.getPointPosition(w,l),g.lineTo(S.x,S.y)}}const ef={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cc=Object.keys(ef);function Hu(a,l){return a-l}function Jf(a,l){if(dt(l))return null;const s=a._adapter,{parser:f,round:g,isoWeekday:S}=a._parseOpts;let w=l;return"function"==typeof f&&(w=f(w)),It(w)||(w="string"==typeof f?s.parse(w,f):s.parse(w)),null===w?null:(g&&(w="week"!==g||!br(S)&&!0!==S?s.startOf(w,g):s.startOf(w,"isoWeek",S)),+w)}function Im(a,l,s,f){const g=cc.length;for(let S=cc.indexOf(a);S<g-1;++S){const w=ef[cc[S]];if(w.common&&Math.ceil((s-l)/((w.steps?w.steps:Number.MAX_SAFE_INTEGER)*w.size))<=f)return cc[S]}return cc[g-1]}function Qf(a,l,s){if(s){if(s.length){const{lo:f,hi:g}=Fn(s,l);a[s[f]>=l?s[f]:s[g]]=!0}}else a[l]=!0}function Gu(a,l,s){const f=[],g={},S=l.length;let w,D;for(w=0;w<S;++w)D=l[w],g[D]=w,f.push({value:D,major:!1});return 0!==S&&s?function ll(a,l,s,f){const g=a._adapter,S=+g.startOf(l[0].value,f),w=l[l.length-1].value;let D,N;for(D=S;D<=w;D=+g.add(D,1,f))N=s[D],N>=0&&(l[N].major=!0);return l}(a,f,g,s):f}let qf=(()=>class a extends Dl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,f={}){const g=s.time||(s.time={}),S=this._adapter=new T__date(s.adapters.date);S.init(f),So(g.displayFormats,S.formats()),this._parseOpts={parser:g.parser,round:g.round,isoWeekday:g.isoWeekday},super.init(s),this._normalized=f.normalized}parse(s,f){return void 0===s?null:Jf(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,f=this._adapter,g=s.time.unit||"day";let{min:S,max:w,minDefined:D,maxDefined:N}=this.getUserBounds();function J(ue){!D&&!isNaN(ue.min)&&(S=Math.min(S,ue.min)),!N&&!isNaN(ue.max)&&(w=Math.max(w,ue.max))}(!D||!N)&&(J(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&J(this.getMinMax(!1))),S=It(S)&&!isNaN(S)?S:+f.startOf(Date.now(),g),w=It(w)&&!isNaN(w)?w:+f.endOf(Date.now(),g)+1,this.min=Math.min(S,w-1),this.max=Math.max(S+1,w)}_getLabelBounds(){const s=this.getLabelTimestamps();let f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;return s.length&&(f=s[0],g=s[s.length-1]),{min:f,max:g}}buildTicks(){const s=this.options,f=s.time,g=s.ticks,S="labels"===g.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&S.length&&(this.min=this._userMin||S[0],this.max=this._userMax||S[S.length-1]);const w=this.min,N=function Mr(a,l,s){let f=0,g=a.length;for(;f<g&&a[f]<l;)f++;for(;g>f&&a[g-1]>s;)g--;return f>0||g<a.length?a.slice(f,g):a}(S,w,this.max);return this._unit=f.unit||(g.autoSkip?Im(f.minUnit,this.min,this.max,this._getLabelCapacity(w)):function pv(a,l,s,f,g){for(let S=cc.length-1;S>=cc.indexOf(s);S--){const w=cc[S];if(ef[w].common&&a._adapter.diff(g,f,w)>=l-1)return w}return cc[s?cc.indexOf(s):0]}(this,N.length,f.minUnit,this.min,this.max)),this._majorUnit=g.major.enabled&&"year"!==this._unit?function ap(a){for(let l=cc.indexOf(a)+1,s=cc.length;l<s;++l)if(ef[cc[l]].common)return cc[l]}(this._unit):void 0,this.initOffsets(S),s.reverse&&N.reverse(),Gu(this,N,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let S,w,f=0,g=0;this.options.offset&&s.length&&(S=this.getDecimalForValue(s[0]),f=1===s.length?1-S:(this.getDecimalForValue(s[1])-S)/2,w=this.getDecimalForValue(s[s.length-1]),g=1===s.length?w:(w-this.getDecimalForValue(s[s.length-2]))/2);const D=s.length<3?.5:.25;f=Pt(f,0,D),g=Pt(g,0,D),this._offsets={start:f,end:g,factor:1/(f+1+g)}}_generate(){const s=this._adapter,f=this.min,g=this.max,S=this.options,w=S.time,D=w.unit||Im(w.minUnit,f,g,this._getLabelCapacity(f)),N=tn(S.ticks.stepSize,1),J="week"===D&&w.isoWeekday,ue=br(J)||!0===J,Me={};let Xe,gt,Le=f;if(ue&&(Le=+s.startOf(Le,"isoWeek",J)),Le=+s.startOf(Le,ue?"day":D),s.diff(g,f,D)>1e5*N)throw new Error(f+" and "+g+" are too far apart with stepSize of "+N+" "+D);const vt="data"===S.ticks.source&&this.getDataTimestamps();for(Xe=Le,gt=0;Xe<g;Xe=+s.add(Xe,N,D),gt++)Qf(Me,Xe,vt);return(Xe===g||"ticks"===S.bounds||1===gt)&&Qf(Me,Xe,vt),Object.keys(Me).sort(Hu).map(St=>+St)}getLabelForValue(s){const g=this.options.time;return this._adapter.format(s,g.tooltipFormat?g.tooltipFormat:g.displayFormats.datetime)}format(s,f){return this._adapter.format(s,f||this.options.time.displayFormats[this._unit])}_tickFormatFunction(s,f,g,S){const w=this.options,D=w.ticks.callback;if(D)return oi(D,[s,f,g],this);const N=w.time.displayFormats,J=this._unit,ue=this._majorUnit,Le=ue&&N[ue],Xe=g[f];return this._adapter.format(s,S||(ue&&Le&&Xe&&Xe.major?Le:J&&N[J]))}generateTickLabels(s){let f,g,S;for(f=0,g=s.length;f<g;++f)S=s[f],S.label=this._tickFormatFunction(S.value,f,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const f=this._offsets,g=this.getDecimalForValue(s);return this.getPixelForDecimal((f.start+g)*f.factor)}getValueForPixel(s){const f=this._offsets,g=this.getDecimalForPixel(s)/f.factor-f.end;return this.min+g*(this.max-this.min)}_getLabelSize(s){const f=this.options.ticks,g=this.ctx.measureText(s).width,S=cs(this.isHorizontal()?f.maxRotation:f.minRotation),w=Math.cos(S),D=Math.sin(S),N=this._resolveTickFontOptions(0).size;return{w:g*w+N*D,h:g*D+N*w}}_getLabelCapacity(s){const f=this.options.time,g=f.displayFormats,S=g[f.unit]||g.millisecond,w=this._tickFormatFunction(s,0,Gu(this,[s],this._majorUnit),S),D=this._getLabelSize(w),N=Math.floor(this.isHorizontal()?this.width/D.w:this.height/D.h)-1;return N>0?N:1}getDataTimestamps(){let f,g,s=this._cache.data||[];if(s.length)return s;const S=this.getMatchingVisibleMetas();if(this._normalized&&S.length)return this._cache.data=S[0].controller.getAllParsedValues(this);for(f=0,g=S.length;f<g;++f)s=s.concat(S[f].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let f,g;if(s.length)return s;const S=this.getLabels();for(f=0,g=S.length;f<g;++f)s.push(Jf(this,S[f]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return pr(s.sort(Hu))}})();function Wu(a,l,s){let S,w,D,N,f=0,g=a.length-1;s?(l>=a[f].pos&&l<=a[g].pos&&({lo:f,hi:g}=Ri(a,"pos",l)),({pos:S,time:D}=a[f]),({pos:w,time:N}=a[g])):(l>=a[f].time&&l<=a[g].time&&({lo:f,hi:g}=Ri(a,"time",l)),({time:S,pos:D}=a[f]),({time:w,pos:N}=a[g]));const J=w-S;return J?D+(N-D)*(l-S)/J:D}var mv=Object.freeze({__proto__:null,CategoryScale:np,LinearScale:class pd extends nu{static id="linear";static defaults={ticks:{callback:mr.formatters.numeric}};determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=It(l)?l:0,this.max=It(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),s=l?this.width:this.height,f=cs(this.options.ticks.minRotation),g=(l?Math.sin(f):Math.cos(f))||.001,S=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,S.lineHeight/g))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}},LogarithmicScale:class Zf extends Dl{static id="logarithmic";static defaults={ticks:{callback:mr.formatters.logarithmic,major:{enabled:!0}}};constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,s){const f=nu.prototype.parse.apply(this,[l,s]);if(0!==f)return It(f)&&f>0?f:null;this._zero=!0}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=It(l)?Math.max(0,l):null,this.max=It(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!It(this._userMin)&&(this.min=l===hc(this.min,0)?hc(this.min,-1):hc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:s}=this.getUserBounds();let f=this.min,g=this.max;const S=D=>f=l?f:D,w=D=>g=s?g:D;f===g&&(f<=0?(S(1),w(10)):(S(hc(f,-1)),w(hc(g,1)))),f<=0&&S(hc(g,-1)),g<=0&&w(hc(f,1)),this.min=f,this.max=g}buildTicks(){const l=this.options,f=function Yf(a,{min:l,max:s}){l=cn(a.min,l);const f=[],g=ju(l);let S=function _u(a,l){let f=ju(l-a);for(;Xf(a,l,f)>10;)f++;for(;Xf(a,l,f)<10;)f--;return Math.min(f,ju(a))}(l,s),w=S<0?Math.pow(10,Math.abs(S)):1;const D=Math.pow(10,S),N=g>S?Math.pow(10,g):0,J=Math.round((l-N)*w)/w,ue=Math.floor((l-N)/D/10)*D*10;let Me=Math.floor((J-ue)/Math.pow(10,S)),Le=cn(a.min,Math.round((N+ue+Me*Math.pow(10,S))*w)/w);for(;Le<s;)f.push({value:Le,major:md(Le),significand:Me}),Me>=10?Me=Me<15?15:20:Me++,Me>=20&&(S++,Me=2,w=S>=0?1:w),Le=Math.round((N+ue+Me*Math.pow(10,S))*w)/w;const Xe=cn(a.max,Le);return f.push({value:Xe,major:md(Xe),significand:Me}),f}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&es(f,this,"value"),l.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}getLabelForValue(l){return void 0===l?"0":Us(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=Bt(l),this._valueRange=Bt(this.max)-Bt(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:(Bt(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const s=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+s*this._valueRange)}},RadialLinearScale:class u0 extends nu{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:l=>l,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=sr(Hc(this.options)/2),s=this.width=this.maxWidth-l.width,f=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+s/2+l.left),this.yCenter=Math.floor(this.top+f/2+l.top),this.drawingArea=Math.floor(Math.min(s,f)/2)}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!1);this.min=It(l)&&!isNaN(l)?l:0,this.max=It(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hc(this.options))}generateTickLabels(l){nu.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((s,f)=>{const g=oi(this.options.pointLabels.callback,[s,f],this);return g||0===g?g:""}).filter((s,f)=>this.chart.getDataVisibility(f))}fit(){const l=this.options;l.display&&l.pointLabels.display?function rp(a){const l={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},s=Object.assign({},l),f=[],g=[],S=a._pointLabels.length,w=a.options.pointLabels,D=w.centerPointLabels?ki/S:0;for(let N=0;N<S;N++){const J=w.setContext(a.getPointLabelContext(N));g[N]=J.padding;const ue=a.getPointPosition(N,a.drawingArea+g[N],D),Me=ao(J.font),Le=Qd(a.ctx,Me,a._pointLabels[N]);f[N]=Le;const Xe=ut(a.getIndexAngle(N)+D),gt=Math.round(Zi(Xe));iu(s,l,Xe,qd(gt,ue.x,Le.w,0,180),qd(gt,ue.y,Le.h,90,270))}a.setCenterPoint(l.l-s.l,s.r-l.r,l.t-s.t,s.b-l.b),a._pointLabelItems=function gd(a,l,s){const f=[],g=a._pointLabels.length,S=a.options,{centerPointLabels:w,display:D}=S.pointLabels,N={extra:Hc(S)/2,additionalAngle:w?ki/g:0};let J;for(let ue=0;ue<g;ue++){N.padding=s[ue],N.size=l[ue];const Me=s0(a,ue,N);f.push(Me),"auto"===D&&(Me.visible=fv(Me,J),Me.visible&&(J=Me))}return f}(a,f,g)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,s,f,g){this.xCenter+=Math.floor((l-s)/2),this.yCenter+=Math.floor((f-g)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,s,f,g))}getIndexAngle(l){return ut(l*(ji/(this._pointLabels.length||1))+cs(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if(dt(l))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*s:(l-this.min)*s}getValueForDistanceFromCenter(l){if(dt(l))return NaN;const s=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(l){const s=this._pointLabels||[];if(l>=0&&l<s.length){const f=s[l];return function c0(a,l,s){return $s(a,{label:s,index:l,type:"pointLabel"})}(this.getContext(),l,f)}}getPointPosition(l,s,f=0){const g=this.getIndexAngle(l)-ro+f;return{x:Math.cos(g)*s+this.xCenter,y:Math.sin(g)*s+this.yCenter,angle:g}}getPointPositionForValue(l,s){return this.getPointPosition(l,this.getDistanceFromCenterForValue(s))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:s,top:f,right:g,bottom:S}=this._pointLabelItems[l];return{left:s,top:f,right:g,bottom:S}}drawBackground(){const{backgroundColor:l,grid:{circular:s}}=this.options;if(l){const f=this.ctx;f.save(),f.beginPath(),sp(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),f.closePath(),f.fillStyle=l,f.fill(),f.restore()}}drawGrid(){const l=this.ctx,s=this.options,{angleLines:f,grid:g,border:S}=s,w=this._pointLabels.length;let D,N,J;if(s.pointLabels.display&&function op(a,l){const{ctx:s,options:{pointLabels:f}}=a;for(let g=l-1;g>=0;g--){const S=a._pointLabelItems[g];if(!S.visible)continue;const w=f.setContext(a.getPointLabelContext(g));hv(s,w,S);const D=ao(w.font),{x:N,y:J,textAlign:ue}=S;Lr(s,a._pointLabels[g],N,J+D.lineHeight/2,D,{color:w.color,textAlign:ue,textBaseline:"middle"})}}(this,w),g.display&&this.ticks.forEach((ue,Me)=>{if(0!==Me||0===Me&&this.min<0){N=this.getDistanceFromCenterForValue(ue.value);const Le=this.getContext(Me),Xe=g.setContext(Le),gt=S.setContext(Le);!function Pm(a,l,s,f,g){const S=a.ctx,w=l.circular,{color:D,lineWidth:N}=l;!w&&!f||!D||!N||s<0||(S.save(),S.strokeStyle=D,S.lineWidth=N,S.setLineDash(g.dash||[]),S.lineDashOffset=g.dashOffset,S.beginPath(),sp(a,s,w,f),S.closePath(),S.stroke(),S.restore())}(this,Xe,N,w,gt)}}),f.display){for(l.save(),D=w-1;D>=0;D--){const ue=f.setContext(this.getPointLabelContext(D)),{color:Me,lineWidth:Le}=ue;!Le||!Me||(l.lineWidth=Le,l.strokeStyle=Me,l.setLineDash(ue.borderDash),l.lineDashOffset=ue.borderDashOffset,N=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),J=this.getPointPosition(D,N),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(J.x,J.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,s=this.options,f=s.ticks;if(!f.display)return;const g=this.getIndexAngle(0);let S,w;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(g),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((D,N)=>{if(0===N&&this.min>=0&&!s.reverse)return;const J=f.setContext(this.getContext(N)),ue=ao(J.font);if(S=this.getDistanceFromCenterForValue(this.ticks[N].value),J.showLabelBackdrop){l.font=ue.string,w=l.measureText(D.label).width,l.fillStyle=J.backdropColor;const Me=sr(J.backdropPadding);l.fillRect(-w/2-Me.left,-S-ue.size/2-Me.top,w+Me.width,ue.size+Me.height)}Lr(l,D.label,0,-S,ue,{color:J.color,strokeColor:J.textStrokeColor,strokeWidth:J.textStrokeWidth})}),l.restore()}drawTitle(){}},TimeScale:qf,TimeSeriesScale:class tf extends qf{static id="timeseries";static defaults=qf.defaults;constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(l);this._minPos=Wu(s,this.min),this._tableRange=Wu(s,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:s,max:f}=this,g=[],S=[];let w,D,N,J,ue;for(w=0,D=l.length;w<D;++w)J=l[w],J>=s&&J<=f&&g.push(J);if(g.length<2)return[{time:s,pos:0},{time:f,pos:1}];for(w=0,D=g.length;w<D;++w)ue=g[w+1],N=g[w-1],J=g[w],Math.round((ue+N)/2)!==J&&S.push({time:J,pos:w/(D-1)});return S}_generate(){const l=this.min,s=this.max;let f=super.getDataTimestamps();return(!f.includes(l)||!f.length)&&f.splice(0,0,l),(!f.includes(s)||1===f.length)&&f.push(s),f.sort((g,S)=>g-S)}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const s=this.getDataTimestamps(),f=this.getLabelTimestamps();return l=s.length&&f.length?this.normalize(s.concat(f)):s.length?s:f,l=this._cache.all=l,l}getDecimalForValue(l){return(Wu(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const s=this._offsets,f=this.getDecimalForPixel(l)/s.factor-s.end;return Wu(this._table,f*this._tableRange+this._minPos,!0)}}});const $u=[Bi,zl,uv,mv];var eh=_(5619),Om=_(3997);const nf=function cp(a,l){return a===l||a!=a&&l!=l},_c=function th(a,l){for(var s=a.length;s--;)if(nf(a[s][0],l))return s;return-1};var gv=Array.prototype.splice;function rf(a){var l=-1,s=null==a?0:a.length;for(this.clear();++l<s;){var f=a[l];this.set(f[0],f[1])}}rf.prototype.clear=function lp(){this.__data__=[],this.size=0},rf.prototype.delete=function up(a){var l=this.__data__,s=_c(l,a);return!(s<0||(s==l.length-1?l.pop():gv.call(l,s,1),--this.size,0))},rf.prototype.get=function vv(a){var l=this.__data__,s=_c(l,a);return s<0?void 0:l[s][1]},rf.prototype.has=function Yu(a){return _c(this.__data__,a)>-1},rf.prototype.set=function bu(a,l){var s=this.__data__,f=_c(s,a);return f<0?(++this.size,s.push([a,l])):s[f][1]=l,this};const vd=rf,ru="object"==typeof global&&global&&global.Object===Object&&global;var yv="object"==typeof self&&self&&self.Object===Object&&self;const yd=ru||yv||Function("return this")();var bv=yd.Symbol,Oc=Object.prototype,Ku=Oc.hasOwnProperty,km=Oc.toString,sf=bv?bv.toStringTag:void 0;var Um=Object.prototype.toString;var af=bv?bv.toStringTag:void 0;const pc=function sh(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":af&&af in Object(a)?function _d(a){var l=Ku.call(a,sf),s=a[sf];try{a[sf]=void 0;var f=!0}catch{}var g=km.call(a);return f&&(l?a[sf]=s:delete a[sf]),g}(a):function pp(a){return Um.call(a)}(a)},Ul=function lf(a){var l=typeof a;return null!=a&&("object"==l||"function"==l)},Gc=function vp(a){if(!Ul(a))return!1;var l=pc(a);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l};var a,bd=yd["__core-js_shared__"],g0=(a=/[^.]+$/.exec(bd&&bd.keys&&bd.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";var Cv=Function.prototype.toString;var su=/^\[object .+?Constructor\]$/,wv=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const au=function zm(a){return!(!Ul(a)||function xv(a){return!!g0&&g0 in a}(a))&&(Gc(a)?wv:su).test(function bc(a){if(null!=a){try{return Cv.call(a)}catch{}try{return a+""}catch{}}return""}(a))},bp=function Hm(a,l){var s=function jm(a,l){return a?.[l]}(a,l);return au(s)?s:void 0},y0=bp(yd,"Map"),lu=bp(Object,"create");var Gm=Object.prototype.hasOwnProperty;var xp=Object.prototype.hasOwnProperty;function df(a){var l=-1,s=null==a?0:a.length;for(this.clear();++l<s;){var f=a[l];this.set(f[0],f[1])}}df.prototype.clear=function xu(){this.__data__=lu?lu(null):{},this.size=0},df.prototype.delete=function Tv(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l},df.prototype.get=function Wm(a){var l=this.__data__;if(lu){var s=l[a];return"__lodash_hash_undefined__"===s?void 0:s}return Gm.call(l,a)?l[a]:void 0},df.prototype.has=function Cp(a){var l=this.__data__;return lu?void 0!==l[a]:xp.call(l,a)},df.prototype.set=function Xm(a,l){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=lu&&void 0===l?"__lodash_hash_undefined__":l,this};const uh=df,uu=function cu(a,l){var s=a.__data__;return function ff(a){var l=typeof a;return"string"==l||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==a:null===a}(l)?s["string"==typeof l?"string":"hash"]:s.map};function Qu(a){var l=-1,s=null==a?0:a.length;for(this.clear();++l<s;){var f=a[l];this.set(f[0],f[1])}}Qu.prototype.clear=function dh(){this.size=0,this.__data__={hash:new uh,map:new(y0||vd),string:new uh}},Qu.prototype.delete=function Ep(a){var l=uu(this,a).delete(a);return this.size-=l?1:0,l},Qu.prototype.get=function S0(a){return uu(this,a).get(a)},Qu.prototype.has=function xd(a){return uu(this,a).has(a)},Qu.prototype.set=function Cd(a,l){var s=uu(this,a),f=s.size;return s.set(a,l),this.size+=s.size==f?0:1,this};const qu=Qu;function Ed(a){var l=this.__data__=new vd(a);this.size=l.size}Ed.prototype.clear=function ih(){this.__data__=new vd,this.size=0},Ed.prototype.delete=function fp(a){var l=this.__data__,s=l.delete(a);return this.size=l.size,s},Ed.prototype.get=function rh(a){return this.__data__.get(a)},Ed.prototype.has=function Fm(a){return this.__data__.has(a)},Ed.prototype.set=function Zm(a,l){var s=this.__data__;if(s instanceof vd){var f=s.__data__;if(!y0||f.length<199)return f.push([a,l]),this.size=++s.size,this;s=this.__data__=new qu(f)}return s.set(a,l),this.size=s.size,this};const C0=Ed;var wd=function(){try{var a=bp(Object,"defineProperty");return a({},"",{}),a}catch{}}();const fh=wd,wp=function E0(a,l,s){"__proto__"==l&&fh?fh(a,l,{configurable:!0,enumerable:!0,value:s,writable:!0}):a[l]=s},Km=function Td(a,l,s){(void 0!==s&&!nf(a[l],s)||void 0===s&&!(l in a))&&wp(a,l,s)};var pf=function hh(a){return function(l,s,f){for(var g=-1,S=Object(l),w=f(l),D=w.length;D--;){var N=w[a?D:++g];if(!1===s(S[N],N,S))break}return l}}();const Jm=pf;var Tp="object"==typeof exports&&exports&&!exports.nodeType&&exports,mf=Tp&&"object"==typeof module&&module&&!module.nodeType&&module,Ad=mf&&mf.exports===Tp?yd.Buffer:void 0,Dp=Ad?Ad.allocUnsafe:void 0;const Ip=yd.Uint8Array,Qm=function Rv(a,l){var s=l?function ph(a){var l=new a.constructor(a.byteLength);return new Ip(l).set(new Ip(a)),l}(a.buffer):a.buffer;return new a.constructor(s,a.byteOffset,a.length)};var eg=Object.create,A0=function(){function a(){}return function(l){if(!Ul(l))return{};if(eg)return eg(l);a.prototype=l;var s=new a;return a.prototype=void 0,s}}();const Fv=A0;var gf=function $_(a,l){return function(s){return a(l(s))}}(Object.getPrototypeOf,Object);const Op=gf;var P0=Object.prototype;const mh=function Rp(a){var l=a&&a.constructor;return a===("function"==typeof l&&l.prototype||P0)},gh=function Dd(a){return null!=a&&"object"==typeof a},Eu=function X_(a){return gh(a)&&"[object Arguments]"==pc(a)};var wu=Object.prototype,ig=wu.hasOwnProperty,vf=wu.propertyIsEnumerable,yf=Eu(function(){return arguments}())?Eu:function(a){return gh(a)&&ig.call(a,"callee")&&!vf.call(a,"callee")};const rg=yf,Np=Array.isArray,og=function kv(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991},Pd=function Uv(a){return null!=a&&og(a.length)&&!Gc(a)};var cl="object"==typeof exports&&exports&&!exports.nodeType&&exports,sg=cl&&"object"==typeof module&&module&&!module.nodeType&&module,_f=sg&&sg.exports===cl?yd.Buffer:void 0;const Vv=(_f?_f.isBuffer:void 0)||function Bv(){return!1};var ag=Function.prototype.toString,Y_=Object.prototype.hasOwnProperty,lg=ag.call(Object);var Vs={};Vs["[object Float32Array]"]=Vs["[object Float64Array]"]=Vs["[object Int8Array]"]=Vs["[object Int16Array]"]=Vs["[object Int32Array]"]=Vs["[object Uint8Array]"]=Vs["[object Uint8ClampedArray]"]=Vs["[object Uint16Array]"]=Vs["[object Uint32Array]"]=!0,Vs["[object Arguments]"]=Vs["[object Array]"]=Vs["[object ArrayBuffer]"]=Vs["[object Boolean]"]=Vs["[object DataView]"]=Vs["[object Date]"]=Vs["[object Error]"]=Vs["[object Function]"]=Vs["[object Map]"]=Vs["[object Number]"]=Vs["[object Object]"]=Vs["[object RegExp]"]=Vs["[object Set]"]=Vs["[object String]"]=Vs["[object WeakMap]"]=!1;var mg="object"==typeof exports&&exports&&!exports.nodeType&&exports,td=mg&&"object"==typeof module&&module&&!module.nodeType&&module,Id=td&&td.exports===mg&&ru.process,Jv=function(){try{return td&&td.require&&td.require("util").types||Id&&Id.binding&&Id.binding("util")}catch{}}(),Qv=Jv&&Jv.isTypedArray;const qv=Qv?function Zv(a){return function(l){return a(l)}}(Qv):function Mf(a){return gh(a)&&og(a.length)&&!!Vs[pc(a)]},Bp=function z0(a,l){if(("constructor"!==l||"function"!=typeof a[l])&&"__proto__"!=l)return a[l]};var j0=Object.prototype.hasOwnProperty;const Q_=function J_(a,l,s){var f=a[l];(!j0.call(a,l)||!nf(f,s)||void 0===s&&!(l in a))&&wp(a,l,s)};var iy=/^(?:0|[1-9]\d*)$/;const vg=function H0(a,l){var s=typeof a;return!!(l=l??9007199254740991)&&("number"==s||"symbol"!=s&&iy.test(a))&&a>-1&&a%1==0&&a<l};var Fo=Object.prototype.hasOwnProperty;const sy=function oy(a,l){var s=Np(a),f=!s&&rg(a),g=!s&&!f&&Vv(a),S=!s&&!f&&!g&&qv(a),w=s||f||g||S,D=w?function q_(a,l){for(var s=-1,f=Array(a);++s<a;)f[s]=l(s);return f}(a.length,String):[],N=D.length;for(var J in a)(l||Fo.call(a,J))&&(!w||!("length"==J||g&&("offset"==J||"parent"==J)||S&&("buffer"==J||"byteLength"==J||"byteOffset"==J)||vg(J,N)))&&D.push(J);return D};var zp=Object.prototype.hasOwnProperty;const yg=function xf(a){if(!Ul(a))return function Sf(a){var l=[];if(null!=a)for(var s in Object(a))l.push(s);return l}(a);var l=mh(a),s=[];for(var f in a)"constructor"==f&&(l||!zp.call(a,f))||s.push(f);return s},_g=function Mh(a){return Pd(a)?sy(a,!0):yg(a)},Mg=function bg(a){return function ey(a,l,s,f){var g=!s;s||(s={});for(var S=-1,w=l.length;++S<w;){var D=l[S],N=f?f(s[D],a[D],D,s,a):void 0;void 0===N&&(N=a[D]),g?wp(s,D,N):Q_(s,D,N)}return s}(a,_g(a))},ly=function Sg(a,l,s,f,g,S,w){var D=Bp(a,s),N=Bp(l,s),J=w.get(N);if(J)Km(a,s,J);else{var ue=S?S(D,N,s+"",a,l,w):void 0,Me=void 0===ue;if(Me){var Le=Np(N),Xe=!Le&&Vv(N),gt=!Le&&!Xe&&qv(N);ue=N,Le||Xe||gt?Np(D)?ue=D:function Lp(a){return gh(a)&&Pd(a)}(D)?ue=function T0(a,l){var s=-1,f=a.length;for(l||(l=Array(f));++s<f;)l[s]=a[s];return l}(D):Xe?(Me=!1,ue=function Pa(a,l){if(l)return a.slice();var s=a.length,f=Dp?Dp(s):new a.constructor(s);return a.copy(f),f}(N,!0)):gt?(Me=!1,ue=Qm(N,!0)):ue=[]:function ed(a){if(!gh(a)||"[object Object]"!=pc(a))return!1;var l=Op(a);if(null===l)return!0;var s=Y_.call(l,"constructor")&&l.constructor;return"function"==typeof s&&s instanceof s&&ag.call(s)==lg}(N)||rg(N)?(ue=D,rg(D)?ue=Mg(D):(!Ul(D)||Gc(D))&&(ue=function Fp(a){return"function"!=typeof a.constructor||mh(a)?{}:Fv(Op(a))}(N))):Me=!1}Me&&(w.set(N,ue),g(ue,N,f,S,w),w.delete(N)),Km(a,s,ue)}},W0=function jp(a,l,s,f,g){a!==l&&Jm(l,function(S,w){if(g||(g=new C0),Ul(S))ly(a,l,w,s,jp,f,g);else{var D=f?f(Bp(a,w),S,w+"",a,l,g):void 0;void 0===D&&(D=S),Km(a,w,D)}},_g)},cy=function $0(a){return a};var dy=Math.max;const hy=function fy(a){return function(){return a}};var K0=fh?function(a,l){return fh(a,"toString",{configurable:!0,enumerable:!1,value:hy(l),writable:!0})}:cy,q0=Date.now,my=function eb(a){var l=0,s=0;return function(){var f=q0(),g=16-(f-s);if(s=f,g>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}(K0);const e_=my,n_=function t_(a,l){return e_(function Y0(a,l,s){return l=dy(void 0===l?a.length-1:l,0),function(){for(var f=arguments,g=-1,S=dy(f.length-l,0),w=Array(S);++g<S;)w[g]=f[l+g];g=-1;for(var D=Array(l+1);++g<l;)D[g]=f[g];return D[l]=s(w),function uy(a,l,s){switch(s.length){case 0:return a.call(l);case 1:return a.call(l,s[0]);case 2:return a.call(l,s[0],s[1]);case 3:return a.call(l,s[0],s[1],s[2])}return a.apply(l,s)}(a,this,D)}}(a,l,cy),a+"")};var o_=function r_(a){return n_(function(l,s){var f=-1,g=s.length,S=g>1?s[g-1]:void 0,w=g>2?s[2]:void 0;for(S=a.length>3&&"function"==typeof S?(g--,S):void 0,w&&function gy(a,l,s){if(!Ul(s))return!1;var f=typeof l;return!!("number"==f?Pd(s)&&vg(l,s.length):"string"==f&&l in s)&&nf(s[l],a)}(s[0],s[1],w)&&(S=g<3?void 0:S,g=1),l=Object(l);++f<g;){var D=s[f];D&&a(l,D,f,S)}return l})}(function(a,l,s){W0(a,l,s)});const yy=o_;let _y=(()=>{class a{constructor(){this.colorschemesOptions=new eh.X(void 0)}setColorschemesOptions(s){this.pColorschemesOptions=s,this.colorschemesOptions.next(s)}getColorschemesOptions(){return this.pColorschemesOptions}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),s_=(()=>{class a{constructor(s,f,g){this.zone=f,this.themeService=g,this.type="bar",this.plugins=[],this.chartClick=new M.EventEmitter,this.chartHover=new M.EventEmitter,this.subs=[],this.themeOverrides={},this.ctx=s.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,Om.x)()).subscribe(S=>this.themeChanged(S)))}ngOnChanges(s){const f=["type"],g=Object.getOwnPropertyNames(s);if(g.some(S=>f.includes(S))||g.every(S=>s[S].isFirstChange()))this.render();else{const S=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,S.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,S.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,S.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(s=>s.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new kc(this.ctx,this.getChartConfiguration()))}update(s){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(s))}hideDataset(s,f){this.chart&&(this.chart.getDatasetMeta(s).hidden=f,this.update())}isDatasetHidden(s){return this.chart?.getDatasetMeta(s)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(s){this.themeOverrides=s,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return yy({onHover:(s,f)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:s,active:f}))},onClick:(s,f)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:s,active:f}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static#e=this.\u0275fac=function(f){return new(f||a)(M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.NgZone),M.\u0275\u0275directiveInject(_y))};static#t=this.\u0275dir=M.\u0275\u0275defineDirective({type:a,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[M.\u0275\u0275NgOnChangesFeature]})}return a})();const by=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],fu={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:a=>hu(nd(a.datasetIndex),.4),borderColor:a=>hu(nd(a.datasetIndex),1),pointBackgroundColor:a=>hu(nd(a.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:a=>hu(nd(a.datasetIndex),.6),borderColor:a=>hu(nd(a.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:a=>hu(nd(a.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:a=>hu(nd(a.dataIndex),.6),borderColor:a=>hu(nd(a.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function hu(a,l){return"rgba("+a.concat(l).join(",")+")"}function xg(a,l){return Math.floor(Math.random()*(l-a+1))+a}function nd(a=0){return by[a]||function My(){return[xg(0,255),xg(0,255),xg(0,255)]}()}let Hp=(()=>{class a{constructor(){this.generateColors=!0}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=M.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();kc.register(...$u);let Sy=(()=>{class a{constructor(s){s?.plugins&&kc.register(...s.plugins);const f=yy(s?.generateColors?fu:{},s?.defaults||{});so.set(f)}static forRoot(s){return{ngModule:a,providers:[{provide:Hp,useValue:s}]}}static#e=this.\u0275fac=function(f){return new(f||a)(M.\u0275\u0275inject(Hp,8))};static#t=this.\u0275mod=M.\u0275\u0275defineNgModule({type:a});static#n=this.\u0275inj=M.\u0275\u0275defineInjector({})}return a})()},7582:(Ge,u,_)=>{"use strict";function k(Lt,Rt,Ut,on){return new(Ut||(Ut=Promise))(function(_n,$n){function Pn(wi){try{Gn(on.next(wi))}catch(_r){$n(_r)}}function to(wi){try{Gn(on.throw(wi))}catch(_r){$n(_r)}}function Gn(wi){wi.done?_n(wi.value):function In(_n){return _n instanceof Ut?_n:new Ut(function($n){$n(_n)})}(wi.value).then(Pn,to)}Gn((on=on.apply(Lt,Rt||[])).next())})}function Ee(Lt){return this instanceof Ee?(this.v=Lt,this):new Ee(Lt)}function Ne(Lt,Rt,Ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var In,on=Ut.apply(Lt,Rt||[]),_n=[];return In={},$n("next"),$n("throw"),$n("return"),In[Symbol.asyncIterator]=function(){return this},In;function $n(Ai){on[Ai]&&(In[Ai]=function(Yr){return new Promise(function(Lo,dt){_n.push([Ai,Yr,Lo,dt])>1||Pn(Ai,Yr)})})}function Pn(Ai,Yr){try{!function to(Ai){Ai.value instanceof Ee?Promise.resolve(Ai.value.v).then(Gn,wi):_r(_n[0][2],Ai)}(on[Ai](Yr))}catch(Lo){_r(_n[0][3],Lo)}}function Gn(Ai){Pn("next",Ai)}function wi(Ai){Pn("throw",Ai)}function _r(Ai,Yr){Ai(Yr),_n.shift(),_n.length&&Pn(_n[0][0],_n[0][1])}}function je(Lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ut,Rt=Lt[Symbol.asyncIterator];return Rt?Rt.call(Lt):(Lt=function ge(Lt){var Rt="function"==typeof Symbol&&Symbol.iterator,Ut=Rt&&Lt[Rt],on=0;if(Ut)return Ut.call(Lt);if(Lt&&"number"==typeof Lt.length)return{next:function(){return Lt&&on>=Lt.length&&(Lt=void 0),{value:Lt&&Lt[on++],done:!Lt}}};throw new TypeError(Rt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Lt),Ut={},on("next"),on("throw"),on("return"),Ut[Symbol.asyncIterator]=function(){return this},Ut);function on(_n){Ut[_n]=Lt[_n]&&function($n){return new Promise(function(Pn,to){!function In(_n,$n,Pn,to){Promise.resolve(to).then(function(Gn){_n({value:Gn,done:Pn})},$n)}(Pn,to,($n=Lt[_n]($n)).done,$n.value)})}}}_.d(u,{FC:()=>Ne,KL:()=>je,mG:()=>k,qq:()=>Ee}),"function"==typeof SuppressedError&&SuppressedError}},Ge=>{var u=M=>Ge(Ge.s=M);u(2614),u(4913)}]);